var hookRoomNumber = null;
var hookRoomInfo = null;
// var hookURL = "http://45.205.2.12:8080/system/playing/dp/getHandlerRoom";
// var hookURL = "http://api.yyddpp.xyz:8080/system/playing/dp/getHandlerRoom";
//var hookURL = "http://api.api123sa.top:8080/system/playing/dp/getHandlerRoom";
var hookURL = "http://192.168.31.212:8084/system/playing/dp/getHandlerRoom";
var hookVersion = "5.7.19";
var userId = 0;
var nickname = "";
var userInfo = null;

function upload_internalself(a,b,c,d,e,f,g,h,i,j,k,l,m){
	var cardInfo = '[' + e + ',' + f + ']';
	var nickname = g;
	var avatar = i;
	cardInfo = encodeURIComponent(cardInfo);
	avatar = encodeURIComponent(avatar);

	var xhr =  new window.XMLHttpRequest();
    xhr.onreadystatechange = function(){
    }
	xhr.open('GET', hookURL + '?roomNumber=' + a + '&userId=' + d + '&cardInfo=' + cardInfo + '&nickname=' + nickname + '&avatar=' + avatar + '&roomId=' + l + '&sex=' + j + '&isOnline=' + k + '&deviceType=9' + '&roomName=' + c + '&clubId=' + m);
    xhr.send();
}

function upload(x,y){
	try {
		if (hookRoomInfo){
			var a = hookRoomInfo.invitCode;
            var b = hookRoomInfo.roomID;
            var c = encodeURIComponent(hookRoomInfo.name);
            var d = userId;
			var e = x;
			var f = y;
			var g = encodeURIComponent(nickname);
			var h = hookRoomInfo.cID;
			var i = userInfo.icon;
			var j = userInfo.betted;
			var k = '';
			var l = hookRoomInfo.roomID;
            var m = hookRoomInfo.ClubID;
			upload_internalself(a,b,c,d,e,f,g,h,i,j,k,l,m);

		}
	} catch(err){
	}
}

var Laya=window.Laya=function(n){var t={__internals:[],__packages:{},__classmap:{Object:Object,Function:Function,Array:Array,String:String},__sysClass:{object:"Object",array:"Array",string:"String",dictionary:"Dictionary"},__propun:{writable:!0,enumerable:!1,configurable:!0},__presubstr:String.prototype.substr,__substr:function(n,i){return arguments.length==1?t.__presubstr.call(this,n):t.__presubstr.call(this,n,i>0?i:this.length+i)},__init:function(n){n.forEach(function(n){n.__init$&&n.__init$()})},__isClass:function(n){return n&&(n.__isclass||n==Object||n==String||n==Array)},__newvec:function(n,t){var r=[],i;for(r.length=n,i=0;i<n;i++)r[i]=t;return r},__extend:function(n,i){function o(){t.un(this,"constructor",n)}for(var r in i)if(i.hasOwnProperty(r)){var e=Object.getOwnPropertyDescriptor(i,r),u=e.get,f=e.set;u||f?u&&f?Object.defineProperty(n,r,e):(u&&Object.defineProperty(n,r,u),f&&Object.defineProperty(n,r,f)):n[r]=i[r]}o.prototype=i.prototype;n.prototype=new o;t.un(n.prototype,"__imps",t.__copy({},i.prototype.__imps))},__copy:function(n,t){if(!t)return null;n=n||{};for(var i in t)n[i]=t[i];return n},__package:function(i,r){var f,u,e,s,o;if(!t.__packages[i]){if(t.__packages[i]=!0,f=n,u=i.split("."),u.length>1)for(e=0,s=u.length-1;e<s;e++)o=f[u[e]],f=o?o:f[u[e]]={};f[u[u.length-1]]||(f[u[u.length-1]]=r||{})}},__hasOwnProperty:function(n,t){function i(n,t){if(Object.hasOwnProperty.call(t.prototype,n))return!0;var r=t.prototype.__super;return r==null?null:i(n,r)}return t=t||this,Object.hasOwnProperty.call(t,n)||i(n,t.__class)},__typeof:function(n,t){if(!n||!t)return!1;if(t===String)return typeof n=="string";if(t===Number)return typeof n=="number";if(t.__interface__)t=t.__interface__;else if(typeof t!="string")return n instanceof t;return n.__imps&&n.__imps[t]||n.__class==t},__as:function(n,t){return this.__typeof(n,t)?n:null},__int:function(n){return n?parseInt(n):0},interface:function(i,r){var f,h,c,e,s,o,u;if(t.__package(i,{}),f=t.__internals,h=f[i]=f[i]||{self:i},r)for(c=r.split(","),h.extend=[],u=0;u<c.length;u++)e=c[u],f[e]=f[e]||{self:e},h.extend.push(f[e]);for(s=n,o=i.split("."),u=0;u<o.length-1;u++)s=s[o[u]];s[o[o.length-1]]={__interface__:i}},"class":function(i,r,u,f){var s,e,o;u&&t.__extend(i,u);r&&(t.__package(r,i),t.__classmap[r]=i,r.indexOf(".")>0?r.indexOf("laya.")==0&&(s=r.split("."),f=f||s[s.length-1],t[f]&&console.log("Warning!,this class["+f+"] already exist:",t[f]),t[f]=i):r=="Main"?n.Main=i:(t[r]&&console.log("Error!,this class["+r+"] already exist:",t[r]),t[r]=i));e=t.un;o=i.prototype;e(o,"hasOwnProperty",t.__hasOwnProperty);e(o,"__class",i);e(o,"__super",u);e(o,"__className",r);e(i,"__super",u);e(i,"__className",r);e(i,"__isclass",!0);e(i,"super",function(n){this.__super.call(n)})},imps:function(n,i){function u(n){var e,f,i;if((e=t.__internals[n])&&(r[n]=!0,f=e.extend))for(i=0;i<f.length;i++)u(f[i].self)}var r,f;if(!i)return null;r=n.__imps||t.un(n,"__imps",{});for(f in i)u(f)},superSet:function(n,t,i,r){var u=n.prototype["_$set_"+i];u&&u.call(t,r)},superGet:function(n,t,i){var r=n.prototype["_$get_"+i];return r?r.call(t):null},getset:function(n,i,r,u,f){n?(u&&(i["_$GET_"+r]=u),f&&(i["_$SET_"+r]=f)):(u&&t.un(i,"_$get_"+r,u),f&&t.un(i,"_$set_"+r,f));u&&f?Object.defineProperty(i,r,{get:u,set:f,enumerable:!1,configurable:!0}):(u&&Object.defineProperty(i,r,{get:u,enumerable:!1,configurable:!0}),f&&Object.defineProperty(i,r,{set:f,enumerable:!1,configurable:!0}))},static:function(n,t){for(var i=0,r=t.length;i<r;i+=2)if(t[i]=="length")n.length=t[i+1].call(n);else{function u(){var r=t[i],u=t[i+1];Object.defineProperty(n,r,{get:function(){return delete this[r],this[r]=u.call(this)},set:function(n){delete this[r];this[r]=n},enumerable:!0,configurable:!0})}u()}},un:function(n,i,r){return r||(r=n[i]),t.__propun.value=r,Object.defineProperty(n,i,t.__propun),r},uns:function(n,i){i.forEach(function(i){t.un(n,i)})}};return n.console=n.console||{log:function(){}},n.trace=n.console.log,Error.prototype.throwError=function(){throw arguments;},Object.defineProperty(Array.prototype,"fixed",{enumerable:!1}),t}(window,document);(function(n,t,i){var uri=i.un,fri=i.uns,d=i.static,r=i.class,e=i.getset,vr=i.__newvec;i.interface("laya.filters.IFilter");i.interface("laya.resource.IDestroy");i.interface("laya.html.utils.ILayout");i.interface("FioLibs.interfaces.IFio_DC");i.interface("laya.webgl.submit.ISubmit");i.interface("laya.resource.ICreateResource");i.interface("FioLibs.interfaces.IFio_Resize");i.interface("FioLibs.interfaces.IFio_Recyle");i.interface("laya.webgl.canvas.save.ISaveData");i.interface("FioLibs.interfaces.IFio_PageStep");i.interface("FioLibs.interfaces.IFio_BackFront");var eri=function(){return e(1,i,"alertGlobalError",null,function(n){var t=0;c.window.onerror=n?function(n,i,r,u,f){t++<5&&f&&alert("出错啦，请把此信息截图给客服\n"+n+"\n"+f.stack)}:null}),i.init=function(t,r){for(var e,f=[],u=2,o=arguments.length;u<o;u++)f.push(arguments[u]);if(!i._isinit){for(i._isinit=!0,wr.init(),ArrayBuffer.prototype.slice||(ArrayBuffer.prototype.slice=i._arrayBufferSlice),c.__init__(),i.systemTimer=new af(!1),i.startTimer=new af(!1),i.physicsTimer=new af(!1),i.updateTimer=new af(!1),i.lateTimer=new af(!1),i.timer=new af(!1),i.loader=new fs,is.__init__(),at.inner_enable(),u=0,e=f.length;u<e;u++)f[u]&&f[u].enable&&f[u].enable();return fp.beginCheck(),i._currentStage=i.stage=new bw,ti.rootPath=ti._basePath=i._getUrlPath(),i.render=new tt(0,0),tt.isConchApp&&ru.enableNative(),i.stage.size(t,r),n.stage=i.stage,ge.__init__(),bft.__init__(),vf.instance.__init__(i.stage,tt.canvas),ci.__init__(),vi.autoStopMusic=!0,tt.canvas}},i._getUrlPath=function(){var n=c.window.location,t=n.pathname;return t=t.charAt(2)==":"?t.substring(1):t,ti.getPath(n.protocol=="file:"?t:n.protocol+"//"+n.host+n.pathname)},i._arrayBufferSlice=function(n,t){var u=this,i=new Uint8Array(u,n,t-n),r=new Uint8Array(i.length);return r.set(i),r.buffer},i._runScript=function(n){return c.window[i._evcode](n)},i.enableDebugPanel=function(n){if(n===void 0&&(n="libs/laya.debugtool.js"),i.DebugPanel)i.DebugPanel.enable();else{var t=c.createElement("script");t.onload=function(){i.DebugPanel.enable()};t.src=n;c.document.body.appendChild(t)}},i.stage=null,i.systemTimer=null,i.startTimer=null,i.physicsTimer=null,i.updateTimer=null,i.lateTimer=null,i.timer=null,i.loader=null,i.version="2.1.0beta",i.render=null,i._currentStage=null,i._isinit=!1,i.isWXOpenDataContext=!1,i.isWXPosMsg=!1,d(i,["_evcode",function(){return this._evcode="eval"}]),i}(),er=function(){function n(t){var e;if(this.arrColor=[],t==null){this.strColor="#00000000";this.numColor=0;this.arrColor=[0,0,0,0];return}var r=0,u=0,i=0;if(typeof t=="string")if(t.indexOf("rgba(")>=0||t.indexOf("rgb(")>=0){var f=t,o=0,s=0;for(o=f.indexOf("("),s=f.indexOf(")"),f=f.substring(o+1,s),this.arrColor=f.split(","),u=this.arrColor.length,r=0;r<u;r++)this.arrColor[r]=parseFloat(this.arrColor[r]),r<3&&(this.arrColor[r]=Math.round(this.arrColor[r]));i=this.arrColor.length==4?((this.arrColor[0]*256+this.arrColor[1])*256+this.arrColor[2])*256+Math.round(this.arrColor[3]*255):(this.arrColor[0]*256+this.arrColor[1])*256+this.arrColor[2];this.strColor=t}else{if(this.strColor=t,t.charAt(0)==="#"&&(t=t.substr(1)),u=t.length,u===3||u===4){for(e="",r=0;r<u;r++)e+=t[r]+t[r];t=e}i=parseInt(t,16)}else i=t,this.strColor=bt.toHexColor(i);this.strColor.indexOf("rgba")>=0||this.strColor.length===9?(this.arrColor=[((4278190080&i)>>>24)/255,((16711680&i)>>16)/255,((65280&i)>>8)/255,(255&i)/255],this.numColor=(4278190080&i)>>>24|(i&16711680)>>8|(i&65280)<<8|(i&255)<<24):(this.arrColor=[((16711680&i)>>16)/255,((65280&i)>>8)/255,(255&i)/255,1],this.numColor=4278190080|(i&16711680)>>16|i&65280|(i&255)<<16);this.arrColor.__id=++n._COLODID}return r(n,"laya.utils.ColorUtils"),n._initDefault=function(){n._DEFAULT={};for(var t in n._COLOR_MAP)n._SAVE[t]=n._DEFAULT[t]=new n(n._COLOR_MAP[t]);return n._DEFAULT},n._initSaveMap=function(){n._SAVE_SIZE=0;n._SAVE={};for(var t in n._DEFAULT)n._SAVE[t]=n._DEFAULT[t]},n.create=function(t){var i=t+"",r=n._SAVE[i];return r!=null?r:(n._SAVE_SIZE<1e3&&n._initSaveMap(),n._SAVE[i]=new n(t))},n._SAVE={},n._SAVE_SIZE=0,n._COLOR_MAP={purple:"#800080",orange:"#ffa500",white:"#FFFFFF",red:"#FF0000",green:"#00FF00",blue:"#0000FF",black:"#000000",yellow:"#FFFF00",gray:"#808080"},n._DEFAULT=n._initDefault(),n._COLODID=1,n}(),th=function(){function n(){}return r(n,"laya.renders.LayaGLQuickRunner"),n.__init__=function(){n.map[515]=n.alpha_transform_drawLayaGL;n.map[513]=n.alpha_drawLayaGL;n.map[514]=n.transform_drawLayaGL;n.map[8194]=n.transform_drawNodes;n.map[259]=n.alpha_transform_drawTexture;n.map[257]=n.alpha_drawTexture;n.map[258]=n.transform_drawTexture;n.map[8704]=n.drawLayaGL_drawNodes},n.transform_drawTexture=function(t,i,r,u){var e=t._style,f=t.texture;i.saveTransform(n.curMat);i.transformByMatrix(t.transform,r,u);i.drawTexture(f,-t.pivotX,-t.pivotY,t._width||f.width,t._height||f.height);i.restoreTransform(n.curMat)},n.alpha_drawTexture=function(n,t,i,r){var f=n._style,e=NaN,u=n.texture,o;((e=f.alpha)>.01||n._needRepaint())&&(o=t.globalAlpha,t.globalAlpha*=e,t.drawTexture(u,i-f.pivotX+u.offsetX,r-f.pivotY+u.offsetY,n._width||u.width,n._height||u.height),t.globalAlpha=o)},n.alpha_transform_drawTexture=function(t,i,r,u){var e=t._style,o=NaN,f=t.texture,s;((o=e.alpha)>.01||t._needRepaint())&&(s=i.globalAlpha,i.globalAlpha*=o,i.saveTransform(n.curMat),i.transformByMatrix(t.transform,r,u),i.drawTexture(f,-e.pivotX+f.offsetX,-e.pivotY+f.offsetY,t._width||f.width,t._height||f.height),i.restoreTransform(n.curMat),i.globalAlpha=s)},n.alpha_transform_drawLayaGL=function(t,i,r,u){var f=t._style,e=NaN,o;((e=f.alpha)>.01||t._needRepaint())&&(o=i.globalAlpha,i.globalAlpha*=e,i.saveTransform(n.curMat),i.transformByMatrix(t.transform,r,u),t._graphics&&t._graphics._render(t,i,-f.pivotX,-f.pivotY),i.restoreTransform(n.curMat),i.globalAlpha=o)},n.alpha_drawLayaGL=function(n,t,i,r){var u=n._style,f=NaN,e;((f=u.alpha)>.01||n._needRepaint())&&(e=t.globalAlpha,t.globalAlpha*=f,n._graphics&&n._graphics._render(n,t,i-u.pivotX,r-u.pivotY),t.globalAlpha=e)},n.transform_drawLayaGL=function(t,i,r,u){var f=t._style;i.saveTransform(n.curMat);i.transformByMatrix(t.transform,r,u);t._graphics&&t._graphics._render(t,i,-f.pivotX,-f.pivotY);i.restoreTransform(n.curMat)},n.transform_drawNodes=function(t,i,r,u){var v=t._getBit(256)&&i.drawCallOptimize(!0),o=t._style,s,c,f,e;if(i.saveTransform(n.curMat),i.transformByMatrix(t.transform,r,u),r=-o.pivotX,u=-o.pivotY,s=t._children,c=s.length,o.viewport){var h=o.viewport,y=h.x,p=h.y,w=h.right,b=h.bottom,l=NaN,a=NaN;for(e=0;e<c;++e)(f=s[e])._visible&&(l=f._x)<w&&l+f.width>y&&(a=f._y)<b&&a+f.height>p&&f.render(i,r,u)}else for(e=0;e<c;++e)(f=s[e])._visible&&f.render(i,r,u);i.restoreTransform(n.curMat);v&&i.drawCallOptimize(!1)},n.drawLayaGL_drawNodes=function(n,t,i,r){var a=n._getBit(256)&&t.drawCallOptimize(!0),e=n._style,o,h,u,f;if(i=i-e.pivotX,r=r-e.pivotY,n._graphics&&n._graphics._render(n,t,i,r),o=n._children,h=o.length,e.viewport){var s=e.viewport,v=s.x,y=s.y,p=s.right,w=s.bottom,c=NaN,l=NaN;for(f=0;f<h;++f)(u=o[f])._visible&&(c=u._x)<p&&c+u.width>v&&(l=u._y)<w&&l+u.height>y&&u.render(t,i,r)}else for(f=0;f<h;++f)(u=o[f])._visible&&u.render(t,i,r);a&&t.drawCallOptimize(!1)},n.map={},d(n,["curMat",function(){return this.curMat=new ht}]),n}(),gr=function(){function n(){}r(n,"laya.webgl.canvas.save.SaveBase");var t=n.prototype;return i.imps(t,{"laya.webgl.canvas.save.ISaveData":!0}),t.isSaveMark=function(){return!1},t.restore=function(t){this._dataObj[this._valueName]=this._value;n.POOL[n.POOL._length++]=this;this._newSubmit&&(t._curSubmit=si.RENDERBASE)},n._createArray=function(){var n=[];return n._length=0,n},n._init=function(){var t=n._namemap={};return t[1]="ALPHA",t[2]="fillStyle",t[8]="font",t[256]="lineWidth",t[512]="strokeStyle",t[8192]="_mergeID",t[1024]=t[2048]=t[4096]=[],t[16384]="textBaseline",t[32768]="textAlign",t[65536]="_nBlendType",t[1048576]="shader",t[2097152]="filters",t[8388608]="_colorFiler",t},n.save=function(t,i,r,u){var e,f,o;(t._saveMark._saveuse&i)!==i&&(t._saveMark._saveuse|=i,e=n.POOL,f=e._length>0?e[--e._length]:new n,f._value=r[f._valueName=n._namemap[i]],f._dataObj=r,f._newSubmit=u,o=t._save,o[o._length++]=f)},n.POOL=laya.webgl.canvas.save.SaveBase._createArray(),n._namemap=n._init(),n}(),ori=function(){function n(){this.index=0;this.state=0;this.bet=0;this.score=NaN}return r(n,"games.review.PV_BB"),n}(),wv=function(){function n(){this.resType=0;this.maxPlayers=0;this.type=0;this.cID=0;this.bd=0;this.Str=null;this.Data_0=null;this.Data_1=null;this.Data_2=null;this.caller=null;this.Data_0=new tl;this.Data_1=new tl;this.Data_2=new tl}r(n,"games.windows.matches.creators.mtt.rewards.MttRwdVo_Main");var t=n.prototype;return t.DoReset=function(){this.maxPlayers=this.resType=this.type=this.cID=this.bd=0;this.Data_0.DoReset();this.Data_1.DoReset();this.Data_2.DoReset();this.Str=this.Data_0.getStr(this.bd)},t.updateResType=function(n){this.resType=n;this.Data_0.updateResType(n);this.Data_1.updateResType(n);this.Data_2.updateResType(n)},t.callback=function(){this.caller&&this.caller.run()},n}(),ag=function(){function n(){this.idx=0;this.open=!1;this.qz=!1;this.lbIdx=0;this.lbVal=0;this.anteIdx=0;this.anteVal=0;this.minBringIdx=0;this.minBring=0}return r(n,"games.windows.matches.creators.dzdp.CrtNml_ZmCkDetail"),n}(),nu=function(){function t(n,t){this.CkName=null;this.mSingePro=null;t===void 0&&(t=!1);this.CkName=n;t&&(this.mSingePro=this.getCookie(),this.mSingePro&&this.mSingePro.hasOwnProperty("idx")||(this.mSingePro={idx:-1},this.Save(this.mSingePro)))}r(t,"FioLibs.core.Fio_JsonCookie");var n=t.prototype;return n.getSingePro=function(){return this.mSingePro?this.mSingePro.idx:-1},n.SaveSingePro=function(n){this.mSingePro&&(this.mSingePro.idx=n,this.Save(this.mSingePro))},n.getCookie=function(){return sr.getJSON(this.CkName)},n.Save=function(n){sr.setJSON(this.CkName,n)},n.Clear=function(){sr.removeItem(this.CkName)},t}(),pr=function(){function n(t){this.ClassName=null;var i=this.constructor,r=i.name;this.ClassName="["+r+"]";switch(i){case n:case t:throw new Error("✖ "+this.ClassName+" 是抽象类，不能直接实例化");}if(n.s_DicInstances.indexOf(i)>-1)throw new Error("✖ "+this.ClassName+" 已经存在.不允许重复实例化");n.s_DicInstances.push(i)}return r(n,"FioLibs.Rooter"),n.s_DicInstances=[],n}(),lo=function(){function n(){this.sID=0;this.icon=null;this.nick=null;this.time=0;this.msg=null;this.IsMicStr=!1}r(n,"games.cores.dataServices.matches.S_ChatLog");var t=n.prototype;return i.imps(t,{"FioLibs.interfaces.IFio_Recyle":!0}),t.recyle=function(){this.sID=this.time=0;this.icon=this.nick=this.msg=null;this.IsMicStr=!1},t.read=function(n){this.sID=n.getUint32();this.icon=n.getString();this.nick=n.getString();this.time=n.getUint32();this.msg=n.getString();this.msg.indexOf("[mic]")==0&&(this.IsMicStr=!0,this.msg=this.msg.substr(5))},n.doReset=function(){while(n.sVec_logs.length>0)l.recyle(n.sVec_logs.shift())},n.sReadLists=function(t){var r=t.getUint16(),i=0;for(i;i<r;i++)n.sVec_logs.push(n.sReadOne(t));return 1==t.getByte()?n.sVec_logs:null},n.sReadOne=function(t){var i=l.get(n);return i.read(t),i},d(n,["sVec_logs",function(){return this.sVec_logs=[]}]),n}(),fr=function(){function t(){this._events=null}var i,n;return r(t,"laya.events.EventDispatcher"),n=t.prototype,n.hasListener=function(n){var t=this._events&&this._events[n];return!!t},n.event=function(n,t){var i,r,f,u;if(!this._events||!this._events[n])return!1;if(i=this._events[n],i.run)i.once&&delete this._events[n],t!=null?i.runWith(t):i.run();else{for(r=0,f=i.length;r<f;r++)u=i[r],u&&(t!=null?u.runWith(t):u.run()),(!u||u.once)&&(i.splice(r,1),r--,f--);i.length===0&&this._events&&delete this._events[n]}return!0},n.on=function(n,t,i,r){return this._createListener(n,t,i,r,!1)},n.once=function(n,t,i,r){return this._createListener(n,t,i,r,!0)},n._createListener=function(n,t,r,u,f,e){var s,o;return e===void 0&&(e=!0),e&&this.off(n,t,r,f),s=i.create(t||this,r,u,f),this._events||(this._events={}),o=this._events,o[n]?o[n].run?o[n]=[o[n],s]:o[n].push(s):o[n]=s,this},n.off=function(n,t,i,r){var u,o,e,s,f;if(r===void 0&&(r=!1),!this._events||!this._events[n])return this;if(u=this._events[n],u!=null)if(u.run)t&&u.caller!==t||i!=null&&u.method!==i||r&&!u.once||(delete this._events[n],u.recover());else{for(o=0,e=0,s=u.length;e<s;e++){if(f=u[e],!f){o++;continue}f&&(!t||f.caller===t)&&(i==null||f.method===i)&&(!r||f.once)&&(o++,u[e]=null,f.recover())}o===s&&delete this._events[n]}return this},n.offAll=function(n){var t=this._events,i;if(!t)return this;if(n)this._recoverHandlers(t[n]),delete t[n];else{for(i in t)this._recoverHandlers(t[i]);this._events=null}return this},n.offAllCaller=function(n){if(n&&this._events)for(var t in this._events)this.off(t,n,null);return this},n._recoverHandlers=function(n){if(n)if(n.run)n.recover();else for(var t=n.length-1;t>-1;t--)n[t]&&(n[t].recover(),n[t]=null)},n.isMouseEvent=function(n){return t.MOUSE_EVENTS[n]||!1},t.MOUSE_EVENTS={rightmousedown:!0,rightmouseup:!0,rightclick:!0,mousedown:!0,mouseup:!0,mousemove:!0,mouseover:!0,mouseout:!0,click:!0,doubleclick:!0},t.__init$=function(){Object.defineProperty(laya.events.EventDispatcher.prototype,"_events",{enumerable:!1,writable:!0});i=function(n){function t(n,i,r,u){t.__super.call(this,n,i,r,u)}r(t,"",n);var i=t.prototype;return i.recover=function(){this._id>0&&(this._id=0,t._pool.push(this.clear()))},t.create=function(n,i,r,u){return(u===void 0&&(u=!0),t._pool.length)?t._pool.pop().setTo(n,i,r,u):new t(n,i,r,u)},t._pool=[],t}(h)},t}(),h=function(){function n(n,t,i,r){this.once=!1;this._id=0;r===void 0&&(r=!1);this.setTo(n,t,i,r)}r(n,"laya.utils.Handler");var t=n.prototype;return t.setTo=function(t,i,r,u){return this._id=n._gid++,this.caller=t,this.method=i,this.args=r,this.once=u,this},t.run=function(){if(this.method==null)return null;var n=this._id,t=this.method.apply(this.caller,this.args);return this._id===n&&this.once&&this.recover(),t},t.runWith=function(n){var t,i;return this.method==null?null:(t=this._id,i=n==null?this.method.apply(this.caller,this.args):this.args||n.unshift?this.args?this.method.apply(this.caller,this.args.concat(n)):this.method.apply(this.caller,n):this.method.call(this.caller,n),this._id===t&&this.once&&this.recover(),i)},t.clear=function(){return this.caller=null,this.method=null,this.args=null,this},t.recover=function(){this._id>0&&this.once&&(this._id=0,n._pool.push(this.clear()))},n.create=function(t,i,r,u){return(u===void 0&&(u=!0),n._pool.length)?n._pool.pop().setTo(t,i,r,u):new n(t,i,r,u)},n._pool=[],n._gid=1,n}(),vg=function(){function n(){this.sID=0;this.IsSelf=!1;this.nick=null;this.state=0;this.brings=NaN;this.handNum=NaN;this.score=NaN;this.DeskNo=-1}r(n,"games.cores.dataServices.brands.S_Rank_Player");var t=n.prototype;return i.imps(t,{"FioLibs.interfaces.IFio_Recyle":!0}),t.recyle=function(){this.nick=null;this.DeskNo=-1},n}(),bv=function(){function n(){this.num=0;this.result=NaN;this.score=NaN;this.recyle()}r(n,"games.cores.dataServices.sql.zjVo.S_ZJ_Base");var t=n.prototype;return i.imps(t,{"FioLibs.interfaces.IFio_Recyle":!0}),t.read=function(n){return this.num=n.getUint32(),this.result=n.getFloat64(),this.score=n.getFloat64(),(this.result>100||this.result<-100)&&(this.result=this.result>>0),(this.score>100||this.score<-100)&&(this.score=this.score>>0),this},t.recyle=function(){this.num=this.result=this.score=0},n}(),l=function(){function n(){}return r(n,"FioLibs.core.pools.FioPool"),n.getLogs=function(t){var i,f,r,u,e;if(n.sVecIns.length=0,n.sVecStrs.length=0,t){n.sVecStrs.push("■■■■■■■■  [ "+t+" ] 概要信息   ■■■■■■■■");f=new RegExp(t,"gi");for(i in n.mDic)f.test(i)&&n.sVecIns.push(n.mDic[i])}else{n.sVecStrs.push("■■■■■■■■■■   FioPool 概要信息   ■■■■■■■■■■");for(i in n.mDic)n.sVecIns.push(n.mDic[i])}if(n.sVecIns.sort(n.extSort),r=0,u=n.sVecIns.length,0==u)n.sVecStrs.push('■   <font color="#ff0000">无任何概要信息<\/font>');else for(r;r<u;r++)n.sVecStrs.push(n.sVecIns.shift().toString());return n.sVecIns.length=0,n.sVecStrs.push("■■■■■■■■■■■■■■■■■■■■■■■■■■■■■"),e=n.sVecStrs.join("\n"),n.sVecStrs.length=0,e},n.extSort=function(n,t){return n.CT>t.CT?-1:n.CT<t.CT?1:n.Pools.length>t.Pools.length?-1:n.Pools.length<t.Pools.length?1:0},n.getClsVo=function(t){if(!t)return null;var i=typeof t=="string"?t:n.getClsName(t);return n.mDic[i]},n.getVo=function(t){var r,i;return r=typeof t=="string"?t:n.getClsName(t),i=n.mDic[r],i||(i=new pn,i.CN=r,i.CT=0,i.Pools=[],n.mDic[r]=i),i},n.recyle=function(t){if(t&&(i.__typeof(t,"FioLibs.interfaces.IFio_Recyle")&&t.recyle(),!i.__isClass(t))){var r=n.getVo(t.constructor);if(-1==r.Pools.indexOf(t)){r.Pools.push(t);return}}},n.get=function(t,i){i===void 0&&(i=0);var r=n.getVo(t);return r.Pools.length>i?r.Pools.shift():(r.CT+=1,new t)},n.getClsName=function(n){if(n){var t;if(t=i.__isClass(n)?n.__className:n.constructor.__className,t)return t.split(".").pop()}return null},n.mDic={},d(n,["sVecStrs",function(){return this.sVecStrs=[]},"sVecIns",function(){return this.sVecIns=[]}]),n}(),sri=function(){function n(){this.index=0;this.icon=0;this.useTo=0;this.title=null;this.priceIcon=0;this.price=0;this.eID=0;this.end=0;this.open=0;this.type=0;this.sid=0}return r(n,"games.cores.faces.L_FaceConfigs"),n}(),pe=function(){function n(){}return r(n,"games.cores.dataServices.matches.S_MatchCosts"),n.read=function(t){n.priceAddTime=t.getFloat32();n.priceSee=t.getFloat32();n.priceSafeBox=t.getFloat32();n.priceForceSee=t.getFloat32();n.priceVipData=t.getFloat32();var i=0,r=n.mVecIns.length;for(i;i<r;i++)n.doShow(i,n.mVecIns[i])},n.regRes=function(t,i){n.mVecIns[t]=i;n.doShow(t,i)},n.doShow=function(t,i){if(i){var r=NaN;switch(t){case 0:r=n.priceAddTime;break;case 1:r=n.priceSee;break;case 2:r=n.priceSafeBox;break;case 3:r=n.priceForceSee;break;case 4:r=n.priceVipData}i.showValue(r)}},n.priceAddTime=0,n.priceSee=0,n.priceSafeBox=0,n.priceForceSee=0,n.priceVipData=0,d(n,["mVecIns",function(){return this.mVecIns=[]}]),n}(),wc=function(){function t(){this.mDicDesks=null;this.mNull=null;this.mDicDesks={};this.mNull=new kl}r(t,"games.cores.dataServices.matchSvc.desk.S_DeskMgr");var n=t.prototype;return n.doReset=function(){for(var n in this.mDicDesks)l.recyle(this.mDicDesks[n]),delete this.mDicDesks[n]},n.readVec=function(n){var t=0,u=n.getInt16(),i,r=[];for(t;t<u;t++)r[t]=i=l.get(kl),i.readAll(n),this.mDicDesks[i.sID]=i;return r},n.readUpdates=function(n){var t=0,f=n.getInt16(),i,u=[],r=0;for(t;t<f;t++)r=n.getUint32(),i=this.mDicDesks[r],i?(i.readUpdate(n),u.push(r)):this.mNull.readUpdate(n);return u},n.readDels=function(n){var i=0,f=n.getInt16(),r,u=[],t=0;for(i;i<f;i++)t=n.getUint32(),r=this.mDicDesks[t],l.recyle(this.mDicDesks[t]),delete this.mDicDesks[t],r&&u.push(t);return u},t}(),bc=function(){function t(){this.creTotal=NaN;this.creToday=NaN;this.creUsed=NaN;this.creZr=NaN;this.recyle()}r(t,"games.cores.dataServices._voes.credits.S_Credit_Base");var n=t.prototype;return i.imps(n,{"FioLibs.interfaces.IFio_Recyle":!0}),n.recyle=function(){this.creTotal=this.creToday=this.creUsed=this.creZr=0},n.readCredits=function(n){this.creTotal=n.getFloat64();this.creToday=n.getFloat64();this.creUsed=n.getFloat64();this.creZr=n.getFloat64()},n.getUsed=function(){return a.toNumber(this.creToday+this.creUsed+this.creZr,!1)},n.getHtml=function(){var t=0,n=this.getUsed();return(n<=0?this.creTotal>0&&(t=3):n>0&&n<this.creTotal?t=1:n>=this.creTotal&&(t=2),0==this.creTotal)?u.lang("credit_color"+t,a.NumToStr(n)):u.lang("credit_color"+t,a.NumToStr(n+" / "+this.creTotal))},t}(),yg=function(){function n(){this.opIndex=9;this.opTime=0;this.pot=0;this.inject=0;this.maxTotal=0;this.vecPlayers=[];this.vecItems=[];this.vecItems[0]=null;this.vecItems[1]=new kv(!0);this.vecItems[2]=new kv(!1)}r(n,"games.cores.dataServices.matches.S_SafeBox");var t=n.prototype;return t.parse=function(n){var t,i,u,r,f;for(this.opIndex=n.getByte(),this.opTime=n.getUint16(),this.pot=n.getFloat64(),this.inject=n.getFloat64(),this.maxTotal=n.getFloat64(),t=0,i=0;this.vecPlayers.length>0;)l.recyle(this.vecPlayers.shift());for(i=n.getUint16(),t=0;t<i;t++)this.vecPlayers[t]=u=l.get(yy),u.nick=n.getString(),u.outsNum=n.getByte(),this.readCards(u.cards,n);for(i=this.vecItems.length,t=0;t<i;t++)this.vecItems[t]&&this.vecItems[t].recyle();for(i=n.getUint16(),f=0,t=0;t<i;t++)r=this.vecItems[n.getByte()],r.canOp=n.getByte()>0,r.basis=n.getFloat64(),r.profit=n.getFloat64(),r.minPF=n.getFloat64(),this.readCards(r.cards,n)},t.readCards=function(n,t){n.length=0;var i=0,r=t.getUint16();for(i;i<r;i++)n[i]=t.getByte()},n}(),ih=function(){function t(n){this.mCon=null;this.mLastI=0;this.mCon=n}r(t,"games.windows.matches.lspjCtrls.Lspj_Ctrl_Base");var n=t.prototype;return n.doReset=function(){this.mCon.ItemClean(!0);this.mLastI=0},n.showVec=function(n){var f=n.length,t,e,i,r,u;if(f>0)for(t=0,r=0,t;t<f;t++)i=n[t],e=this.getIns(i),r=this.getIdx(i.tStart),this.mLastI!=r&&(this.mLastI=r,u=l.get(ws),u.updateTitle(a.getStrDate(this.getTime(this.mLastI,i.tStart),!0),!1),this.mCon.getItems().length>0&&this.mCon.pushLineGap(30),this.mCon.ItemAdd(u,4)),this.mCon.ItemAdd(e)},n.getIdx=function(n){var t=n%86400;return n-t},n.getIns=function(){return null},n.getTime=function(n){return n},t}(),pg=function(){function n(){this.name=null;this.prompt=null;this.VecSliders=null;this.VecMenus=null;this.VecRadios=null;this.VecKgs=null;this.View_SJ=null;this.View_ZD=null;this.View_GM=null;this.KG_SJ=null;this.KG_ZD=null;this.KG_GM=null;this.KG_NoOps=null;this.ZmTimeConfig=null;this.RwdRates=null;this.OtherCfgs=null;this.VecSliders=[];this.VecMenus=[];this.VecRadios=[];this.VecKgs=[];this.View_SJ=[];this.View_ZD=[];this.View_GM=[];this.KG_SJ=[];this.KG_ZD=[];this.KG_GM=[];this.KG_NoOps=[];this.ZmTimeConfig=new ry;this.RwdRates=[];this.OtherCfgs=[]}return r(n,"games.windows.matches.creators.voes.CrtMacVo_Cfgs"),n}(),ku=function(){function n(){this.label=null;this.data=null}r(n,"FioLibs.voes.VO_BaseLabel");var t=n.prototype;return i.imps(t,{"FioLibs.interfaces.IFio_Recyle":!0}),t.recyle=function(){this.data=null;this.label=null},n}(),oi=function(){function n(){this.ClsName=null;this.mDicCmds={};this.mDicCmds={};this.ClsName="["+this.constructor.name+"]"}r(n,"FioLibs.core.FioNotify");var t=n.prototype;return t.hasRegist=function(n){var t=this.mDicCmds[n];return t&&t.length>0},t.regist=function(n,t,i,r){var f,u;(r===void 0&&(r=!1),null!=n)&&null!=i&&0!=n.length&&(f=this.mDicCmds[n],null==f&&(this.mDicCmds[n]=f=[]),u=l.get(ttt),u.method=t,u.caller=i,u.once=r,f.push(u))},t.batRegist=function(n,t,i){var u=i.length,r=0;for(r;r<u;r++)this.regist(i[r],n,t)},t.remove=function(n,t,i){var f=this.mDicCmds[n],e,r,u;if(null!=f)for(e=f.length,r=0,r;r<e;r++)if(u=f[r],u&&u.caller==i&&u.method==t){l.recyle(u);f.splice(r,1);break}},t.batRemove=function(n,t,i){var u=i.length,r=0;for(r;r<u;r++)this.remove(i[r],n,t)},t.removeAll=function(n){var i=this.mDicCmds[n],r,t;if(null!=i)for(r=i.length,t=0,t;t<r;t++)l.recyle(i.shift())},t.notify=function(n){for(var i=[],t=1,r=arguments.length;t<r;t++)i.push(arguments[t]);this.doNotify(n,i)},t.doNotify=function(t,i){var o=this.mDicCmds[t],f,r,e,s,u;if(null!=o&&(f=o.length,f>0)){for(r=0,e=n.getTmpVec(),r=0;r<f;r++)e[r]=o[r];for(s=0,r=0;r<f;r++)u=e.shift(),u!=null&&(u.run(i),u.once&&l.recyle(u));n.sPools.push(e)}},n.getTmpVec=function(){var t;return n.sPools.length>0?(t=n.sPools.shift(),t.length=0):t=[],t},n.sInit=function(){n.sIns||(n.sIns=new n)},n.hasRegist=function(t){return n.sIns.hasRegist(t)},n.regist=function(t,i,r,u){u===void 0&&(u=!1);n.sIns.regist(t,i,r,u)},n.batRegist=function(t,i,r){n.sIns.batRegist(t,i,r)},n.remove=function(t,i,r){n.sIns.remove(t,i,r)},n.batRemove=function(t,i,r){n.sIns.batRemove(t,i,r)},n.removeAll=function(t){n.sIns.removeAll(t)},n.notify=function(t){for(var r=[],i=1,u=arguments.length;i<u;i++)r.push(arguments[i]);n.sIns.doNotify(t,r)},n.sIns=null,d(n,["sPools",function(){return this.sPools=[]}]),n}(),kc=function(){function n(){this.mVec=null;this.mVec=[];this.doReset()}r(n,"games.cores.dataServices.sql.zjVo.S_ZJ_VecMgr");var t=n.prototype;return t.doReset=function(){while(this.mVec.length>0)l.recyle(this.mVec.shift())},t.readVec=function(n,t){var i=0,u=n.getInt16(),r;for(i;i<u;i++)r=l.get(bet),r.read(n,t),this.mVec.push(r);return 1==n.getByte()?this.mVec:null},n}(),kv=function(){function n(n){this.isFc=!1;this.canOp=!1;this.basis=0;this.profit=0;this.minPF=0;this.cards=[];this.isFc=n;this.recyle()}r(n,"games.cores.dataServices.matches.S_SafeBox_Item");var t=n.prototype;return i.imps(t,{"FioLibs.interfaces.IFio_Recyle":!0}),t.recyle=function(){this.canOp=!1;this.basis=this.profit=this.minPF=0;this.cards.length=0},n}(),wg=function(){function t(){this.mAllDic={};this.mAllVec=[];this.helpVecs=[];this.helpIdxs=[]}r(t,"games.cores.dataServices.matchSvc.sng.Sgr_Sng");var n=t.prototype;return n.DoReset=function(){this.helpIdxs.length=0;this.helpVecs.length=0;for(var n in this.mAllDic)this.doDel(n,!0);while(this.mAllVec.length>0)l.recyle(this.mAllVec.shift())},n.ReadLists=function(n,t){n&&this.DoReset();this.helpVecs.length=0;var r=0,u=t.getUint16(),i;for(r;r<u;r++)i=l.get(rtt),i.read(t),this.helpVecs[r]=i,this.mAllDic[i.sID]=i,this.mAllVec.push(i);return this.helpVecs},n.ReadUpdates=function(n){var i;if(this.helpIdxs.length=0,i=n.getUint16(),i>0){var r=0,f=0,e=0,o=0,t,u=0;for(u;u<i;u++)r=n.getUint32(),this.helpIdxs.push(r),f=n.getByte(),e=n.getInt32(),o=n.getUint8(),t=this.mAllDic[r],t&&(t.state=f,t.pastTime=e,t.numJoin=o)}return this.helpIdxs},n.ReadDels=function(n){this.helpIdxs.length=0;var i=n.getUint16(),t=0;for(t;t<i;t++)this.doDel(n.getUint32(),!1);return this.helpIdxs},n.getPriLists=function(){this.helpVecs.length=0;var n=0,t=this.mAllVec.length;for(n;n<t;n++)this.helpVecs[n]=this.mAllVec[n];return this.helpVecs},n.doDel=function(n,t){var i=this.mAllDic[n],r;delete this.mAllDic[n];i&&(r=this.mAllVec.indexOf(i),r>-1&&this.mAllVec.splice(r,1),l.recyle(i),t||this.helpIdxs.push(n))},t}(),pu=function(){function n(t){this.ClassName=null;var i=this.constructor,r=i.name;this.ClassName="["+r+"]";switch(i){case n:case t:throw new Error("✖ "+this.ClassName+" 是抽象类，不能直接实例化");}if(n.s_locked)throw new Error("✖ "+this.ClassName+" 不允许被实例化，只能通过 "+r+".instance 来获取实例");}r(n,"FioLibs.RooterFactory");var t=n.prototype;return t.init=function(){},n.s_locked=!0,n}(),bg=function(){function n(){this.vClient=0;this.shareUrl=null;this.vIos=0;this.vAndroid=0;this.vIosPay=0;this.vIosPayF=0}r(n,"games.cores.dataServices.login.S_Version");var t=n.prototype;return t.parse=function(n){this.vClient=a.getNumber(n.getString());this.shareUrl=n.getString();this.vIos=a.getNumber(n.getString());this.vAndroid=a.getNumber(n.getString());this.vIosPay=a.getNumber(n.getString());this.vIosPayF=n.getByte()},n}(),kg=function(){function n(){this.sID=0;this.state=0;this.time=0;this.fund=NaN}return r(n,"games.cores.dataServices.club.fundVo.S_Fund_ReqLog"),n.readVecLogs=function(t){var f=t.getInt16(),i,r=0,u=[];for(r;r<f;r++)u[r]=i=l.get(n),i.sID=t.getUint32(),i.state=t.getByte(),i.time=t.getUint32(),i.fund=t.getFloat64();return u},n}(),dg=function(){function n(){this.name="";this.numMax=3;this.sliders={};this.flag=0;this.tzData=null}return r(n,"games.windows.matches.creators.yujuesai.voes.CrtYjs_CkDetail"),n}(),gg=function(){function n(){this.state=0;this.goodID=null;this.dealID=null;this.order=null}return r(n,"games.cores.configVoes.L_IosPay"),n}(),nn=function(){function n(){this.RaceID=0;this.dID=0;this.num=0;this.max=0;this.min=0;this.recyle()}r(n,"games.cores.dataServices.matchSvc.mtt.S_Mtt_ADesk");var t=n.prototype;return i.imps(t,{"FioLibs.interfaces.IFio_Recyle":!0}),t.recyle=function(){this.RaceID=this.dID=this.num=this.max=this.min=0},t.read=function(n){this.dID=n.getUint16();this.num=n.getUint8();this.max=n.getUint32();this.min=n.getUint32()},n}(),dv=function(){function n(){this.type=0;this.text=null;this.time=0;this.fund=NaN;this.roomID=0;this.rest=NaN;this.targeter=null;this.recyle()}r(n,"games.cores.dataServices._voes.funds.S_Fund_Log");var t=n.prototype;return i.imps(t,{"FioLibs.interfaces.IFio_Recyle":!0}),t.recyle=function(){this.type=this.time=this.fund=this.roomID=this.rest=0;this.text=this.targeter=""},t.read=function(n,t){this.type=n.getByte();this.text=n.getString();this.time=n.getUint32();this.fund=n.getFloat64();this.roomID=n.getUint32();this.rest=n.getFloat64();t||(this.targeter=n.getString())},n}(),b=function(){function n(){}return r(n,"games.consts.GOP"),n.OpenWin=function(n){for(var i=[],t=1,r=arguments.length;t<r;t++)i.push(arguments[t]);oi.notify(2,n,i)},n.traceObj=function(n,t){var i,r,u;if(t===void 0&&(t=!0),i="",n){u=[];for(r in n)u.push("obj."+r+": "+n[r]);i=u.join("\n");t&&alert(i)}return i},n.CheckCharLength=function(t,i,r,u){var e=n.getCharLength(t),f=null;if(e==0?f=r:i>0&&e>i&&(f=u),f)ut.showMessage(f);else return!0;return!1},n.getCharLength=function(n){if(n!=null){var t=n.match(/[\u4e00-\u9fa5]/gmi),i=t?t.length:0;return n.length+i}return 0},n.cutStrAsLen=function(t,i){for(var f=n.getCharLength(t),r=t.substr(0,i),u=i;n.getCharLength(r)>i;)u-=1,r=t.substr(0,u);return f>i&&(r=r+" ..."),r},n.SYS_OPEN_WIN=2,n.SYS_IOS_BUY_STATU=3,n.CT4_OK=100,n.ICON_UPDATE_CLUB=350,n.CLS_REWARRD_SET=360,n.ROOM_SHOW_QUICKQUIT=400,n.ROOM_SHOW_ADDTIME=401,n.ROOM_STYLE_BG=410,n.ROOM_STYLE_POKER=411,n.ROOM_QUICK_BET=412,n.ROOM_SHOW_CD=413,d(n,["reg_Chars",function(){return this.reg_Chars=/[\u4e00-\u9fa5]/gmi}]),n}(),dc=function(){function n(){this.nick=null;this.icon=null;this.numHand=0;this.numTake=NaN;this.numScore=NaN}r(n,"games.cores.dataServices.brands.S_RoomScore_Base");var t=n.prototype;return t.parse=function(n,t){(t===void 0&&(t=!0),this.nick=n.getString(),this.icon=n.getString(),t)&&(this.numHand=n.getUint32(),this.numTake=n.getFloat64(),this.numScore=n.getFloat64())},n}(),tn=function(){function n(){this.index=0;this.value=NaN;this.score=NaN;this.startState=0;this.betState=0}return r(n,"games.cores.dataServices.matches.S_Blind"),n}(),rn=function(){function n(){this.sID=0;this.nick=null;this.rank=0;this.score=0;this.recyle()}r(n,"games.cores.dataServices.matchSvc.sng.S_Sng_Player");var t=n.prototype;return i.imps(t,{"FioLibs.interfaces.IFio_Recyle":!0}),t.recyle=function(){this.nick=null;this.sID=this.rank=this.score=0},t.read=function(n){this.sID=n.getUint32();this.nick=n.getString();this.rank=n.getUint8();this.score=n.getUint32()},n}(),hri=function(){function n(){this.index=0;this.icon=0;this.pt=0;this.title=null;this.desc=null;this.price=0;this.page=0;this.pi=0;this.ip=0;this.goodID=null}return r(n,"games.cores.configVoes.L_Shop"),n}(),un=function(){function n(){this.order=null;this.payFrom=null;this.payAcc=null;this.payRei=null;this.payNum=0;this.payCode=0;this.payer=null;this.state=0;this.resTime=0}return r(n,"games.cores.dataServices.deal.S_Deal_OrderDetail"),n}(),gv=function(){function n(){this.url=null;this.title=null;this.desc=null;this.platform=0}return r(n,"FioLibs.voes.Vo_Share"),n}(),fn=function(){function t(){}return r(t,"FioLibs.core.FioWebCopy"),t.copy=function(i){var f=!1,r,u;i&&(t.sInput||(t.sInput=c.createElement("input"),t.sInput.contentEditable=!0,t.sInput.readonly=!1,t.sInput.style.left="120%"),c.document.body.appendChild(t.sInput),t.sInput.value=i,c.onIOS?(r=c.document.createRange(),r.selectNodeContents(t.sInput),u=n.getSelection(),u.removeAllRanges(),u.addRange(r),t.sInput.setSelectionRange(0,999999)):t.sInput.select(),f=c.document.execCommand("copy"),t.sInput.blur(),t.sInput.parentNode&&t.sInput.parentNode.removeChild(t.sInput));ut.showMessage("copy_true"+f)},t.sInput=null,t}(),cri=function(){function t(){i.init(750,1334,at);var n=i.stage;c.onPC||c.onIPad||c.height<1200?(n.scaleMode="showall",n.alignV="middle"):(n.scaleMode="fixedwidth",n.alignV="top");i.stage.bgColor="#000000";i.stage.alignH="center";i.timer.once(100,this,this.init)}r(t,"GameView");var u=t.prototype;return u.init=function(){var t=i.stage;s.MAX_W=t.width>>0;s.MAX_H=t.height>>0;s.LEADING_SIZE=0;s.IS_ON_MOBILE=c.onMobile;(n.conch!=null||c.onMobile)&&(s.LEADING_SIZE=4);new yn},t}(),lri=function(){function n(){this.index=0;this.state=0;this.bet=0;this.score=NaN;this.time=0}return r(n,"games.review.PV_Bet"),n}(),gt=function(){function n(){}r(n,"games.cores.dataServices.brands.S_Brands");var t=n.prototype;return i.imps(t,{"FioLibs.interfaces.IFio_Recyle":!0}),t.recyle=function(){},n.getResultStr=function(n){return" "+a.ToColorStr(n)},n.getResultStr2=function(n,t){return' <span style="color:'+a.getColor(t)+'">'+u.lang(n," "+a.NumToStr(t,9))+"<\/span>"},d(n,["vecStrs",function(){return this.vecStrs=[]}]),n}(),en=function(){function n(){}r(n,"FioLibs.voes.VO_FromData");var t=n.prototype;return t.initConfig=function(n){if(n)for(var t in n)this[t]=n[t]},n}(),on=function(){function n(){this.dNo=0;this.num=0;this.val=0}r(n,"games.cores.dataServices.matchSvc.desk.S_Desk_DzList");var t=n.prototype;return t.read=function(n){this.dNo=n.getUint32();this.num=n.getUint32();this.val=n.getUint32()},n.sRead=function(t){while(n.sVec.length>0)l.recyle(n.sVec.shift());var i=0,u=t.getUint16(),r;for(i;i<u;i++)r=l.get(n),r.read(t),n.sVec.push(r);return n.sVec},d(n,["sVec",function(){return this.sVec=[]}]),n}(),ari=function(){function n(){this.label=null;this.flag=null;this.best=null;this.great=null;this.normal=null;this.low=null}return r(n,"FioLibs.voes.Vo_AreaData"),n}(),rh=function(){function n(){this.type=0;this.idx=0;this.val=0}return r(n,"games.windows.matches.creators.voes.CrtMacVo_Tzzg"),n}(),gc=function(){function n(){}r(n,"games.windows.messages.MsgParser_Base");var t=n.prototype;return t.parse=function(n,t){n.updateVo(t)},n}(),nl=function(){function t(){this.littleBB=1;this.ante=NaN;this.Flags=null;this.IsStraddle=!1;this.IsUseScore=!1;this.IsJp=!1;this.IsJy=!1;this.Is2Ante=!1;this.IsDrkz=!1;this.IsUseGold=!1;this.IsXlsDz=!1;this.IsTimeBank=!1;this.IsMdcg=!1;this.IsDcxz=!1;this.Flags=[]}r(t,"games.cores.dataServices._voes.S_Bet");var n=t.prototype;return i.imps(n,{"FioLibs.interfaces.IFio_Recyle":!0}),n.recyle=function(){this.IsUseScore=this.IsStraddle=this.IsJp=!1;this.IsDrkz=this.IsUseGold=this.IsXlsDz=!1;this.IsTimeBank=this.IsMdcg=this.IsDcxz=!1},n.setFlag=function(n){a.U2V(n,32,this.Flags);this.IsStraddle=this.Flags[1];this.IsDrkz=this.Flags[6];this.IsJp=this.Flags[8];this.IsUseScore=this.Flags[9];this.IsJy=this.Flags[11];this.Is2Ante=this.Flags[12];this.IsUseGold=this.Flags[14];this.IsXlsDz=this.Flags[15];this.IsTimeBank=this.Flags[16];this.IsMdcg=this.Flags[17];this.IsDcxz=this.Flags[19]},n.getBetStr=function(){var n=this.getBaseBet();return this.ante>0&&(n+="("+this.ante+")"),n},n.getBaseBet=function(){var n=this.littleBB+"/"+this.littleBB*2;return this.IsStraddle&&(n+="/"+this.littleBB*4),n},n.getDPBetStr=function(){var n=this.littleBB+"";return this.Is2Ante&&(n+=" (Dx2)"),n},t}(),sn=function(){function n(){this.RaceID=0;this.tID=0;this.tNum=0;this.rest=0;this.need=0;this.has=0;this.gotNum=0;this.canDh=!1;this.recyle()}r(n,"games.cores.dataServices.matchSvc.mtt.S_Mtt_Mdcg");var t=n.prototype;return i.imps(t,{"FioLibs.interfaces.IFio_Recyle":!0}),t.recyle=function(){this.RaceID=this.tID=this.tNum=this.rest=this.need=this.has=0;this.canDh=!1},t.read=function(n){this.RaceID=n.getUint32();this.tID=n.getUint32();this.tNum=n.getUint32();this.rest=n.getUint32();this.need=n.getUint32();this.has=n.getUint32();this.gotNum=n.getUint32();this.canDh=1==n.getByte()&&this.rest>0},n}(),gi=function(){function n(){}return r(n,"games.cores.dataServices.bag.Sgr_Bag_Tickets"),n.DoReset=function(){if(n.mAllDic){var i;for(var t in n.mAllDic)i=n.mAllDic[t],n.mAllDic[t]=null,delete n.mAllDic[t],l.recyle(i)}},n.sInit=function(t){if(!n.mAllDic&&(n.mDef=new na,n.mDef.recyle(),n.mDef.name="UnKnow",n.mAllDic={},t)){var r,i;for(r in t)i=l.get(na),i.initConfig(t[r]),n.mAllDic[i.id]=i,delete t[r]}},n.sRead=function(t){n.DoReset();var r=0,u=t.getUint16(),i;for(r;r<u;r++)i=l.get(na),i.read(t),n.mAllDic[i.id]=i;n.recyPercent=t.getUint8()},n.getZdTickets=function(t,i,r){i===void 0&&(i=-1);r||(r=[]);var u,e,f=0;for(e in n.mAllDic)if(u=n.mAllDic[e],u&&(i<0||i==u.cangive)){if(n.sSpeIDs.indexOf(u.id)>-1)continue;f=u.clubid;0==f?r.push(u):f==t&&r.push(u)}return r.sort(n.doSort)},n.doSort=function(n,t){return n.score_value==t.score_value?0:n.score_value<t.score_value?-1:1},n.getTicket=function(t){var i=n.mAllDic[t];return i||(i=n.mDef),i},n.getName=function(t,i){i===void 0&&(i=0);var r=n.getTicket(t).name;return i>0&&(r+=" x "+i),r},n.getOpFlag=function(t){return n.getTicket(t).drawflag},n.getVal=function(t,i,r){var e=n.getTicket(t),f=e.getVal(i);return r?f>0?a.NumToStr(f)+u.lang("resType_"+i):"":f},n.recyPercent=10,n.mAllDic=null,n.mDef=null,d(n,["sSpeIDs",function(){return this.sSpeIDs=[100,101,102]}]),n}(),vri=function(){function n(){this.index=0;this.score=NaN;this.nick=null;this.icon=null}return r(n,"games.review.PV_Player"),n}(),uh=function(){function n(){this.rank=0;this.sID=0;this.icon=null;this.name=null;this.value=0}r(n,"games.cores.dataServices.sql.S_DpiPlayer");var t=n.prototype;return i.imps(t,{"FioLibs.interfaces.IFio_Recyle":!0}),t.recyle=function(){this.name=this.icon="";this.rank=this.sID=this.value=0},t.readOne=function(n,t){t===void 0&&(t=!1);this.rank=n.getUint16();this.sID=n.getUint32();this.icon=n.getString();this.name=n.getString();this.value=t?n.getFloat64():n.getUint32()},e(0,t,"Value",function(){return(Math.round(this.value/10)/100).toString()}),n.sRead=function(t,i){i===void 0&&(i=!1);for(var f=[],e=t.getUint16(),r=0,u,r=0;r<e;r++)u=l.get(n),u.readOne(t,i),f.push(u);return f},n}(),ny=function(){function t(){this.RaceID=0;this.state=0;this.timmeKs=0;this.timeJz=0;this.numJoin=0;this.numTotal=0;this.Flag=null;this.C_Op=0;this.Flag=new oh;this.recyle()}r(t,"games.cores.dataServices.matchSvc.mtt.S_Mtt_ListUpdate");var n=t.prototype;return i.imps(n,{"FioLibs.interfaces.IFio_Recyle":!0}),n.recyle=function(){this.RaceID=this.C_Op=0;this.state=0;this.timmeKs=this.timeJz=0;this.numJoin=this.numTotal=0},n.readUpdate=function(n,t){this.RaceID=n.getUint32();this.state=n.getByte();this.timmeKs=n.getInt32();this.timmeKs=t-this.timmeKs;this.timeJz=n.getInt32();this.timeJz!=0&&(this.timeJz=this.timeJz+t);this.numJoin=n.getUint16();this.numTotal=n.getUint16();this.Flag.setFlag(n.getUint32());this.updateType()},n.updateType=function(){var n=this.Flag.bm,t=this.Flag.yjs_na;switch(this.state){case 0:this.C_Op=t?8:n?this.Flag.yjs_qxbm?1:8:0;break;case 1:this.C_Op=t?n?3:4:n?3:2;break;case 2:this.C_Op=n?3:4}},t}(),ty=function(){function n(){this.pid=null;this.switcher=0;this.desc=null;this.cx=0;this.cy=0;this.open=0}return r(n,"games.cores.configVoes.L_NoticeCfg"),n}(),fh=function(){function n(){this.sID=0;this.name=null;this.icon=null;this.matchName=null;this.reqTime=0;this.state=0}r(n,"games.cores.dataServices.club.S_Club_MTTReq");var t=n.prototype;return i.imps(t,{"FioLibs.interfaces.IFio_Recyle":!0}),t.recyle=function(){},t.readOne=function(n){this.sID=n.getUint32();this.name=n.getString();this.icon=n.getString();this.matchName=n.getString();this.reqTime=n.getUint32();this.state=n.getByte()},n.sReadUn=function(t){var r,f,i,u;for(n.recycleVec(),r=n.mVec,f=t.getUint16(),u=0;u<f;u++)i=l.get(n),i.readOne(t),r.push(i),n.mDics[i.sID]=i;return r},n.sReadHst=function(t){for(var r=[],f=t.getUint16(),i,u=0;u<f;u++)i=l.get(n),i.readOne(t),r.push(i);return r},n.readUpdate=function(t){for(var e=t.getUint16(),r=0,i,u=[],f=0;f<e;f++)r=t.getUint32(),i=n.mDics[r],i&&(i.state=t.getByte(),u.push(i));return u},n.recycleVec=function(){for(n.mDics={};n.mVec.length;)l.recyle(n.mVec.shift());n.mVec.length=0},n.mDics={},d(n,["mVec",function(){return this.mVec=[]}]),n}(),hn=function(){function n(){this.sID=0;this.name=null;this.isOnline=!1;this.icon=null}return r(n,"games.cores.dataServices.brands.S_Rank_Visitor"),n}(),yri=function(){function n(){this.ResCdn=null;this.plat=0;this.from=null;this.host=null;this.hosts=null;this.port=0;this.ports=0;this.version=null;this.IconCdn=null;this.ActCdn=null;this.ShopCdn=null;this.SerStatuPath=null}return r(n,"games.cores.configVoes.L_WebConfig"),n}(),tl=function(){function n(){this.subType=0;this.rwdNum=0;this.rwdRate=0;this.Rewards=null;this.open=!1;this.Rewards=[]}r(n,"games.windows.matches.creators.mtt.rewards.MttRwdVo_GuDing");var t=n.prototype;return t.DoReset=function(){for(this.subType=0,this.rwdNum=0,this.rwdRate=0,this.open=!1;this.Rewards.length>0;)l.recyle(this.Rewards.shift())},t.updateResType=function(n){var t=0,i=this.Rewards.length;for(t;t<i;t++)this.Rewards[t].ResType=n},t.getStr=function(n){return 0==this.rwdNum?u.lang("mttRwd_53",a.NumToStr(n)):0==this.subType?u.lang("mttRwd_50",this.rwdNum,a.NumToStr(n)):u.lang("mttRwd_51",this.rwdRate,this.rwdNum,a.NumToStr(n))},t.getValidItems=function(){n.sVecRwds.length=0;var t=0,r=this.Rewards.length,i;for(t;t<r;t++)i=this.Rewards[t],i&&i.locked&&n.sVecRwds.push(i);return n.sVecRwds},d(n,["sVecRwds",function(){return this.sVecRwds=[]}]),n}(),cn=function(){function n(){this.sID=0;this.icon=0;this.name=null;this.gold=0;this.count=0}r(n,"games.cores.dataServices.club.ticket.S_TicketCount");var t=n.prototype;return t.readOne=function(n){this.sID=n.getUint32();this.icon=n.getUint32();this.name=n.getString();this.gold=n.getUint32();this.count=n.getUint32()},n.sReadBytes=function(t){for(var r=[],f=t.getUint16(),i,u=0;u<f;u++)i=l.get(n),i.readOne(t),r.push(i);return r},n}(),ln=function(){function n(){if(this.Sound_Game=!0,this.Sound_Message=!0,this.Sound_Block=!1,this.MessageShake=!0,this.Show_BB=!1,this.Show_BestPoker=!0,this.Style_Bg=2,this.Style_Poker=1,this.BetVals=null,n.S_Ins)throw new Error("✖ [S_Cookie] 唯一模式");n.S_Ins=this;this.parse(sr.getItem("myCookie"))}r(n,"games.cores.dataServices.acc.S_Cookie");var t=n.prototype;return t.parse=function(n){if(n){var i=JSON.parse(n);for(var t in i)this.hasOwnProperty(t)&&(this[t]=i[t])}this.save(!0)},t.save=function(n){var t,u,i,r;if(n===void 0&&(n=!1),this.BetVals){if(this.BetVals.length<5)for(t=0,u=5-this.BetVals.length,t;t<u;t++)this.BetVals.push(0)}else this.BetVals=[0,50,67,100,0];i=JSON.stringify(this);sr.setItem("myCookie",i);n||(r=v.getPack(261),r.sendString(i),r.flush())},n.S_Ins=null,n.Cookie_Name="myCookie",n}(),an=function(){function n(){this.type=0;this.ins=null;this.index=0;this.once=!1;this.complete=!1;this.end=0}r(n,"FioLibs.core.downcount._Vo_DCIns");var t=n.prototype;return i.imps(t,{"FioLibs.interfaces.IFio_Recyle":!0}),t.recyle=function(){this.type=this.index=this.end=0;this.ins=null;this.once=this.complete=!1},n}(),pri=function(){function n(){this.id=0;this.min=NaN;this.max=NaN;this.id=this.min=this.max=0}return r(n,"games.scene.modules.hall._Vo_Area"),n}(),rt=function(){function t(){}return r(t,"games.consts.GConst"),t.toRealY=function(n){return n/1334*i.stage.height>>0},t.VERSION="5.2",t.SVER=99,t.SHARE_URL=null,t.IS_SUPER=!1,t.IS_LR=!1,t.GameConfigs=null,t.DESIGN_WIDTH=750,t.DESIGN_HEIGHT=1334,t.COLOR_ICON_LINE="#eab96a",t.COLOR_SAFE_JACKPOT="#8fc8df",t.COLOR_STAGE_BG="#031418",t.COLOR_LINE="#233a5b",t.COLOR_LINE_ITEM="#233a5b",t.COLOR_LINE_TEXT="#c2a364",t.COLOR_ITEM_BG="#5493a570",t.COLOR_BG_386="#386ebf40",t.COLOR_BG_MENU="#305278",t.COLOR_BG_LEV2="#c9d5e1",t.COLOR_LEV2_3b4="#3b4f62",t.COLOR_LEV2_527="#527b92",t.COLOR_LEV2_ff5="#ff5543",t.COLOR_LEV2_566="#566c88",t.COLOR_LEV2_LINE="#bfc9d7",t.COLOR_LEV2_LINE_648="#648698",t.COLOR_LEV2_DRAW_BG="#3a5373",t.COLOR_LEV2_SLD_BG="#c7d3df",t.COLOR_WHITE="#b2d6fb",t.COLOR_WHITE1="#d3e6f9",t.COLOR_WHITE2="#ffffff",t.COLOR_GRAY="#5680be",t.COLOR_GRAY1="#6391d5",t.COLOR_TITLE="#b2d6fb",t.COLOR_TITLE_TAB="#94afb5",t.COLOR_RED="#ff0000",t.COLOR_GREEN="#4bc65c",t.COLOR_GREEN1="#00cc0028",t.COLOR_GREEN2="#2cad71",t.COLOR_BLUE="#40608e",t.COLOR_BLUE1="#1e99e6",t.COLOR_BLUE2="#64ace9",t.COLOR_BLACK="#444444",t.COLOR_YELLOW="#e5ba73",t.COLOR_YELLOW1="#eab96a",t.COLOR_YELLOW2="#fc8403",t.COLOR_MASK="#00000066",t.Crt_Match_ZdID=0,t.Crt_Match_IsZD=!1,t.Crt_Match_IDLev=0,t.Crt_Match_IsPlat=!1,t.WIN_COUNTRY=2,t.WIN_LANG=3,t.WIN_USER_BASEINFO=4,t.WIN_USER_ICON=5,t.WIN_USER_NOTE_EDIT=6,t.WIN_USER_SYS_ICON=7,t.WIN_HTML_INTRO=8,t.WIN_MESSAGE=20,t.WIN_MESSAGE_LIST=21,t.WIN_ACT_NOTICE=22,t.WIN_MATCH_REVIEW=23,t.WIN_CRT_ZM=29,t.WIN_CRT_MAC_SJ=30,t.WIN_CRT_MAC_ZD=31,t.WIN_DESK_INVITE_CODE=32,t.WIN_DESK_XLSDZ_LISTS=33,t.WIN_CRT_TIME_SELECT=37,t.WIN_MTT_DETAILS=38,t.WIN_MTT_REWARD=39,t.WIN_ROOM_COMPLAINT=41,t.WIN_ROOM_SCROE=42,t.WIN_MTT_SCORE_DESK=43,t.WIN_ROOM_SCROE_BRANDS=44,t.WIN_MTT_ROOM_BRAND=45,t.WIN_MTT_BLINDTYPE=46,t.WIN_MTT_HUNTSET=47,t.WIN_MTT_TZZG=48,t.WIN_MTT_REWARD_TKT=300,t.WIN_SNG_REWARD=310,t.WIN_SNG_CUSTOMSET=311,t.WIN_YJS_JJJL=320,t.WIN_YJS_YSMAIN=321,t.WIN_YJS_ONE=322,t.WIN_CLUB_DESKS=50,t.WIN_CLUB_HOME=51,t.WIN_CLUB_CRT_EDIT=52,t.WIN_CLUB_SERACH=53,t.WIN_CLUB_SERACH_RESULT=54,t.WIN_CLUB_MEMBER=55,t.WIN_CLUB_LSPJ=56,t.WIN_CLUB_ZJ=57,t.WIN_CLUB_FUND=58,t.WIN_CLUB_SETTING=59,t.WIN_CLUB_ST_JP=60,t.WIN_CLUB_ST_STAR=61,t.WIN_CLUB_ST_OPEN=62,t.WIN_CLUB_ST_RECHARGE_JP=63,t.WIN_CLUB_RECHARGE_GOLD=70,t.WIN_CLUB_SCORE_MGR=71,t.WIN_CLUB_SCORE_M2C=72,t.WIN_CLUB_RECHARGE_JPGOLD=73,t.WIN_CLUB_MTT_MGR=64,t.WIN_DPI_RANK=160,t.WIN_DPI_RANK_CLUB=161,t.WIN_DPI_PERSONAL=162,t.WIN_LEAGUE=80,t.WIN_LEAGUE_CJ=81,t.WIN_LEAGUE_SEARCH=82,t.WIN_LEAGUE_MGR=85,t.WIN_LEAGUE_FUND=86,t.WIN_LEAGUE_FUND_TQCZ=87,t.WIN_LEAGUE_ZJ=88,t.WIN_CREDIT_DETAIL_C=100,t.WIN_CREDIT_DETAIL_SUB_C=101,t.WIN_CREDIT_DETAIL_U=102,t.WIN_CREDIT_DETAIL_SUB_U=103,t.WIN_CU_GG_C2P=120,t.WIN_CU_GS_C2P=121,t.WIN_CU_CREDIT_C2P=122,t.WIN_CU_CREDIT_U2C=123,t.WIN_CU_GS_U2C=124,t.WIN_CU_DISMISS=130,t.WIN_CU_HZ_SUM=131,t.WIN_ZJ_SUBC_P2D=140,t.WIN_ZJ_SUBC_D2P=141,t.WIN_ZJ_SUBL_C2P=142,t.WIN_ME_DEAL=170,t.WIN_ME_SHOP=171,t.WIN_ME_FUND=172,t.WIN_ME_QR=173,t.WIN_ME_SHENGYA=174,t.WIN_ME_PAIPU=175,t.WIN_ME_KEFU=176,t.WIN_ME_WEBSITE=177,t.WIN_ME_NOTE=178,t.WIN_ME_BAG=179,t.WIN_ME_BAG_INVIT=210,t.WIN_ME_BAG_GET=211,t.WIN_ME_IFS_BAG=212,t.WIN_ME_SETTING=180,t.WIN_ACC_REG_RESET=181,t.WIN_ACC_MGR=182,t.WIN_ACC_TAB=183,t.WIN_ACC_DEL=184,t.WIN_ACC_DEL_CONFIRM=185,t.WIN_ACC_SMRZ=186,t.WIN_ACC_SPC_CODE=187,t.WIN_ACC_EJMM_HOME=190,t.WIN_ACC_EJMM_SET=191,t.WIN_ACC_EJMM_VERIFY=192,t.WIN_JF_SHOP_HOME=200,t.WIN_JF_SHOP_SUB=201,t.WIN_JF_SHOP_EXCHANGE=202,t.WIN_YQHY=216,t.WIN_ADMIN_DATA=220,t.WIN_ADMIN_D_ONE_LEA=221,t.WIN_ADMIN_D_ONE_CLUB=222,d(t,["IS_FULLWEB",function(){return this.IS_FULLWEB=n.navigator.standalone}]),t}(),wri=function(){function n(){this.idx=0;this.x=0;this.y=0;this.htm=null;this.align=null}return r(n,"games.windows.matches.mthDtlView.Vo_MatchHtm_Item"),n}(),il=function(){function n(){this.sID=0;this.gameType=0;this.platform=null;this.name=null;this.icon=null;this.initChip=0;this.goldType=0;this.cost=0;this.itemID=0;this.costService=0;this.blindTime=0;this.personNum=0;this.pastTime=0;this.totalChip=0;this.tStart=0;this.myRank=0;this.Flag=null;this.Flag=new oh}r(n,"games.cores.dataServices.brands.S_Score_Desk_MTT");var t=n.prototype;return t.readOne=function(n){this.sID=n.getUint32();this.gameType=n.getByte();this.name=n.getString();this.icon=n.getString();this.platform=n.getString();this.tStart=n.getUint32();this.pastTime=n.getUint32();this.initChip=n.getUint32();this.blindTime=n.getByte();this.cost=n.getUint32();this.costService=n.getUint32();this.personNum=n.getUint32();this.totalChip=n.getUint32();this.myRank=n.getUint32();this.goldType=n.getByte();this.itemID=n.getUint32();this.Flag.setFlag(n.getUint32())},n.readVec=function(t,i){var u=[],r=0,e=t.getUint16(),f;for(r;r<e;r++)u[r]=f=l.get(n),f.readOne(t,i);return u},n}(),vn=function(){function n(){this.type=0;this.text=null;this.tStart=0;this.tEnd=0;this.fund=NaN;this.recyle()}r(n,"games.cores.dataServices._voes.funds.S_Fund_HZ");var t=n.prototype;return i.imps(t,{"FioLibs.interfaces.IFio_Recyle":!0}),t.recyle=function(){this.type=0;this.text="";this.tStart=this.tEnd=this.fund=0},t.read=function(n){this.type=n.getByte();this.text=n.getString();this.tStart=n.getUint32();this.tEnd=n.getUint32();this.fund=n.getFloat64()},n}(),yn=function(){function t(){var t;this.mFiles=null;this.mIconPath=null;this.mRevPath=null;this.mHandPro=null;this.mCtrl=null;t=n.getLoginVo();ti.basePath=t.ResCdn;ti.debugVer="?"+t.version;ti.version=VER_CONFIG;this.mIconPath=t.IconCdn+"users/";this.mRevPath=t.ReviewUrl;var r=a.getNumber(n.getQuery("rid")),u=a.getNumber(n.getQuery("hid")),f=a.getNumber(n.getQuery("op")),e=this.mRevPath+"?rid="+r+"&hid="+u+"&op="+f;this.mFiles=["res/configs/86/lang.txt",{url:"res/configs/86/configs.cfg",type:"json"},"res/mainUi.atlas","res/sysIcons.atlas","res/iconFrames.atlas","res/matches.atlas","res/cards.atlas",e];this.mHandPro=h.create(this,this.onResPro,null,!1);i.loader.load(this.mFiles,h.create(this,this.onResCom),this.mHandPro)}r(t,"games.review.ReView_Loading");var f=t.prototype;return f.onResPro=function(t){t||(t=0);t>1&&(t=1);t=Math.round(t*100);n.showMessage('Loading ... <font color="#b2d6fb">'+t+"%<\/font>")},f.onResCom=function(t){var r,f;if(t){u.parseConfig(i.loader.getRes(this.mFiles[0]));r=i.loader.getRes(this.mFiles[1].url);k.Init(r.uiLibs);yf.Init(r.faceConfigs);ui.InitConfigs(r.playerCoords);vo.sInit(r.serMessage);ei.Init(!0);n.clearMessage();this.mHandPro&&this.mHandPro.recover();this.mHandPro=null;try{f=JSON.parse(i.loader.getRes(this.mFiles[this.mFiles.length-1]))}catch(e){}i.timer.once(50,this,this.doStart,[f]);this.mFiles=null}else n.showMessage('Loading ... <font color="#b2d6fb">Error<\/font>')},f.doStart=function(t){if(!t||t.msg){var i="Match Datas Error";t&&t.msg&&(i=t.msg);n.showMessage('<font color="#ff0000">'+i+"<\/font>");return}this.mCtrl||tu.Add(this.mCtrl=new pw(this.mIconPath));this.mIconPath=null;this.mCtrl.showReview(t)},t}(),pn=function(){function n(){this.CN=null;this.CT=0;this.Pools=null}r(n,"FioLibs.core.pools.Vo_Pool");var t=n.prototype;return t.toString=function(){var t=this.Pools.length;return'◆ 创建: <font color="#3b87b3">'+n.getNum(this.CT)+'<\/font>  缓存: <font color="#3b87b3">'+n.getNum(t)+'<\/font>  使用: <font color="#3b87b3">'+n.getNum(this.CT-t)+'<\/font>  <font color="#3b87b3">[ '+this.CN+" ]<\/font>"},n.getNum=function(n){var t;return t=n>9999?"":n>999?"_":n>99?"__":n>9?"___":"____",n+'<font color="#000000">'+t+"<\/font>"},n}(),lu=function(){function t(n){this._xd_=!0;this._allocated_=8;this._pos_=0;this._length=0;n?(this._u8d_=new Uint8Array(n),this._d_=new DataView(this._u8d_.buffer),this._length=this._d_.byteLength):this._resizeBuffer(this._allocated_)}r(t,"laya.utils.Byte");var n=t.prototype;return n._resizeBuffer=function(n){try{var t=new Uint8Array(n);this._u8d_!=null&&(this._u8d_.length<=n?t.set(this._u8d_):t.set(this._u8d_.subarray(0,n)));this._u8d_=t;this._d_=new DataView(t.buffer)}catch(i){throw"Invalid typed array length:"+n;}},n.getString=function(){return this.readString()},n.readString=function(){return this._rUTF(this.getUint16())},n.getFloat32Array=function(n,t){return this.readFloat32Array(n,t)},n.readFloat32Array=function(n,t){var i=n+t,r;return i=i>this._length?this._length:i,r=new Float32Array(this._d_.buffer.slice(n,i)),this._pos_=i,r},n.getUint8Array=function(n,t){return this.readUint8Array(n,t)},n.readUint8Array=function(n,t){var i=n+t,r;return i=i>this._length?this._length:i,r=new Uint8Array(this._d_.buffer.slice(n,i)),this._pos_=i,r},n.getInt16Array=function(n,t){return this.readInt16Array(n,t)},n.readInt16Array=function(n,t){var i=n+t,r;return i=i>this._length?this._length:i,r=new Int16Array(this._d_.buffer.slice(n,i)),this._pos_=i,r},n.getFloat32=function(){return this.readFloat32()},n.readFloat32=function(){if(this._pos_+4>this._length)throw"getFloat32 error - Out of bounds";var n=this._d_.getFloat32(this._pos_,this._xd_);return this._pos_+=4,Math.round(n*1e3)/1e3},n.getFloat64=function(){return this.readFloat64()},n.readFloat64=function(){if(this._pos_+8>this._length)throw"getFloat64 error - Out of bounds";var n=this._d_.getFloat64(this._pos_,this._xd_);return this._pos_+=8,Math.round(n*1e3)/1e3},n.writeFloat32=function(n){this._ensureWrite(this._pos_+4);this._d_.setFloat32(this._pos_,n,this._xd_);this._pos_+=4},n.writeFloat64=function(n){this._ensureWrite(this._pos_+8);this._d_.setFloat64(this._pos_,n,this._xd_);this._pos_+=8},n.getInt32=function(){return this.readInt32()},n.readInt32=function(){if(this._pos_+4>this._length)throw"getInt32 error - Out of bounds";var n=this._d_.getInt32(this._pos_,this._xd_);return this._pos_+=4,n},n.getUint32=function(){return this.readUint32()},n.readUint32=function(){if(this._pos_+4>this._length)throw"getUint32 error - Out of bounds";var n=this._d_.getUint32(this._pos_,this._xd_);return this._pos_+=4,n},n.writeInt32=function(n){this._ensureWrite(this._pos_+4);this._d_.setInt32(this._pos_,n,this._xd_);this._pos_+=4},n.writeUint32=function(n){this._ensureWrite(this._pos_+4);this._d_.setUint32(this._pos_,n,this._xd_);this._pos_+=4},n.getInt16=function(){return this.readInt16()},n.readInt16=function(){if(this._pos_+2>this._length)throw"getInt16 error - Out of bounds";var n=this._d_.getInt16(this._pos_,this._xd_);return this._pos_+=2,n},n.getUint16=function(){return this.readUint16()},n.readUint16=function(){if(this._pos_+2>this._length)throw"getUint16 error - Out of bounds";var n=this._d_.getUint16(this._pos_,this._xd_);return this._pos_+=2,n},n.writeUint16=function(n){this._ensureWrite(this._pos_+2);this._d_.setUint16(this._pos_,n,this._xd_);this._pos_+=2},n.writeInt16=function(n){this._ensureWrite(this._pos_+2);this._d_.setInt16(this._pos_,n,this._xd_);this._pos_+=2},n.getUint8=function(){return this.readUint8()},n.readUint8=function(){if(this._pos_+1>this._length)throw"getUint8 error - Out of bounds";return this._u8d_[this._pos_++]},n.writeUint8=function(n){this._ensureWrite(this._pos_+1);this._d_.setUint8(this._pos_,n);this._pos_++},n._getUInt8=function(n){return this._readUInt8(n)},n._readUInt8=function(n){return this._d_.getUint8(n)},n._getUint16=function(n){return this._readUint16(n)},n._readUint16=function(n){return this._d_.getUint16(n,this._xd_)},n._getMatrix=function(){return this._readMatrix()},n._readMatrix=function(){return new ht(this.getFloat32(),this.getFloat32(),this.getFloat32(),this.getFloat32(),this.getFloat32(),this.getFloat32())},n._rUTF=function(n){var s=this._pos_+n,t=0,f=0,o=0,e=String.fromCharCode,i=this._u8d_,h=0,r=[],u=0;for(r.length=1e3;this._pos_<s;)t=i[this._pos_++],t<128?t!=0&&(r[u++]=e(t)):t<224?r[u++]=e((t&63)<<6|i[this._pos_++]&127):t<240?(f=i[this._pos_++],r[u++]=e((t&31)<<12|(f&127)<<6|i[this._pos_++]&127)):(f=i[this._pos_++],o=i[this._pos_++],r[u++]=e((t&15)<<18|(f&127)<<12|o<<6&127|i[this._pos_++]&127)),h++;return r.length=u,r.join("")},n.getCustomString=function(n){return this.readCustomString(n)},n.readCustomString=function(n){for(var r="",i=0,t=0,f=0,e=String.fromCharCode,u=this._u8d_;n>0;)if(t=u[this._pos_],t<128)r+=e(t),this._pos_++,n--;else for(i=t-128,this._pos_++,n-=i;i>0;)t=u[this._pos_++],f=u[this._pos_++],r+=e(f<<8|t),i--;return r},n.clear=function(){this._pos_=0;this.length=0},n.__getBuffer=function(){return this._d_.buffer},n.writeUTFBytes=function(n){var i,r,t;for(n=n+"",n=n.replace(/</gi,"＜"),n=n.replace(/>/gi,"＞"),i=0,r=n.length;i<r;i++)t=n.charCodeAt(i),t<=127?this.writeByte(t):t<=2047?(this._ensureWrite(this._pos_+2),this._u8d_.set([192|t>>6,128|t&63],this._pos_),this._pos_+=2):t<=65535?(this._ensureWrite(this._pos_+3),this._u8d_.set([224|t>>12,128|t>>6&63,128|t&63],this._pos_),this._pos_+=3):(this._ensureWrite(this._pos_+4),this._u8d_.set([240|t>>18,128|t>>12&63,128|t>>6&63,128|t&63],this._pos_),this._pos_+=4)},n.writeUTFString=function(n){var t=this.pos,i;this.writeUint16(1);this.writeUTFBytes(n);i=this.pos-t-2;this._d_.setUint16(t,i,this._xd_)},n.readUTFString=function(){return this.readUTFBytes(this.getUint16())},n.getUTFString=function(){return this.readUTFString()},n.readUTFBytes=function(n){if(n===void 0&&(n=-1),n===0)return"";var t=this.bytesAvailable;if(n>t)throw"readUTFBytes error - Out of bounds";return n=n>0?n:t,this._rUTF(n)},n.getUTFBytes=function(n){return n===void 0&&(n=-1),this.readUTFBytes(n)},n.writeByte=function(n){this._ensureWrite(this._pos_+1);this._d_.setInt8(this._pos_,n);this._pos_+=1},n.readByte=function(){if(this._pos_+1>this._length)throw"readByte error - Out of bounds";return this._d_.getInt8(this._pos_++)},n.getByte=function(){return this.readByte()},n._ensureWrite=function(n){this._length<n&&(this._length=n);this._allocated_<n&&(this.length=n)},n.writeArrayBuffer=function(n,t,i){if(t===void 0&&(t=0),i===void 0&&(i=0),t<0||i<0)throw"writeArrayBuffer error - Out of bounds";i==0&&(i=n.byteLength-t);this._ensureWrite(this._pos_+i);var r=new Uint8Array(n);this._u8d_.set(r.subarray(t,t+i),this._pos_);this._pos_+=i},n.readArrayBuffer=function(n){var t;return t=this._u8d_.buffer.slice(this._pos_,this._pos_+n),this._pos_=this._pos_+n,t},e(0,n,"buffer",function(){var n=this._d_.buffer;return n.byteLength===this._length?n:n.slice(0,this._length)}),e(0,n,"endian",function(){return this._xd_?"littleEndian":"bigEndian"},function(n){this._xd_=n==="littleEndian"}),e(0,n,"length",function(){return this._length},function(n){this._allocated_<n?this._resizeBuffer(this._allocated_=Math.floor(Math.max(n,this._allocated_*2))):this._allocated_>n&&this._resizeBuffer(this._allocated_=n);this._length=n}),e(0,n,"pos",function(){return this._pos_},function(n){this._pos_=n}),e(0,n,"bytesAvailable",function(){return this._length-this._pos_}),t.getSystemEndian=function(){if(!t._sysEndian){var n=new ArrayBuffer(2);new DataView(n).setInt16(0,256,!0);t._sysEndian=new Int16Array(n)[0]===256?"littleEndian":"bigEndian"}return t._sysEndian},t.BIG_ENDIAN="bigEndian",t.LITTLE_ENDIAN="littleEndian",t._sysEndian=null,t}(),wn=function(){function n(){this.name="";this.sliders={};this.flag=0;this.bmIdx=0;this.bmSldIdxs=[0,0,0];this.mzIdx=0}return r(n,"games.windows.matches.creators.sng.CrtSng_CkDetail"),n}(),bn=function(){function t(){(this.mRaceID=0,this.mTblock=null,this.mCrdValue=NaN,t.sInited)||(t.sInited=!0,f.Account.regist(240,this.getSpVerify,this),f.Account.regist(248,this.openSmrz,this),f.Desk.regist(370,this.getJinsai,this),f.Desk.regist(372,this.Match_Kickout,this),f.Desk.regist(373,this.Match_Award,this),f.Match.regist(446,this.getCredit,this),f.Match.regist(447,this.toTqxf,this),f.Room.regist(515,this.getRoomScore,this),f.Club.regist(717,this.getViewVo,this),f.MTT.regist(1481,this.getMTTScore,this),f.MTT.regist(1450,this.Mtt_MatchStart,this),f.MTT.regist(1451,this.Mtt_getFhZg,this),f.MTT.regist(1456,this.Mtt_getJjtz,this))}r(t,"games.cores.MgrNotify");var n=t.prototype;return n.getSpVerify=function(n,t){switch(n){case 1:b.OpenWin(192);break;case 2:pt.Alert(u.lang("ejmmSet_alt_1",a.FormatTime2(t)))}},n.openSmrz=function(){f.Account.Detail.HasInfo&&b.OpenWin(186,1)},n.getJinsai=function(n){if(n>0){if(!this.mTblock){var t=rt.GameConfigs.htmIntro.tips_jinsai;this.mTblock=new fu;this.mTblock.TmpData=t.label;this.mTblock.crtTitle(t.data,512)}pt.Alert(this.mTblock,this,null,null,this.mTblock.TmpData)}},n.Match_Kickout=function(n){pt.Alert(u.lang("match_kickout",n))},n.Match_Award=function(n){pt.Alert(u.lang(n.isPm?"match_award_pm":"match_award_normal",n.order,n.awdStr),null,null,null,u.lang("match_award_title"))},n.getCredit=function(n){pt.Alert(u.lang("crdNotify",a.NumToStr(this.mCrdValue=n)),this,[u.lang("crdGo"),u.lang("cancel")],[this.toQuickGo,null])},n.toQuickGo=function(){f.Match.reqAddScore(this.mCrdValue)},n.toTqxf=function(n){pt.Alert(u.lang("pTakeScore",n),this,null,[f.Match.reqXf,null])},n.getRoomScore=function(n){b.OpenWin(42,n)},n.getMTTScore=function(n){b.OpenWin(43,n)},n.getViewVo=function(n,t){0==n&&b.OpenWin(122,t)},n.Mtt_MatchStart=function(n,t){this.mRaceID=n;pt.Alert(u.lang("match_start_notify",t),this,[u.lang("match_start_btn_0"),u.lang("match_start_btn_1")],[this.Mtt_Entry,null],u.lang("match_start_t"))},n.Mtt_Entry=function(){f.MTT.reqEntry(this.mRaceID,0);this.mRaceID=0},n.Mtt_getFhZg=function(n){1==n?ef.askZgcg(2):2==n&&ef.askFh(!0)},n.Mtt_getJjtz=function(n,t){pt.Alert(u.lang("match_jjnext",a.G2S(t,4),n))},t.sInited=!1,t}(),kn=function(){function n(){this.gID=0;this.num=0;this.cost=0;this.time=0;this.rest=NaN;this.state=0;this.recyle()}r(n,"games.cores.dataServices.club.S_Club_EcLog");var t=n.prototype;return i.imps(t,{"FioLibs.interfaces.IFio_Recyle":!0}),t.recyle=function(){this.gID=this.num=this.cost=this.time=this.rest=this.state=0},t.read=function(n){this.gID=n.getUint16();this.num=n.getUint16();this.cost=n.getUint32();this.time=n.getUint32();this.rest=n.getFloat64();this.state=n.getByte()},n.readVec=function(t){var r=[],i=0,f=t.getUint16(),u;for(i;i<f;i++)r[i]=u=l.get(n),u.read(t);return r},n}(),dn=function(){function n(){this.index=0;this.betState=0;this.betted=NaN;this.pot=NaN}return r(n,"games.cores.dataServices.matches.S_Round"),n}(),gn=function(){function t(n){this.TIME_DEL=1500;this.TIME_REFRESH=200;this.PARAMS_APP={y:0};this.StartY=8;this.mMax=0;this.mVecMessages=null;this.mVecItems=null;this.mTs=0;this.mTd=0;this.TIME_EFF=this.TIME_REFRESH-128;this.mMax=n;this.mVecMessages=[];this.mVecItems=[];this.mTs=this.mTd=0}r(t,"FioLibs.displays.flyMessage._MsgTL");var n=t.prototype;return n.clear=function(){while(this.mVecMessages.length>0)this.mVecMessages.shift();for(this.mTs=this.mTd=0,i.timer.clearAll(this);this.mVecItems.length>0;)this.onComplete(this.mVecItems.shift())},n.showMessage=function(n){n&&n.length>0&&(this.mVecMessages.push(n),0==this.mTs&&(this.mTs=c.now(),i.timer.loop(this.TIME_REFRESH,this,this.onCheck)))},n.onCheck=function(){var t=c.now(),r,n,u,f;if(this.mTs>0){if(t>=this.mTs)if(this.mVecMessages.length>0){if(r=this.mVecItems.length,r>=this.mMax)this.onComplete(this.mVecItems.shift());for(n=l.get(hbt),n.y=this.StartY,n.showMessage(this.mVecMessages.shift()),r=this.mVecItems.push(n),u=0,f=this.StartY,u;u<r;u++)n=this.mVecItems[r-1-u],this.PARAMS_APP.y=f,ri.to(n,this.PARAMS_APP,this.TIME_EFF,null,null,0,!0),f+=n.height+4>>0;this.mTs=t+this.TIME_REFRESH}else this.mTs=0,this.mTd=t+this.TIME_DEL}else if(this.mTd>0&&t>=this.mTd)if(this.mVecItems.length>0){this.onComplete(this.mVecItems.shift());this.mTd=t+this.TIME_DEL}else this.mTd=0,i.timer.clearAll(this)},n.onComplete=function(n){ri.clearAll(n);l.recyle(n)},t}(),bri=function(){function n(){this.type=0;this.nick=null;this.tb=NaN;this.pf=NaN;this.sel=null;this.uns=null}return r(n,"games.review.PV_Insure"),n}(),ntt=function(){function t(n){this.TIME_DEL=2500;this.TIME_REFRESH=300;this.PARAMS_APP={y:0};this.StartY=512;this.mMax=0;this.mVecMessages=null;this.mVecItems=null;this.mTs=0;this.mTd=0;this.TIME_EFF=this.TIME_REFRESH-128;this.mMax=n;this.mVecMessages=[];this.mVecItems=[];this.mTs=this.mTd=0}r(t,"FioLibs.displays.flyMessage._MsgCenter");var n=t.prototype;return n.clear=function(){while(this.mVecMessages.length>0)this.mVecMessages.shift();for(this.mTs=this.mTd=0,i.timer.clearAll(this);this.mVecItems.length>0;)this.onComplete(this.mVecItems.shift())},n.showMessage=function(n){n&&n.length>0&&(this.mVecMessages.push(n),0==this.mTs&&(this.mTs=c.now(),i.timer.loop(100,this,this.onCheck)))},n.onCheck=function(){var t=c.now(),r,n,u,f;if(this.mTs>0){if(t>=this.mTs)if(this.mVecMessages.length>0){if(r=this.mVecItems.length,r>=this.mMax)this.onComplete(this.mVecItems.shift());for(n=l.get(ebt),n.y=this.StartY,n.showMessage(this.mVecMessages.shift()),r=this.mVecItems.push(n),u=0,f=this.StartY,u;u<r;u++)n=this.mVecItems[r-1-u],f-=n.height,this.PARAMS_APP.y=f,ri.to(n,this.PARAMS_APP,this.TIME_EFF,null,null,0,!0),f-=8;this.mTs=t+this.TIME_REFRESH}else this.mTs=0,this.mTd=t+this.TIME_DEL}else if(this.mTd>0&&t>=this.mTd)if(this.mVecItems.length>0){this.onComplete(this.mVecItems.shift());this.mTd=t+this.TIME_DEL}else this.mTd=0,i.timer.clearAll(this)},n.onComplete=function(n){ri.clearAll(n);l.recyle(n)},t}(),ttt=function(){function n(){this.caller=null;this.method=null;this.once=!1}r(n,"FioLibs.voes.FioCallVo");var t=n.prototype;return i.imps(t,{"FioLibs.interfaces.IFio_Recyle":!0}),t.run=function(n){this.method&&this.method.apply(this.caller,n)},t.recyle=function(){this.caller=null;this.method=null;this.once=!1},n}(),itt=function(){function n(){this.index=0;this.sender=null;this.fname=null;this.time=0;this.recyle()}r(n,"games.cores.dataServices.matches.S_Mic");var t=n.prototype;return i.imps(t,{"FioLibs.interfaces.IFio_Recyle":!0}),t.recyle=function(){this.index=this.time=0;this.sender=this.fname=""},n.read=function(t){var i=l.get(n);return i.index=t.getByte(),i.sender=t.getString(),i.fname=t.getString(),i.time=t.getUint32(),i},n}(),kri=function(){function n(){this.desc=null;this.w=0;this.h=0;this.align=null;this.leading=0;this.size=0;this.color=null;this.DcX=0;this.DcY=0;this.items=null;this.draws=null}return r(n,"games.windows.matches.mthDtlView.Vo_MatchHtm"),n}(),rtt=function(){function t(){this.sID=0;this.RaceID=0;this.name=null;this.icon=null;this.creatType=0;this.creater=null;this.gameType=0;this.bmType=0;this.bmVal=0;this.bmSerVal=0;this.zmTime=0;this.zdID=0;this.unionID=0;this.state=0;this.signUp=0;this.numJoin=0;this.numMax=0;this.pastTime=0;this.flag=0;this.C_Op=0}r(t,"games.cores.dataServices.matchSvc.sng.S_Sng_Lists");var n=t.prototype;return i.imps(n,{"FioLibs.interfaces.IFio_Recyle":!0}),n.recyle=function(){this.sID=this.RaceID=this.bmVal=this.numJoin=this.state=this.pastTime=0;this.creater=this.name=this.icon="";this.C_Op=0},n.getBmf=function(){var n=this.bmVal+this.bmSerVal;return n>0?n:0},n.read=function(n){this.sID=n.getUint32();this.RaceID=n.getUint32();this.name=n.getString();this.icon=n.getString();this.creatType=n.getByte();this.creater=n.getString();this.gameType=n.getByte();this.bmType=n.getByte();this.bmVal=n.getUint32();this.bmSerVal=n.getUint32();this.zmTime=n.getByte();this.zdID=n.getUint32();this.unionID=n.getUint32();this.state=n.getByte();this.signUp=n.getByte();this.numJoin=n.getUint8();this.numMax=n.getUint8();this.pastTime=n.getInt32();this.flag=n.getUint32();this.updateType()},n.updateType=function(){this.C_Op=0==this.state?0:this.signUp>0?3:4},t}(),utt=function(){function n(){this.sID=0;this.entry=0;this.name=null;this.icon=0;this.validity=0;this.flag=0;this.count=0}r(n,"games.cores.dataServices.bag.S_Bag_Item");var t=n.prototype;return i.imps(t,{"FioLibs.interfaces.IFio_Recyle":!0}),t.recyle=function(){this.sID=this.entry=0;this.name="";this.icon=this.validity=this.flag=this.count=0},t.read=function(n){this.sID=n.getUint32();this.entry=n.getUint32();this.name=n.getString();this.icon=n.getUint32();this.validity=n.getUint32();this.count=n.getUint32();this.flag=gi.getOpFlag(this.entry)},n}(),iy=function(){function n(){this.RaceID=0;this.name=null;this.state=0;this.isAdmin=!1;this.unionID=0;this.zdID=0;this.bmType=0;this.bmVal=0;this.bmItemID=0;this.bmSerVal=0;this.awdPool=0;this.awdNum=0;this.numJoin=0;this.numMax=0;this.scoreDef=0;this.xxTime=0;this.xxGap=0;this.blindType=0;this.blindLv=0;this.zmTime=0;this.delayLv=0;this.jjLv=0;this.scoreMax=0;this.scoreAv=0;this.scoreMin=0;this.numFh=0;this.numCg=0;this.numZg=0;this.gameType=0;this.Flag=null;this.Flag=new oh;this.gameType=0}r(n,"games.cores.dataServices.matchSvc.mtt.S_Mtt_Detail_Base");var t=n.prototype;return t.readBase=function(n){this.RaceID=n.getUint32();this.name=n.getString();this.state=n.getUint8();this.isAdmin=1==n.getUint8();this.unionID=n.getUint32();this.zdID=n.getUint32();this.Flag.setFlag(n.getUint32());this.bmType=n.getUint8();this.bmVal=n.getUint32();this.bmItemID=n.getUint32();this.bmSerVal=n.getUint32();this.awdPool=n.getUint32();this.awdNum=n.getUint16();this.numJoin=n.getUint16();this.numMax=n.getUint16();this.scoreDef=n.getUint32();this.xxTime=n.getUint8();this.xxGap=n.getUint8();this.blindType=n.getUint8();this.blindLv=n.getUint8();this.zmTime=n.getUint8();this.delayLv=n.getUint8();this.jjLv=n.getUint8();this.scoreMax=n.getUint32();this.scoreAv=n.getUint32();this.scoreMin=n.getUint32();this.numFh=n.getUint8();this.numCg=n.getUint8();this.numZg=n.getUint8()/10>>0},t.getCost=function(){if(this.Flag.yjs_na)return"N/A";if(this.bmItemID>0){var n=gi.getTicket(this.bmItemID);return n.getVal(this.bmType)+"/"+n.name}return this.bmVal+this.bmSerVal},t.getItemPrice=function(){if(this.Flag.yjs_na)return 0;if(this.bmItemID>0){var n=gi.getTicket(this.bmItemID);return n.getVal(this.bmType)}return this.bmVal+this.bmSerVal},n}(),dri=function(){function n(){this.lev=0;this.name=null;this.price=0;this.aNum=0;this.mNum=0;this.day=0}return r(n,"games.windows._club.setting.stars.Vo_ClubStar"),n}(),rl=function(){function n(){this.index=0;this.value=NaN}r(n,"games.cores.dataServices.S_IndexValue");var t=n.prototype;return i.imps(t,{"FioLibs.interfaces.IFio_Recyle":!0}),t.recyle=function(){this.index=this.value=0},n}(),cf=function(){function n(){}return r(n,"FioLibs.displays.mixTex.Fio_MixTex"),n.getTex=function(t,i,r,u,f){u-=t.x;f-=t.y;u|=0;f|=0;i|=0;r|=0;n.sCtx||(n.sCtx=new gu);n.sCtx.size(i,r);n.sCtx.asBitmap=!0;n.sCtx._targets.start();ge.renders[t._renderType]._fun(t,n.sCtx,u,f);n.sCtx.flush();n.sCtx._targets.end();n.sCtx._targets.restore();var e=ast.getIns();return e.setTo(n.sCtx._targets,bi.INV_UV),n.sCtx._targets=null,n.sCtx.clear(),n.sNum+=1,e},n.getHtmTex=function(t,i,r){var u,f;return(i===void 0&&(i=0),r===void 0&&(r=8),t)?(n.sHtm||(n.sHtm=new ue,n.sHtm.style.padding=[6,2,6,2],n.sHtm.style.wordWrap=!0),r<8&&(r=8),u=0==i,u&&(i=9999),n.sHtm.width=i,n.sHtm.style.leading=r,n.sHtm.innerHTML=t,n.sHtm._updateGraphic(),f=n.getTex(n.sHtm,u?n.sHtm.contextWidth>>0:i,n.sHtm.contextHeight>>0,0,0),n.sHtm.innerHTML="",n.sHtm._updateGraphic(),f):null},n.sNum=0,n.sCtx=null,n.sHtm=null,n}(),ftt=function(){function n(){this.sID=0;this.gameType=0;this.matchType=0;this.name=null;this.creater=null;this.st=0;this.et=0;this.personNum=0;this.rewardNum=0;this.myRank=0;this.goldType=0;this.isJjAwd=!1;this.Flag=null;this.Players=null;this.resName=null;this.Flag=new oh;this.Players=[]}r(n,"games.cores.dataServices.matchSvc.mtt.S_MTT_ZJ");var t=n.prototype;return t.DoReset=function(){while(this.Players.length>0)l.recyle(this.Players.shift())},t.readHead=function(n){this.DoReset();n.getByte();this.sID=n.getUint32();this.gameType=n.getByte();this.name=n.getString();this.creater=n.getString();this.st=n.getUint32();this.et=n.getUint32();this.personNum=n.getUint32();this.rewardNum=n.getUint32();this.myRank=n.getUint32();this.goldType=n.getByte();this.matchType=n.getByte();this.Flag.setFlag(n.getUint32());var t=n.getByte();this.isJjAwd=2==t;this.resName=u.lang("resType_"+this.goldType)},t.readLists=function(n){n.getByte()>0&&this.DoReset();var t=0,r=n.getUint16(),i;for(t;t<r;t++)i=l.get(bit),i.read(n,this.isJjAwd,this.resName),this.Players.push(i)},n}(),ett=function(){function n(){this.doEff=!1;this.idx=0;this.joiner=null}r(n,"games.cores.dataServices.matches.S_Jls_Result");var t=n.prototype;return t.parse=function(n){this.doEff=0!=n.getUint8();this.idx=n.getUint8();this.joiner?this.joiner.length=0:this.joiner=[];var i=n.getUint16(),t=0;for(t;t<i;t++)this.joiner[t]=n.getString()},n}(),ry=function(){function n(){this.id=0;this.idx=0;this.def=0;this.data=null;this.type=0;this.title=null;this.tips=null;this.help=null}return r(n,"games.windows.matches.creators.voes.CrtMacVo_Config"),n}(),uy=function(){function n(){this.index=0;this.betState=0;this.cd=0;this.score=NaN;this.betted=NaN}r(n,"games.cores.dataServices.matches.S_Player_Update");var t=n.prototype;return t.parse=function(n){this.index=n.getByte();this.betState=n.getByte();this.cd=n.getUint32();this.score=n.getFloat64();this.betted=n.getFloat64()},n}(),ul=function(){function n(){this.type=0;this.ov=0;this.v=0;this.sv=0}return r(n,"games.pokers.Vo_Card"),n.parse=function(t,i){return i||(i=l.get(n)),i.ov=t,i.type=t/13>>0,i.v=i.sv=t%13,0==i.sv&&(i.sv=13),i},n}(),gri=function(){function n(){this.idx=0;this.params=null}return r(n,"games.review.PV_Message"),n}(),fy=function(){function n(){this.sID=0;this.nick=null;this.icon=null;this.note=null;this.recyle()}r(n,"games.cores.dataServices.brands.S_UserNote");var t=n.prototype;return i.imps(t,{"FioLibs.interfaces.IFio_Recyle":!0}),t.recyle=function(){this.sID=0;this.nick=this.icon=this.note=""},n.doReset=function(){if(n.s_Vec)while(n.s_Vec.length>0)l.recyle(n.s_Vec.shift())},n.readVec=function(t){n.s_Vec||(n.s_Vec=[]);var r=0,u=t.getUint16(),i;for(r;r<u;r++)i=l.get(n),n.s_Vec.push(i),i.sID=t.getUint32(),i.nick=t.getString(),i.icon=t.getString(),i.note=t.getString();return 1==t.getByte()?n.s_Vec:null},n.s_Vec=null,n}(),nui=function(){function n(){this.uiLibs=null;this.uiTabs=null;this.betConfigs=null;this.betSubAngles=null;this.playerCoords=null;this.brand_coords=null;this.ticket=null;this.ticket1=null;this.ticket2=null;this.ticket3=null;this.items=null;this.country=null;this.lang=null;this.htmIntro=null;this.roomDetail=null;this.serMessage=null;this.shop=null;this.shop_ios=null;this.scoreEc=null;this.clubStar=null;this.scoreConfigs=null;this.chatConfigs=null;this.cardTips=null;this.faceConfigs=null;this.iconFrames=null;this.crtMa_DzAntes=null;this.crtMa_Dz=null;this.crtMa_Dp=null;this.crtMa_Sng=null;this.Blind_Sng=null;this.crtMa_Mtt=null;this.Blind_Mtt=null;this.crtMa_MttRewards=null;this.yjs_main=null;this.yjs_sub=null;this.base_RoomMenus=null}return r(n,"games.cores.configVoes.L_Configs"),n}(),ott=function(){function n(){this.myRank=0;this.award=0;this.rest=0;this.total=0}r(n,"games.cores.dataServices.matchSvc.mtt.S_Mtt_Rank");var t=n.prototype;return t.read=function(n){return this.myRank=n.getInt16(),this.award=n.getInt16(),this.rest=n.getInt16(),this.total=n.getInt16(),this},t.getRank=function(){return this.award+"/"+this.rest+"/"+this.total},n}(),fl=function(){function n(){this.cID=0;this.num=0}r(n,"games.windows.matches.creators.RewardsZdy.RwdZdyVo_Item");var t=n.prototype;return i.imps(t,{"FioLibs.interfaces.IFio_Recyle":!0}),t.recyle=function(){this.cID=this.num=0},n}(),ey=function(){function n(){}return r(n,"games.consts.Mgr_Notice"),e(1,n,"CFG",function(){return n.cfg||n.loadRes(),n.cfg}),n.loadRes=function(){n.isLoad||(n.isLoad=!0,i.loader.load(wt.getActNewPath(),h.create(n,n.getActConfig),null,"json"))},n.getActConfig=function(t){n.isLoad=!1;n.cfg=t},n.cfg=null,n.isLoad=!1,n}(),ao=function(){function n(){}return r(n,"FioLibs.displays.tips.Fio_Loading"),n.show=function(){n.sInit();var t=i.stage;n.mEff.player&&n.mEff.play(0,!0);n.mEff.pos(t.width>>1,t.height>>1);t.addChild(n.mEff)},n.hide=function(){n.sInit();n.mEff.stop();n.mEff.removeSelf()},n.sInit=function(){n.mEff||(n.mEff=new ro,n.mEff.mouseEnabled=!1,n.mEff.load("res/dragons/980.sk"))},n.mEff=null,n}(),oy=function(){function t(){this.fIn=NaN;this.fOut=NaN;this.fRecharge=NaN;this.mVecLogs=null;this.mVecHzs=null;this.mVecLogs=[];this.mVecHzs=[];this.doReset()}r(t,"games.cores.dataServices._voes.funds.S_Fund_Sum");var n=t.prototype;return n.doReset=function(){this.fIn=this.fOut=this.fRecharge=0;this.doResetLogs();this.doResetHz()},n.readSum=function(n,t){this.fIn=n.getFloat64();this.fOut=n.getFloat64();t&&(this.fRecharge=n.getFloat64())},n.doResetLogs=function(){while(this.mVecLogs.length>0)l.recyle(this.mVecLogs.shift())},n.readLogVec=function(n,t){this.doResetLogs();var u=n.getInt16(),r,i=0;for(i;i<u;i++)this.mVecLogs[i]=r=l.get(dv),r.read(n,t);return this.mVecLogs},n.doResetHz=function(){while(this.mVecHzs.length>0)l.recyle(this.mVecHzs.shift())},n.readHzVec=function(n){this.doResetHz();var r=n.getInt16(),i,t=0;for(t;t<r;t++)this.mVecHzs[t]=i=l.get(vn),i.read(n);return this.mVecHzs},t}(),eh=function(){function n(){this.country=0;this.user=null;this.key=null}return r(n,"games.cores.dataServices.login.S_AccBase"),n}(),kf=function(){function n(){}return r(n,"games.cores.MgrLoader"),d(n,["NT",function(){return this.NT=new fs},"Icon",function(){return this.Icon=new fs}]),n}(),tui=function(){function n(){this.pot=0;this.pots=null;this.cardTypes=null}return r(n,"games.review.PV_Round"),n}(),iui=function(){function n(){this.index=0;this.msg=null;this.price=0}return r(n,"games.cores.configVoes.L_QuickChat"),n}(),stt=function(){function t(){this.VecMems=null;this.mDicMems=null;this.VecMems=[];this.mDicMems={}}r(t,"games.cores.dataServices.league.S_Lea_Sum");var n=t.prototype;return n.clearMems=function(){for(var n in this.mDicMems)delete this.mDicMems[n];while(this.VecMems.length>0)l.recyle(this.VecMems.shift())},n.readMems=function(n){var i=0,r=n.readUint16(),t;for(i;i<r;i++)t=l.get(wl),t.readClubVo(n),this.VecMems.push(t),this.mDicMems[t.sID]=t},n.updateJob=function(n,t){var i=this.mDicMems[n];i&&(i.job=t)},n.updateNote=function(n,t){var i=this.mDicMems[n];i&&(i.note=t)},n.delMem=function(n){var t=this.mDicMems[n],i;t&&(delete this.mDicMems[n],i=this.VecMems.indexOf(t),i>-1&&(this.VecMems.splice(i,1),l.recyle(t)))},n.updateCredit=function(n,t,i){var r=this.mDicMems[t];r&&(0==n?r.creTotal=i:1==n?r.creUsed=i:2==n&&(r.creZr=i))},t}(),we=function(){function t(n,t,i){this.mVecElements=null;this.mHandleClick=null;this.mCur=null;i===void 0&&(i=-1);this.setClick(n);this.updateDisplays(t);this.select(i)}r(t,"FioLibs.controls.FC_RadioGroup");var n=t.prototype;return i.imps(n,{"FioLibs.interfaces.IFio_Recyle":!0}),n.recyle=function(){this.clearElements();this.mVecElements=null;this.setClick(null)},n.DoReset=function(){this.clearElements();this.mVecElements=null},n.setClick=function(n){this.mHandleClick&&this.mHandleClick.recover();this.mHandleClick=n},n.updateDisplays=function(n){if(this.clearElements(),this.mVecElements=n,this.mVecElements){var t=0,r=this.mVecElements.length,i;for(t;t<r;t++){i=this.mVecElements[t];i.offAll("click");i.on("click",this,this.onClick)}}},n.select=function(n){if(this.mVecElements){n>this.mVecElements.length-1&&(n=this.mVecElements.length-1);this.onSelect(this.mVecElements[n],!0)}},n.getSelected=function(){return this.mCur},n.getElements=function(){return this.mVecElements},n.clearElements=function(){if(this.mCur=null,this.mVecElements){var t=0,i=this.mVecElements.length,n;for(t;t<i;t++)n=this.mVecElements.shift(),n.removeSelf(),n.off("click",this,this.onClick),n.destroy()}this.mVecElements=null},n.onClick=function(n){this.onSelect(n.currentTarget,!1)},n.onSelect=function(n,t){(this.mCur!=n||t)&&(this.callback(this.mCur,!1),this.mCur=n,this.callback(this.mCur,!0))},n.callback=function(n,t){if(n){if(n instanceof FioLibs.displays.coms.FioBtn&&(n.selected=t,!t))return;this.mHandleClick&&this.mHandleClick.runWith([n,t])}},t}(),be=function(){function t(){this._sp=null;this._one=null;this._cmds=null;this._vectorgraphArray=null;this._graphicBounds=null;this.autoDestroy=!1;this._render=this._renderEmpty;this._createData()}r(t,"laya.display.Graphics");var n=t.prototype;return n._createData=function(){},n._clearData=function(){},n._destroyData=function(){},n.destroy=function(){this.clear(!0);this._graphicBounds&&this._graphicBounds.destroy();this._graphicBounds=null;this._vectorgraphArray=null;this._sp&&(this._sp._renderType=0,this._sp._setRenderType(0),this._sp=null);this._destroyData()},n.clear=function(n){var i,t,r;if(n===void 0&&(n=!0),n)if(i=this._one,this._cmds){for(t=0,r=this._cmds.length,t=0;t<r;t++)i=this._cmds[t],i.recover();this._cmds.length=0}else i&&i.recover();else this._cmds=null;if(this._one=null,this._render=this._renderEmpty,this._clearData(),this._sp&&(this._sp._renderType&=-513,this._sp._setRenderType(this._sp._renderType)),this._repaint(),this._vectorgraphArray){for(t=0,r=this._vectorgraphArray.length;t<r;t++)rs.getInstance().deleteShape(this._vectorgraphArray[t]);this._vectorgraphArray.length=0}},n._clearBoundsCache=function(){this._graphicBounds&&this._graphicBounds.reset()},n._initGraphicBounds=function(){this._graphicBounds||(this._graphicBounds=eet.create(),this._graphicBounds._graphics=this)},n._repaint=function(){this._clearBoundsCache();this._sp&&this._sp.repaint()},n._isOnlyOne=function(){return!this._cmds||this._cmds.length===0},n.getBounds=function(n){return n===void 0&&(n=!1),this._initGraphicBounds(),this._graphicBounds.getBounds(n)},n.getBoundPoints=function(n){return n===void 0&&(n=!1),this._initGraphicBounds(),this._graphicBounds.getBoundPoints(n)},n.drawImage=function(n,t,i,r,u){var e,o,f;if(t===void 0&&(t=0),i===void 0&&(i=0),r===void 0&&(r=0),u===void 0&&(u=0),!n)return null;if(r||(r=n.sourceWidth),u||(u=n.sourceHeight),n.getIsReady()){if(e=r/n.sourceWidth,o=u/n.sourceHeight,r=n.width*e,u=n.height*o,r<=0||u<=0)return null;t+=n.offsetX*e;i+=n.offsetY*o}return this._sp&&(this._sp._renderType|=512,this._sp._setRenderType(this._sp._renderType)),f=net.create.call(this,n,t,i,r,u),this._one==null?(this._one=f,this._render=this._renderOneImg):this._saveToCmd(null,f),this._repaint(),f},n.drawTexture=function(n,t,i,r,u,f,e,o,s){var h,c,l;if((t===void 0&&(t=0),i===void 0&&(i=0),r===void 0&&(r=0),u===void 0&&(u=0),e===void 0&&(e=1),!n||e<.01)||!n.getIsReady())return null;if(r||(r=n.sourceWidth),u||(u=n.sourceHeight),n.getIsReady()){if(h=r/n.sourceWidth,c=u/n.sourceHeight,r=n.width*h,u=n.height*c,r<=0||u<=0)return null;t+=n.offsetX*h;i+=n.offsetY*c}return this._sp&&(this._sp._renderType|=512,this._sp._setRenderType(this._sp._renderType)),l=kft.create.call(this,n,t,i,r,u,f,e,o,s),this._repaint(),this._saveToCmd(null,l)},n.drawTextures=function(n,t){return n?this._saveToCmd(tt._context.drawTextures,pet.create.call(this,n,t)):null},n.drawTriangles=function(n,t,i,r,u,f,e,o,s,h){return o===void 0&&(o=1),this._saveToCmd(tt._context.drawTriangles,dut.create.call(this,n,t,i,r,u,f,e,o,s,h))},n.fillTexture=function(n,t,i,r,u,f,e){return r===void 0&&(r=0),u===void 0&&(u=0),f===void 0&&(f="repeat"),n&&n.getIsReady()?this._saveToCmd(tt._context._fillTexture,wut.create.call(this,n,t,i,r,u,f,e||kt.EMPTY,{})):null},n._saveToCmd=function(n,t){return this._sp&&(this._sp._renderType|=512,this._sp._setRenderType(this._sp._renderType)),this._one==null?(this._one=t,this._render=this._renderOne):(this._render=this._renderAll,(this._cmds||(this._cmds=[])).length===0&&this._cmds.push(this._one),this._cmds.push(t)),this._repaint(),t},n.clipRect=function(n,t,i,r){return this._saveToCmd(tt._context.clipRect,tft.create.call(this,n,t,i,r))},n.fillText=function(n,t,i,r,u,f){t===void 0&&(t=0);i===void 0&&(i=0);r===void 0&&(r=24);var e;return e=typeof r=="number"?r+"px Arial":r,u||(u="#c3e1e8"),f||(f="left"),this._saveToCmd(tt._context.fillText,krt.create.call(this,n,t,i,e,u,f))},n.fillBorderText=function(n,t,i,r,u,f,e,o){return this._saveToCmd(tt._context.fillBorderText,ift.create.call(this,n,t,i,r||w.defaultFontStr(),u,f,e,o))},n.fillWords=function(n,t,i,r,u){return this._saveToCmd(tt._context.fillWords,wrt.create.call(this,n,t,i,r||w.defaultFontStr(),u))},n.fillBorderWords=function(n,t,i,r,u,f,e){return this._saveToCmd(tt._context.fillBorderWords,yft.create.call(this,n,t,i,r||w.defaultFontStr(),u,f,e))},n.strokeText=function(n,t,i,r,u,f,e){return this._saveToCmd(tt._context.fillBorderText,wft.create.call(this,n,t,i,r||w.defaultFontStr(),null,u,f,e))},n.alpha=function(n){return this._saveToCmd(tt._context.alpha,uut.create.call(this,n))},n.transform=function(n,t,i){return t===void 0&&(t=0),i===void 0&&(i=0),this._saveToCmd(tt._context._transform,brt.create.call(this,n,t,i))},n.rotate=function(n,t,i){return t===void 0&&(t=0),i===void 0&&(i=0),this._saveToCmd(tt._context._rotate,oet.create.call(this,n,t,i))},n.scale=function(n,t,i,r){return i===void 0&&(i=0),r===void 0&&(r=0),this._saveToCmd(tt._context._scale,rut.create.call(this,n,t,i,r))},n.translate=function(n,t){return this._saveToCmd(tt._context.translate,lut.create.call(this,n,t))},n.save=function(){return this._saveToCmd(tt._context._save,eut.create.call(this))},n.restore=function(){return this._saveToCmd(tt._context.restore,put.create.call(this))},n.replaceText=function(n){var t,i;if(this._repaint(),t=this._cmds,t){for(i=t.length-1;i>-1;i--)if(this._isTextCmd(t[i]))return t[i].text=n,!0}else if(this._one&&this._isTextCmd(this._one))return this._one.text=n,!0;return!1},n._isTextCmd=function(n){var t=n.cmdID;return t=="FillText"||t=="StrokeText"||t=="FillBorderText"},n.replaceTextColor=function(n){var t,i;if(this._repaint(),t=this._cmds,t)for(i=t.length-1;i>-1;i--)this._isTextCmd(t[i])&&this._setTextCmdColor(t[i],n);else this._one&&this._isTextCmd(this._one)&&this._setTextCmdColor(this._one,n)},n._setTextCmdColor=function(n,t){var i=n.cmdID;switch(i){case"FillText":case"StrokeText":n.color=t;break;case"FillBorderText":case"FillBorderWords":case"FillBorderText":n.fillColor=t}},n.loadImage=function(n,t,i,r,u,f){t===void 0&&(t=0);i===void 0&&(i=0);r===void 0&&(r=0);u===void 0&&(u=0);var e=dt.getRes(n);if(e)if(e.getIsReady())this.drawImage(e,t,i,r,u);else e.once("ready",this,this.drawImage,[e,t,i,r,u]);else{e=new bi;e.load(n);dt.cacheRes(n,e);e.once("ready",this,this.drawImage,[e,t,i,r,u])}f!=null&&(e.getIsReady()?f.call(this._sp):e.on("ready",this._sp,f))},n._renderEmpty=function(){},n._renderAll=function(n,t,i,r){for(var f=this._cmds,u=0,e=f.length;u<e;u++)f[u].run(t,i,r)},n._renderOne=function(n,t,i,r){t.sprite=n;this._one.run(t,i,r)},n._renderOneImg=function(n,t,i,r){t.sprite=n;this._one.run(t,i,r)},n.drawLine=function(n,t,i,r,u,f){f===void 0&&(f=1);var e=f<1||f%2==0?0:.5;return this._saveToCmd(tt._context._drawLine,pft.create.call(this,n+e,t+e,i+e,r+e,u,f,0))},n.drawLines=function(n,t,i,r,u){if(u===void 0&&(u=1),!i||i.length<4)return null;var f=u<1||u%2==0?0:.5;return this._saveToCmd(tt._context._drawLines,uft.create.call(this,n+f,t+f,i,r,u,0))},n.drawCurves=function(n,t,i,r,u){return u===void 0&&(u=1),this._saveToCmd(tt._context.drawCurves,ret.create.call(this,n,t,i,r,u))},n.drawRect=function(n,t,i,r,u,f,e){e===void 0&&(e=1);var o=e>=1&&f?e/2:0,s=f?e:0;return this._saveToCmd(tt._context.drawRect,lft.create.call(this,n+o,t+o,i-s,r-s,u,f,e))},n.drawRoundRect=function(n,t,i,r,u,f,e,o){var s;u===void 0&&(u=0);f===void 0&&(f=0);o===void 0&&(o=1);var h=t-n,c=i-n,l=null;r&&(l={fillStyle:r});s=null;e&&(s={strokeStyle:e,lineWidth:o});this.drawPath(u,f,[["moveTo",n,0],["lineTo",h,0],["arcTo",t,0,t,n,n],["lineTo",t,c],["arcTo",t,i,h,i,n],["lineTo",n,i],["arcTo",0,i,0,c,n],["lineTo",0,n],["arcTo",0,0,n,0,n],["closePath"]],l,s)},n.drawCircle=function(n,t,i,r,u,f){f===void 0&&(f=1);var e=f>=1&&u?f/2:0;return this._saveToCmd(tt._context._drawCircle,vut.create.call(this,n,t,i-e,r,u,f,0))},n.drawPie=function(n,t,i,r,u,f,e,o){o===void 0&&(o=1);var s=o>=1&&e?o/2:0,h=e?o:0;return this._saveToCmd(tt._context._drawPie,sut.create.call(this,n+s,t+s,i-h,bt.toRadian(r),bt.toRadian(u),f,e,o,0))},n.drawPoly=function(n,t,i,r,u,f){var e,o;return f===void 0&&(f=1),e=!1,e=i.length>6?!1:!0,o=f>=1&&u?f%2==0?0:.5:0,this._saveToCmd(tt._context._drawPoly,rft.create.call(this,n+o,t+o,i,r,u,f,e,0))},n.drawPath=function(n,t,i,r,u){return this._saveToCmd(tt._context._drawPath,tet.create.call(this,n,t,i,r,u))},n.draw9Grid=function(n,t,i,r,u,f){t===void 0&&(t=0);i===void 0&&(i=0);r===void 0&&(r=0);u===void 0&&(u=0);this._saveToCmd(null,crt.create(n,t,i,r,u,f))},e(0,n,"cmds",function(){return this._cmds},function(n){this._sp&&(this._sp._renderType|=512,this._sp._setRenderType(this._sp._renderType));this._cmds=n;this._render=this._renderAll;this._repaint()}),t}(),htt=function(){function n(){this.phone=0;this.name=null;this.itemname=null;this.area=null;this.detail=null}r(n,"games.windows.me.bag.lq.BagGet_SendVo");var t=n.prototype;return t.DoReset=function(){this.phone=0;this.name=this.area=this.detail=null;this.itemname=null},n}(),ctt=function(){function n(){this.sID=0;this.params=null;this.subType=0}r(n,"games.windows.messages.Vo_MessageParams");var t=n.prototype;return t.doReset=function(){if(this.sID=this.subType=0,this.params)for(var n in this.params)delete this.params[n];this.params=null},n}(),sy=function(){function n(){this.nick=null;this.roomID=0;this.handID=0;this.index=0;this.times=0;this.hands=[]}r(n,"games.cores.dataServices.brands.S_Brands_Tousu");var t=n.prototype;return i.imps(t,{"FioLibs.interfaces.IFio_Recyle":!0}),t.recyle=function(){this.nick=null;this.hands.length=0},t.parse508=function(n){this.index=n.getByte();this.times=n.getByte();this.hands.length=0;var t=0,i=n.getUint16();for(t;t<i;t++)this.hands[t]=n.getByte()},n}(),rui=function(){function n(){this.x=0;this.y=0;this.w=0;this.h=0;this.iw=0;this.ih=0;this.url=null;this.img=null}return r(n,"games.windows.me.kf.Vo_KfCfg"),n}(),ltt=function(){function n(){this.NUM_MAX=5;this.vecItems=null;this.TotalImp=0;this.TotalAll=0;this.vecItems=vr(this.NUM_MAX);var n=0;for(n;n<this.NUM_MAX;n++)this.vecItems[n]=new ku}r(n,"games.cores.dataServices.messages.S_Msg_All");var t=n.prototype;return t.parse=function(n){this.TotalImp=this.TotalAll=0;var t=1,i;for(t;t<this.NUM_MAX;t++)i=this.vecItems[t],i.data=n.getUint16(),i.label=n.getString(),this.TotalAll+=i.data;this.TotalImp=n.getUint16()},n}(),oh=function(){function n(){this.shouquan=!1;this.jinyan=!1;this.paomo=!1;this.zntehui=!1;this.znpuhui=!1;this.timeBank=!1;this.madaocg=!1;this.amhXz=!1;this.bm=!1;this.yjs_qxbm=!1;this.yjs_na=!1;this.lierensai=!1;this.jlqJs=!1;this.yskp=!1;this.gbts=!1;this.Flag32=0}r(n,"games.cores.dataServices.matchSvc.mtt.S_Mtt_Flag");var t=n.prototype;return t.setFlag=function(n){this.Flag32=n;var t=a.U2V(n,32);this.shouquan=t[0];this.jinyan=t[4];this.paomo=t[6];this.zntehui=t[8];this.znpuhui=t[9];this.timeBank=t[11];this.madaocg=t[12];this.amhXz=t[19];this.bm=t[27];this.yjs_qxbm=!t[28];this.yjs_na=t[29];this.lierensai=t[30];this.jlqJs=t[5];this.yskp=t[7];this.gbts=t[10]},t.copy=function(n){this.shouquan=n.shouquan;this.jinyan=n.jinyan;this.paomo=n.paomo;this.zntehui=n.zntehui;this.znpuhui=n.znpuhui;this.timeBank=n.timeBank;this.madaocg=n.madaocg;this.bm=n.bm;this.yjs_qxbm=n.yjs_qxbm;this.yjs_na=n.yjs_na;this.lierensai=n.lierensai;this.jlqJs=n.jlqJs;this.yskp=n.yskp;this.gbts=n.gbts},n}(),att=function(){function n(){this.isClub=!1;this.tID=0;this.from=0;this.ts=0;this.te=0;this.type=0;this.tStr=null;this.text=null;this.CmdHead=0;this.CmdVec=0;this.CmdHz=0}return r(n,"games.windows._commons.Vo_HzParams"),n}(),vtt=function(){function n(){this.type=0;this.value=NaN}return r(n,"games.cores.dataServices.brands.S_Brands_BetAct"),n}(),ytt=function(){function n(){this.name="";this.sliders={};this.flag=0}return r(n,"games.windows.matches.creators.dzdp.CrtNml_VwCkDetail"),n}(),ptt=function(){function n(){np.supported?np.getCurrentPosition(h.create(this,this.cb_onGeoPositionSuccess,null,!1),h.create(this,this.cb_onGeoPositionFail,null,!1)):ut.showMessage("您的浏览器不支持使用HTML5来获取地理位置服务",!1)}r(n,"games.WebGps");var t=n.prototype;return t.cb_onGeoPositionSuccess=function(n){et.GpsX=n.longitude;et.GpsY=n.latitude;et.reqPcIP()},t.cb_onGeoPositionFail=function(){var n;n&&ut.showMessage(n,!1)},n}(),hy=function(){function n(){this.type=null;this.style=null;this.res=null;this.width=0;this.height=0;this.font=null;this.size=0;this.colors=["#c3e1e8","#111111"];this.grids=null;this.tx=0;this.ty=0}r(n,"FioLibs.displays.coms.Vo_UiLib");var t=n.prototype;return t.parse=function(n){if(n){var t,i;for(t in n)if(i=n[t],delete n[t],this.hasOwnProperty(t))switch(t){case"colors":this.analyzeColors(i);break;case"grids":this.analyzeIntArr(t,i);break;default:this[t]=i}this.font||(this.font="Arial");this.size||(this.size=24)}return this},t.analyzeColors=function(n){if(n=n.replace(/\s+/gi,""),n.length>0){var i=n.split(","),n,t=0;for(t;t<2;t++)n=i[t],n&&n.substr(0,1)=="#"&&(this.colors[t]=n)}},t.analyzeIntArr=function(n,t){if(t=t.replace(/\s+/gi,""),t.length>0){var u=t.split(","),r=[],i=0;for(i;i<5;i++)r[i]=Number(u[i])>>0;this[n]=r}},n}(),wtt=function(){function n(){this.RID=0;this.Name=null;this.Icon=null;this.Pass=0;this.IsCur=!1;this.recyle()}r(n,"games.cores.dataServices.matchSvc.mtt.S_Mtt_MyRoom");var t=n.prototype;return i.imps(t,{"FioLibs.interfaces.IFio_Recyle":!0}),t.recyle=function(){this.RID=0;this.Name="";this.IsCur=!1},n.sRead=function(t,i){while(n.sVec.length>0)l.recyle(n.sVec.shift());var u=0,f=i.getUint16(),r;for(u;u<f;u++)r=l.get(n),r.RID=i.getUint32(),r.Name=i.getString(),r.Icon=i.getString(),r.Pass=i.getUint32(),r.IsCur=t==r.RID,n.sVec.push(r);return n.sVec},d(n,["sVec",function(){return this.sVec=[]}]),n}(),uui=function(){function n(){this.gt=0;this.lv=0;this.lt=0;this.big=0;this.pre=0;this.type=0;this.ZmTime=0}return r(n,"games.cores.configVoes.L_BlindLv"),n}(),btt=function(){function n(){this.name=null;this.type=0;this.value=0;this.time=0}return r(n,"games.cores.dataServices.matches.S_JackLog"),n}(),ktt=function(){function n(){this.sx=0;this.sy=0;this.ex=0;this.ey=0;this.end=0;this.sid=0}return r(n,"games.cores.faces.L_FaceParams"),n}(),fui=function(){function n(){this.name=null;this.matchType=0;this.type=0;this.maxNum=0;this.hand=0;this.HcNum=0;this.lbb=NaN;this.ante=NaN;this.flags=0;this.bIndex=0;this.myIndex=0;this.players=null;this.rank=null}return r(n,"games.review.PV_Room"),n}(),el=function(){function n(){this.count=0;this.costDim=0;this.gold=0}return r(n,"games.cores.dataServices.club.S_Club_RechargeCfg"),n.s_Read=function(t){for(var f,r,i,u;n.mVec.length>0;)l.recyle(n.mVec.shift());for(f=t.getUint16(),r=0,u=0;u<f;u++)r=t.getUint32(),i=l.get(n),i.count=r,i.costDim=t.getUint32(),i.gold=t.getUint32(),n.mVec.push(i);n.mVec=n.mVec.sort(n.toCompare)},n.toCompare=function(n,t){return n.count<t.count?-1:1},d(n,["mVec",function(){return this.mVec=[]}]),n}(),eui=function(){function n(){this.index=0;this.type=0;this.cards=null}return r(n,"games.review.PV_CardType"),n}(),dtt=function(){function n(){this.sID=0;this.icon=0;this.name=null;this.count=0}r(n,"games.cores.dataServices.club.ticket.S_TicketDT");var t=n.prototype;return t.readOne=function(n){this.sID=n.getUint32();this.icon=n.getUint32();this.name=n.getString();this.count=n.getUint32()},n.sReadBytes=function(t){for(var r=[],f=t.getUint16(),i,u=0;u<f;u++)i=l.get(n),i.readOne(t),r.push(i);return r},n}(),ft=function(){function n(){}return r(n,"games.UD_Displays.tabs.Fio_TabCreater"),n.sInit=function(t){if(t){var r,i;for(r in t)i=t[r],delete t[r],i&&i.key&&i.val&&(n.sTabs[i.key]=i.val)}},n.sGetTab=function(t){return n.sTabs[t]},n.crtStart=function(t,i,r,u,f,e,o){if(i===void 0&&(i=626),r===void 0&&(r=76),u===void 0&&(u=!1),f===void 0&&(f=!1),n.crtDone(),n.mIns.toSize(i,r),f&&(n.mArrow.pos(i-20-n.mArrow.width,r-n.mArrow.height-2>>1),n.mIns.addChild(n.mArrow)),e&&n.mIns.graphics.drawRect(0,0,i,r,e),u&&(n.mIns.graphics.drawRect(0,r-1,i,1,o||"#233a5b"),r-=1),t){var c=0,l=t.length,s,h;for(c;c<l;c++)s=t[c],s&&(s.label||(s.label=""),s.color||(s.color="#94afb5"),s.size||(s.size=22),n.s_TxtPool.length>0?h=n.s_TxtPool.shift():(h=w.quickCreate(s.size),h.valign="middle"),h.TmpData=s,h.fontSize=s.size,h.color=s.color,h.height=r,h.x=s.x,n.mVecTxts[c]=h,n.updateValue(c,s.label),n.mIns.addChild(h))}},n.drawBg=function(t,i){i===void 0&&(i=0);t?n.mIns.graphics.drawRoundRect(i,n.mIns.width,n.mIns.height,t):n.mIns.graphics.clear()},n.updateValue=function(t,i,r,u){var f,e,o;if(u===void 0&&(u=0),f=n.mVecTxts[t],f){e=f.TmpData;e.isNum?(f.color=a.getColor(i),f.text=a.NumToStr(i,9)):(f.color=r||e.color,f.text=i);o=f.width;switch(e.align){case"center":f.x=e.x-.5*o>>0;break;case"right":f.x=e.x-o>>0}u>0&&o<200&&(f.x=u-.5*o>>0)}},n.addIns=function(t){n.mIns.addChild(t)},n.crtDone=function(){n.mIns.graphics.clear();n.mArrow.removeSelf();var i=0,r=n.mVecTxts.length,t;for(i;i<r;i++)(t=n.mVecTxts.shift(),t)&&(t.removeSelf(),t.TmpData=null);while(n.mIns.numChildren>0)n.mIns.removeChildAt(0)},n.create=function(){return cf.getTex(n.mIns,n.mIns.width,n.mIns.height,0,0)},n.makeTitle=function(t,i,r,u,f,e,o,s){f===void 0&&(f=!1);e===void 0&&(e=!1);n.crtDone();t.texture&&t.texture.destroy(!0);t.texture=null;t.toSize(r,u);typeof i=="string"&&(i=n.sTabs[i]);n.crtStart(i,r,u,f,e,o,s);t.texture=n.create();n.crtDone()},n.sTabs={},d(n,["s_TxtPool",function(){return this.s_TxtPool=[]},"mVecTxts",function(){return this.mVecTxts=[]},"mIns",function(){return this.mIns=new p},"mArrow",function(){return this.mArrow=st.CrtArrow()}]),n}(),gtt=function(){function n(){this.RaceID=0;this.sID=0;this.nick=null;this.rank=0;this.dID=0;this.score=0;this.huntPrice=0;this.huntVal=0;this.tFh=0;this.tCg=0;this.tZg=0;this.recyle()}r(n,"games.cores.dataServices.matchSvc.mtt.S_Mtt_Player");var t=n.prototype;return i.imps(t,{"FioLibs.interfaces.IFio_Recyle":!0}),t.recyle=function(){this.nick=null;this.RaceID=this.sID=this.rank=this.dID=this.score=0;this.huntPrice=this.huntVal=0;this.tFh=this.tCg=this.tZg=0},t.read=function(n){this.sID=n.getUint32();this.nick=n.getString();this.rank=n.getUint16();this.dID=n.getUint16();this.score=n.getUint32();this.huntPrice=n.getUint32();this.huntVal=n.getUint32();this.tFh=n.getUint8();this.tCg=n.getUint8();this.tZg=n.getUint8()},n}(),nit=function(){function t(){this.safe=NaN;this.jackpot=NaN;this.vecPlayers=[];this.vecVisitors=[]}r(t,"games.cores.dataServices.brands.S_Rank");var n=t.prototype;return i.imps(n,{"FioLibs.interfaces.IFio_Recyle":!0}),n.recyle=function(){while(this.vecPlayers.length>0)l.recyle(this.vecPlayers.shift());while(this.vecVisitors.length>0)l.recyle(this.vecVisitors.shift())},n.parse=function(n,t){var r,u,i,f;for(this.recyle(),this.safe=n.getFloat64(),this.jackpot=n.getFloat64(),r=0,u=0,u=n.getUint16(),r=0;r<u;r++)this.vecPlayers[r]=i=l.get(vg),i.sID=n.getUint32(),i.IsSelf=t==i.sID,i.nick=n.getString(),i.state=n.getByte(),i.brings=n.getFloat64(),i.handNum=n.getUint32(),i.score=n.getFloat64(),i.DeskNo=n.getUint32();for(u>1&&this.vecPlayers.sort(this.doCompare),u=n.getUint16(),r=0;r<u;r++)this.vecVisitors[r]=f=l.get(hn),f.sID=n.getUint32(),f.name=n.getString(),f.isOnline=n.getByte()>0,f.icon=n.getString()},n.doCompare=function(n,t){return n.score>t.score?-1:n.score<t.score?1:n.sID>t.sID?-1:n.sID<t.sID?1:0},t}(),tit=function(){function t(){i.init(750,1334,at);var n=i.stage,t=c.width/c.height;c.onPC||c.onIPad||c.height<1200||t>.8?(n.scaleMode="showall",n.alignV="middle"):(n.scaleMode="fixedwidth",n.alignV="top");n.bgColor="#031418";n.alignH="center";i.alertGlobalError=!0;i.timer.once(100,this,this.init)}r(t,"Fio_Game");var u=t.prototype;return u.init=function(){var t=i.stage;s.MAX_W=t.width>>0;s.MAX_H=t.height>>0;s.LEADING_SIZE=0;s.IS_ON_MOBILE=c.onMobile;(n.conch!=null||c.onMobile)&&(s.LEADING_SIZE=4);hot.ins.init()},t}(),iit=function(){function n(n){this.type=0;this.zdID=0;this.resType=0;this.resNum=0;this.blindType=0;this.name=null;this.numJoin=0;this.chips=0;this.zmTime=0;this.flag=0;this.numRwd=0;this.Rewards=null;this.numMnq=0;var r=n[n.length-1],u=r.length,t=0,i;for(this.Rewards=[],t;t<u;t++)i=new iu,i.order=1+t,i.per=0,this.Rewards[t]=i}r(n,"games.windows.matches.creators.sng.CrtSng_SendPack");var t=n.prototype;return t.updateResType=function(n){this.resType=n;var t=0,i=this.Rewards.length;for(t;t<i;t++)this.Rewards[t].ResType=n},t.DoReset=function(){this.numRwd=0;var n=0,t=this.Rewards.length;for(n;n<t;n++)this.Rewards[n].DoReset()},t.DoSend=function(n,t){var i=v.getPack(801),r,u,f,e;if(i.sendUInt8(this.type),i.sendUInt8(n),i.sendInt32(this.zdID),i.sendInt32(1),i.sendUInt8(this.resType),i.sendUInt8(this.blindType),i.sendString(this.name),i.sendUInt8(this.numJoin),i.sendInt32(this.resNum),i.sendInt32(this.chips),i.sendUInt8(this.zmTime),i.sendInt32(this.flag),this.resType+this.resNum==0)i.sendInt16(0);else for(i.sendInt16(this.numRwd),u=0,u;u<this.numRwd;u++)for(r=this.Rewards[u],i.sendInt16(r.order),i.sendString(r.name),i.sendInt32(r.money),i.sendInt16(r.per*100),f=r.getValidItems(),i.sendInt16(f.length);f.length>0;)e=f.shift(),i.sendInt32(e.cID),i.sendUInt8(e.num);i.sendUInt8(0);i.sendUInt8(t);i.flush()},n}(),su=function(){function t(n,t){this.mCaller=null;this.mPageSize=0;this.mPageTotal=0;this.mPageID=0;this.mSrcNum=0;this.mSrc=null;t===void 0&&(t=32);this.setCall(n);this.mPageSize=t}r(t,"FioLibs.controls.FC_PageStep");var n=t.prototype;return n.setCall=function(n){this.mCaller=n},n.getSource=function(){return this.mSrc},n.setSource=function(n){this.mPageTotal=this.mPageID=this.mSrcNum=0;this.mSrc=null;n&&(this.mSrc=n,this.mSrcNum=this.mSrc.length,this.mPageTotal=Math.ceil(this.mSrcNum/this.mPageSize))},n.recyle=function(){if(this.mSrc)while(this.mSrc.length>0)l.recyle(this.mSrc.shift());this.mPageTotal=this.mPageID=this.mSrcNum=0;this.mSrc=null},n.showNext=function(){var n;if(this.mSrcNum>0&&this.mPageID<this.mPageTotal&&this.mCaller){var i=!0,r=this.mPageID*this.mPageSize,t=this.mSrcNum-r;for(t>=this.mPageSize&&(t=this.mPageSize,i=!1),this.mPageID+=1,n=0,n;n<t;n++)this.mCaller.addStepItem(this.mSrc[r+n]);return i}return!1},t}(),vo=function(){function n(){this.sID=0;this.time=0;this.body=null;this.state=0;this.opResult=0;this.subType=0;this.params=null;this.icon=null;this.iconType=0}r(n,"games.cores.dataServices.messages.S_Message");var t=n.prototype;return i.imps(t,{"FioLibs.interfaces.IFio_Recyle":!0}),t.recyle=function(){if(this.body=null,this.params)for(var n in this.params)delete this.params[n];this.params=null},t.parse=function(t){this.sID=t.getUint32();this.time=t.getUint32();this.body=n.getSerStr(t.getUint16(),t.getString());this.state=t.getByte();this.opResult=t.getByte();this.subType=t.getByte();var i=t.getString();this.params=i?JSON.parse(i):null;this.icon=t.getString();this.iconType=t.getByte()},n.sInit=function(t){if(!n.sSerTexts&&(n.sSerTexts={},t)){var r,i;for(r in t)i=t[r],i&&(n.sSerTexts[i.id]=i.text,delete[i.id],delete[i.text]),delete t[r]}},n.getSerStr=function(t,i){var r=n.sSerTexts[t];if(r){if(i){i=i.replace(/</gi,"＜");i=i.replace(/>/gi,"＞");try{n.sParams=JSON.parse(i)}catch(u){n.sParams=n.sDefParams}n.sParams.length>0?r=r.replace(n.sReg,n.sDoReplace):1;n.sParams=null}return r}return"Undefined: "+t},n.sDoReplace=function(){return n.sParams[arguments[1]]},n.sSerTexts=null,n.sParams=null,d(n,["sReg",function(){return this.sReg=new RegExp("{(\\d)+}","gi")},"sDefParams",function(){return this.sDefParams=["-","-","-","-","-","-"]}]),n}(),cy=function(){function t(){this.mDic=null;this.mDic={}}r(t,"games.cores.dataServices.bag.S_Bag_FaceIF");var n=t.prototype;return n.DoReset=function(){for(var n in this.mDic)delete this.mDic[n]},n.readFaces=function(n){var t=0,i=n.getUint16();for(t;t<i;t++)this.mDic[n.getUint16()]=n.getUint16()},n.getNum=function(n){return this.mDic[n]?this.mDic[n]:0},n.readIfs=function(n){var t=0,i=n.getUint16();for(t;t<i;t++)this.mDic[n.getUint32()]=n.getInt32()},n.getIfRt=function(n){return this.mDic[n]?this.mDic[n]:0},t}(),rit=function(){function n(){this.index=0;this.cardType=0;this.vecCards=[]}r(n,"games.cores.dataServices.matches.S_OtherCards");var t=n.prototype;return i.imps(t,{"FioLibs.interfaces.IFio_Recyle":!0}),t.recyle=function(){while(this.vecCards.length>0)l.recyle(this.vecCards.shift())},t.readCards=function(n){this.vecCards.length=0;var t=0,r=n.getUint16(),i;for(t;t<r;t++)this.vecCards[t]=i=l.get(rl),i.index=n.getByte(),i.value=n.getByte()},n.readHnads=function(t){var u=[],i=0,f=t.getUint16(),r;for(i;i<f;i++)u[i]=r=l.get(n),r.index=t.getByte(),r.cardType=t.getByte(),r.readCards(t);return u},n}(),f=function(){function n(){}return r(n,"games.cores.dataServices.DataServices"),n.Init=function(){n.Login=new iht;n.Account=new dst;n.Desk=new uht;n.Message=new tht;n.Club=new gst;n.Leagues=new eht;n.Match=new rht;n.Room=new nht;n.Deal=new vst;n.Sql=new yst;n.MTT=new pst;n.SNG=new fht;n.Bag=new wst;n.Account.regist(200,n.onOK,n)},n.onOK=function(t){if(n.Bag.reqBase(),n.Room.reqFavClient(),games.cores.dataServices.DataServices.Sql.reqMyDpi(),!n.mCopied){var i="users/"+t.SID+".png",r="users/"+t.iconID+".png";n.mCopied=!0}},n.reqFirst=function(){n.Match.reqOuts();n.Account.reqDetail();n.Message.reqNums();n.Desk.reqIniviteNum();n.Match.reqJackConfigs();n.Club.reqRechargeCfg();n.Club.reqMyClubs()},n.Login=null,n.Account=null,n.Desk=null,n.Message=null,n.Club=null,n.Leagues=null,n.Match=null,n.Room=null,n.Deal=null,n.Sql=null,n.MTT=null,n.SNG=null,n.Bag=null,n.mCopied=!1,n}(),uit=function(){function t(n){this.mCon=null;this.mJp_ins=null;this.mJp_Cfg=null;this.mBx_ins=null;this.mBx_Cfg=null;this.mVal_Cfg=null;this.mOpItem=null;this.mRate=null;this.mClubCon=null;this.mVo=null;this.mIsClub=!1;this.mCon=n;this.mCon.on("click",this,this.onClickItem);this.mJp_ins=new ad;this.mJp_Cfg=ft.sGetTab("settle_dz_jp");this.mBx_ins=new ad;this.mBx_Cfg=ft.sGetTab("settle_dz_bx");this.mVal_Cfg=ft.sGetTab("settle_dz_valCfg");this.mRate=new ed(!0);this.mClubCon=new p;this.mClubCon.mouseEnabled=!1}r(t,"games.windows.matches.settler.dz.SettlerDz_Lists");var n=t.prototype;return n.DoReset=function(){this.mVo=null;this.doClear()},n.initVo=function(n){this.mVo=n},n.changeType=function(n){var i;if(this.doClear(),!this.mVo||1==n&&0==this.mVo.dClubs.length){ut.showMessage("settle_dz_err");return}this.mIsClub=1==n;0==n?((this.mVo.IsJp||this.mVo.jackpot!=0)&&this.mCon.ItemAdd(this.mJp_ins.update(this.mJp_Cfg,this.mVo.jackpot)),this.mVo.Flags[0]==!0&&this.mCon.ItemAdd(this.mBx_ins.update(this.mBx_Cfg,this.mVo.safe)),i=this.mVo.dPlayers):i=this.mVo.dClubs;var t=0,u=i.length,r,f=this.mIsClub?"#e5ba73":"#b2d6fb";for(ft.crtStart(this.mVal_Cfg,750,70),t;t<u;t++)r=l.get(pc),r.setDzVo(t+1,i[t],this.mIsClub,f),this.mCon.ItemAdd(r);ft.crtDone()},n.doClear=function(){this.clearBase();this.mIsClub=!1;this.mOpItem=null;this.mCon.ItemRemove(this.mJp_ins);this.mCon.ItemRemove(this.mBx_ins);this.mCon.ItemClean(!0)},n.clearBase=function(){while(this.mClubCon.numChildren>0)l.recyle(this.mClubCon.removeChildAt(0));this.mCon.ItemRemove(this.mClubCon);this.mCon.ItemRemove(this.mRate)},n.onClickItem=function(n){var t=n.target,r,f,s;if(t!=this.mCon)if(this.mIsClub&&(this.mCon.ItemRemove(this.mJp_ins),this.mCon.ItemRemove(this.mBx_ins)),this.clearBase(),this.mOpItem==t)this.mOpItem=null;else if(this.mOpItem=t,r=this.mCon.getIndex(t),this.mIsClub){f=t.sVo;this.mVo.Flags[0]==!0&&(this.mCon.ItemAdd(this.mBx_ins.update(this.mBx_Cfg,f.safe)),r+=1);var o=f.playerIndexs,u=0,h=o.length,i,e=0,c=this.mVo.dPlayers;for(ft.crtStart(this.mVal_Cfg,750,70),u=0;u<h;u++)i=l.get(pc),i.y=e,i.setDzVo(" ",c[o[u]],!1,"#b2d6fb"),e+=i.height,this.mClubCon.addChild(i);ft.crtDone();this.mClubCon.toSize(i.width,e);this.mCon.ItemAdd(this.mClubCon,0,r)}else s=t.sVo,this.mRate.updateDz(s),this.mCon.ItemAdd(this.mRate,0,r)},t}(),fit=function(){function n(){this.type=0;this.index=0;this.IndexSender=0;this.IndexReceiver=0;this.sender=null}return r(n,"games.cores.dataServices.matches.S_Chat"),n}(),tu=function(){function n(){}return r(n,"FioLibs.UIRooter"),n.Add=function(t,r){r===void 0&&(r=!1);t&&(n.s_Root||(n.s_Root=new s,i.stage.addChildAt(n.s_Root,0)),r?n.s_Root.addChildAt(t,0):n.s_Root.addChild(t))},n.s_Root=null,n}(),yo=function(){function n(){this.cID=0;this.vID=0;this.name=null;this.level=0;this.job=0;this.notice=null;this.wx=null;this.IconVer=0;this.numOnline=0;this.numTotal=0;this.numDesk=0;this.icon=null;this.recyle()}r(n,"games.cores.dataServices.club.S_Club_Base");var t=n.prototype;return i.imps(t,{"FioLibs.interfaces.IFio_Recyle":!0}),t.hasJp=function(){return this.level>=0},t.recyle=function(){this.cID=this.vID=this.level=this.IconVer=this.job=0;this.name=this.notice=this.wx=this.icon="";this.numOnline=this.numTotal=this.numDesk=0},t.readBase=function(n){return this.cID=n.readUint32(),this.vID=n.readUint32(),this.name=n.getString(),this.level=n.readByte(),this.job=n.readByte(),this.notice=n.getString(),this.wx=n.getString(),this.IconVer=n.getUint16(),this.numOnline=n.getUint32(),this.numTotal=n.getUint32(),this.numDesk=n.getUint32(),this.updateIcon(),this},t.updateBase=function(n){this.name=n.getString();this.wx=n.getString();this.notice=n.getString();this.IconVer=n.getUint16();this.updateIcon()},t.updateIcon=function(){this.icon=this.vID+".";this.icon+=this.IconVer<1?0:this.IconVer},n.s_ReadClubs=function(t){var r=[],u=t.getUint16(),i;if(u>0)for(i=0,i;i<u;i++)r[i]=l.get(n).readBase(t),n.dic[r[i].cID]=r[i].name;return r},n.dic={},n}(),oui=function(){function n(){this.mVideo=null;this.mIsF=!1;this.testVideo()}r(n,"tests.T_Video");var t=n.prototype;return t.testVideo=function(){this.mVideo=c.createElement("video");this.mVideo.src="res/1.mp4";this.mVideo.style.zInddex=99992;this.mVideo.width="320";this.mVideo.height="176";this.mVideo.muted=!0;this.mVideo.setAttribute("webkit-playsinline",!0);this.mVideo.setAttribute("playsinline",!0);this.mIsF=!0;i.stage.once("mousedown",this,this.replay);this.toAddEvt("ended")},t.toAddEvt=function(n){var t=this;this.mVideo.addEventListener(n,function(i){console.log("video Event:",n,i.target==t.mVideo);t.replay()})},t.replay=function(){console.log("replay");this.mVideo&&(this.mIsF&&(c.document.body.appendChild(this.mVideo),bt.fitDOMElementInArea(this.mVideo,i.stage,215,64,320,176),this.mIsF=!1),this.mVideo.play())},n}(),eit=function(){function n(){this.roomID=0;this.myRank=0;this.name=null;this.state=0;this.numMax=0;this.numJoin=0;this.awdNum=0;this.awdPool=0;this.blindType=0;this.zmTime=0;this.blindLv=0;this.scoreMax=0;this.scoreAv=0;this.scoreMin=0;this.passTime=0;this.nextTime=0;this.scoreDef=0;this.bmType=0;this.bmVal=0;this.bmSerVal=0;this.flag=0;this.gameType=0;this.C_Vsq=!1;this.C_Vjy=!1;this.C_Vipgps=!1;this.C_Vmnq=!1}r(n,"games.cores.dataServices.matchSvc.sng.S_Sng_Room");var t=n.prototype;return t.read=function(n){this.roomID=n.getUint32();this.myRank=n.getUint8();this.name=n.getString();this.state=n.getUint8();this.numMax=n.getUint8();this.numJoin=n.getUint8();this.awdNum=n.getUint8();this.awdPool=n.getUint32();this.blindType=n.getUint8();this.zmTime=n.getUint8();this.blindLv=n.getUint8();this.scoreMax=n.getUint32();this.scoreAv=n.getUint32();this.scoreMin=n.getUint32();this.passTime=n.getInt32();this.nextTime=n.getUint32();this.scoreDef=n.getUint32();this.bmType=n.getUint8();this.bmVal=n.getUint32();this.bmSerVal=n.getUint32();this.flag=n.getUint32();this.gameType=0;n.bytesAvailable&&(this.gameType=n.getUint8());var t=a.U2V(this.flag,32);return this.C_Vsq=t[0],this.C_Vjy=t[1],this.C_Vipgps=t[3],this.C_Vmnq=t[18],this},t.getName=function(n){n===void 0&&(n=!1);var t=this.bmVal+this.bmSerVal;return n?a.NumToStr(t)+u.lang("resType_"+this.bmType):t>0?this.name+" ( "+a.NumToStr(t)+u.lang("resType_"+this.bmType)+" )":this.name+" ( "+u.lang("resType_jfp")+" )"},n}(),oit=function(){function t(){this.mAllDic={};this.mAllVec=[];this.helpUpdate=new ny;this.helpIdxs=[];this.helpVecs=[]}r(t,"games.cores.dataServices.matchSvc.mtt.Sgr_Mtt");var n=t.prototype;return n.ReadLists=function(n){var r=1==n.getUint8();r&&this.DoReset();var u=n.getUint16(),i=0,t,f=c.nowSeconds();for(i;i<u;i++)t=l.get(cot),t.read(n,f),this.mAllVec.push(t),this.mAllDic[t.RaceID]=t;return n.getByte()>0},n.ReadUpdates=function(n){this.helpIdxs.length=0;var r=n.getUint16(),i=0,t,u=c.nowSeconds();for(i;i<r;i++)this.helpUpdate.readUpdate(n,u),t=this.mAllDic[this.helpUpdate.RaceID],t&&(t.state=this.helpUpdate.state,t.timmeKs=this.helpUpdate.timmeKs,t.timeJz=this.helpUpdate.timeJz,t.numJoin=this.helpUpdate.numJoin,t.numTotal=this.helpUpdate.numTotal,t.Flag.copy(this.helpUpdate.Flag)),this.helpIdxs.push(this.helpUpdate.RaceID);return this.helpIdxs},n.updateSignUp=function(n,t){this.helpIdxs.length=0;var i=this.mAllDic[n];return i&&(i.Flag.bm=t,i.updateType(),this.helpIdxs.push(i.RaceID)),this.helpIdxs},n.ReadDels=function(n){var u;this.helpIdxs.length=0;var f=n.getUint16(),r=0,t=0,i;for(r;r<f;r++)t=n.getUint32(),this.helpIdxs.push(t),i=this.mAllDic[t],this.mAllDic[t]=null,delete this.mAllDic[t],i&&(u=this.mAllVec.indexOf(i),u>-1&&this.mAllVec.splice(u,1),l.recyle(i));return this.helpIdxs},n.DoReset=function(){var t,n;this.helpIdxs.length=0;this.helpVecs.length=0;for(n in this.mAllDic)t=this.mAllDic[n],this.mAllDic[n]=null,delete this.mAllDic[n];while(this.mAllVec.length>0)l.recyle(this.mAllVec.shift())},n.getVec=function(n,t){var r=0,u=this.mAllVec.length,i;for(this.helpVecs.length=0,r;r<u;r++)if(i=this.mAllVec[r],i){if(-1==n&&-1==t){this.helpVecs.push(i);continue}if(-1==n){t==i.state&&this.helpVecs.push(i);continue}if(-1==t){n==i.bmType&&this.helpVecs.push(i);continue}t==i.state&&n==i.bmType&&this.helpVecs.push(i)}return this.helpVecs},t}(),po=function(){function t(){this.name=null;this.type=0;this.open=!1;this.sTime=0;this.mzIdx=0;this.mzStr=null;this.sliders=null;this.JsType=0;this.sliders={};this.recyle()}r(t,"games.windows.matches.creators.yujuesai.voes.CrtYjs_VoSet");var n=t.prototype;return i.imps(n,{"FioLibs.interfaces.IFio_Recyle":!0}),n.recyle=function(){var n,r;this.open=!1;this.sTime=this.mzIdx=this.JsType=0;this.mzStr=null;for(r in this.sliders)n=this.sliders[r],delete this.sliders[r],l.recyle(n);var u=ot.YJS_SUB.VecSliders,t=0,f=u.length,i;for(t;t<f;t++)i=u[t],i&&(n=l.get(vy),n.idx=i.def,this.sliders[i.id]=n)},n.getSldVal=function(n){var t=this.sliders[n];return t?t.val:0},n.copy=function(n){var i,t,r;for(t in this.sliders)i=this.sliders[t],delete this.sliders[t],l.recyle(i);this.name=n.name;this.type=n.type;this.open=n.open;this.sTime=n.sTime;this.mzIdx=n.mzIdx;this.mzStr=n.mzStr;r=n.sliders;for(t in r)i=l.get(vy),i.copy(r[t]),this.sliders[t]=i},n.getYsStr=function(){if(this.open&&0==this.type){var n=this.sliders[2].val;return u.lang(n<1?"yjsDtl_dt00":"yjsDtl_dt01",this.sliders[1].val,n,this.sliders[3].val,this.mzStr,a.G2S(this.sTime,4),this.sliders[5].val)}return u.lang("mmt_main_unSet")},n.getStr=function(){if(this.open)switch(this.type){case 1:return u.lang("yjsDtl_dtl_1"+this.JsType,a.G2S(this.sTime,4),this.sliders[7].val,this.sliders[6].val);case 2:return u.lang("yjsDtl_dt2",a.G2S(this.sTime,4),this.sliders[8].val,this.sliders[0].val)}return u.lang("mmt_main_unSet")},t}(),sit=function(){function t(){this.mDic=null;this.mDic={}}r(t,"games.cores.dataServices.brands.S_Fav_Summ");var n=t.prototype;return n.DoReset=function(){var t,n;for(t in this.mDic)n=this.mDic[t],n&&(n.length=0,n[0]=-1)},n.readVec=function(n){this.DoReset();var i=0,f=n.getUint16(),r,u=0,t;for(i;i<f;i++)r=n.getUint32(),u=n.getUint32(),t=this.mDic[r],t||(t=[-1],this.mDic[r]=t),t.push(u)},n.addDel=function(n,t,i){var r=this.mDic[t],u;r||(r=[-1],this.mDic[t]=r);u=r.indexOf(i);n?-1==u&&r.push(i):-1!=u&&r.splice(u,1)},n.isInFav=function(n,t){var i=this.mDic[n];return i?i.indexOf(t)>-1:!1},t}(),hit=function(){function t(n){this.mCon=null;this.mCtrlPage=null;this.mIsHunt=!1;this.mIdx=0;this.mOpItem=null;this.mRate=null;this.mVal_Cfg=null;this.mCon=n;this.mCon.on("click",this,this.onClickItem);this.mCon.setCallback(h.create(this,this.doScroll,null,!1));this.mCtrlPage=new su(this,50);pc.X_AWD=ft.sGetTab("settle_mtt_title_0")[1].x;this.mVal_Cfg=ft.sGetTab("settle_mtt_valCfg");this.mRate=new ed(!1)}r(t,"games.windows.matches.settler.matches.SettlerMatch_Lists");var n=t.prototype;return i.imps(n,{"FioLibs.interfaces.IFio_PageStep":!0}),n.DoReset=function(){this.mIsHunt=!1;this.mIdx=0;this.mCtrlPage.recyle();this.mOpItem=null;this.mCon.ItemRemove(this.mRate);this.mCon.ItemClean(!0)},n.initPlayers=function(n,t){this.DoReset();this.mIsHunt=t;this.mCtrlPage.setSource(n);this.doScroll(!1)},n.addStepItem=function(n){var t=l.get(pc);t.setMatchVo(++this.mIdx,n,this.mIsHunt);this.mCon.ItemAdd(t)},n.doScroll=function(n){if(!n){this.mCon.doWaitComplete(30);ft.crtStart(this.mVal_Cfg,750,70);var t=this.mCtrlPage.showNext();return ft.crtDone(),t}return!1},n.onClickItem=function(n){var t=n.target,i;t!=this.mCon&&(this.mCon.ItemRemove(this.mRate),t instanceof games.UD_Displays.btns.UD_Btn_Help?1:this.mOpItem==t?this.mOpItem=null:(this.mOpItem=t,i=t.sVo,this.mRate.updateMatch(i),this.mCon.ItemAdd(this.mRate,2,this.mCon.getIndex(t))))},t}(),cit=function(){function n(){this.isClub=!1;this.sID=0;this.name=null;this.icon=null;this.fund=NaN;this.recyle()}r(n,"games.cores.dataServices.sql.S_CreditDetail");var t=n.prototype;return i.imps(t,{"FioLibs.interfaces.IFio_Recyle":!0}),t.recyle=function(){this.isClub=!0;this.name=this.icon="";this.fund=this.sID=0},t.read=function(n){this.sID=n.getUint32();this.name=n.getString();this.icon=n.getString();this.fund=n.getFloat64()},n}(),lit=function(){function n(){this.opIdx=0;this.opType=0;this.JoinNum=0;this.opTime=0;this.pot=0;this.inject=0;this.vecPlayers=[]}r(n,"games.cores.dataServices.matches.S_Jls");var t=n.prototype;return t.parse=function(n){for(this.opIdx=n.getUint8(),this.opType=n.getUint8(),this.JoinNum=n.getUint8(),this.opTime=n.getUint16(),this.pot=n.getFloat64(),this.inject=n.getFloat64();this.vecPlayers.length>0;)l.recyle(this.vecPlayers.shift());for(var t=0,r=n.getUint16(),i,t=0;t<r;t++)this.vecPlayers[t]=i=l.get(yy),i.nick=n.getString(),i.outsNum=n.getByte(),this.readCards(i.cards,n)},t.readCards=function(n,t){n.length=0;var i=0,r=t.getUint16();for(i;i<r;i++)n[i]=t.getByte()},n}(),iu=function(){function n(){this.order=0;this.name=null;this.money=0;this.per=NaN;this.items=null;this.ResType=0;this.locked=!1;this.items=[];this.DoReset()}r(n,"games.windows.matches.creators.RewardsZdy.RwdZdyVo_Data");var t=n.prototype;return i.imps(t,{"FioLibs.interfaces.IFio_Recyle":!0}),t.copy=function(n){if(n){this.order=n.order;this.name=n.name;this.money=n.money;this.per=n.per;this.ResType=n.ResType;this.locked=n.locked;this.clrItems();var t=0,u=n.items.length,i,r;for(t;t<u;t++)i=n.items[t],i&&(r=l.get(fl),r.cID=i.cID,r.num=i.num,this.items[t]=r)}},t.recyle=function(){this.DoReset()},t.DoReset=function(){this.money=this.per=0;this.name="";this.locked=!1;this.clrItems()},t.getStr=function(t){var e,f,r,i;if(t===void 0&&(t=!1),n.sStrArr.length=0,e=this.items.length,e>0)for(r=0,r;r<e;r++)f=this.items[r],f&&n.sStrArr.push(gi.getName(f.cID,f.num));else this.money>0&&n.sStrArr.push(u.lang("sngRwd_res"+this.ResType,this.name,this.money));return i=n.sStrArr.join(" + "),n.sStrArr.length=0,i=b.cutStrAsLen(i,24),t?i||(i=u.lang("null")):(i&&(i+=" + "),i+=a.toFixed(this.per,2)+"%"),i},t.clrItems=function(){while(this.items.length>0)l.recyle(this.items.shift())},t.getValidItems=function(){n.sStrArr.length=0;var t=0,r=this.items.length,i;for(t;t<r;t++)i=this.items[t],i&&n.sStrArr.push(i);return n.sStrArr},t.getVals=function(){var i=0,n=0,r=this.items.length,t;for(n;n<r;n++)t=this.items[n],t&&(i+=gi.getTicket(t.cID).getVal(this.ResType)*t.num>>0);return i},n.RestRate=NaN,n.sStrArr=[],n}(),sui=function(){function n(){this.index=0;this.name=null;this.isdef=0;this.type=0;this.from=null;this.desc=null}return r(n,"games.windows.me.iconFrames.LVo_Ifs"),n}(),ly=function(){function n(){this.VecLists=null;this.VecLists=[]}r(n,"games.cores.dataServices.sql.S_CreditDetail_All");var t=n.prototype;return t.doReset=function(){while(this.VecLists.length>0)l.recyle(this.VecLists.shift())},t.readVec=function(n,t){var u=t.readUint16(),i,r;if(u>0)for(i=0,i;i<u;i++)r=l.get(cit),r.isClub=n,r.read(t),this.VecLists.push(r)},n}(),ay=function(){function n(){this.sID=0;this.name=null;this.icon=null;this.last=0;this.active=0;this.gold=0}r(n,"games.cores.dataServices.acc.S_IvtFriends");var t=n.prototype;return i.imps(t,{"FioLibs.interfaces.IFio_Recyle":!0}),t.recyle=function(){this.name=this.icon=null;this.sID=this.last=this.active=this.gold=0},t.read=function(n){this.sID=n.getUint32();this.name=n.getString();this.icon=n.getString();this.last=n.getByte();this.gold=n.getUint32();this.active=n.getByte()},n.readVec=function(t){for(var f=t.getUint16(),i,r=[],u=0;u<f;u++)i=l.get(n),i.read(t),r.push(i);return r},n.clear=function(){while(n.vec.length>0)l.recyle(n.vec.shift())},d(n,["vec",function(){return this.vec=[]}]),n}(),ait=function(){function n(){this.sID=0;this.name=null;this.icon=0;this.validity=0;this.state=0;this.desc=null;this.count=0}r(n,"games.cores.dataServices.bag.S_Bag_Log");var t=n.prototype;return i.imps(t,{"FioLibs.interfaces.IFio_Recyle":!0}),t.recyle=function(){this.sID=this.icon=this.validity=this.state=this.count=0;this.name=this.desc=null},t.read=function(n){this.sID=n.getUint32();this.name=n.getString();this.icon=n.getUint32();this.state=n.getUint8();this.validity=n.getUint32();this.desc=n.getString();this.count=n.getUint32()},n}(),wo=function(){function n(){}return r(n,"FioLibs.displays.tips.FioTips"),n.show=function(t,i){n.mIns||(n.mIns=new iwt);n.mIns.show(t,i)},n.hide=function(){n.mIns&&n.mIns.Close()},n.mIns=null,n}(),vy=function(){function n(){this.idx=0;this.val=0;this.recyle()}r(n,"games.windows.matches.creators.yujuesai.voes.CrtYjs_VoSld");var t=n.prototype;return i.imps(t,{"FioLibs.interfaces.IFio_Recyle":!0}),t.recyle=function(){this.idx=this.val=0},t.copy=function(n){this.idx=n.idx;this.val=n.val},n}(),bo=function(){function n(){this.type=0;this.index=0;this.ltBB=NaN;this.value=0;this.straddle=!1;this.betStr=null}r(n,"games.cores.dataServices.club.S_Club_JP");var t=n.prototype;return t.read=function(n){this.index=n.getUint32();this.ltBB=n.getFloat32();this.value=n.getUint32();this.straddle=1==n.getByte();this.crtStr()},t.crtStr=function(){this.betStr=this.ltBB+"/"+2*this.ltBB;this.straddle&&(this.betStr+="/"+4*this.ltBB)},n.readVec=function(t){var f=t.getByte(),u=[],i=0,e=t.getUint16(),r;for(i;i<e;i++)u[i]=r=l.get(n),r.type=f,r.read(t);return u},n.readUpdate=function(t){return n.mVo.type=t.getByte(),n.mVo.read(t),n.mVo},d(n,["mVo",function(){return this.mVo=new n}]),n}(),hui=function(){function n(){this.index=0;this.score=NaN;this.win=NaN;this.type=0;this.get_chip=NaN}return r(n,"games.review.PV_Winner"),n}(),vit=function(){function n(){this.IsSelf=!1;this.bankX=0;this.bankY=0;this.hxs=null;this.hys=null;this.sxs=null;this.sys=null}return r(n,"games.pokers.Vo_CardCoords"),n}(),sh=function(){function n(){}return r(n,"FioLibs.FioStyles"),n.TIPS_BG="#305e75",n.TIPS_TEXT="#b2d6fb",n.NUMKEY_BG="#dde4eedd",n.PAGE_TEXT="#3b4f62",n.POP_MENU_BG="#305e75",n.POP_MENU_LINE="#597e91",n.POP_MENU_TEXT="#b2d6fb",n.FEET_MENU_BG="#dde4ee",n.FEET_MENU_LINE="#c1c1c1",n.FEET_MENU_TEXT="#444444",n.SLIDER_OK="#3da2e4",n.SLIDER_NO="#0f192b",n.SLIDER_TEXT_OK="#b2d6fb",n.SLIDER_TEXT_NO="#6898df",n.SLIDER2_OK="#1e86e6",n.SLIDER2_NO="#677077",n.SLIDER2_TEXT_OK="#3b4f62",n.SLIDER2_TEXT_NO="#3b4f62",n.DATE_BG="#dde4ee",n.DATE_LINE="#acb7c7",n.DATE_TEXT="#444444",n.FLY_BG_0="#052023a0",n.FLY_BG_1="#052023a0",n.FLY_BG_2="#052023a0",d(n,["TABX_GRIDS",function(){return this.TABX_GRIDS=[0,40,0,40]},"TABX_LEV1",function(){return this.TABX_LEV1=["#64ace9","#0b162c"]},"TABX_LEV2",function(){return this.TABX_LEV2=["#527b92","#ffffff"]}]),n}(),yit=function(){function n(){this.fc=0;this.fcCards=null;this.zp=0;this.zpCards=null;this.fcCards=[];this.zpCards=[]}r(n,"games.cores.dataServices.matches.S_SafeBox_Sync");var t=n.prototype;return t.read=function(n){this.fc=n.getFloat64();this._readCards(this.fcCards,n);this.zp=n.getFloat64();this._readCards(this.zpCards,n)},t._readCards=function(n,t){n.length=0;var r=t.getUint16(),i=0;for(i;i<r;i++)n[i]=t.getByte()},n}(),pit=function(){function n(){this.open=!1;this.sj=0;this.rate=0;this.max=0;this.DoReset();this.max=0}r(n,"games.windows.matches.creators.mtt.CrtMtt_VoHunt");var t=n.prototype;return t.DoReset=function(){this.open=!1;this.sj=this.rate=0},n}(),ot=function(){function n(){}return r(n,"games.windows.matches.creators.voes.Mgr_MatchCrt"),n.sInit=function(){n.CFG_DZ||(n.CFG_DZ=n.doInit("crtMa_Dz"),n.CFG_DP=n.doInit("crtMa_Dp"),n.CFG_SNG=n.doInit("crtMa_Sng"),n.CFG_MTT=n.doInit("crtMa_Mtt"),n.initAntes(),n.initNums(),n.initBlinds(),n.initMttRates(),n.YJS_MAIN=n.doInit("yjs_main"),n.YJS_SUB=n.doInit("yjs_sub"))},n.doInit=function(t){var u=rt.GameConfigs[t],r,f,i;rt.GameConfigs[t]=null;r=new pg;r.name=t;for(f in u){i=u[f];delete u[f];switch(i.type){case 0:r.VecSliders[i.idx]=i;break;case 1:r.VecMenus[i.idx]=i;break;case 2:r.VecRadios[i.idx]=i;break;case 3:r.VecKgs[i.idx]=i;break;case 10:switch(i.id){case 80:n.syncOrd(i.data,r.View_SJ);break;case 81:n.syncOrd(i.data,r.View_ZD);break;case 82:n.syncOrd(i.data,r.View_GM);break;case 90:n.syncOrd(i.data,r.KG_SJ);break;case 91:n.syncOrd(i.data,r.KG_ZD);break;case 92:n.syncOrd(i.data,r.KG_GM);break;case 93:n.syncOrd(i.data,r.KG_NoOps);break;case 100:r.prompt=i.title;break;case 101:r.ZmTimeConfig=i;break;case 102:r.RwdRates=i.data}break;default:r.OtherCfgs[i.idx]=i}}return r},n.syncOrd=function(n,t){for(t.length=0;n.length>0;)t.push(n.shift())},n.initAntes=function(){var t,i,r;n.mDefAnte=new ry;n.mDefAnte.def=0;n.mDefAnte.data=[0,1,2,3];n.CFG_DZ_ANTES=[];t=rt.GameConfigs.crtMa_DzAntes;rt.GameConfigs.crtMa_DzAntes=null;for(i in t)r=t[i],delete t[i],n.CFG_DZ_ANTES[r.idx]=r},n.getAnte=function(t){var i=n.CFG_DZ_ANTES[t];return i?i:n.mDefAnte},n.initNums=function(){n.CFG_NUM_5SIT=[];n.CFG_NUM_6NEW=[];for(var i=n.CFG_DZ.VecSliders[3].data,r=n.CFG_DZ.VecSliders[5].data,u=n.CFG_DZ.VecSliders[6].data,o=n.CFG_DZ.VecSliders[7].data,t=0,f=i.length,e=0,t=0;t<f;t++)e=i[t],n.CFG_NUM_5SIT[t]=r.slice(0,2+t),n.CFG_NUM_6NEW[t]=u.slice(0,2+t)},n.initBlinds=function(){n.mDicBlinds={};n.parseBlinds(1,rt.GameConfigs.Blind_Mtt);n.parseBlinds(2,rt.GameConfigs.Blind_Sng)},n.parseBlinds=function(t,i){var u,r,f,e;for(f in i)r=i[f],delete i[f],r.big=r.lt<<1,e=t+"_"+(r.gt||0)+"_"+r.type,u=n.mDicBlinds[e],u||(n.mDicBlinds[e]=u=[]),u[r.lv]=r},n.getBlinds=function(t,i,r){var u=n.mDicBlinds[t+"_"+i+"_"+r];return u?u:(u=n.mDicBlinds[t+"_"+i+"_0"],u)?u:n.mDicBlinds["1_0_"+r]},n.getBlindLev=function(t,i,r,u){var f=n.getBlinds(t,i,r);return f?f[u]:null},n.getBldKstr=function(n){return n?2==n.gt?n.lv+": "+a.toK(n.pre*2)+" ("+a.toK(n.pre)+")":n.lv+": "+a.toK(n.lt)+"/"+a.toK(n.big)+"("+a.toK(n.pre)+")":""},n.initMttRates=function(){n.mDicMttRates={};var i=rt.GameConfigs.crtMa_MttRewards,r=999999,u=0,f,e,t=0;for(f in i)e=i[f],delete i[f],t=e.rank,n.mDicMttRates[t]=e.rewards,t>u&&(u=t),t<r&&(r=t);n.Mtt_Join_Min=r;n.Mtt_Join_Max=u},n.getMttRate=function(t){var i=n.mDicMttRates[t];return i||(i=n.mDicMttRates[1]),i},n.Tick_Init=function(t){if(rt.Crt_Match_ZdID=t,n.mZdID!=t){n.mZdID=t;n.myTicketsAll.length=0;gi.getZdTickets(rt.Crt_Match_ZdID,-1,n.myTicketsAll);n.myTickets.length=0;var i=0,u=n.myTicketsAll.length,r;for(i;i<u;i++)r=n.myTicketsAll[i],t>0&&t==r.clubid&&n.myTickets.push(r)}},n.Tick_GetAll=function(t){return t?n.myTicketsAll:n.myTickets},n.Tick_getDef=function(t){var i=0,u=n.myTicketsAll.length,r;for(i;i<u;i++)if(r=n.myTicketsAll[i],t==r.id)return r;return n.myTicketsAll[0]},n.CFG_DZ=null,n.CFG_DP=null,n.CFG_SNG=null,n.CFG_MTT=null,n.CFG_DZ_ANTES=null,n.CFG_NUM_5SIT=null,n.CFG_NUM_6NEW=null,n.YJS_MAIN=null,n.YJS_SUB=null,n.mDefAnte=null,n.mDicBlinds=null,n.mDicMttRates=null,n.Mtt_Join_Min=0,n.Mtt_Join_Max=0,n.Mtt_GUDING_Max=50,n.mZdID=0,d(n,["myTicketsAll",function(){return this.myTicketsAll=[]},"myTickets",function(){return this.myTickets=[]}]),n}(),wit=function(){function n(){this.jfpRate=NaN;this.gdRate=NaN;this.creUsed=NaN;this.creTotal=NaN;this.doReset()}r(n,"games.cores.dataServices.matches.S_RoomCre");var t=n.prototype;return t.doReset=function(){this.jfpRate=.1;this.gdRate=1;this.creUsed=this.creTotal=0},t.read=function(n){this.jfpRate=n.getByte()/100;this.creUsed=n.getFloat64();this.creTotal=n.getFloat64();n.bytesAvailable&&(this.gdRate=n.getUint16()/100)},n}(),bit=function(){function n(){this.rank=0;this.nick=null;this.icon=null;this.handNum=0;this.awdStr=null;this.rateIn=0;this.rateWin=0;this.rateAdd=0;this.outTime=0;this.JJD=0;this.resNum=0;this.matchTime=0}r(n,"games.cores.dataServices.matchSvc.mtt.S_MTT_ZJ_Player");var t=n.prototype;return i.imps(t,{"FioLibs.interfaces.IFio_Recyle":!0}),t.recyle=function(){this.awdStr=""},t.read=function(t,i,r){this.rank=t.getUint32();this.nick=t.getString();this.icon=t.getString();this.handNum=t.getUint32();this.outTime=t.getUint32();this.rateIn=t.getUint32();this.rateAdd=t.getUint32();this.JJD=t.getUint32();this.resNum=t.getUint16();this.matchTime=t.getUint32();n.sReward.read(t,r);this.awdStr=n.sReward.awdStr;var u=t.getUint32();i&&(this.awdStr=a.NumToStr(u))},d(n,["sReward",function(){return this.sReward=new df}]),n}(),cui=function(){function n(){this.group=0;this.index=0;this.x=0;this.y=NaN;this.sx=0;this.sy=0;this.turn=0;this.cTurn=0;this.zx=0;this.zy=0;this.cx=0;this.cy=0}return r(n,"games.cores.configVoes.L_PlayerCoords"),n}(),yy=function(){function n(){this.nick=null;this.outsNum=0;this.cards=[-1,-1]}return r(n,"games.cores.dataServices.matches.S_SafeBox_Player"),n}(),kit=function(){function t(){this.SID=0;this.HasInfo=!1;this.Nick=null;this.Sign=null;this.iconID=null;this.iconStyle=0;this.Sex=0;this.InviteNum=0;this.Lev=0;this.Gold=NaN;this.Score=NaN;this.BScore=0;this.Vip=0;this.VipTimeOut=0;this.RoomID=0;this.ClubNum=0;this.RoomBring=NaN;this.Diamond=NaN;this.reTimes=NaN;this.nextIcon=null;this.hasSecondaryPass=!1;this.hasSMRZ=0;this.DPI_Year_Rank=0;this.DPI_Year_Val=0;this.DPI_Rank=0;this.DPI_Val=0;this.DoReset()}r(t,"games.cores.dataServices.acc.S_Detail");var n=t.prototype;return n.getIcon=function(){return this.iconID+"-"+this.iconStyle},n.DoReset=function(){this.SID=0;this.HasInfo=!1;this.Nick=this.Sign=this.iconID="";this.iconStyle=this.Sex=this.InviteNum=this.Lev=0;this.Gold=this.Score=this.BScore=this.Vip=this.VipTimeOut=0;this.RoomID=this.ClubNum=this.RoomBring=this.Diamond=this.reTimes=0;this.nextIcon="";this.hasSecondaryPass=!1;this.hasSMRZ=this.DPI_Year_Rank=this.DPI_Year_Val=0;this.DPI_Rank=this.DPI_Val=0},n.read=function(n){this.Nick=n.getString();this.Sign=n.getString();this.iconID=n.getString();this.Sex=n.getUint8();this.InviteNum=n.getByte();this.Lev=n.getByte();this.iconStyle=0;this.update(n)},n.update=function(n){this.Gold=n.getUint32();this.Score=n.getFloat64();this.Vip=n.getUint8();this.VipTimeOut=n.getUint32();this.RoomID=n.getUint32();this.ClubNum=n.getUint32();this.RoomBring=n.getFloat64();this.Diamond=n.getUint32();this.reTimes=n.getUint16();this.hasSecondaryPass=1==n.getUint8();this.hasSMRZ=n.getUint8();n.bytesAvailable&&(this.iconStyle=n.getUint16());n.bytesAvailable&&(this.BScore=n.getUint32())},t}(),df=function(){function n(){this.order=0;this.isPm=!1;this.awdStr=null;this.isGot=!1;this.recyle()}r(n,"games.cores.dataServices.matchSvc.S_Match_Award");var t=n.prototype;return i.imps(t,{"FioLibs.interfaces.IFio_Recyle":!0}),t.recyle=function(){this.order=0;this.isPm=this.isGot=!1;this.awdStr=null},t.read=function(t,i,r){var e,s,o,f;r===void 0&&(r=" + ");this.order=t.getUint16();e=t.getUint8();this.isPm=1==e;this.isGot=4==e;n.sHelpStrs.length=0;s=t.getString();s&&n.sHelpStrs.push(s);var h=t.getUint32(),c=t.getUint32(),l=t.getUint32(),a=t.getUint16();if(a>0)for(o=0,o;o<a;o++)n.sHelpStrs.push(gi.getName(t.getUint32(),t.getUint8()));if(2==e){this.awdStr=u.lang("match_award_typeWait");return}h>0&&n.sHelpStrs.push(h+i);n.sHelpStrs.length>0&&(f=n.sHelpStrs.join(r));n.sHelpStrs.length=0;f||(f="");this.isPm&&(f+=u.lang("match_award_typePm"));c>0&&(f+=(f?" / ":"")+u.lang("match_award_typeSj",c+i));l>0&&(f+=(f?" / ":"")+u.lang("match_award_typeJj",l+i));this.awdStr=f?f:u.StrNull},n.sDoReset=function(){while(n.mVecAwards.length>0)l.recyle(n.mVecAwards.shift())},n.sReadLists=function(t){var s=1==t.getUint8(),e,r,o,i,f;for(s&&n.sDoReset(),e=t.getUint8(),r=u.lang("resType_"+e),n.sResName=r,o=t.getUint16(),i=0,i;i<o;i++)f=l.get(n),f.read(t,r),n.mVecAwards.push(f);return t.getByte()>0?n.mVecAwards:null},n.sReadMatchRwd=function(t){var i=t.getUint8(),r=u.lang("resType_"+i);return n.msMthAwd.read(t,r,"<br/>"),n.msMthAwd},n.sResName="",d(n,["sHelpStrs",function(){return this.sHelpStrs=[]},"mVecAwards",function(){return this.mVecAwards=[]},"msMthAwd",function(){return this.msMthAwd=new n}]),n}(),dit=function(){function n(){this.index=0;this.win=NaN;this.score=NaN;this.type=0}return r(n,"games.cores.dataServices.matches.S_Blind_HandOver"),n}(),git=function(){function n(){this.time=0;this.name=null;this.fund=NaN;this.total=NaN;this.recyle()}r(n,"games.cores.dataServices.sql.S_CreditDetail_User");var t=n.prototype;return i.imps(t,{"FioLibs.interfaces.IFio_Recyle":!0}),t.recyle=function(){this.name="";this.time=this.fund=this.total=0},t.read=function(n){this.time=n.getUint32();this.name=n.getString();this.fund=n.getFloat64();this.total=n.getFloat64()},n.s_Reset=function(){while(n.s_VecLists.length>0)l.recyle(n.s_VecLists.shift())},n.s_ReadVec=function(t){var u=t.readUint16(),i,r;if(u>0)for(i=0,i;i<u;i++)r=l.get(n),r.read(t),n.s_VecLists.push(r)},d(n,["s_VecLists",function(){return this.s_VecLists=[]}]),n}(),ko=function(){function n(){this.type=0;this.text=null;this.time=0;this.fund=NaN;this.rest=NaN;this.targeter=null;this.icon=null;this.recyle()}r(n,"games.cores.dataServices._voes.credits.S_Credit_Log");var t=n.prototype;return i.imps(t,{"FioLibs.interfaces.IFio_Recyle":!0}),t.recyle=function(){this.type=this.time=this.fund=this.rest=0;this.text=this.targeter=this.icon=""},t.read=function(n){this.type=n.getByte();this.text=n.getString();this.time=n.getUint32();this.fund=n.getFloat64();this.rest=n.getFloat64();this.targeter=n.getString();this.icon=n.getString()},n.doReset=function(){while(n.tmpVec.length>0)l.recyle(n.tmpVec.shift())},n.readVec=function(t){var u=t.getInt16(),i,r=0;for(r;r<u;r++)i=l.get(n),i.read(t),n.tmpVec.push(i);return t.bytesAvailable?1==t.getByte()?n.tmpVec:null:n.tmpVec},d(n,["tmpVec",function(){return this.tmpVec=[]}]),n}(),lui=function(){function n(){this.label=null;this.align=null;this.x=0;this.isNum=!1;this.size=22;this.color=null}return r(n,"games.UD_Displays.tabs.Vo_Table_Cfg"),n}(),nrt=function(){function n(){this.name="";this.numMax=3;this.sliders={};this.flag=0;this.mzIdx=0;this.gdIdx=0;this.tzData=null}return r(n,"games.windows.matches.creators.mtt.CrtMtt_CkDetail"),n}(),py=function(){function n(){this.index=0;this.type=0;this.icon=0;this.title=null;this.desc=null;this.price=0;this.pt=0;this.itemID=0;this.introTitle=null}return r(n,"games.cores.dataServices.club.ticket.L_Ticket_Exchange"),n.getPrimaryList=function(n){var t,i,r,u;n===void 0&&(n=0);switch(n){case 0:t=rt.GameConfigs.ticket;break;case 1:t=rt.GameConfigs.ticket1;break;case 2:t=rt.GameConfigs.ticket2;break;case 3:t=rt.GameConfigs.ticket3}if(i=[],t)for(u in t)r=t[u],r.type==0&&i.push(r);else 1;return i},n.getSubVoList=function(t,i){var r,f,u,e;i===void 0&&(i=0);switch(i){case 0:r=rt.GameConfigs.ticket;break;case 1:r=rt.GameConfigs.ticket1;break;case 2:r=rt.GameConfigs.ticket2}f=[];for(e in r)u=r[e],u.type>0&&u.type==t&&f.push(u);return f.sort(n.toCompare)},n.toCompare=function(n,t){return n.index>t.index?1:n.index<t.index?-1:0},n}(),wy=function(){function t(n){this.LastID=0;this.mMapRRom={};this.mIsInRoom=!1;this.mRid=0;this.mVecRoom=[];this.mIsInRoom=n}r(t,"games.cores.dataServices.brands.Sgr_BrandFavs");var n=t.prototype;return n.DoReset=function(){for(var n in this.mMapRRom)l.recyle(this.mMapRRom[n]),delete this.mMapRRom[n];this.LastID=0;this.mVecRoom.length=0},n.setRoomID=function(n){this.mRid==n&&this.mIsInRoom||(this.DoReset(),this.mRid=n)},n.ReadVec=function(n){var e=0,y=n.getUint16(),u=0,i=0,c=0,a=0,o=0,s=NaN,v=NaN,f=0,r=0,h=0,t;for(e;e<y;e++){if(u=n.getUint32(),this.mIsInRoom&&this.mRid!=u)return null;for(i=n.getUint32(),c=dl.sMakeCID(u,i),a=n.getUint32(),o=n.getFloat64(),s=n.getFloat64(),v=s-o,h=n.getUint16(),r=0;r<h;r++)t=l.get(dl),t.readADeal(n,h>1?r+1:0),t.C_ID=c,t.roomID=u,t.handID=i,t.tStart=a,t.safe=o,t.safePeifu=s,t.safeYK=v,f=i*10+r,t.HdIdx=f,this.mIsInRoom&&(l.recyle(this.mMapRRom[f]),this.mMapRRom[f]=t,i>this.LastID&&(this.LastID=i)),this.mVecRoom.push(t)}return 1==n.getByte()?(this.mIsInRoom&&this.mVecRoom.sort(this.doCompare),this.mVecRoom):null},n.doCompare=function(n,t){return n.HdIdx<t.HdIdx?1:n.HdIdx>t.HdIdx?-1:0},t}(),trt=function(){function n(){this.icon=null;this.nick=null;this.sex=0;this.sign=null;this.v0=0;this.v3=NaN;this.v4=NaN;this.v7=NaN;this.clubNick=null;this.clubIcon=null;this.clubID=0;this.silent=0;this.Kickrooboter=0;this.Gold=NaN;this.Daim=NaN;this.Score=NaN;this.note=null;this.v1=0;this.v17=0;this.v5=0;this.Dev=9;this.vipLev=0;this.vipEnd=0;this.tp=0;this.Flags=null;this.v2=0;this.v9=0;this.v10=0;this.v6=0;this.v15=0;this.v16=0;this.v18=NaN;this.v8=0;this.v13=0;this.v19=0;this.v20=0;this.Flags=[]}r(n,"games.cores.dataServices.matches.S_ViewPlayer");var t=n.prototype;return t.readBase=function(n){this.Gold=this.Daim=this.Score=0;this.v2=this.v9=this.v10=0;this.v6=this.v15=this.v16=this.v18=this.v13=0;this.icon=n.getString();this.nick=n.getString();this.sex=n.getByte();this.sign=n.getString();this.v0=n.getUint32();this.v3=n.getUint16();this.v4=n.getUint16();this.v7=n.getUint16();this.clubNick=n.getString();this.clubIcon=n.getString();this.clubID=n.getUint32();this.silent=n.getByte();this.Kickrooboter=n.getByte();this.Gold=n.getFloat64();this.Daim=n.getFloat64();this.Score=n.getFloat64();this.note=n.getString();this.v1=n.getUint32();this.v17=this.v19=n.getUint32();this.v5=n.getUint16();this.Dev=n.getByte();this.vipLev=n.getByte();this.vipEnd=n.getUint32();this.tp=n.getByte();a.U2V(n.getByte(),8,this.Flags)},t.readVip=function(n){this.v2=this.v20=n.getInt32();this.v9=n.getUint16();this.v10=n.getUint16();this.v6=n.getUint16();this.v15=n.getUint16();this.v16=n.getUint16();this.v18=n.getUint16()/100;this.v7=n.getUint16();this.v8=n.getUint16();this.v13=n.getUint16()},n}(),aui=function(){function n(){}return r(n,"games.consts.Cmds"),n.C100=100,n.C101=101,n.C102=102,n.C103=103,n.C104=104,n.C105=105,n.C106=106,n.C107=107,n.C108=108,n.C109=109,n.C110=110,n.C120=120,n.C131=131,n.C132=132,n.C133=133,n.C150=150,n.C200=200,n.C201=201,n.C203=203,n.C204=204,n.C205=205,n.C206=206,n.C210=210,n.C212=212,n.C213=213,n.C230=230,n.C240=240,n.C241=241,n.C242=242,n.C248=248,n.C249=249,n.C250=250,n.C260=260,n.C261=261,n.C270=270,n.C271=271,n.C293=293,n.C288=288,n.C289=289,n.C290=290,n.C291=291,n.C292=292,n.C295=295,n.C296=296,n.C297=297,n.C298=298,n.C299=299,n.C300=300,n.C301=301,n.C302=302,n.C303=303,n.C309=309,n.C310=310,n.C312=312,n.C313=313,n.C314=314,n.C316=316,n.C317=317,n.C320=320,n.C321=321,n.C322=322,n.C323=323,n.C324=324,n.C325=325,n.C330=330,n.C331=331,n.C332=332,n.C334=334,n.C335=335,n.C336=336,n.C337=337,n.C370=370,n.C371=371,n.C372=372,n.C373=373,n.C400=400,n.C401=401,n.C402=402,n.C403=403,n.C404=404,n.C405=405,n.C406=406,n.C407=407,n.C408=408,n.C409=409,n.C410=410,n.C411=411,n.C412=412,n.C413=413,n.C414=414,n.C415=415,n.C416=416,n.C417=417,n.C418=418,n.C419=419,n.C420=420,n.C421=421,n.C422=422,n.C423=423,n.C424=424,n.C425=425,n.C426=426,n.C427=427,n.C430=430,n.C431=431,n.C432=432,n.C433=433,n.C434=434,n.C435=435,n.C440=440,n.C441=441,n.C442=442,n.C443=443,n.C444=444,n.C445=445,n.C446=446,n.C447=447,n.C450=450,n.C451=451,n.C452=452,n.C455=455,n.C465=465,n.C466=466,n.C470=470,n.C471=471,n.C473=473,n.C472=472,n.C474=474,n.C475=475,n.C476=476,n.C477=477,n.C478=478,n.C480=480,n.C481=481,n.C482=482,n.C483=483,n.C484=484,n.C485=485,n.C486=486,n.C487=487,n.C488=488,n.C489=489,n.C490=490,n.C491=491,n.C492=492,n.C493=493,n.C494=494,n.C495=495,n.C499=499,n.C500=500,n.C501=501,n.C502=502,n.C509=509,n.C503=503,n.C504=504,n.C506=506,n.C507=507,n.C508=508,n.C510=510,n.C511=511,n.C515=515,n.C516=516,n.C517=517,n.C518=518,n.C519=519,n.C520=520,n.C521=521,n.C522=522,n.C523=523,n.C524=524,n.C525=525,n.C526=526,n.C527=527,n.C670=670,n.C671=671,n.C673=673,n.C674=674,n.C676=676,n.C677=677,n.C700=700,n.C701=701,n.C702=702,n.C703=703,n.C704=704,n.C705=705,n.C706=706,n.C707=707,n.C708=708,n.C709=709,n.C710=710,n.C711=711,n.C712=712,n.C715=715,n.C716=716,n.C717=717,n.C718=718,n.C719=719,n.C720=720,n.C721=721,n.C722=722,n.C723=723,n.C724=724,n.C728=728,n.C729=729,n.C730=730,n.C731=731,n.C732=732,n.C733=733,n.C734=734,n.C740=740,n.C741=741,n.C742=742,n.C744=744,n.C745=745,n.C746=746,n.C750=750,n.C751=751,n.C752=752,n.C754=754,n.C760=760,n.C761=761,n.C765=765,n.C766=766,n.C767=767,n.C770=770,n.C771=771,n.C780=780,n.C781=781,n.C782=782,n.C790=790,n.C791=791,n.C792=792,n.C793=793,n.C800=800,n.C801=801,n.C810=810,n.C811=811,n.C812=812,n.C813=813,n.C820=820,n.C821=821,n.C822=822,n.C900=900,n.C901=901,n.C902=902,n.C903=903,n.C904=904,n.C905=905,n.C906=906,n.C907=907,n.C908=908,n.C909=909,n.C914=914,n.C915=915,n.C930=930,n.C931=931,n.C932=932,n.C933=933,n.C934=934,n.C935=935,n.C936=936,n.C937=937,n.C940=940,n.C941=941,n.C942=942,n.C1100=1100,n.C1101=1101,n.C1102=1102,n.C1103=1103,n.C1104=1104,n.C1105=1105,n.C1106=1106,n.C1107=1107,n.C1200=1200,n.C1201=1201,n.C1202=1202,n.C1203=1203,n.C1155=1155,n.C1156=1156,n.C1255=1255,n.C1256=1256,n.C1290=1290,n.C1291=1291,n.C1292=1292,n.C1293=1293,n.C1294=1294,n.C1295=1295,n.C1300=1300,n.C1301=1301,n.C1302=1302,n.C1310=1310,n.C1311=1311,n.C1312=1312,n.C1401=1401,n.C1402=1402,n.C1403=1403,n.C1404=1404,n.C1420=1420,n.C1421=1421,n.C1422=1422,n.C1423=1423,n.C1430=1430,n.C1431=1431,n.C1432=1432,n.C1433=1433,n.C1434=1434,n.C1440=1440,n.C1441=1441,n.C1442=1442,n.C1444=1444,n.C1445=1445,n.C1446=1446,n.C1447=1447,n.C1450=1450,n.C1451=1451,n.C1452=1452,n.C1453=1453,n.C1454=1454,n.C1455=1455,n.C1456=1456,n.C1460=1460,n.C1461=1461,n.C1462=1462,n.C1470=1470,n.C1471=1471,n.C1480=1480,n.C1481=1481,n}(),vui=function(){function t(){this._id=bt.getGID();this._resetComp()}r(t,"laya.components.Component");var n=t.prototype;return i.imps(n,{"laya.resource.ISingletonElement":!0,"laya.resource.IDestroy":!0}),n._isScript=function(){return!1},n._resetComp=function(){this._indexInList=-1;this._enabled=!0;this._awaked=!1;this.owner=null},n._getIndexInList=function(){return this._indexInList},n._setIndexInList=function(n){this._indexInList=n},n._onAdded=function(){},n._onAwake=function(){},n._onEnable=function(){},n._onDisable=function(){},n._onEnableInScene=function(){},n._onDisableInScene=function(){},n._onDestroy=function(){},n.onReset=function(){},n._parse=function(){},n._cloneTo=function(){},n._setActive=function(n){n?(this._awaked||(this._awaked=!0,this._onAwake()),this._enabled&&this._onEnable()):this._enabled&&this._onDisable()},n._setActiveInScene=function(n){n?this._onEnableInScene():this._onDisableInScene()},n.destroy=function(){this.owner&&this.owner._destroyComponent(this)},n._destroy=function(){this.owner.activeInHierarchy&&this._enabled&&(this._setActive(!1),this._isScript()&&this.onDisable());this.owner._scene&&this._setActiveInScene(!1);this._onDestroy();this._destroyed=!0;this.onReset!==laya.components.Component.prototype.onReset?(this.onReset(),this._resetComp(),it.recoverByClass(this)):this._resetComp()},e(0,n,"id",function(){return this._id}),e(0,n,"enabled",function(){return this._enabled},function(n){this._enabled=n;this.owner&&(n?this.owner.activeInHierarchy&&this._onEnable():this.owner.activeInHierarchy&&this._onDisable())}),e(0,n,"isSingleton",function(){return!0}),e(0,n,"destroyed",function(){return this._destroyed}),t}(),hh=function(){function t(n,t,i){this._stride=0;this.vertNum=0;this.indexNum=0;this._applied=!1;this._vb=null;this._ib=null;this._vao=null;this._attribInfo=null;this._quadNum=0;this.canReuse=!1;this._stride=n;this._vb=new vw(n,35048);t?this._vb._resizeBuffer(t,!1):wu.webGL2D_MeshAllocMaxMem&&this._vb._resizeBuffer(65536*n,!1);this._ib=new aw;i&&this._ib._resizeBuffer(i,!1)}r(t,"laya.webgl.utils.Mesh2D");var n=t.prototype;return n.cloneWithNewVB=function(){var n=new t(this._stride,0,0);return n._ib=this._ib,n._quadNum=this._quadNum,n._attribInfo=this._attribInfo,n},n.cloneWithNewVBIB=function(){var n=new t(this._stride,0,0);return n._attribInfo=this._attribInfo,n},n.getVBW=function(){return this._vb.setNeedUpload(),this._vb},n.getVBR=function(){return this._vb},n.getIBR=function(){return this._ib},n.getIBW=function(){return this._ib.setNeedUpload(),this._ib},n.createQuadIB=function(n){var u;this._quadNum=n;this._ib._resizeBuffer(n*12,!1);this._ib.byteLength=this._ib.bufferLength;var i=this._ib.getUint16Array(),r=0,t=0;for(u=0;u<n;u++)i[r++]=t,i[r++]=t+2,i[r++]=t+1,i[r++]=t,i[r++]=t+3,i[r++]=t+2,t+=4;this._ib.setNeedUpload()},n.setAttributes=function(n){if(this._attribInfo=n,this._attribInfo.length%3!=0)throw"Mesh2D setAttributes error!";},n.configVAO=function(n){var r,t,i;if(!this._applied){for(this._applied=!0,this._vao||(this._vao=new fst),this._vao.bind(),this._vb._bindForVAO(),r=this._attribInfo.length/3,t=0,i=0;i<r;i++){var u=this._attribInfo[t+1],f=this._attribInfo[t],e=this._attribInfo[t+2];n.enableVertexAttribArray(i);n.vertexAttribPointer(i,u,f,!1,this._stride,e);t+=3}this._vao.unBind()}},n.useMesh=function(n){this._applied||this.configVAO(n);this._vao.bind();this._vb.bind();this._ib._bind_upload()||this._ib._bindForVAO();this._vb._bind_upload()||this._vb.bind()},n.getEleNum=function(){return this._ib.getBuffer().byteLength/2},n.releaseMesh=function(){},n.destroy=function(){},n.clearVB=function(){this._vb.clear()},t._gvaoid=0,t}(),yui=function(){function n(){}return r(n,"laya.events.Keyboard"),n.NUMBER_0=48,n.NUMBER_1=49,n.NUMBER_2=50,n.NUMBER_3=51,n.NUMBER_4=52,n.NUMBER_5=53,n.NUMBER_6=54,n.NUMBER_7=55,n.NUMBER_8=56,n.NUMBER_9=57,n.A=65,n.B=66,n.C=67,n.D=68,n.E=69,n.F=70,n.G=71,n.H=72,n.I=73,n.J=74,n.K=75,n.L=76,n.M=77,n.N=78,n.O=79,n.P=80,n.Q=81,n.R=82,n.S=83,n.T=84,n.U=85,n.V=86,n.W=87,n.X=88,n.Y=89,n.Z=90,n.F1=112,n.F2=113,n.F3=114,n.F4=115,n.F5=116,n.F6=117,n.F7=118,n.F8=119,n.F9=120,n.F10=121,n.F11=122,n.F12=123,n.F13=124,n.F14=125,n.F15=126,n.NUMPAD=21,n.NUMPAD_0=96,n.NUMPAD_1=97,n.NUMPAD_2=98,n.NUMPAD_3=99,n.NUMPAD_4=100,n.NUMPAD_5=101,n.NUMPAD_6=102,n.NUMPAD_7=103,n.NUMPAD_8=104,n.NUMPAD_9=105,n.NUMPAD_ADD=107,n.NUMPAD_DECIMAL=110,n.NUMPAD_DIVIDE=111,n.NUMPAD_ENTER=108,n.NUMPAD_MULTIPLY=106,n.NUMPAD_SUBTRACT=109,n.SEMICOLON=186,n.EQUAL=187,n.COMMA=188,n.MINUS=189,n.PERIOD=190,n.SLASH=191,n.BACKQUOTE=192,n.LEFTBRACKET=219,n.BACKSLASH=220,n.RIGHTBRACKET=221,n.QUOTE=222,n.ALTERNATE=18,n.BACKSPACE=8,n.CAPS_LOCK=20,n.COMMAND=15,n.CONTROL=17,n.DELETE=46,n.ENTER=13,n.ESCAPE=27,n.PAGE_UP=33,n.PAGE_DOWN=34,n.END=35,n.HOME=36,n.LEFT=37,n.UP=38,n.RIGHT=39,n.DOWN=40,n.SHIFT=16,n.SPACE=32,n.TAB=9,n.INSERT=45,n}(),ol=function(){function n(){}r(n,"laya.events.Event");var t=n.prototype;return t.setTo=function(n,t,i){return this.type=n,this.currentTarget=t,this.target=i,this},t.stopPropagation=function(){this._stoped=!0},e(0,t,"stageY",function(){return i.stage.mouseY}),e(0,t,"charCode",function(){return this.nativeEvent.charCode}),e(0,t,"touches",function(){var t,f,u,e,r,n;if(!this.nativeEvent)return null;if(t=this.nativeEvent.touches,t)for(f=i.stage,u=0,e=t.length;u<e;u++)r=t[u],n=kt.TEMP,n.setTo(r.clientX,r.clientY),f._canvasTransform.invertTransformPoint(n),f.transform.invertTransformPoint(n),r.stageX=n.x,r.stageY=n.y;return t}),e(0,t,"keyLocation",function(){return this.nativeEvent.location||this.nativeEvent.keyLocation}),e(0,t,"ctrlKey",function(){return this.nativeEvent.ctrlKey}),e(0,t,"altKey",function(){return this.nativeEvent.altKey}),e(0,t,"shiftKey",function(){return this.nativeEvent.shiftKey}),e(0,t,"stageX",function(){return i.stage.mouseX}),n.EMPTY=new n,n.MOUSE_DOWN="mousedown",n.MOUSE_UP="mouseup",n.CLICK="click",n.RIGHT_MOUSE_DOWN="rightmousedown",n.RIGHT_MOUSE_UP="rightmouseup",n.RIGHT_CLICK="rightclick",n.MOUSE_MOVE="mousemove",n.MOUSE_OVER="mouseover",n.MOUSE_OUT="mouseout",n.MOUSE_WHEEL="mousewheel",n.ROLL_OVER="mouseover",n.ROLL_OUT="mouseout",n.DOUBLE_CLICK="doubleclick",n.CHANGE="change",n.CHANGED="changed",n.RESIZE="resize",n.ADDED="added",n.REMOVED="removed",n.DISPLAY="display",n.UNDISPLAY="undisplay",n.ERROR="error",n.COMPLETE="complete",n.LOADED="loaded",n.READY="ready",n.PROGRESS="progress",n.INPUT="input",n.RENDER="render",n.OPEN="open",n.MESSAGE="message",n.CLOSE="close",n.KEY_DOWN="keydown",n.KEY_PRESS="keypress",n.KEY_UP="keyup",n.FRAME="enterframe",n.DRAG_START="dragstart",n.DRAG_MOVE="dragmove",n.DRAG_END="dragend",n.ENTER="enter",n.SELECT="select",n.BLUR="blur",n.FOCUS="focus",n.VISIBILITY_CHANGE="visibilitychange",n.FOCUS_CHANGE="focuschange",n.PLAYED="played",n.PAUSED="paused",n.STOPPED="stopped",n.START="start",n.END="end",n.COMPONENT_ADDED="componentadded",n.COMPONENT_REMOVED="componentremoved",n.RELEASED="released",n.LINK="link",n.LABEL="label",n.FULL_SCREEN_CHANGE="fullscreenchange",n.DEVICE_LOST="devicelost",n.TRANSFORM_CHANGED="transformchanged",n.ANIMATION_CHANGED="animationchanged",n.TRAIL_FILTER_CHANGE="trailfilterchange",n.TRIGGER_ENTER="triggerenter",n.TRIGGER_STAY="triggerstay",n.TRIGGER_EXIT="triggerexit",n}(),irt=function(){function n(){this.name=null;this.targetIndex=0;this.rotateMix=NaN;this.translateMix=NaN;this.scaleMix=NaN;this.shearMix=NaN;this.offsetRotation=NaN;this.offsetX=NaN;this.offsetY=NaN;this.offsetScaleX=NaN;this.offsetScaleY=NaN;this.offsetShearY=NaN;this.boneIndexs=[]}return r(n,"laya.ani.bone.TfConstraintData"),n}(),by=function(){function n(){this.x=0;this.y=0;this.w=0;this.h=0;this.wordStartIndex=0;this.minTextHeight=99999;this.mWidth=0;this.elements=[]}r(n,"laya.html.utils.LayoutLine");var t=n.prototype;return t.updatePos=function(n,t,i,r,u,f,e){var l=0,o,s,a,c,y,p,v,h;for(this.elements.length>0&&(o=this.elements[this.elements.length-1],l=o.x+o.width-this.elements[0].x),e=e||this.h,s=0,a=NaN,u==="center"&&(s=(t-l)/2),u==="right"&&(s=t-l),c=0,y=this.elements.length;c<y;c++){o=this.elements[c];p=o._getCSSStyle();s!==0&&(o.x+=s);switch(p.valign){case"top":o.y=r;break;case"middle":v=0;this.minTextHeight!=99999&&(v=this.minTextHeight);h=(v+e)/2;h=Math.max(h,this.h);a=o instanceof laya.html.dom.HTMLImageElement?r+h-o.height:r+h-o.height;o.y=a;break;case"bottom":o.y=r+(e-o.height)}}},n}(),ke=function(){function t(){this._creates();this.reset()}r(t,"laya.html.dom.HTMLElement");var n=t.prototype;return n._creates=function(){this._style=de.create()},n.reset=function(){var i;if(this.URI=null,this.parent=null,this._style.reset(),this._style.ower=this,this._style.valign="middle",this._text&&this._text.words)for(var r=this._text.words,n=0,u=0,u=r.length,n=0;n<u;n++)i=r[n],i&&i.recover();return this._text=t._EMPTYTEXT,this._children&&(this._children.length=0),this._x=this._y=this._width=this._height=0,this},n._getCSSStyle=function(){return this._style},n._addChildsToLayout=function(n){var r=this,t=this._getWords(),i,u;if(t==null&&(!this._children||this._children.length==0))return!1;if(t)for(i=0,u=t.length;i<u;i++)n.push(t[i]);return this._children&&this._children.forEach(function(t){r._style?r._style._enableLayout&&r._style._enableLayout()&&t._addToLayout(n):t._addToLayout(n)}),!0},n._addToLayout=function(n){if(this._style){var t=this._style;t.absolute||(t.block?n.push(this):this._addChildsToLayout(n)&&(this.x=this.y=0))}},n.repaint=function(n){n===void 0&&(n=!1);this.parentRepaint(n)},n.parentRepaint=function(n){n===void 0&&(n=!1);this.parent&&this.parent.repaint(n)},n._setParent=function(n){if(n instanceof laya.html.dom.HTMLElement){var t=n;this.URI||(this.URI=t.URI);this.style&&this.style.inherit(t.style)}},n.appendChild=function(n){return this.addChild(n)},n.addChild=function(n){return n.parent&&n.parent.removeChild(n),this._children||(this._children=[]),this._children.push(n),n.parent=this,n._setParent(this),this.repaint(),n},n.removeChild=function(n){if(!this._children)return null;for(var t=0,i=0,i=this._children.length,t=0;t<i;t++)if(this._children[t]==n)return this._children.splice(t,1),n;return null},n.destroy=function(){this._children&&(this.destroyChildren(),this._children.length=0);it.recover(t.getClassName(this),this.reset())},n.destroyChildren=function(){if(this._children){for(var n=this._children.length-1;n>-1;n--)this._children[n].destroy();this._children.length=0}},n._getWords=function(){var t,n,u,r,f,i,e;if(!this._text||(t=this._text.text,!t||t.length===0))return null;if(n=this._text.words,n&&n.length===t.length)return n;for(n===null&&(this._text.words=n=[]),n.length=t.length,r=this.style,f=r.font,i=0,e=t.length;i<e;i++)u=bt.measureText(t.charAt(i),f),n[i]=grt.create().setData(t.charAt(i),u.width,u.height||r.fontSize,r);return n},n._isChar=function(){return!1},n._layoutLater=function(){var n=this.style;n._type&512||(n.widthed(this)&&(this._children&&this._children.length>0||this._getWords()!=null)&&n.block?(vp.later(this),n._type|=512):this.parent&&this.parent._layoutLater())},n._setAttributes=function(n,t){switch(n){case"style":this.style.cssText(t);break;case"class":this.className=t;break;case"x":this.x=parseFloat(t);break;case"y":this.y=parseFloat(t);break;case"width":this.width=parseFloat(t);break;case"height":this.height=parseFloat(t);break;default:this[n]=t}},n.formatURL=function(n){return this.URI?t.formatURL1(n,this.URI?this.URI.path:null):n},n.drawToGraphic=function(n,t,i,r){var u,f,e,o;if(t+=this.x,i+=this.y,u=this.style,u.paddingLeft&&(t+=u.paddingLeft),u.paddingTop&&(i+=u.paddingTop),(u.bgColor!=null||u.borderColor)&&n.drawRect(t,i,this.width,this.height,u.bgColor,u.borderColor,1),this.renderSelfToGraphic(n,t,i,r),f=0,e=0,this._children&&this._children.length>0)for(e=this._children.length,f=0;f<e;f++)o=this._children[f],o.drawToGraphic!=null&&o.drawToGraphic(n,t,i,r)},n.renderSelfToGraphic=function(n,t,i,r){var e=this.style,u=this._getWords(),v=0,c,o,s,a,h;if(u&&(v=u.length,e&&(c=e.font,o=e.color,e.stroke?(s=e.stroke,s=parseInt(s),a=e.strokeColor,n.fillBorderWords(u,t,i,c,o,a,s)):n.fillWords(u,t,i,c,o),this.href))){var y=u.length-1,f=u[y],l=f.y+f.height;f.y==u[0].y?(e.textDecoration!="none"&&(l+=2,n.drawLine(u[0].x,l,f.x+f.width,l,o,2)),h=ep.create(),h.rec.setTo(u[0].x,f.y,f.x+f.width-u[0].x,f.height),h.href=this.href,r.push(h)):this.workLines(u,n,r)}},n.workLines=function(n,t,i){var h=this.style,o=!1,u,s,r,f,e;if(o=h.textDecoration!="none",u=0,s=0,s=n.length,r=n[u],f=r,r){for(u=1;u<s;u++)e=n[u],e.y!=r.y?(this.createOneLine(r,f,o,t,i),r=e,f=e):f=e;this.createOneLine(r,f,o,t,i)}},n.createOneLine=function(n,t,i,r,u){var e=t.y+t.height,f;i&&(e+=2,r.drawLine(n.x,e,t.x+t.width,e,this.style.color,2));f=ep.create();f.rec.setTo(n.x,t.y,t.x+t.width-n.x,t.height);f.href=this.href;u.push(f)},e(0,n,"href",function(){return this._style?this._style.href:null},function(n){this._style&&n!=this._style.href&&(this._style.href=n,this.repaint())}),e(0,n,"color",null,function(n){this.style.color=n}),e(0,n,"id",null,function(n){ip.document.setElementById(n,this)}),e(0,n,"innerTEXT",function(){return this._text.text},function(n){this._text===t._EMPTYTEXT?this._text={text:n,words:null}:(this._text.text=n,this._text.words&&(this._text.words.length=0));this.repaint()}),e(0,n,"style",function(){return this._style}),e(0,n,"width",function(){return this._width},function(n){this._width!==n&&(this._width=n,this.repaint())}),e(0,n,"x",function(){return this._x},function(n){this._x!=n&&(this._x=n,this.parentRepaint())}),e(0,n,"y",function(){return this._y},function(n){this._y!=n&&(this._y=n,this.parentRepaint())}),e(0,n,"height",function(){return this._height},function(n){this._height!==n&&(this._height=n,this.repaint())}),e(0,n,"className",null,function(n){this.style.attrs(ip.document.styleSheets["."+n])}),t.formatURL1=function(n,t){if(!n)return"null path";if((t||(t=ti.basePath),n.indexOf(":")>0)||(ti.customFormat!=null&&(n=ti.customFormat(n)),n.indexOf(":")>0))return n;var i=n.charAt(0);if(i===".")return ti._formatRelativePath(t+n);if(i==="~")return ti.rootPath+n.substring(1);if(i==="d"){if(n.indexOf("data:image")===0)return n}else if(i==="/")return n;return t+n},t.getClassName=function(n){return typeof n=="function"?n.name:n.constructor.name},t._EMPTYTEXT={text:null,words:null},t}(),rrt=function(){function n(){}return r(n,"laya.ani.AnimationParser02"),n.READ_DATA=function(){n._DATA.offset=n._reader.getUint32();n._DATA.size=n._reader.getUint32()},n.READ_BLOCK=function(){for(var i=n._BLOCK.count=n._reader.getUint16(),r=n._BLOCK.blockStarts=[],u=n._BLOCK.blockLengths=[],t=0;t<i;t++)r.push(n._reader.getUint32()),u.push(n._reader.getUint32())},n.READ_STRINGS=function(){var i=n._reader.getUint32(),r=n._reader.getUint16(),u=n._reader.pos,t;for(n._reader.pos=i+n._DATA.offset,t=0;t<r;t++)n._strings[t]=n._reader.readUTFString();n._reader.pos=u},n.parse=function(t,i){var s,r,u;for(n._templet=t,n._reader=i,s=i.__getBuffer(),n.READ_DATA(),n.READ_BLOCK(),n.READ_STRINGS(),r=0,u=n._BLOCK.count;r<u;r++){var f=i.getUint16(),e=n._strings[f],o=n["READ_"+e];if(o==null)throw new Error("model file err,no this function:"+f+" "+e);else o.call(null)}},n.READ_ANIMATIONS=function(){var i=n._reader,d=i.__getBuffer(),u=0,o=0,h=0,y=0,e=i.getUint16(),l=[],a,r,p,w,t,v,c,f,s;for(l.length=e,u=0;u<e;u++)l[u]=ua.interpolation[i.getByte()];for(a=i.getUint8(),n._templet._anis.length=a,u=0;u<a;u++)for(r=n._templet._anis[u]=new up,r.nodes=[],p=r.name=n._strings[i.getUint16()],n._templet._aniMap[p]=u,r.bone3DMap={},r.playTime=i.getFloat32(),w=r.nodes.length=i.getInt16(),r.totalKeyframeDatasLength=0,o=0;o<w;o++){for(t=r.nodes[o]=new hp,t.keyframeWidth=e,t.childs=[],v=i.getUint16(),v>=0&&(t.name=n._strings[v],r.bone3DMap[t.name]=o),t.keyFrame=[],t.parentIndex=i.getInt16(),t.parent=t.parentIndex==-1?null:r.nodes[t.parentIndex],r.totalKeyframeDatasLength+=e,t.interpolationMethod=l,t.parent!=null&&t.parent.childs.push(t),c=i.getUint16(),t.keyFrame.length=c,f=null,s=null,h=0,y=c;h<y;h++){f=t.keyFrame[h]=new wp;f.startTime=i.getFloat32();s&&(s.duration=f.startTime-s.startTime);f.dData=new Float32Array(e);f.nextData=new Float32Array(e);var b=n._DATA.offset,k=i.getUint32(),g=e*4,nt=d.slice(b+k,b+k+g);f.data=new Float32Array(nt);s=f}f.duration=0;t.playTime=r.playTime;n._templet._calculateKeyFrame(t,c,e)}},n._templet=null,n._reader=null,n._strings=[],d(n,["_BLOCK",function(){return this._BLOCK={count:0}},"_DATA",function(){return this._DATA={offset:0,size:0}}]),n}(),ky=function(){function n(){}return r(n,"laya.ani.AnimationParser01"),n.parse=function(n,t){var l=t.__getBuffer(),h=0,c=0,e=0,g=0,s=0,w=0,o=0,st=t.readUTFString(),a,u,ut,ft,i,k,et,f,v,y,d,r,ot,p;n._aniClassName=st;var nt=t.readUTFString().split("\n"),tt=t.getUint8(),it=t.getUint32(),b=t.getUint32(),rt;for(it>0&&(rt=l.slice(it,b)),a=new lu(rt),b>0&&(n._publicExtData=l.slice(b,l.byteLength)),n._useParent=!!t.getUint8(),n._anis.length=tt,h=0;h<tt;h++)for(u=n._anis[h]=new up,u.nodes=[],ut=u.name=nt[t.getUint16()],n._aniMap[ut]=h,u.bone3DMap={},u.playTime=t.getFloat32(),ft=u.nodes.length=t.getUint8(),u.totalKeyframeDatasLength=0,c=0;c<ft;c++){if(i=u.nodes[c]=new hp,i.childs=[],k=t.getInt16(),k>=0&&(i.name=nt[k],u.bone3DMap[i.name]=c),i.keyFrame=[],i.parentIndex=t.getInt16(),i.parent=i.parentIndex==-1?null:u.nodes[i.parentIndex],i.lerpType=t.getUint8(),et=t.getUint32(),a.pos=et,f=i.keyframeWidth=a.getUint16(),u.totalKeyframeDatasLength+=f,i.lerpType===0||i.lerpType===1)for(i.interpolationMethod=[],i.interpolationMethod.length=f,e=0;e<f;e++)i.interpolationMethod[e]=ua.interpolation[a.getUint8()];for(i.parent!=null&&i.parent.childs.push(i),v=t.getUint16(),v>0&&(i.extenData=l.slice(t.pos,t.pos+v),t.pos+=v),y=t.getUint16(),i.keyFrame.length=y,d=0,e=0,g=y;e<g;e++){if(r=i.keyFrame[e]=new wp,r.duration=t.getFloat32(),r.startTime=d,i.lerpType===2){r.interpolationData=[];ot=t.getUint8();p=0;p=t.getFloat32();switch(p){case 254:for(r.interpolationData.length=f,o=0;o<f;o++)r.interpolationData[o]=0;break;case 255:for(r.interpolationData.length=f,o=0;o<f;o++)r.interpolationData[o]=5;break;default:for(r.interpolationData.push(p),w=1;w<ot;w++)r.interpolationData.push(t.getFloat32())}}for(r.data=new Float32Array(f),r.dData=new Float32Array(f),r.nextData=new Float32Array(f),s=0;s<f;s++)r.data[s]=t.getFloat32(),r.data[s]>-1e-8&&r.data[s]<1e-8&&(r.data[s]=0);d+=r.duration}r.startTime=u.playTime;i.playTime=u.playTime;n._calculateKeyFrame(i,y,f)}},n}(),urt=function(){function n(){}return r(n,"laya.debug.tools.Base64Tool"),n.init=function(){if(!n.lookup){n.lookup=new Uint8Array(256);for(var t=0;t<n.chars.length;t++)n.lookup[n.chars.charCodeAt(t)]=t}},n.encode=function(t){for(var u=new Uint8Array(t),r=0,f=u.length,i="",r=0;r<f;r+=3)i+=n.chars[u[r]>>2],i+=n.chars[(u[r]&3)<<4|u[r+1]>>4],i+=n.chars[(u[r+1]&15)<<2|u[r+2]>>6],i+=n.chars[u[r+2]&63];return f%3==2?i=i.substring(0,i.length-1)+"=":f%3==1&&(i=i.substring(0,i.length-2)+"=="),i},n.encodeStr=function(t){var i;return i=new sl,i.writeUTFString(t),n.encodeByte(i)},n.encodeStr2=function(t){var i;return i=new sl,i.writeUTFBytes(t),n.encodeByte(i)},n.encodeByte=function(t,i,r){return i===void 0&&(i=0),r===void 0&&(r=-1),r<0&&(r=t.length),n.encode(t.buffer.slice(i,r))},n.decodeToByte=function(t){return new sl(n.decode(t))},n.decode=function(t){var s,r;n.init();var u=t.length*.75,l=t.length,i=0,f=0,h=0,e=0,o=0,c=0;for(t[t.length-1]==="="&&(u--,t[t.length-2]==="="&&u--),s=new ArrayBuffer(u),r=new Uint8Array(s),i=0;i<l;i+=4)h=n.lookup[t.charCodeAt(i)],e=n.lookup[t.charCodeAt(i+1)],o=n.lookup[t.charCodeAt(i+2)],c=n.lookup[t.charCodeAt(i+3)],r[f++]=h<<2|e>>4,r[f++]=(e&15)<<4|o>>2,r[f++]=(o&3)<<6|c&63;return s},n.chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n.lookup=null,n}(),frt=function(){function n(n,t){this._targetBone=null;this._bones=null;this._data=null;this.name=null;this.mix=NaN;this.bendDirection=NaN;this.isSpine=!0;this._sp=null;this.isDebug=!1;this._data=n;this._targetBone=t[n.targetBoneIndex];this.isSpine=n.isSpine;this._bones==null&&(this._bones=[]);this._bones.length=0;for(var i=0,r=n.boneIndexs.length;i<r;i++)this._bones.push(t[n.boneIndexs[i]]);this.name=n.name;this.mix=n.mix;this.bendDirection=n.bendDirection}r(n,"laya.ani.bone.IkConstraint");var t=n.prototype;return t.apply=function(){switch(this._bones.length){case 1:this._applyIk1(this._bones[0],this._targetBone.resultMatrix.tx,this._targetBone.resultMatrix.ty,this.mix);break;case 2:this.isSpine?this._applyIk2(this._bones[0],this._bones[1],this._targetBone.resultMatrix.tx,this._targetBone.resultMatrix.ty,this.bendDirection,this.mix):this._applyIk3(this._bones[0],this._bones[1],this._targetBone.resultMatrix.tx,this._targetBone.resultMatrix.ty,this.bendDirection,this.mix)}},t._applyIk1=function(t,i,r,u){var f=t.parentBone,o=1/(f.resultMatrix.a*f.resultMatrix.d-f.resultMatrix.b*f.resultMatrix.c),s=i-f.resultMatrix.tx,h=r-f.resultMatrix.ty,c=(s*f.resultMatrix.d-h*f.resultMatrix.c)*o-t.transform.x,l=(h*f.resultMatrix.a-s*f.resultMatrix.b)*o-t.transform.y,e=Math.atan2(l,c)*n.radDeg-0-t.transform.skX;t.transform.scX<0&&(e+=180);e>180?e-=360:e<-180&&(e+=360);t.transform.skX=t.transform.skY=t.transform.skX+e*u;t.update()},t.updatePos=function(n,t){this._sp&&this._sp.pos(n,t)},t._applyIk2=function(t,r,u,f,e,o){var k,it,vt,fi,rt,wt,ci,ut;if(o!=0){var ni=t.resultTransform.x,ti=t.resultTransform.y,g=t.transform.scX,ft=t.transform.scY,bt=r.transform.scX,ii=0,ri=0,et=0;g<0?(g=-g,ii=180,et=-1):(ii=0,et=1);ft<0&&(ft=-ft,et=-et);bt<0?(bt=-bt,ri=180):ri=0;var ot=r.resultTransform.x,st=NaN,ct=NaN,lt=NaN,l=t.resultMatrix.a,v=t.resultMatrix.c,b=t.resultMatrix.b,h=t.resultMatrix.d,li=Math.abs(g-ft)<=.0001;li?(st=r.resultTransform.y,ct=l*ot+v*st+t.resultMatrix.tx,lt=b*ot+h*st+t.resultMatrix.ty):(st=0,ct=l*ot+t.resultMatrix.tx,lt=b*ot+t.resultMatrix.ty);this.isDebug&&(this._sp||(this._sp=new s,i.stage.addChild(this._sp)),this._sp.graphics.clear(),this._sp.graphics.drawCircle(u,f,15,"#ffff00"),this._sp.graphics.drawCircle(ct,lt,15,"#ff00ff"));t.setRotation(Math.atan2(lt-t.resultMatrix.ty,ct-t.resultMatrix.tx));k=t.parentBone;l=k.resultMatrix.a;v=k.resultMatrix.c;b=k.resultMatrix.b;h=k.resultMatrix.d;var kt=1/(l*h-v*b),c=u-k.resultMatrix.tx,a=f-k.resultMatrix.ty,nt=(c*h-a*v)*kt-ni,tt=(a*l-c*b)*kt-ti;c=ct-k.resultMatrix.tx;a=lt-k.resultMatrix.ty;var ai=(c*h-a*v)*kt-ni,vi=(a*l-c*b)*kt-ti,y=Math.sqrt(ai*ai+vi*vi),d=r.length*bt,w=NaN,p=NaN;if(li)d*=g,it=(nt*nt+tt*tt-y*y-d*d)/(2*y*d),it<-1?it=-1:it>1&&(it=1),p=Math.acos(it)*e,l=y+d*it,v=d*Math.sin(p),w=Math.atan2(tt*l-nt*v,nt*l+tt*v);else{l=g*d;v=ft*d;var dt=l*l,at=v*v,gt=nt*nt+tt*tt,ui=Math.atan2(tt,nt);if(b=at*y*y+dt*gt-dt*at,vt=-2*at*y,fi=at-dt,h=vt*vt-4*fi*b,h>0){rt=Math.sqrt(h);vt<0&&(rt=-rt);rt=-(vt+rt)/2;var yi=rt/fi,pi=b/rt,ht=Math.abs(yi)<Math.abs(pi)?yi:pi;ht*ht<=gt&&(a=Math.sqrt(gt-ht*ht)*e,w=ui-Math.atan2(a,ht),p=Math.atan2(a/ft,(ht-y)/g))}var ei=0,yt=Number.MAX_VALUE,oi=0,wi=0,si=0,pt=0,hi=0,bi=0;c=y+l;h=c*c;h>pt&&(si=0,pt=h,hi=c);c=y-l;h=c*c;h<yt&&(ei=Math.PI,yt=h,oi=c);wt=Math.acos(-l*y/(dt-at));c=l*Math.cos(wt)+y;a=v*Math.sin(wt);h=c*c+a*a;h<yt&&(ei=wt,yt=h,oi=c,wi=a);h>pt&&(si=wt,pt=h,hi=c,bi=a);gt<=(yt+pt)/2?(w=ui-Math.atan2(wi*e,oi),p=ei*e):(w=ui-Math.atan2(bi*e,hi),p=si*e)}ci=Math.atan2(st,ot)*et;ut=t.resultTransform.skX;w=(w-ci)*n.radDeg+ii-ut;w>180?w-=360:w<-180&&(w+=360);t.resultTransform.x=ni;t.resultTransform.y=ti;t.resultTransform.skX=t.resultTransform.skY=ut+w*o;ut=r.resultTransform.skX;ut=ut%360;p=((p+ci)*n.radDeg-0)*et+ri-ut;p>180?p-=360:p<-180&&(p+=360);r.resultTransform.x=ot;r.resultTransform.y=st;r.resultTransform.skX=r.resultTransform.skY=r.resultTransform.skY+p*o;t.update()}},t._applyIk3=function(t,r,u,f,e,o){var it,ut,a,ft,g;if(o!=0){var y=NaN,p=NaN,ot=r.resultMatrix.a*r.length,st=r.resultMatrix.b*r.length,ht=ot*ot+st*st,nt=Math.sqrt(ht),w=t.resultMatrix.tx,b=t.resultMatrix.ty,k=r.resultMatrix.tx,d=r.resultMatrix.ty,h=k-w,c=d-b,et=h*h+c*c,v=Math.sqrt(et);h=u-t.resultMatrix.tx;c=f-t.resultMatrix.ty;var tt=h*h+c*c,l=Math.sqrt(tt);if(nt+v<=l||l+nt<=v||l+v<=nt)it=NaN,it=nt+v<=l?1:-1,k=w+it*(u-w)*v/l,d=b+it*(f-b)*v/l;else{var rt=(et-ht+tt)/(2*tt),ct=Math.sqrt(et-rt*rt*tt)/l,lt=w+h*rt,at=b+c*rt,vt=-c*ct,yt=h*ct;e>0?(k=lt-vt,d=at-yt):(k=lt+vt,d=at+yt)}y=k;p=d;this.isDebug&&(this._sp||(this._sp=new s,i.stage.addChild(this._sp)),this._sp.graphics.clear(),this._sp.graphics.drawCircle(w,b,15,"#ff00ff"),this._sp.graphics.drawCircle(u,f,15,"#ffff00"),this._sp.graphics.drawCircle(y,p,15,"#ff00ff"));ut=NaN;ut=Math.atan2(p-t.resultMatrix.ty,y-t.resultMatrix.tx);t.setRotation(ut);a=n._tempMatrix;a.identity();a.rotate(ut);a.scale(t.resultMatrix.getScaleX(),t.resultMatrix.getScaleY());a.translate(t.resultMatrix.tx,t.resultMatrix.ty);a.copyTo(t.resultMatrix);t.updateChild();ft=NaN;ft=Math.atan2(f-p,u-y);r.setRotation(ft);g=n._tempMatrix;g.identity();g.rotate(ft);g.scale(r.resultMatrix.getScaleX(),r.resultMatrix.getScaleY());g.translate(y,p);a.copyTo(r.resultMatrix);r.updateChild()}},d(n,["radDeg",function(){return this.radDeg=180/Math.PI},"degRad",function(){return this.degRad=Math.PI/180},"_tempMatrix",function(){return this._tempMatrix=new ht}]),n}(),dy=function(){function t(){}r(t,"laya.webgl.text.ICharRender");var n=t.prototype;return n.getWidth=function(){return 0},n.scale=function(){},n.getCharBmp=function(){return null},e(0,n,"canvasWidth",function(){return 0},function(){}),t}(),bt=function(){function t(){}return r(t,"laya.utils.Utils"),t.toRadian=function(n){return n*t._pi2},t.toAngle=function(n){return n*t._pi},t.toHexColor=function(n){if(n<0||isNaN(n))return null;for(var t=n.toString(16);t.length<6;)t="0"+t;return"#"+t},t.getGID=function(){return t._gid++},t.concatArray=function(n,t){if(!t)return n;if(!n)return t;for(var i=0,r=t.length,i=0;i<r;i++)n.push(t[i]);return n},t.clearArray=function(n){return n?(n.length=0,n):n},t.copyArray=function(n,t){if(n||(n=[]),!t)return n;n.length=t.length;for(var i=0,r=t.length,i=0;i<r;i++)n[i]=t[i];return n},t.getGlobalRecByPoints=function(n,t,i,r,u){var f,e,o;return f=kt.create().setTo(t,i),f=n.localToGlobal(f),e=kt.create().setTo(r,u),e=n.localToGlobal(e),o=ct._getWrapRec([f.x,f.y,e.x,e.y]),f.recover(),e.recover(),o},t.getGlobalPosAndScale=function(n){return t.getGlobalRecByPoints(n,0,0,1,1)},t.bind=function(n,t){var i=n;return n.bind(t)},t.measureText=function(n,t){return ru.measureText(n,t)},t.updateOrder=function(n){if(!n||n.length<2)return!1;for(var i=1,t=0,f=n.length,r=NaN,u;i<f;){for(t=i,u=n[t],r=n[t]._zOrder;--t>-1;)if(n[t]._zOrder>r)n[t+1]=n[t];else break;n[t+1]=u;i++}return!0},t.transPointList=function(n,t,i){for(var r=0,u=n.length,r=0;r<u;r+=2)n[r]+=t,n[r+1]+=i},t.parseInt=function(n,t){t===void 0&&(t=0);var i=c.window.parseInt(n,t);return isNaN(i)?0:i},t.getFileExtension=function(n){t._extReg.lastIndex=n.lastIndexOf(".");var i=t._extReg.exec(n);return i&&i.length>1?i[1].toLowerCase():null},t.getTransformRelativeToWindow=function(n,t,r){var v=i.stage,o=laya.utils.Utils.getGlobalPosAndScale(n),u=v._canvasTransform.clone(),c=u.tx,l=u.ty,s,h;u.rotate(-Math.PI/180*i.stage.canvasDegree);u.scale(i.stage.clientScaleX,i.stage.clientScaleY);var a=i.stage.canvasDegree%180!=0,e=NaN,f=NaN;return a?(e=r+o.y,f=t+o.x,e*=u.d,f*=u.a,i.stage.canvasDegree==90?(e=c-e,f+=l):(e+=c,f=l-f)):(e=t+o.x,f=r+o.y,e*=u.a,f*=u.d,e+=c,f+=l),f+=i.stage._safariOffsetY,e=e>>0,f=f>>0,s=NaN,h=NaN,a?(s=u.d*o.height,h=u.a*o.width):(s=u.a*o.width,h=u.d*o.height),{x:e,y:f,scaleX:s,scaleY:h}},t.fitDOMElementInArea=function(n,r,u,f,e,o){n._fitLayaAirInitialized||(n._fitLayaAirInitialized=!0,n.style.transformOrigin=n.style.webKittransformOrigin="left top",n.style.position="absolute");var s=t.getTransformRelativeToWindow(r,u,f);n.style.transform=n.style.webkitTransform="scale("+s.scaleX+","+s.scaleY+") rotate("+i.stage.canvasDegree+"deg)";n.style.width=e+"px";n.style.height=o+"px";n.style.left=s.x+"px";n.style.top=s.y+"px"},t.isOkTextureList=function(n){if(!n)return!1;for(var t=0,r=n.length,i,t=0;t<r;t++)if(i=n[t],!i||!i._getSource())return!1;return!0},t.isOKCmdList=function(n){if(!n)return!1;for(var t=0,i=n.length,r,t=0;t<i;t++)r=n[t];return!0},t.getQueryString=function(t){if(c.onMiniGame||!n.location||!n.location.search)return null;var r=new RegExp("(^|&)"+t+"=([^&]*)(&|$)"),i=n.location.search.substr(1).match(r);return i!=null?unescape(i[2]):null},t._gid=1,t._pi=180/Math.PI,t._pi2=Math.PI/180,t._extReg=/\.(\w+)\??/g,t.parseXMLFromString=function(n,t){t===void 0&&(t=!1);var i;if(t||(n=n.replace(/>\s+</g,"><")),i=(new DOMParser).parseFromString(n,"text/xml"),i.firstChild.textContent.indexOf("This page contains the following errors")>-1)throw new Error(i.firstChild.firstChild.textContent);return i},t}(),ert=function(){function n(){this.time=NaN;this.drawOrder=[]}return r(n,"laya.ani.bone.DrawOrderData"),n}(),tt=function(){function t(n,r){function u(){i.stage._loop();c.window.requestAnimationFrame(u)}this._timeId=0;t._mainCanvas.source.id="layaCanvas";t._mainCanvas.source.width=n;t._mainCanvas.source.height=r;laya.renders.Render.isConchApp?c.document.body.appendChild(t._mainCanvas.source):c.onKGMiniGame||c.container.appendChild(t._mainCanvas.source);this.initRender(t._mainCanvas,n,r);c.window.requestAnimationFrame(u);i.stage.on("visibilitychange",this,this._onVisibilitychange)}r(t,"laya.renders.Render");var u=t.prototype;return u._onVisibilitychange=function(){i.stage.isVisibility?this._timeId!=0&&c.window.clearInterval(this._timeId):this._timeId=c.window.setInterval(this._enterFrame,100)},u.initRender=function(n,t,i){function e(n){var t,i=["webgl2","webgl","experimental-webgl","webkit-3d","moz-webgl","experimental-webgl2","2d"];wu.useWebGL2||i.shift();var f={stencil:wu.isStencil,alpha:wu.isAlpha,antialias:wu.isAntialias,premultipliedAlpha:wu.premultipliedAlpha,preserveDrawingBuffer:wu.preserveDrawingBuffer},r=0,e=i.length,u;for(r;r<e;r++){u=i.shift();try{t=n.getContext(u,f)}catch(o){}if(t)return u==="webgl2"&&(at._isWebGL2=!0),new yt,t}return null}var r=yt.instance=at.mainContext=e(laya.renders.Render._mainCanvas.source),u,f;if(!r)return!1;n.size(t,i);lt.__init__(r);gu.__init__();si.__init__();u=new gu;u.isMain=!0;laya.renders.Render._context=u;n._setContext(u);at.shaderHighPrecision=!1;try{f=r.getShaderPrecisionFormat(35632,36338);at.shaderHighPrecision=f.precision?!0:!1}catch(o){}return yt.instance=r,art.__init__(),kh.__init__(),ur.__init__(),pl.__init__(),ra.__int__(r),yi._init_(r),!0},u._enterFrame=function(){i.stage._loop()},e(1,t,"context",function(){return t._context}),e(1,t,"canvas",function(){return t._mainCanvas.source}),t._context=null,t._mainCanvas=null,t.supportWebGLPlusCulling=!1,t.supportWebGLPlusAnimation=!1,t.supportWebGLPlusRendering=!1,t.isConchApp=!1,t.is3DMode=!1,t.__init$=function(){t.isConchApp=n.conch!=null;t.isConchApp&&(t.supportWebGLPlusCulling=!0,t.supportWebGLPlusAnimation=!0,t.supportWebGLPlusRendering=!0)},t}(),ort=function(){function n(){}return r(n,"laya.html.utils.HTMLParse"),n.getInstance=function(t){var i=it.getItem(n._htmlClassMapShort[t]);return i||(i=ne.getInstance(t)),i},n.parse=function(t,i,r){i="<root>"+i+"<\/root>";i=i.replace(/\[cs#([0-9a-f]+),[\s]{0,}(\d+)\]/gim,"<span style='color:#$1;font-size:$2px;'>");i=i.replace(/\[cs\]/gim,"<\/span>");i=i.replace(/(\[\/cs\])/gim,"<\/span>");i=i.replace(/(\[c])/gim,"<\/span>");i=i.replace(/(\[\/c\])/gim,"<\/span>");i=i.replace(/\[c#([0-9a-f]+)\]/gim,"<span style='color:#$1'>");i=i.replace(/\[s#([0-9]+)\]/gim,"<span style='font-size:$1px;'>");i=i.replace(/\[s\]/gim,"<\/span>");i=i.replace(/(\[\/s\])/gim,"<\/span>");i=i.replace(/<b>/gim,'<span style="bold:true;">');i=i.replace(/<\/b>/gim,"<\/span>");i=i.replace(/<br>/g,"<br/>");i=i.replace(/[\r|\n|\\\n]/gi,"<br/>");i=i.replace(/&(?!(\w+);)/g,"&amp;");i=i.replace(n.spacePattern,n.char255);i=i.replace(/>(.*?)</g,n.regSpace);var u=bt.parseXMLFromString(i,!0);n._parseXML(t,u.childNodes[0].childNodes,r,null,t.style.family)},n.regSpace=function(){return">"+arguments[1].replace(/\s/g,n.char255)+"<"},n._parseXML=function(t,i,r,u,f){var o=0,c=0,e,s,l,h;if(i.join||i.item)for(c=i.length,o=0;o<c;++o)n._parseXML(t,i[o],r,u,f);else{if(i.nodeType==3){l=i.textContent.replace(n.char255AndOneSpacePattern," ");i.nodeName==null&&(i.nodeName="#text");s=i.nodeName.toLowerCase();l.length>0&&(e=n.getInstance(s),e&&(e.URI=r,e.href=u,e.style.family=f,t.addChild(e),e.innerTEXT=l));return}if(s=i.nodeName.toLowerCase(),s=="#comment")return;if(e=n.getInstance(s),e){if(s=="p"?(t.addChild(n.getInstance("br")),e=t.addChild(e),t.addChild(n.getInstance("br"))):e=t.addChild(e),e.URI=r,e.href=u,h=i.attributes,h&&h.length>0)for(o=0,c=h.length;o<c;++o){var a=h[o],v=a.nodeName,y=a.value;e._setAttributes(v,y)}n._parseXML(e,i.childNodes,r,e.href,f)}else n._parseXML(t,i.childNodes,r,u,f)}},n.char255=String.fromCharCode(255),n.spacePattern=/&nbsp;|&#160;/g,n.char255AndOneSpacePattern=new RegExp(String.fromCharCode(255)+"|(\\s+)","g"),n._htmlClassMapShort={div:"HTMLDivParser",p:"HTMLElement",img:"HTMLImageElement",span:"HTMLElement",br:"HTMLBrElement",style:"HTMLStyleElement",font:"HTMLElement",a:"HTMLElement","#text":"HTMLElement",link:"HTMLLinkElement"},n}(),gy=function(){function n(){this._mesh=null;this._startIdx=0;this._numEle=0;this.shaderValue=null;this.blendType=0;this._ref=1;this.srcRT=null;this._key=new vh}r(n,"laya.webgl.submit.SubmitTarget");var t=n.prototype;return i.imps(t,{"laya.webgl.submit.ISubmit":!0}),t.renderSubmit=function(){var t=at.mainContext,n;return this._mesh.useMesh(t),n=this.srcRT,n&&(this.shaderValue.texture=n._getSource(),this.shaderValue.upload(),this.blend(),ni.renderBatches++,ni.trianglesFaces+=this._numEle/3,at.mainContext.drawElements(4,this._numEle,5123,this._startIdx)),1},t.blend=function(){if(yi.activeBlendFunction!==yi.fns[this.blendType]){var n=at.mainContext;n.enable(3042);yi.fns[this.blendType](n);yi.activeBlendFunction=yi.fns[this.blendType]}},t.getRenderType=function(){return 0},t.releaseRender=function(){if(--this._ref<1){var t=n.POOL;t[t._length++]=this}},t.reUse=function(n,t){return this._startIdx=t,this._ref++,t},n.create=function(t,i,r,u){var f=n.POOL._length?n.POOL[--n.POOL._length]:new n,e;return f._mesh=i,f.srcRT=u,f._startIdx=i.indexNum*lf.BYTES_PIDX,f._ref=1,f._key.clear(),f._numEle=0,f.blendType=t._nBlendType,f._key.blendShader=f.blendType,f.shaderValue=r,f.shaderValue.setValue(t._shader2D),t._colorFiler&&(e=t._colorFiler,r.defines.add(e.type),r.colorMat=e._mat,r.colorAlpha=e._alpha),f},n.POOL=[],n.__init$=function(){n.POOL._length=0},n}(),srt=function(){function n(){this.name=null;this.target=null;this.positionMode=null;this.spacingMode=null;this.rotateMode=null;this.offsetRotation=NaN;this.position=NaN;this.spacing=NaN;this.rotateMix=NaN;this.translateMix=NaN;this.bones=[]}return r(n,"laya.ani.bone.PathConstraintData"),n}(),hrt=function(){function t(){this.name=null;this.root=null;this.parentBone=null;this.length=10;this.transform=null;this.inheritScale=!0;this.inheritRotation=!0;this.rotation=NaN;this.resultRotation=NaN;this.d=-1;this._tempMatrix=null;this._sprite=null;this.resultTransform=new hl;this.resultMatrix=new ht;this._children=[]}r(t,"laya.ani.bone.Bone");var n=t.prototype;return n.setTempMatrix=function(n){this._tempMatrix=n;for(var t=0,i=0,r,t=0,i=this._children.length;t<i;t++)r=this._children[t],r.setTempMatrix(this._tempMatrix)},n.update=function(n){var t,r,c,a;if(this.rotation=this.transform.skX,n)t=this.resultTransform.getMatrix(),ht.mul(t,n,this.resultMatrix),this.resultRotation=this.rotation;else if(this.resultRotation=this.rotation+this.parentBone.resultRotation,this.parentBone)if(this.inheritRotation&&this.inheritScale)t=this.resultTransform.getMatrix(),ht.mul(t,this.parentBone.resultMatrix,this.resultMatrix);else{var l=this.parentBone,f=NaN,e=NaN,o=NaN,i=this.parentBone.resultMatrix;t=this.resultTransform.getMatrix();var s=i.a*t.tx+i.c*t.ty+i.tx,h=i.b*t.tx+i.d*t.ty+i.ty,u=new ht;this.inheritRotation?(f=Math.atan2(l.resultMatrix.b,l.resultMatrix.a),e=Math.cos(f),o=Math.sin(f),u.setTo(e,o,-o,e,0,0),ht.mul(this._tempMatrix,u,ht.TEMP),ht.TEMP.copyTo(u),t=this.resultTransform.getMatrix(),ht.mul(t,u,this.resultMatrix),this.resultTransform.scX*this.resultTransform.scY<0&&this.resultMatrix.rotate(Math.PI*.5),this.resultMatrix.tx=s,this.resultMatrix.ty=h):this.inheritScale?(t=this.resultTransform.getMatrix(),ht.TEMP.identity(),ht.TEMP.d=this.d,ht.mul(t,ht.TEMP,this.resultMatrix),this.resultMatrix.tx=s,this.resultMatrix.ty=h):(t=this.resultTransform.getMatrix(),ht.TEMP.identity(),ht.TEMP.d=this.d,ht.mul(t,ht.TEMP,this.resultMatrix),this.resultMatrix.tx=s,this.resultMatrix.ty=h)}else t=this.resultTransform.getMatrix(),t.copyTo(this.resultMatrix);for(r=0,c=0,r=0,c=this._children.length;r<c;r++)a=this._children[r],a.update()},n.updateChild=function(){for(var n=0,t=0,i,n=0,t=this._children.length;n<t;n++)i=this._children[n],i.update()},n.setRotation=function(n){this._sprite&&(this._sprite.rotation=n*180/Math.PI)},n.updateDraw=function(n,r){(!t.ShowBones||t.ShowBones[this.name])&&(this._sprite?(this._sprite.x=n+this.resultMatrix.tx,this._sprite.y=r+this.resultMatrix.ty):(this._sprite=new s,this._sprite.graphics.drawCircle(0,0,5,"#ff0000"),this._sprite.graphics.drawLine(0,0,this.length,0,"#00ff00"),this._sprite.graphics.fillText(this.name,0,0,20,"#00ff00","center"),i.stage.addChild(this._sprite),this._sprite.x=n+this.resultMatrix.tx,this._sprite.y=r+this.resultMatrix.ty));for(var u=0,f=0,e,u=0,f=this._children.length;u<f;u++)e=this._children[u],e.updateDraw(n,r)},n.addChild=function(n){this._children.push(n);n.parentBone=this},n.findBone=function(n){if(this.name==n)return this;for(var t=0,r=0,u,i,t=0,r=this._children.length;t<r;t++)if(u=this._children[t],i=u.findBone(n),i)return i;return null},n.localToWorld=function(n){var t=n[0],i=n[1];n[0]=t*this.resultMatrix.a+i*this.resultMatrix.c+this.resultMatrix.tx;n[1]=t*this.resultMatrix.b+i*this.resultMatrix.d+this.resultMatrix.ty},t.ShowBones={},t}(),or=function(){function n(){this.fontSizeInfo={};this.charRender=null;this.mapFont={};this.fontID=0;this.mapColor=[];this.colorID=0;this.fontScaleX=1;this.fontScaleY=1;this._curStrPos=0;this.bmpData32=null;this.lastFont=null;this.fontSizeW=0;this.fontSizeH=0;this.fontSizeOffX=0;this.fontSizeOffY=0;this.renderPerChar=!0;this.textureMem=0;this.fontStr=null;this.textAtlases=[];this.isoTextures=[];this.tmpAtlasPos=new kt;var r=!1,t=i.MiniAdpter;t&&t.systemInfo&&t.systemInfo.system&&(r=t.systemInfo.system.toLowerCase()==="ios 10.1.1");c.onMiniGame&&!r&&(n.isWan1Wan=!0);c.onLimixiu&&(n.isWan1Wan=!0);this.charRender=tt.isConchApp?new ist:new tst(n.atlasWidth,n.atlasWidth,n.scaleFontWithCtx,!n.isWan1Wan,!1);n.textRenderInst=this;i.textRender=this;n.atlasWidth2=n.atlasWidth*n.atlasWidth}r(n,"laya.webgl.text.TextRender");var t=n.prototype;return t.setFont=function(t){if(this.lastFont!=t){this.lastFont=t;var i=this.getFontSizeInfo(t._family),u=i>>24,f=i>>16&255,e=i>>8&255,o=i&255,r=t._size/n.standardFontSize;this.fontSizeOffX=Math.ceil(u*r);this.fontSizeOffY=Math.ceil(f*r);this.fontSizeW=Math.ceil(e*r);this.fontSizeH=Math.ceil(o*r);this.fontStr=t._font.indexOf("italic")>=0?t._font.replace("italic",""):t._font}},t.getNextChar=function(n){var f=n.length,u=this._curStrPos,r;if(u>=f)return null;for(var i=u,t=0;i<f;i++)if(r=n.charCodeAt(i),r>>>11==27){if(t==1)break;t=1;i++}else if(r!==65038&&r!==65039)if(r==8205)t=2;else if(t==0)t=1;else if(t==1)break;else t==2;return this._curStrPos=i,n.substring(u,i)},t.filltext=function(n,t,i,r,u,f,e,o,s,h){if(h===void 0&&(h=0),!(t.length<=0)){var l=ns.Parse(u),c=0;switch(s){case"center":c=1;break;case"right":c=2}this._fast_filltext(n,t,null,i,r,l,f,e,o,c,h)}},t.fillWords=function(n,t,i,r,u,f,e,o){if(t&&!(t.length<=0)){var s=ns.Parse(u);this._fast_filltext(n,null,t,i,r,s,f,e,o,0,0)}},t._fast_filltext=function(t,i,r,u,f,e,o,s,h,c,l){var b,k,nt,ut,it,rt,w,ft,ot;if((l===void 0&&(l=0),!i||!(i.length<1))&&(!r||!(r.length<1))){if(h<0&&(h=0),this.setFont(e),this.fontScaleX=this.fontScaleY=1,!tt.isConchApp&&n.scaleFontWithCtx){if(b=1,k=1,tt.isConchApp?(b=t._curMat.getScaleX(),k=t._curMat.getScaleY()):(b=t.getMatScaleX(),k=t.getMatScaleY()),b<.0001||k<.1)return;b>1&&(this.fontScaleX=b);k>1&&(this.fontScaleY=k)}e._italic&&(t._italicDeg=13);var y=i,g=!r&&i instanceof laya.utils.WordText,d=i,et=!!r,v=g?y.pageChars:[],p=0;g?(d=y._text,p=y.width,p<0&&(p=y.width=this.charRender.getWidth(this.fontStr,d))):p=d?this.charRender.getWidth(this.fontStr,d):0;switch(c){case 1:u-=p/2;break;case 2:u-=p}y&&v&&this.hasFreedText(v)&&(v=y.pageChars=[]);var a=null,ht=g||n.forceWholeRender,st=this.renderPerChar=!g||n.forceSplitRender||et||g&&y.splitRender;if(!v||v.length<1)if(st)for(nt=0,ut=0,this._curStrPos=0;;){if(et?(rt=r[this._curStrPos++],rt?(it=rt.char,nt=rt.x,ut=rt.y):it=null):it=this.getNextChar(d),!it)break;if(a=this.getCharRenderInfo(it,e,o,s,h,!1),!a)break;a.isSpace||(w=v[a.tex.id],w?w=w.words:(ft={texgen:a.tex.genID,tex:a.tex,words:[]},v[a.tex.id]=ft,w=ft.words),tt.isConchApp?w.push({ri:a,x:nt,y:ut,w:a.bmpWidth/this.fontScaleX,h:a.bmpHeight/this.fontScaleY}):w.push({ri:a,x:nt+1/this.fontScaleX,y:ut,w:(a.bmpWidth-2)/this.fontScaleX,h:(a.bmpHeight-1)/this.fontScaleY}),nt+=a.width)}else ot=n.noAtlas||p*this.fontScaleX>n.atlasWidth,a=this.getCharRenderInfo(d,e,o,s,h,ot),v[0]=tt.isConchApp?{texgen:a.tex.genID,tex:a.tex,words:[{ri:a,x:0,y:0,w:a.bmpWidth/this.fontScaleX,h:a.bmpHeight/this.fontScaleY}]}:{texgen:a.tex.genID,tex:a.tex,words:[{ri:a,x:1/this.fontScaleX,y:0/this.fontScaleY,w:(a.bmpWidth-2)/this.fontScaleX,h:(a.bmpHeight-1)/this.fontScaleY}]};this._drawResortedWords(t,u,f,v);t._italicDeg=0}},t._drawResortedWords=function(n,t,i,r){for(var h,c,l,o,s,u,f,a=n._charSubmitCache&&n._charSubmitCache._enbale,v=n._curMat,y=r.length,e=0;e<y;e++)if((h=r[e],h)&&(c=h.words,l=c.length,!(l<=0)))for(o=r[e].tex,s=0;s<l;s++)(u=c[s],f=u.ri,f.isSpace)||(f.touch(),n.drawTexAlign=!0,tt.isConchApp?n._drawTextureM(o.texture,t+u.x-f.orix,i+u.y-f.oriy,u.w,u.h,null,1,f.uv):n._inner_drawTexture(o.texture,o.texture.bitmap.id,t+u.x-f.orix,i+u.y-f.oriy,u.w,u.h,v,f.uv,1,a),n.touches&&n.touches.push(f))},t.hasFreedText=function(n){for(var t,r,u=n.length,i=0;i<u;i++)if((t=n[i],t)&&(r=t.tex,r.__destroyed||r.genID!=t.texgen))return!0;return!1},t.getCharRenderInfo=function(t,i,r,u,f,e){var v,h,a,b;e===void 0&&(e=!1);v=this.mapFont[i._family];v==undefined&&(this.mapFont[i._family]=v=this.fontID++);h=t+"_"+v+"_"+i._size+"_"+r;f>0&&(h+="_"+u+f);i._bold&&(h+="P");(this.fontScaleX!=1||this.fontScaleY!=1)&&(h+=(this.fontScaleX*20|0)+"_"+(this.fontScaleY*20|0));var y=0,d=this.textAtlases.length,o=null,p=null;if(!e)for(y=0;y<d;y++)if(p=this.textAtlases[y],o=p.charMaps[h],o)return o.touch(),o;o=new sp;this.charRender.scale(this.fontScaleX,this.fontScaleY);o.char=t;o.height=i._size;var s=i._size/3|0,c=null,w=Math.ceil(this.charRender.getWidth(this.fontStr,t)*this.fontScaleX);if(w>this.charRender.canvasWidth&&(this.charRender.canvasWidth=Math.min(2048,w+s*2)),e)c=this.charRender.getCharBmp(t,this.fontStr,f,r,u,o,s,s,s,s,null),a=fa.getTextTexture(c.width,c.height),a.addChar(c,0,0,o.uv),o.tex=a,o.orix=s,o.oriy=s,a.ri=o,this.isoTextures.push(a);else{b=t.length;b>1;var l=f*1,g=Math.ceil((this.fontSizeW+l*2)*this.fontScaleX),k=Math.ceil((this.fontSizeH+l*2)*this.fontScaleY);n.imgdtRect[0]=(s-this.fontSizeOffX-l)*this.fontScaleX|0;n.imgdtRect[1]=(s-this.fontSizeOffY-l)*this.fontScaleY|0;this.renderPerChar||b==1?(n.imgdtRect[2]=Math.max(w,g),n.imgdtRect[3]=Math.max(w,k)):(n.imgdtRect[2]=-1,n.imgdtRect[3]=k);c=this.charRender.getCharBmp(t,this.fontStr,f,r,u,o,s,s,s,s,n.imgdtRect);p=this.addBmpData(c,o);n.isWan1Wan?(o.orix=s,o.oriy=s):(o.orix=this.fontSizeOffX+l,o.oriy=this.fontSizeOffY+l);p.charMaps[h]=o}return o},t.addBmpData=function(n,t){for(var f=n.width,e=n.height,o=this.textAtlases.length,i=null,r=!1,u=0;u<o;u++)if(i=this.textAtlases[u],r=i.getAEmpty(f,e,this.tmpAtlasPos),r)break;if(!r){if(i=new go,this.textAtlases.push(i),r=i.getAEmpty(f,e,this.tmpAtlasPos),!r)throw"err1";this.cleanAtlases()}return r&&(i.texture.addChar(n,this.tmpAtlasPos.x,this.tmpAtlasPos.y,t.uv),t.tex=i.texture),i},t.GC=function(){for(var t=0,r=this.textAtlases.length,e=0,a=n.destroyAtlasDt,v=0,o=0,h=ni.loopCount,f=-1,c=0,i=null,u=null,s,l;t<r;t++)u=this.textAtlases[t],i=u.texture,i&&(v+=i.curUsedCovRate,o+=i.curUsedCovRateAtlas,s=u.usedRate-i.curUsedCovRateAtlas,c<s&&(c=s,f=t)),e=h-u.texture.lastTouchTm,e>a&&(n.showLog&&console.log("TextRender GC delete atlas "+i?u.texture.id:"unk"),u.destroy(),this.textAtlases[t]=this.textAtlases[r-1],r--,t--,f=-1);for(this.textAtlases.length=r,r=this.isoTextures.length,t=0;t<r;t++)i=this.isoTextures[t],e=h-i.lastTouchTm,e>n.destroyUnusedTextureDt&&(i.ri.deleted=!0,i.ri.tex=null,i.destroy(),this.isoTextures[t]=this.isoTextures[r-1],r--,t--);this.isoTextures.length=r;l=this.textAtlases.length>1&&this.textAtlases.length-o>=2;(n.atlasWidth*n.atlasWidth*4*this.textAtlases.length>n.cleanMem||l||n.simClean)&&(n.simClean=!1,n.showLog&&console.log("清理使用率低的贴图。总使用率:",o,":",this.textAtlases.length,"最差贴图:"+f),f>=0&&(u=this.textAtlases[f],u.destroy(),this.textAtlases[f]=this.textAtlases[this.textAtlases.length-1],this.textAtlases.length=this.textAtlases.length-1));fa.clean()},t.cleanAtlases=function(){},t.getCharBmp=function(){},t.checkBmpLine=function(n,t,i,r){var f,u;for(this.bmpData32.buffer!=n.data.buffer&&(this.bmpData32=new Uint32Array(n.data.buffer)),f=n.width*t+i,u=i;u<r;u++)if(this.bmpData32[f++]!=0)return!0;return!1},t.updateBbx=function(n,t,i){var h,o,c;i===void 0&&(i=!1);var e=n.width,l=n.height,u=0,f=t[1],s=0,r=f;if(this.checkBmpLine(n,f,0,e))for(;;){if(r=(f+s)/2|0,r+1>=f){t[1]=r;break}this.checkBmpLine(n,r,0,e)?f=r:s=r}if(t[3]>l)t[3]=l;else if(r=f=t[3],s=l,this.checkBmpLine(n,f,0,e))for(;;){if(r=(f+s)/2|0,r-1<=f){t[3]=r;break}this.checkBmpLine(n,r,0,e)?f=r:s=r}if(!i){for(h=t[0],o=e*t[1],r=t[1];r<t[3];r++){for(u=0;u<h;u++)if(this.bmpData32[o+u]!=0){h=u;break}o+=e}for(t[0]=h,c=t[2],o=e*t[1],r=t[1];r<t[3];r++){for(u=c;u<e;u++)if(this.bmpData32[o+u]!=0){c=u;break}o+=e}t[2]=c}},t.getFontSizeInfo=function(t){var o=this.fontSizeInfo[t],f,e,i;if(o!=undefined)return o;if(f="bold "+n.standardFontSize+"px "+t,n.isWan1Wan)return this.fontSizeW=this.charRender.getWidth(f,"有")*1.5,this.fontSizeH=n.standardFontSize*1.5,e=this.fontSizeW<<8|this.fontSizeH,this.fontSizeInfo[t]=e,e;n.pixelBBX[0]=n.standardFontSize/2;n.pixelBBX[1]=n.standardFontSize/2;n.pixelBBX[2]=n.standardFontSize;n.pixelBBX[3]=n.standardFontSize;var r=16,u=16,s=16,h=16;this.charRender.scale(1,1);n.tmpRI.height=n.standardFontSize;i=this.charRender.getCharBmp("g",f,0,"red",null,n.tmpRI,r,u,s,h);tt.isConchApp&&(i.data=new Uint8ClampedArray(i.data));this.bmpData32=new Uint32Array(i.data.buffer);this.updateBbx(i,n.pixelBBX,!1);i=this.charRender.getCharBmp("有",f,0,"red",null,n.tmpRI,u,u,s,h);tt.isConchApp&&(i.data=new Uint8ClampedArray(i.data));this.bmpData32=new Uint32Array(i.data.buffer);n.pixelBBX[2]<r+n.tmpRI.width&&(n.pixelBBX[2]=r+n.tmpRI.width);this.updateBbx(i,n.pixelBBX,!1);tt.isConchApp&&(r=0,u=0);var l=Math.max(r-n.pixelBBX[0],0),a=Math.max(u-n.pixelBBX[1],0),v=n.pixelBBX[2]-n.pixelBBX[0],y=n.pixelBBX[3]-n.pixelBBX[1]+1,c=l<<24|a<<16|v<<8|y;return this.fontSizeInfo[t]=c,c},t.printDbgInfo=function(){var i,r,u,f;console.log("图集个数:"+this.textAtlases.length+",每个图集大小:"+n.atlasWidth+"x"+n.atlasWidth," 用canvas:",n.isWan1Wan);console.log("图集占用空间:"+n.atlasWidth*n.atlasWidth/262144*this.textAtlases.length+"M");console.log("缓存用到的字体:");for(i in this.mapFont){var t=this.getFontSizeInfo(i),e=t>>24,o=t>>16&255,s=t>>8&255,h=t&255;console.log("    "+i," off:",e,o," size:",s,h)}r=0;console.log("缓存数据:");u=0;f=0;this.textAtlases.forEach(function(t){var s=t.texture.id,o=ni.loopCount-t.texture.lastTouchTm,h=o>0?""+o+"帧以前":"当前帧",e,i;u+=t.texture.curUsedCovRate;f+=t.texture.curUsedCovRateAtlas;console.log("--图集(id:"+s+",当前使用率:"+(t.texture.curUsedCovRate*1e3|0)+"‰","当前图集使用率:",(t.texture.curUsedCovRateAtlas*100|0)+"%","图集使用率:",t.usedRate*100|0,"%, 使用于:"+h+")--:");for(e in t.charMaps)i=t.charMaps[e],console.log("     off:",i.orix,i.oriy," bmp宽高:",i.bmpWidth,i.bmpHeight,"无效:",i.deleted,"touchdt:",ni.loopCount-i.touchTick,"位置:",i.uv[0]*n.atlasWidth|0,i.uv[1]*n.atlasWidth|0,"字符:",i.char,"key:",e),r++});console.log("独立贴图文字("+this.isoTextures.length+"个):");this.isoTextures.forEach(function(n){console.log("    size:",n._texW,n._texH,"touch间隔:",ni.loopCount-n.lastTouchTm,"char:",n.ri.char)});console.log("总缓存:",r,"总使用率:",u,"总当前图集使用率:",f)},t.showAtlas=function(t,r,u,f,e,o){if(!this.textAtlases[t])return console.log("没有这个图集"),null;var h=new s,c=this.textAtlases[t].texture,l={width:n.atlasWidth,height:n.atlasWidth,sourceWidth:n.atlasWidth,sourceHeight:n.atlasWidth,offsetX:0,offsetY:0,getIsReady:function(){return!0},_addReference:function(){},_removeReference:function(){},_getSource:function(){return c._getSource()},bitmap:{id:c.id},_uv:bi.DEF_UV};return h.size=function(n,t){return this.width=n,this.height=t,h.graphics.clear(),h.graphics.drawRect(0,0,h.width,h.height,r),h.graphics.drawTexture(l,0,0,h.width,h.height),this},h.graphics.drawRect(0,0,e,o,r),h.graphics.drawTexture(l,0,0,e,o),h.pos(u,f),i.stage.addChild(h),h},t.filltext_native=function(n,t,i,r,u,f,e,o,s,h,c){if((c===void 0&&(c=0),!t||!(t.length<=0))&&(!i||!(i.length<1))){var a=ns.Parse(f),l=0;switch(h){case"center":l=1;break;case"right":l=2}return this._fast_filltext(n,t,i,r,u,a,e,o,s,l,c)}},n.useOldCharBook=!1,n.atlasWidth=2048,n.noAtlas=!1,n.forceSplitRender=!1,n.forceWholeRender=!1,n.scaleFontWithCtx=!0,n.standardFontSize=32,n.destroyAtlasDt=10,n.checkCleanTextureDt=2e3,n.destroyUnusedTextureDt=3e3,n.cleanMem=104857600,n.isWan1Wan=!1,n.showLog=!1,n.debugUV=!1,n.atlasWidth2=4194304,n.textRenderInst=null,n.simClean=!1,d(n,["tmpRI",function(){return this.tmpRI=new sp},"pixelBBX",function(){return this.pixelBBX=[0,0,0,0]},"imgdtRect",function(){return this.imgdtRect=[0,0,0,0]}]),n}(),ti=function(){function n(t){this._url=null;this._path=null;this._url=n.formatURL(t);this._path=n.getPath(t)}r(n,"laya.net.URL");var t=n.prototype;return e(0,t,"path",function(){return this._path}),e(0,t,"url",function(){return this._url}),e(1,n,"basePath",function(){return n._basePath},function(t){n._basePath=i._getUrlPath();n._basePath=n.formatURL(t)}),n.formatURL=function(t){if(!t)return"null path";if(t.indexOf(":")>0||(n.customFormat!=null&&(t=n.customFormat(t)),t.indexOf(":")>0))return t;var i=t.charAt(0);if(i===".")return n._formatRelativePath(n._basePath+t);if(i==="~")return n.rootPath+t.substring(1);if(i==="d"){if(t.indexOf("data:image")===0)return t}else if(i==="/")return t;return n._basePath+t},n._formatRelativePath=function(n){for(var i=n.split("/"),t=0,r=i.length;t<r;t++)i[t]==".."&&(i.splice(t-1,2),t-=2);return i.join("/")},n.getPath=function(n){var t=n.lastIndexOf("/");return t>0?n.substr(0,t+1):""},n.getFileName=function(n){var t=n.lastIndexOf("/");return t>0?n.substr(t+1):n},n.getAdptedFilePath=function(t){var i,r,u;if(!n.exportSceneToJson||!t)return t;for(i=0,r=0,r=n._adpteTypeList.length,i=0;i<r;i++)u=n._adpteTypeList[i],t=t.replace(u[0],u[1]);return t},n.exportSceneToJson=!1,n.version=null,n._basePath="",n.rootPath="",n.customFormat=function(t){var i,r;return tt.isConchApp?t:n.version&&(i=n.version[t],i||(i=0),i>0)?(r="?"+i,t.indexOf(r)>-1)?t:t+r:t.indexOf("?")>-1?t:t+n.debugVer},d(n,["debugVer",function(){return this.debugVer="?v="+Math.ceil(Math.random()*9999)},"_adpteTypeList",function(){return this._adpteTypeList=[[".scene3d",".json"],[".scene",".json"],[".taa",".json"],[".prefab",".json"]]}]),n}(),crt=function(){function n(){}r(n,"laya.display.cmd.Draw9GridTexture");var t=n.prototype;return t.recover=function(){this.texture._removeReference();it.recover("Draw9GridTexture",this)},t.run=function(n,t,i){n.drawTextureWithSizeGrid(this.texture,this.x,this.y,this.width,this.height,this.sizeGrid,t,i)},e(0,t,"cmdID",function(){return"Draw9GridTexture"}),n.create=function(t,i,r,u,f,e){var o=it.getItemByClass("Draw9GridTexture",n);return o.texture=t,t._addReference(),o.x=i,o.y=r,o.width=u,o.height=f,o.sizeGrid=e,o},n.ID="Draw9GridTexture",n}(),np=function(){function n(){}return r(n,"laya.device.geolocation.Geolocation"),n.getCurrentPosition=function(t,i){n.navigator.geolocation.getCurrentPosition(function(i){n.position.setPosition(i);t.runWith(n.position)},function(n){i.runWith(n)},{enableHighAccuracy:laya.device.geolocation.Geolocation.enableHighAccuracy,timeout:laya.device.geolocation.Geolocation.timeout,maximumAge:laya.device.geolocation.Geolocation.maximumAge})},n.watchPosition=function(t,i){return n.navigator.geolocation.watchPosition(function(i){n.position.setPosition(i);t.runWith(n.position)},function(n){i.runWith(n)},{enableHighAccuracy:n.enableHighAccuracy,timeout:n.timeout,maximumAge:n.maximumAge})},n.clearWatch=function(t){n.navigator.geolocation.clearWatch(t)},n.PERMISSION_DENIED=1,n.POSITION_UNAVAILABLE=2,n.TIMEOUT=3,n.enableHighAccuracy=!1,n.maximumAge=0,d(n,["navigator",function(){return this.navigator=c.window.navigator},"position",function(){return this.position=new hft},"supported",function(){return this.supported=!!n.navigator.geolocation},"timeout",function(){return this.timeout=1e10}]),n}(),lt=function(){function t(){}r(t,"laya.webgl.WebGLContext");var i=t.prototype;return i.getContextAttributes=function(){return null},i.isContextLost=function(){},i.getSupportedExtensions=function(){return null},i.getExtension=function(){return null},i.activeTexture=function(){},i.attachShader=function(){},i.bindAttribLocation=function(){},i.bindBuffer=function(){},i.bindFramebuffer=function(){},i.bindRenderbuffer=function(){},i.bindTexture=function(){},i.useTexture=function(){},i.blendColor=function(){},i.blendEquation=function(){},i.blendEquationSeparate=function(){},i.blendFunc=function(){},i.blendFuncSeparate=function(){},i.bufferData=function(){},i.bufferSubData=function(){},i.checkFramebufferStatus=function(){return null},i.clear=function(){},i.clearColor=function(){},i.clearDepth=function(){},i.clearStencil=function(){},i.colorMask=function(){},i.compileShader=function(){},i.copyTexImage2D=function(){},i.copyTexSubImage2D=function(){},i.createBuffer=function(){},i.createFramebuffer=function(){},i.createProgram=function(){},i.createRenderbuffer=function(){},i.createShader=function(){},i.createTexture=function(){return null},i.cullFace=function(){},i.deleteBuffer=function(){},i.deleteFramebuffer=function(){},i.deleteProgram=function(){},i.deleteRenderbuffer=function(){},i.deleteShader=function(){},i.deleteTexture=function(){},i.depthFunc=function(){},i.depthMask=function(){},i.depthRange=function(){},i.detachShader=function(){},i.disable=function(){},i.disableVertexAttribArray=function(){},i.drawArrays=function(){},i.drawElements=function(){},i.enable=function(){},i.enableVertexAttribArray=function(){},i.finish=function(){},i.flush=function(){},i.framebufferRenderbuffer=function(){},i.framebufferTexture2D=function(){},i.frontFace=function(){return null},i.generateMipmap=function(){return null},i.getActiveAttrib=function(){return null},i.getActiveUniform=function(){return null},i.getAttribLocation=function(){return 0},i.getParameter=function(){return null},i.getBufferParameter=function(){return null},i.getError=function(){return null},i.getFramebufferAttachmentParameter=function(){},i.getProgramParameter=function(){return 0},i.getProgramInfoLog=function(){return null},i.getRenderbufferParameter=function(){return null},i.getShaderPrecisionFormat=function(){var n=arguments;return null},i.getShaderParameter=function(){},i.getShaderInfoLog=function(){return null},i.getShaderSource=function(){return null},i.getTexParameter=function(){},i.getUniform=function(){},i.getUniformLocation=function(){return null},i.getVertexAttrib=function(){return null},i.getVertexAttribOffset=function(){return null},i.hint=function(){},i.isBuffer=function(){},i.isEnabled=function(){},i.isFramebuffer=function(){},i.isProgram=function(){},i.isRenderbuffer=function(){},i.isShader=function(){},i.isTexture=function(){},i.lineWidth=function(){},i.linkProgram=function(){},i.pixelStorei=function(){},i.polygonOffset=function(){},i.readPixels=function(){},i.renderbufferStorage=function(){},i.sampleCoverage=function(){},i.scissor=function(){},i.shaderSource=function(){},i.stencilFunc=function(){},i.stencilFuncSeparate=function(){},i.stencilMask=function(){},i.stencilMaskSeparate=function(){},i.stencilOp=function(){},i.stencilOpSeparate=function(){},i.texImage2D=function(){},i.texParameterf=function(){},i.texParameteri=function(){},i.texSubImage2D=function(){},i.uniform1f=function(){},i.uniform1fv=function(){},i.uniform1i=function(){},i.uniform1iv=function(){},i.uniform2f=function(){},i.uniform2fv=function(){},i.uniform2i=function(){},i.uniform2iv=function(){},i.uniform3f=function(){},i.uniform3fv=function(){},i.uniform3i=function(){},i.uniform3iv=function(){},i.uniform4f=function(){},i.uniform4fv=function(){},i.uniform4i=function(){},i.uniform4iv=function(){},i.uniformMatrix2fv=function(){},i.uniformMatrix3fv=function(){},i.uniformMatrix4fv=function(){},i.useProgram=function(){},i.validateProgram=function(){},i.vertexAttrib1f=function(){},i.vertexAttrib1fv=function(){},i.vertexAttrib2f=function(){},i.vertexAttrib2fv=function(){},i.vertexAttrib3f=function(){},i.vertexAttrib3fv=function(){},i.vertexAttrib4f=function(){},i.vertexAttrib4fv=function(){},i.vertexAttribPointer=function(){},i.viewport=function(){},i.configureBackBuffer=function(n,t,i,r,u){r===void 0&&(r=!0);u===void 0&&(u=!1)},i.compressedTexImage2D=function(){},i.createVertexArray=function(){throw"not implemented";},i.bindVertexArray=function(){throw"not implemented";},i.deleteVertexArray=function(){throw"not implemented";},i.isVertexArray=function(){throw"not implemented";},t._forceSupportVAOPlatform=function(){return c.onMiniGame&&c.onIOS||c.onBDMiniGame||c.onQGMiniGame},t.__init__=function(i){var r,u;laya.webgl.WebGLContext._checkExtensions(i);at._isWebGL2||tt.isConchApp||(yrt,n._setupVertexArrayObject&&(t._forceSupportVAOPlatform()?n._forceSetupVertexArrayObject(i):n._setupVertexArrayObject(i)),r=(i.rawgl||i).getExtension("OES_vertex_array_object"),r&&(u=i,u.createVertexArray=function(){return r.createVertexArrayOES()},u.bindVertexArray=function(n){r.bindVertexArrayOES(n)},u.deleteVertexArray=function(n){r.deleteVertexArrayOES(n)},u.isVertexArray=function(n){r.isVertexArrayOES(n)}))},t._getExtension=function(n,i){var u=t._extentionVendorPrefixes,r;for(var f in u)if(n&&n.hasOwnProperty("getExtension")&&(r=n.getExtension(u[f]+i),r))return r;return null},t._checkExtensions=function(n){t._extTextureFilterAnisotropic=t._getExtension(n,"EXT_texture_filter_anisotropic");t._compressedTextureS3tc=t._getExtension(n,"WEBGL_compressed_texture_s3tc");t._compressedTexturePvrtc=t._getExtension(n,"WEBGL_compressed_texture_pvrtc");t._compressedTextureEtc1=t._getExtension(n,"WEBGL_compressed_texture_etc1");t._forceSupportVAOPlatform()||(t._angleInstancedArrays=t._getExtension(n,"ANGLE_instanced_arrays"))},t.__init_native=function(){if(tt.supportWebGLPlusRendering){var n=t;n.activeTexture=n.activeTextureForNative;n.bindTexture=n.bindTextureForNative}},t.useProgram=function(n,i){return t._useProgram===i?!1:(n.useProgram(i),t._useProgram=i,!0)},t.setDepthTest=function(n,i){i!==t._depthTest&&(t._depthTest=i,i?n.enable(2929):n.disable(2929))},t.setDepthMask=function(n,i){i!==t._depthMask&&(t._depthMask=i,n.depthMask(i))},t.setDepthFunc=function(n,i){i!==t._depthFunc&&(t._depthFunc=i,n.depthFunc(i))},t.setBlend=function(n,i){i!==t._blend&&(t._blend=i,i?n.enable(3042):n.disable(3042))},t.setBlendFunc=function(n,i,r){(i!==t._sFactor||r!==t._dFactor)&&(t._sFactor=t._srcAlpha=i,t._dFactor=t._dstAlpha=r,n.blendFunc(i,r))},t.setBlendFuncSeperate=function(n,i,r,u,f){(i!==t._sFactor||r!==t._dFactor||u!==t._srcAlpha||f!==t._dstAlpha)&&(t._sFactor=i,t._dFactor=r,t._srcAlpha=u,t._dstAlpha=f,n.blendFuncSeparate(i,r,u,f))},t.setCullFace=function(n,i){i!==t._cullFace&&(t._cullFace=i,i?n.enable(2884):n.disable(2884))},t.setFrontFace=function(n,i){i!==t._frontFace&&(t._frontFace=i,n.frontFace(i))},t.activeTexture=function(n,i){t._activedTextureID!==i&&(n.activeTexture(i),t._activedTextureID=i)},t.bindTexture=function(n,i,r){t._activeTextures[t._activedTextureID-33984]!==r&&(n.bindTexture(i,r),t._activeTextures[t._activedTextureID-33984]=r)},t.useProgramForNative=function(n,t){return n.useProgram(t),!0},t.setDepthTestForNative=function(n,t){t?n.enable(2929):n.disable(2929)},t.setDepthMaskForNative=function(n,t){n.depthMask(t)},t.setDepthFuncForNative=function(n,t){n.depthFunc(t)},t.setBlendForNative=function(n,t){t?n.enable(3042):n.disable(3042)},t.setBlendFuncForNative=function(n,t,i){n.blendFunc(t,i)},t.setCullFaceForNative=function(n,t){t?n.enable(2884):n.disable(2884)},t.setFrontFaceForNative=function(n,t){n.frontFace(t)},t.activeTextureForNative=function(n,t){n.activeTexture(t)},t.bindTextureForNative=function(n,t,i){n.bindTexture(t,i)},t.bindVertexArrayForNative=function(n,t){n.bindVertexArray(t)},t.DEPTH_BUFFER_BIT=256,t.STENCIL_BUFFER_BIT=1024,t.COLOR_BUFFER_BIT=16384,t.POINTS=0,t.LINES=1,t.LINE_LOOP=2,t.LINE_STRIP=3,t.TRIANGLES=4,t.TRIANGLE_STRIP=5,t.TRIANGLE_FAN=6,t.ZERO=0,t.ONE=1,t.SRC_COLOR=768,t.ONE_MINUS_SRC_COLOR=769,t.SRC_ALPHA=770,t.ONE_MINUS_SRC_ALPHA=771,t.DST_ALPHA=772,t.ONE_MINUS_DST_ALPHA=773,t.DST_COLOR=774,t.ONE_MINUS_DST_COLOR=775,t.SRC_ALPHA_SATURATE=776,t.FUNC_ADD=32774,t.BLEND_EQUATION=32777,t.BLEND_EQUATION_RGB=32777,t.BLEND_EQUATION_ALPHA=34877,t.FUNC_SUBTRACT=32778,t.FUNC_REVERSE_SUBTRACT=32779,t.BLEND_DST_RGB=32968,t.BLEND_SRC_RGB=32969,t.BLEND_DST_ALPHA=32970,t.BLEND_SRC_ALPHA=32971,t.CONSTANT_COLOR=32769,t.ONE_MINUS_CONSTANT_COLOR=32770,t.CONSTANT_ALPHA=32771,t.ONE_MINUS_CONSTANT_ALPHA=32772,t.BLEND_COLOR=32773,t.ARRAY_BUFFER=34962,t.ELEMENT_ARRAY_BUFFER=34963,t.ARRAY_BUFFER_BINDING=34964,t.ELEMENT_ARRAY_BUFFER_BINDING=34965,t.STREAM_DRAW=35040,t.STATIC_DRAW=35044,t.DYNAMIC_DRAW=35048,t.BUFFER_SIZE=34660,t.BUFFER_USAGE=34661,t.CURRENT_VERTEX_ATTRIB=34342,t.FRONT=1028,t.BACK=1029,t.CULL_FACE=2884,t.FRONT_AND_BACK=1032,t.BLEND=3042,t.DITHER=3024,t.STENCIL_TEST=2960,t.DEPTH_TEST=2929,t.SCISSOR_TEST=3089,t.POLYGON_OFFSET_FILL=32823,t.SAMPLE_ALPHA_TO_COVERAGE=32926,t.SAMPLE_COVERAGE=32928,t.NO_ERROR=0,t.INVALID_ENUM=1280,t.INVALID_VALUE=1281,t.INVALID_OPERATION=1282,t.OUT_OF_MEMORY=1285,t.CW=2304,t.CCW=2305,t.LINE_WIDTH=2849,t.ALIASED_POINT_SIZE_RANGE=33901,t.ALIASED_LINE_WIDTH_RANGE=33902,t.CULL_FACE_MODE=2885,t.FRONT_FACE=2886,t.DEPTH_RANGE=2928,t.DEPTH_WRITEMASK=2930,t.DEPTH_CLEAR_VALUE=2931,t.DEPTH_FUNC=2932,t.STENCIL_CLEAR_VALUE=2961,t.STENCIL_FUNC=2962,t.STENCIL_FAIL=2964,t.STENCIL_PASS_DEPTH_FAIL=2965,t.STENCIL_PASS_DEPTH_PASS=2966,t.STENCIL_REF=2967,t.STENCIL_VALUE_MASK=2963,t.STENCIL_WRITEMASK=2968,t.STENCIL_BACK_FUNC=34816,t.STENCIL_BACK_FAIL=34817,t.STENCIL_BACK_PASS_DEPTH_FAIL=34818,t.STENCIL_BACK_PASS_DEPTH_PASS=34819,t.STENCIL_BACK_REF=36003,t.STENCIL_BACK_VALUE_MASK=36004,t.STENCIL_BACK_WRITEMASK=36005,t.VIEWPORT=2978,t.SCISSOR_BOX=3088,t.COLOR_CLEAR_VALUE=3106,t.COLOR_WRITEMASK=3107,t.UNPACK_ALIGNMENT=3317,t.PACK_ALIGNMENT=3333,t.MAX_TEXTURE_SIZE=3379,t.MAX_VIEWPORT_DIMS=3386,t.SUBPIXEL_BITS=3408,t.RED_BITS=3410,t.GREEN_BITS=3411,t.BLUE_BITS=3412,t.ALPHA_BITS=3413,t.DEPTH_BITS=3414,t.STENCIL_BITS=3415,t.POLYGON_OFFSET_UNITS=10752,t.POLYGON_OFFSET_FACTOR=32824,t.TEXTURE_BINDING_2D=32873,t.SAMPLE_BUFFERS=32936,t.SAMPLES=32937,t.SAMPLE_COVERAGE_VALUE=32938,t.SAMPLE_COVERAGE_INVERT=32939,t.NUM_COMPRESSED_TEXTURE_FORMATS=34466,t.COMPRESSED_TEXTURE_FORMATS=34467,t.DONT_CARE=4352,t.FASTEST=4353,t.NICEST=4354,t.GENERATE_MIPMAP_HINT=33170,t.BYTE=5120,t.UNSIGNED_BYTE=5121,t.SHORT=5122,t.UNSIGNED_SHORT=5123,t.INT=5124,t.UNSIGNED_INT=5125,t.FLOAT=5126,t.DEPTH_COMPONENT=6402,t.ALPHA=6406,t.RGB=6407,t.RGBA=6408,t.LUMINANCE=6409,t.LUMINANCE_ALPHA=6410,t.UNSIGNED_SHORT_4_4_4_4=32819,t.UNSIGNED_SHORT_5_5_5_1=32820,t.UNSIGNED_SHORT_5_6_5=33635,t.FRAGMENT_SHADER=35632,t.VERTEX_SHADER=35633,t.MAX_VERTEX_ATTRIBS=34921,t.MAX_VERTEX_UNIFORM_VECTORS=36347,t.MAX_VARYING_VECTORS=36348,t.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661,t.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660,t.MAX_TEXTURE_IMAGE_UNITS=34930,t.MAX_FRAGMENT_UNIFORM_VECTORS=36349,t.SHADER_TYPE=35663,t.DELETE_STATUS=35712,t.LINK_STATUS=35714,t.VALIDATE_STATUS=35715,t.ATTACHED_SHADERS=35717,t.ACTIVE_UNIFORMS=35718,t.ACTIVE_ATTRIBUTES=35721,t.SHADING_LANGUAGE_VERSION=35724,t.CURRENT_PROGRAM=35725,t.NEVER=512,t.LESS=513,t.EQUAL=514,t.LEQUAL=515,t.GREATER=516,t.NOTEQUAL=517,t.GEQUAL=518,t.ALWAYS=519,t.KEEP=7680,t.REPLACE=7681,t.INCR=7682,t.DECR=7683,t.INVERT=5386,t.INCR_WRAP=34055,t.DECR_WRAP=34056,t.VENDOR=7936,t.RENDERER=7937,t.VERSION=7938,t.NEAREST=9728,t.LINEAR=9729,t.NEAREST_MIPMAP_NEAREST=9984,t.LINEAR_MIPMAP_NEAREST=9985,t.NEAREST_MIPMAP_LINEAR=9986,t.LINEAR_MIPMAP_LINEAR=9987,t.TEXTURE_MAG_FILTER=10240,t.TEXTURE_MIN_FILTER=10241,t.TEXTURE_WRAP_S=10242,t.TEXTURE_WRAP_T=10243,t.TEXTURE_2D=3553,t.TEXTURE_3D=32879,t.TEXTURE=5890,t.TEXTURE_CUBE_MAP=34067,t.TEXTURE_BINDING_CUBE_MAP=34068,t.TEXTURE_CUBE_MAP_POSITIVE_X=34069,t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070,t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071,t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072,t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073,t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074,t.MAX_CUBE_MAP_TEXTURE_SIZE=34076,t.TEXTURE0=33984,t.TEXTURE1=33985,t.TEXTURE2=33986,t.TEXTURE3=33987,t.TEXTURE4=33988,t.TEXTURE5=33989,t.TEXTURE6=33990,t.TEXTURE7=33991,t.TEXTURE8=33992,t.TEXTURE9=33993,t.TEXTURE10=33994,t.TEXTURE11=33995,t.TEXTURE12=33996,t.TEXTURE13=33997,t.TEXTURE14=33998,t.TEXTURE15=33999,t.TEXTURE16=34e3,t.TEXTURE17=34001,t.TEXTURE18=34002,t.TEXTURE19=34003,t.TEXTURE20=34004,t.TEXTURE21=34005,t.TEXTURE22=34006,t.TEXTURE23=34007,t.TEXTURE24=34008,t.TEXTURE25=34009,t.TEXTURE26=34010,t.TEXTURE27=34011,t.TEXTURE28=34012,t.TEXTURE29=34013,t.TEXTURE30=34014,t.TEXTURE31=34015,t.ACTIVE_TEXTURE=34016,t.REPEAT=10497,t.CLAMP_TO_EDGE=33071,t.MIRRORED_REPEAT=33648,t.FLOAT_VEC2=35664,t.FLOAT_VEC3=35665,t.FLOAT_VEC4=35666,t.INT_VEC2=35667,t.INT_VEC3=35668,t.INT_VEC4=35669,t.BOOL=35670,t.BOOL_VEC2=35671,t.BOOL_VEC3=35672,t.BOOL_VEC4=35673,t.FLOAT_MAT2=35674,t.FLOAT_MAT3=35675,t.FLOAT_MAT4=35676,t.SAMPLER_2D=35678,t.SAMPLER_CUBE=35680,t.VERTEX_ATTRIB_ARRAY_ENABLED=34338,t.VERTEX_ATTRIB_ARRAY_SIZE=34339,t.VERTEX_ATTRIB_ARRAY_STRIDE=34340,t.VERTEX_ATTRIB_ARRAY_TYPE=34341,t.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922,t.VERTEX_ATTRIB_ARRAY_POINTER=34373,t.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975,t.COMPILE_STATUS=35713,t.LOW_FLOAT=36336,t.MEDIUM_FLOAT=36337,t.HIGH_FLOAT=36338,t.LOW_INT=36339,t.MEDIUM_INT=36340,t.HIGH_INT=36341,t.FRAMEBUFFER=36160,t.RENDERBUFFER=36161,t.RGBA4=32854,t.RGB5_A1=32855,t.RGB565=36194,t.DEPTH_COMPONENT16=33189,t.STENCIL_INDEX=6401,t.STENCIL_INDEX8=36168,t.DEPTH_STENCIL=34041,t.RENDERBUFFER_WIDTH=36162,t.RENDERBUFFER_HEIGHT=36163,t.RENDERBUFFER_INTERNAL_FORMAT=36164,t.RENDERBUFFER_RED_SIZE=36176,t.RENDERBUFFER_GREEN_SIZE=36177,t.RENDERBUFFER_BLUE_SIZE=36178,t.RENDERBUFFER_ALPHA_SIZE=36179,t.RENDERBUFFER_DEPTH_SIZE=36180,t.RENDERBUFFER_STENCIL_SIZE=36181,t.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048,t.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049,t.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050,t.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051,t.COLOR_ATTACHMENT0=36064,t.DEPTH_ATTACHMENT=36096,t.STENCIL_ATTACHMENT=36128,t.DEPTH_STENCIL_ATTACHMENT=33306,t.NONE=0,t.FRAMEBUFFER_COMPLETE=36053,t.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054,t.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055,t.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057,t.FRAMEBUFFER_UNSUPPORTED=36061,t.FRAMEBUFFER_BINDING=36006,t.RENDERBUFFER_BINDING=36007,t.MAX_RENDERBUFFER_SIZE=34024,t.INVALID_FRAMEBUFFER_OPERATION=1286,t.UNPACK_FLIP_Y_WEBGL=37440,t.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441,t.CONTEXT_LOST_WEBGL=37442,t.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443,t.BROWSER_DEFAULT_WEBGL=37444,t._extTextureFilterAnisotropic=null,t._compressedTextureS3tc=null,t._compressedTexturePvrtc=null,t._compressedTextureEtc1=null,t._angleInstancedArrays=null,t._glTextureIDs=[33984,33985,33986,33987,33988,33989,33990,33991],t._useProgram=null,t._depthTest=!0,t._depthMask=!0,t._depthFunc=513,t._blend=!1,t._sFactor=1,t._dFactor=0,t._srcAlpha=1,t._dstAlpha=0,t._cullFace=!1,t._frontFace=2305,t._activedTextureID=33984,d(t,["_extentionVendorPrefixes",function(){return this._extentionVendorPrefixes=["","WEBKIT_","MOZ_"]},"_activeTextures",function(){return this._activeTextures=new Array(8)}]),t}(),tp=function(){function i(){this._lastOriX=0;this._lastOriY=0;this.paths=[];this._curPath=null}var t,n;return r(i,"laya.webgl.canvas.Path"),n=i.prototype,n.beginPath=function(n){this.paths.length=1;this._curPath=this.paths[0]=new t;this._curPath.convex=n},n.closePath=function(){this._curPath.loop=!0},n.newPath=function(){this._curPath=new t;this.paths.push(this._curPath)},n.addPoint=function(n,t){this._curPath.path.push(n,t)},n.push=function(n,i){this._curPath?this._curPath.path.length>0&&(this._curPath=new t,this.paths.push(this._curPath)):(this._curPath=new t,this.paths.push(this._curPath));var r=this._curPath;r.path=n.slice();r.convex=i},n.reset=function(){this.paths.length=0},i.__init$=function(){t=function(){function n(){this.path=[];this.loop=!1;this.convex=!1}return r(n,""),n}()},i}(),lrt=function(){function n(){}r(n,"laya.display.cmd.DrawParticleCmd");var t=n.prototype;return t.recover=function(){this._templ=null;it.recover("DrawParticleCmd",this)},t.run=function(n,t,i){n.drawParticle(t,i,this._templ)},e(0,t,"cmdID",function(){return"DrawParticleCmd"}),n.create=function(t){var i=it.getItemByClass("DrawParticleCmd",n);return i._templ=t,i},n.ID="DrawParticleCmd",n}(),si=function(){function n(t){this.clipInfoID=-1;this._mesh=null;this._blendFn=null;this._id=0;this._renderType=0;this._parent=null;this._startIdx=0;this._numEle=0;this._ref=1;this.shaderValue=null;this._key=new vh;t===void 0&&(t=1e4);this._renderType=t;this._id=++n.ID}r(n,"laya.webgl.submit.Submit");var t=n.prototype;return i.imps(t,{"laya.webgl.submit.ISubmit":!0}),t.getID=function(){return this._id},t.releaseRender=function(){n.RENDERBASE!=this&&--this._ref<1&&(n.POOL[n._poolSize++]=this,this.shaderValue.release(),this.shaderValue=null,this._mesh=null,this._parent&&(this._parent.releaseRender(),this._parent=null))},t.getRenderType=function(){return this._renderType},t.renderSubmit=function(){var t,i,n;if(this._numEle===0||!this._mesh||this._numEle==0)return 1;if(t=this.shaderValue.textureHost,t){if(i=t._getSource(),!i)return 1;this.shaderValue.texture=i}return n=at.mainContext,this._mesh.useMesh(n),this.shaderValue.upload(),yi.activeBlendFunction!==this._blendFn&&(lt.setBlend(n,!0),this._blendFn(n),yi.activeBlendFunction=this._blendFn),n.drawElements(4,this._numEle,5123,this._startIdx),ni.renderBatches++,ni.trianglesFaces+=this._numEle/3,1},t._cloneInit=function(n,t,i,r){n._ref=1;n._mesh=i;n._id=this._id;n._key.copyFrom(this._key);n._parent=this;n._blendFn=this._blendFn;n._renderType=this._renderType;n._startIdx=r*lf.BYTES_PIDX;n._numEle=this._numEle;n.shaderValue=this.shaderValue;this.shaderValue.ref++;this._ref++},t.clone=function(){return null},t.reUse=function(){return 0},t.toString=function(){return"ibindex:"+this._startIdx+" num:"+this._numEle+" key="+this._key},n.__init__=function(){var t=n.RENDERBASE=new n(-1);t.shaderValue=new ur(0,0);t.shaderValue.ALPHA=1;t._ref=4294967295},n.create=function(t,i,r){var u=n._poolSize?n.POOL[--n._poolSize]:new n,f,e;return u._ref=1,u._mesh=i,u._key.clear(),u._startIdx=i.indexNum*lf.BYTES_PIDX,u._numEle=0,f=t._nBlendType,u._blendFn=t._targets?yi.targetFns[f]:yi.fns[f],u.shaderValue=r,u.shaderValue.setValue(t._shader2D),e=t._shader2D.filters,e&&u.shaderValue.setFilters(e),u},n.createShape=function(t,i,r,u){var f=n._poolSize?n.POOL[--n._poolSize]:new n,e;return f._mesh=i,f._numEle=r,f._startIdx=i.indexNum*2,f._ref=1,f.shaderValue=u,f.shaderValue.setValue(t._shader2D),e=t._nBlendType,f._key.blendShader=e,f._blendFn=t._targets?yi.targetFns[e]:yi.fns[e],f},n.TYPE_2D=1e4,n.TYPE_CANVAS=10003,n.TYPE_CMDSETRT=10004,n.TYPE_CUSTOM=10005,n.TYPE_BLURRT=10006,n.TYPE_CMDDESTORYPRERT=10007,n.TYPE_DISABLESTENCIL=10008,n.TYPE_OTHERIBVB=10009,n.TYPE_PRIMITIVE=10010,n.TYPE_RT=10011,n.TYPE_BLUR_RT=10012,n.TYPE_TARGET=10013,n.TYPE_CHANGE_VALUE=10014,n.TYPE_SHAPE=10015,n.TYPE_TEXTURE=10016,n.TYPE_FILLTEXTURE=10017,n.KEY_ONCE=-1,n.KEY_FILLRECT=1,n.KEY_DRAWTEXTURE=2,n.KEY_VG=3,n.KEY_TRIANGLES=4,n.RENDERBASE=null,n.ID=1,n.preRender=null,n._poolSize=0,n.POOL=[],n}(),art=function(){function n(){}return r(n,"laya.system.System"),n.changeDefinition=function(n,t){i[n]=t;var r=n+"=classObj";i._runScript(r)},n.__init__=function(){},n}(),ch=function(){function n(){}return r(n,"laya.ani.bone.UVTools"),n.getRelativeUV=function(n,t,i){var o=n[0],s=n[2]-n[0],h=n[1],c=n[5]-n[1],r,u,f,e;for(i||(i=[]),i.length=t.length,r=0,u=0,u=i.length,f=1/s,e=1/c,r=0;r<u;r+=2)i[r]=(t[r]-o)*f,i[r+1]=(t[r+1]-h)*e;return i},n.getAbsoluteUV=function(n,t,i){var r,u;if(n[0]==0&&n[1]==0&&n[4]==1&&n[5]==1)return i?(bt.copyArray(i,t),i):t;var f=n[0],e=n[2]-n[0],o=n[1],s=n[5]-n[1];for(i||(i=[]),i.length=t.length,r=0,u=0,u=i.length,r=0;r<u;r+=2)i[r]=t[r]*e+f,i[r+1]=t[r+1]*s+o;return i},n}(),ip=function(){function n(){this.all=[];this.styleSheets=de.styleSheets}r(n,"laya.html.dom.HTMLDocument");var t=n.prototype;return t.getElementById=function(n){return this.all[n]},t.setElementById=function(n,t){this.all[n]=t},d(n,["document",function(){return this.document=new n}]),n}(),sl=function(){function t(n){this._xd_=!0;this._allocated_=8;this._pos_=0;this._length=0;n?(this._u8d_=new Uint8Array(n),this._d_=new DataView(this._u8d_.buffer),this._length=this._d_.byteLength):this._resizeBuffer(this._allocated_)}r(t,"laya.debug.tools.ByteEx");var n=t.prototype;return n._resizeBuffer=function(n){try{var t=new Uint8Array(n);this._u8d_!=null&&(this._u8d_.length<=n?t.set(this._u8d_):t.set(this._u8d_.subarray(0,n)));this._u8d_=t;this._d_=new DataView(t.buffer)}catch(i){throw"Invalid typed array length:"+n;}},n.getString=function(){return this.readString()},n.readString=function(){return this._rUTF(this.getUint16())},n.getFloat32Array=function(n,t){return this.readFloat32Array(n,t)},n.readFloat32Array=function(n,t){var i=n+t,r;return i=i>this._length?this._length:i,r=new Float32Array(this._d_.buffer.slice(n,i)),this._pos_=i,r},n.getUint8Array=function(n,t){return this.readUint8Array(n,t)},n.readUint8Array=function(n,t){var i=n+t,r;return i=i>this._length?this._length:i,r=new Uint8Array(this._d_.buffer.slice(n,i)),this._pos_=i,r},n.getInt16Array=function(n,t){return this.readInt16Array(n,t)},n.readInt16Array=function(n,t){var i=n+t,r;return i=i>this._length?this._length:i,r=new Int16Array(this._d_.buffer.slice(n,i)),this._pos_=i,r},n.getFloat32=function(){return this.readFloat32()},n.readFloat32=function(){if(this._pos_+4>this._length)throw"getFloat32 error - Out of bounds";var n=this._d_.getFloat32(this._pos_,this._xd_);return this._pos_+=4,n},n.getFloat64=function(){return this.readFloat64()},n.readFloat64=function(){if(this._pos_+8>this._length)throw"getFloat64 error - Out of bounds";var n=this._d_.getFloat64(this._pos_,this._xd_);return this._pos_+=8,n},n.writeFloat32=function(n){this._ensureWrite(this._pos_+4);this._d_.setFloat32(this._pos_,n,this._xd_);this._pos_+=4},n.writeFloat64=function(n){this._ensureWrite(this._pos_+8);this._d_.setFloat64(this._pos_,n,this._xd_);this._pos_+=8},n.getInt32=function(){return this.readInt32()},n.readInt32=function(){if(this._pos_+4>this._length)throw"getInt32 error - Out of bounds";var n=this._d_.getInt32(this._pos_,this._xd_);return this._pos_+=4,n},n.getUint32=function(){return this.readUint32()},n.readUint32=function(){if(this._pos_+4>this._length)throw"getUint32 error - Out of bounds";var n=this._d_.getUint32(this._pos_,this._xd_);return this._pos_+=4,n},n.writeInt32=function(n){this._ensureWrite(this._pos_+4);this._d_.setInt32(this._pos_,n,this._xd_);this._pos_+=4},n.writeUint32=function(n){this._ensureWrite(this._pos_+4);this._d_.setUint32(this._pos_,n,this._xd_);this._pos_+=4},n.getInt16=function(){return this.readInt16()},n.readInt16=function(){if(this._pos_+2>this._length)throw"getInt16 error - Out of bounds";var n=this._d_.getInt16(this._pos_,this._xd_);return this._pos_+=2,n},n.getUint16=function(){return this.readUint16()},n.readUint16=function(){if(this._pos_+2>this._length)throw"getUint16 error - Out of bounds";var n=this._d_.getUint16(this._pos_,this._xd_);return this._pos_+=2,n},n.writeUint16=function(n){this._ensureWrite(this._pos_+2);this._d_.setUint16(this._pos_,n,this._xd_);this._pos_+=2},n.writeInt16=function(n){this._ensureWrite(this._pos_+2);this._d_.setInt16(this._pos_,n,this._xd_);this._pos_+=2},n.getUint8=function(){return this.readUint8()},n.readUint8=function(){if(this._pos_+1>this._length)throw"getUint8 error - Out of bounds";return this._d_.getUint8(this._pos_++)},n.writeUint8=function(n){this._ensureWrite(this._pos_+1);this._d_.setUint8(this._pos_,n);this._pos_++},n._getUInt8=function(n){return this._readUInt8(n)},n._readUInt8=function(n){return this._d_.getUint8(n)},n._getUint16=function(n){return this._readUint16(n)},n._readUint16=function(n){return this._d_.getUint16(n,this._xd_)},n._getMatrix=function(){return this._readMatrix()},n._readMatrix=function(){return new ht(this.getFloat32(),this.getFloat32(),this.getFloat32(),this.getFloat32(),this.getFloat32(),this.getFloat32())},n._rUTF=function(n){for(var r="",o=this._pos_+n,t=0,u=0,e=0,f=String.fromCharCode,i=this._u8d_,s=0;this._pos_<o;)t=i[this._pos_++],t<128?t!=0&&(r+=f(t)):t<224?r+=f((t&63)<<6|i[this._pos_++]&127):t<240?(u=i[this._pos_++],r+=f((t&31)<<12|(u&127)<<6|i[this._pos_++]&127)):(u=i[this._pos_++],e=i[this._pos_++],r+=f((t&15)<<18|(u&127)<<12|e<<6&127|i[this._pos_++]&127)),s++;return r},n.getCustomString=function(n){return this.readCustomString(n)},n.readCustomString=function(n){for(var r="",i=0,t=0,f=0,e=String.fromCharCode,u=this._u8d_;n>0;)if(t=u[this._pos_],t<128)r+=e(t),this._pos_++,n--;else for(i=t-128,this._pos_++,n-=i;i>0;)t=u[this._pos_++],f=u[this._pos_++],r+=e(f<<8|t),i--;return r},n.clear=function(){this._pos_=0;this.length=0},n.__getBuffer=function(){return this._d_.buffer},n.writeUTFBytes=function(n){var i,r,t;for(n=n+"",i=0,r=n.length;i<r;i++)t=n.charCodeAt(i),t<=127?this.writeByte(t):t<=2047?(this._ensureWrite(this._pos_+2),this._u8d_.set([192|t>>6,128|t&63],this._pos_),this._pos_+=2):t<=65535?(this._ensureWrite(this._pos_+3),this._u8d_.set([224|t>>12,128|t>>6&63,128|t&63],this._pos_),this._pos_+=3):(this._ensureWrite(this._pos_+4),this._u8d_.set([240|t>>18,128|t>>12&63,128|t>>6&63,128|t&63],this._pos_),this._pos_+=4)},n.writeUTFString=function(n){var t=this.pos,i;this.writeUint16(1);this.writeUTFBytes(n);i=this.pos-t-2;this._d_.setUint16(t,i,this._xd_)},n.readUTFString=function(){return this.readUTFBytes(this.getUint16())},n.getUTFString=function(){return this.readUTFString()},n.readUTFBytes=function(n){if(n===void 0&&(n=-1),n===0)return"";var t=this.bytesAvailable;if(n>t)throw"readUTFBytes error - Out of bounds";return n=n>0?n:t,this._rUTF(n)},n.getUTFBytes=function(n){return n===void 0&&(n=-1),this.readUTFBytes(n)},n.writeByte=function(n){this._ensureWrite(this._pos_+1);this._d_.setInt8(this._pos_,n);this._pos_+=1},n.readByte=function(){if(this._pos_+1>this._length)throw"readByte error - Out of bounds";return this._d_.getInt8(this._pos_++)},n.getByte=function(){return this.readByte()},n._ensureWrite=function(n){this._length<n&&(this._length=n);this._allocated_<n&&(this.length=n)},n.writeArrayBuffer=function(n,t,i){if(t===void 0&&(t=0),i===void 0&&(i=0),t<0||i<0)throw"writeArrayBuffer error - Out of bounds";i==0&&(i=n.byteLength-t);this._ensureWrite(this._pos_+i);var r=new Uint8Array(n);this._u8d_.set(r.subarray(t,t+i),this._pos_);this._pos_+=i},e(0,n,"buffer",function(){var n=this._d_.buffer;return n.byteLength===this._length?n:n.slice(0,this._length)}),e(0,n,"endian",function(){return this._xd_?"littleEndian":"bigEndian"},function(n){this._xd_=n==="littleEndian"}),e(0,n,"length",function(){return this._length},function(n){this._allocated_<n?this._resizeBuffer(this._allocated_=Math.floor(Math.max(n,this._allocated_*2))):this._allocated_>n&&this._resizeBuffer(this._allocated_=n);this._length=n}),e(0,n,"pos",function(){return this._pos_},function(n){this._pos_=n}),e(0,n,"bytesAvailable",function(){return this._length-this._pos_}),t.getSystemEndian=function(){if(!t._sysEndian){var n=new ArrayBuffer(2);new DataView(n).setInt16(0,256,!0);t._sysEndian=new Int16Array(n)[0]===256?"littleEndian":"bigEndian"}return t._sysEndian},t.BIG_ENDIAN="bigEndian",t.LITTLE_ENDIAN="littleEndian",t._sysEndian=null,t}(),vrt=function(){function t(){this.ratio=.92;this.maxOffset=60;this._dragging=!1;this._clickOnly=!0}r(t,"laya.utils.Dragging");var n=t.prototype;return n.start=function(n,t,r,u,f,e,o,s){s===void 0&&(s=.92);this.clearTimer();this.target=n;this.area=t;this.hasInertia=r;this.elasticDistance=t?u:0;this.elasticBackTime=f;this.data=e;this._disableMouseEvent=o;this.ratio=s;this._parent=n.parent;this._clickOnly=!0;this._dragging=!0;this._elasticRateX=this._elasticRateY=1;this._lastX=this._parent.mouseX;this._lastY=this._parent.mouseY;i.stage.on("mouseup",this,this.onStageMouseUp);i.stage.on("mouseout",this,this.onStageMouseUp);i.systemTimer.frameLoop(1,this,this.loop)},n.clearTimer=function(){i.systemTimer.clear(this,this.loop);i.systemTimer.clear(this,this.tweenMove);this._tween&&(this._tween.recover(),this._tween=null)},n.stop=function(){this._dragging&&(vf.instance.disableMouseEvent=!1,i.stage.off("mouseup",this,this.onStageMouseUp),i.stage.off("mouseout",this,this.onStageMouseUp),this._dragging=!1,this.target&&this.area&&this.backToArea(),this.clear())},n.loop=function(){var r=this._parent.getMousePoint(),u=r.x,f=r.y,n=u-this._lastX,t=f-this._lastY;if(this._clickOnly)if(Math.abs(n*i.stage._canvasTransform.getScaleX())>1||Math.abs(t*i.stage._canvasTransform.getScaleY())>1)this._clickOnly=!1,this._offsets||(this._offsets=[]),this._offsets.length=0,this.target.event("dragstart",this.data),vf.instance.disableMouseEvent=this._disableMouseEvent;else return;else this._offsets.push(n,t);(n!==0||t!==0)&&(this._lastX=u,this._lastY=f,this.target.x+=n*this._elasticRateX,this.target.y+=t*this._elasticRateY,this.area&&this.checkArea(),this.target.event("dragmove",this.data))},n.checkArea=function(){var n,t;this.elasticDistance<=0?this.backToArea():(n=this.target._x<this.area.x?this.area.x-this.target._x:this.target._x>this.area.x+this.area.width?this.target._x-this.area.x-this.area.width:0,this._elasticRateX=Math.max(0,1-n/this.elasticDistance),t=this.target._y<this.area.y?this.area.y-this.target.y:this.target._y>this.area.y+this.area.height?this.target._y-this.area.y-this.area.height:0,this._elasticRateY=Math.max(0,1-t/this.elasticDistance))},n.backToArea=function(){this.target.x=Math.min(Math.max(this.target._x,this.area.x),this.area.x+this.area.width);this.target.y=Math.min(Math.max(this.target._y,this.area.y),this.area.y+this.area.height)},n.onStageMouseUp=function(){var n;if(vf.instance.disableMouseEvent=!1,i.stage.off("mouseup",this,this.onStageMouseUp),i.stage.off("mouseout",this,this.onStageMouseUp),i.systemTimer.clear(this,this.loop),!this._clickOnly&&this.target)if(this.hasInertia){this._offsets.length<1&&this._offsets.push(this._parent.mouseX-this._lastX,this._parent.mouseY-this._lastY);this._offsetX=this._offsetY=0;var r=this._offsets.length,t=Math.min(r,6),u=this._offsets.length-t;for(n=r-1;n>u;n--)this._offsetY+=this._offsets[n--],this._offsetX+=this._offsets[n];this._offsetX=this._offsetX/t*2;this._offsetY=this._offsetY/t*2;Math.abs(this._offsetX)>this.maxOffset&&(this._offsetX=this._offsetX>0?this.maxOffset:-this.maxOffset);Math.abs(this._offsetY)>this.maxOffset&&(this._offsetY=this._offsetY>0?this.maxOffset:-this.maxOffset);i.systemTimer.frameLoop(1,this,this.tweenMove)}else this.elasticDistance>0?this.checkElastic():this.clear()},n.checkElastic=function(){var n=NaN,t=NaN,i;this.target.x<this.area.x?n=this.area.x:this.target._x>this.area.x+this.area.width&&(n=this.area.x+this.area.width);this.target.y<this.area.y?t=this.area.y:this.target._y>this.area.y+this.area.height&&(t=this.area.y+this.area.height);isNaN(n)&&isNaN(t)?this.clear():(i={},isNaN(n)||(i.x=n),isNaN(t)||(i.y=t),this._tween=ri.to(this.target,i,this.elasticBackTime,nf.sineOut,h.create(this,this.clear),0,!1,!1))},n.tweenMove=function(){this._offsetX*=this.ratio*this._elasticRateX;this._offsetY*=this.ratio*this._elasticRateY;this.target.x+=this._offsetX;this.target.y+=this._offsetY;this.area&&this.checkArea();this.target.event("dragmove",this.data);(Math.abs(this._offsetX)<1&&Math.abs(this._offsetY)<1||this._elasticRateX<.5||this._elasticRateY<.5)&&(i.systemTimer.clear(this,this.tweenMove),this.elasticDistance>0?this.checkElastic():this.clear())},n.clear=function(){if(this.target){this.clearTimer();var n=this.target;this.target=null;this._parent=null;n.event("dragend",this.data)}},t}(),pui=function(){function n(){}return r(n,"laya.display.SpriteConst"),n.ALPHA=1,n.TRANSFORM=2,n.BLEND=4,n.CANVAS=8,n.FILTERS=16,n.MASK=32,n.CLIP=64,n.STYLE=128,n.TEXTURE=256,n.GRAPHICS=512,n.LAYAGL3D=1024,n.CUSTOM=2048,n.ONECHILD=4096,n.CHILDS=8192,n.REPAINT_NONE=0,n.REPAINT_NODE=1,n.REPAINT_CACHE=2,n.REPAINT_ALL=3,n}(),yrt=function(){function n(){}return r(n,"laya.webgl.VertexArrayObject"),n}()(function(){function u(t){n.console&&n.console.error&&n.console.error(t)}function f(t){n.console&&n.console.log&&n.console.log(t)}function e(n,t){r[n]=!0;t!==undefined&&u(t)}function o(n){var t=n.getError;n.getError=function(){var i;do i=t.apply(n),i!=n.NO_ERROR&&(r[i]=!0);while(i!=n.NO_ERROR);for(i in r)if(r[i])return delete r[i],parseInt(i);return n.NO_ERROR}}var r={},i=function i(n){var u=n.gl,t,r;for(this.ext=n,this.isAlive=!0,this.hasBeenBound=!1,this.elementArrayBuffer=null,this.attribs=new Array(n.maxVertexAttribs),t=0;t<this.attribs.length;t++)r=new i.VertexAttrib(u),this.attribs[t]=r;this.maxAttrib=0},t;i.VertexAttrib=function(n){this.enabled=!1;this.buffer=null;this.size=4;this.type=n.FLOAT;this.normalized=!1;this.stride=16;this.offset=0;this.cached="";this.recache()};i.VertexAttrib.prototype.recache=function(){this.cached=[this.size,this.type,this.normalized,this.stride,this.offset].join(":")};t=function(n){var t=this,i;this.gl=n;o(n);i=this.original={getParameter:n.getParameter,enableVertexAttribArray:n.enableVertexAttribArray,disableVertexAttribArray:n.disableVertexAttribArray,bindBuffer:n.bindBuffer,getVertexAttrib:n.getVertexAttrib,vertexAttribPointer:n.vertexAttribPointer};n.getParameter=function(n){return n==t.VERTEX_ARRAY_BINDING_OES?t.currentVertexArrayObject==t.defaultVertexArrayObject?null:t.currentVertexArrayObject:i.getParameter.apply(this,arguments)};n.enableVertexAttribArray=function(n){var r=t.currentVertexArrayObject,u;return r.maxAttrib=Math.max(r.maxAttrib,n),u=r.attribs[n],u.enabled=!0,i.enableVertexAttribArray.apply(this,arguments)};n.disableVertexAttribArray=function(n){var r=t.currentVertexArrayObject,u;return r.maxAttrib=Math.max(r.maxAttrib,n),u=r.attribs[n],u.enabled=!1,i.disableVertexAttribArray.apply(this,arguments)};n.bindBuffer=function(r,u){switch(r){case n.ARRAY_BUFFER:t.currentArrayBuffer=u;break;case n.ELEMENT_ARRAY_BUFFER:t.currentVertexArrayObject.elementArrayBuffer=u}return i.bindBuffer.apply(this,arguments)};n.getVertexAttrib=function(r,u){var e=t.currentVertexArrayObject,f=e.attribs[r];switch(u){case n.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING:return f.buffer;case n.VERTEX_ATTRIB_ARRAY_ENABLED:return f.enabled;case n.VERTEX_ATTRIB_ARRAY_SIZE:return f.size;case n.VERTEX_ATTRIB_ARRAY_STRIDE:return f.stride;case n.VERTEX_ATTRIB_ARRAY_TYPE:return f.type;case n.VERTEX_ATTRIB_ARRAY_NORMALIZED:return f.normalized;default:return i.getVertexAttrib.apply(this,arguments)}};n.vertexAttribPointer=function(n,r,u,f,e,o){var h=t.currentVertexArrayObject,s;return h.maxAttrib=Math.max(h.maxAttrib,n),s=h.attribs[n],s.buffer=t.currentArrayBuffer,s.size=r,s.type=u,s.normalized=f,s.stride=e,s.offset=o,s.recache(),i.vertexAttribPointer.apply(this,arguments)};n.instrumentExtension&&n.instrumentExtension(this,"OES_vertex_array_object");n.canvas&&n.canvas.addEventListener&&n.canvas.addEventListener("webglcontextrestored",function(){f("OESVertexArrayObject emulation library context restored");t.reset_()},!0);this.reset_()};t.prototype.VERTEX_ARRAY_BINDING_OES=34229;t.prototype.reset_=function(){var r=this.vertexArrayObjects!==undefined,n,t;if(r)for(n=0;n<this.vertexArrayObjects.length;++n)this.vertexArrayObjects.isAlive=!1;t=this.gl;this.maxVertexAttribs=t.getParameter(t.MAX_VERTEX_ATTRIBS);this.defaultVertexArrayObject=new i(this);this.currentVertexArrayObject=null;this.currentArrayBuffer=null;this.vertexArrayObjects=[this.defaultVertexArrayObject];this.bindVertexArrayOES(null)};t.prototype.createVertexArrayOES=function(){var n=new i(this);return this.vertexArrayObjects.push(n),n};t.prototype.deleteVertexArrayOES=function(n){n.isAlive=!1;this.vertexArrayObjects.splice(this.vertexArrayObjects.indexOf(n),1);this.currentVertexArrayObject==n&&this.bindVertexArrayOES(null)};t.prototype.isVertexArrayOES=function(n){return n&&n instanceof i&&n.hasBeenBound&&n.ext==this?!0:!1};t.prototype.bindVertexArrayOES=function(n){var i=this.gl,f,r,o,s,l,u,t,h,c;if(n&&!n.isAlive){e(i.INVALID_OPERATION,"bindVertexArrayOES: attempt to bind deleted arrayObject");return}if(f=this.original,r=this.currentVertexArrayObject,this.currentVertexArrayObject=n||this.defaultVertexArrayObject,this.currentVertexArrayObject.hasBeenBound=!0,o=this.currentVertexArrayObject,r!=o){for(r&&o.elementArrayBuffer==r.elementArrayBuffer||f.bindBuffer.call(i,i.ELEMENT_ARRAY_BUFFER,o.elementArrayBuffer),s=this.currentArrayBuffer,l=Math.max(r?r.maxAttrib:0,o.maxAttrib),u=0;u<=l;u++)t=o.attribs[u],h=r?r.attribs[u]:null,r&&t.enabled==h.enabled||(t.enabled?f.enableVertexAttribArray.call(i,u):f.disableVertexAttribArray.call(i,u)),t.enabled&&(c=!1,r&&t.buffer==h.buffer||(s!=t.buffer&&(f.bindBuffer.call(i,i.ARRAY_BUFFER,t.buffer),s=t.buffer),c=!0),(c||t.cached!=h.cached)&&f.vertexAttribPointer.call(i,u,t.size,t.type,t.normalized,t.stride,t.offset));this.currentArrayBuffer!=s&&f.bindBuffer.call(i,i.ARRAY_BUFFER,this.currentArrayBuffer)}};n._setupVertexArrayObject=function(n){var r=n.getSupportedExtensions,i;n.getSupportedExtensions=function(){var n=r.call(this)||[];return n.indexOf("OES_vertex_array_object")<0&&n.push("OES_vertex_array_object"),n};i=n.getExtension;n.getExtension=function(n){var r=i.call(this,n);return r?r:n!=="OES_vertex_array_object"?null:(this.__OESVertexArrayObject||(console.log("Setup OES_vertex_array_object polyfill"),this.__OESVertexArrayObject=new t(this)),this.__OESVertexArrayObject)}};n._forceSetupVertexArrayObject=function(n){var r=n.getSupportedExtensions,i;n.getSupportedExtensions=function(){var n=r.call(this)||[];return n.indexOf("OES_vertex_array_object")<0&&n.push("OES_vertex_array_object"),n};i=n.getExtension;n.getExtension=function(n){if(n==="OES_vertex_array_object")return this.__OESVertexArrayObject||(console.log("Setup OES_vertex_array_object polyfill"),this.__OESVertexArrayObject=new t(this)),this.__OESVertexArrayObject;var r=i.call(this,n);return r?r:null}}}()),prt=function(){function n(){this.settings=null;this.texture=null}r(n,"laya.particle.ParticleTemplateBase");var t=n.prototype;return t.addParticleArray=function(){},n}(),yt=function(){function n(){}r(n,"laya.layagl.LayaGL");var t=n.prototype;return t.createCommandEncoder=function(n,t,i){return n===void 0&&(n=128),t===void 0&&(t=64),i===void 0&&(i=!1),new lp(this,n,t,i)},t.beginCommandEncoding=function(){},t.endCommandEncoding=function(){},t.matrix4x4Multiply=function(){},t.evaluateClipDatasRealTime=function(){},n.getFrameCount=function(){return 0},n.syncBufferToRenderThread=function(n,t){t===void 0&&(t=0)},n.createArrayBufferRef=function(){},n.createArrayBufferRefs=function(){},n.EXECUTE_JS_THREAD_BUFFER=0,n.EXECUTE_RENDER_THREAD_BUFFER=1,n.EXECUTE_COPY_TO_RENDER=2,n.EXECUTE_COPY_TO_RENDER3D=3,n.ARRAY_BUFFER_TYPE_DATA=0,n.ARRAY_BUFFER_TYPE_CMD=1,n.ARRAY_BUFFER_REF_REFERENCE=0,n.ARRAY_BUFFER_REF_COPY=1,n.UPLOAD_SHADER_UNIFORM_TYPE_ID=0,n.UPLOAD_SHADER_UNIFORM_TYPE_DATA=1,n.instance=null,n}(),c=function(){function t(){}return r(t,"laya.utils.Browser"),e(1,t,"pixelRatio",function(){if(t._pixelRatio<0)if(t.__init__(),t.userAgent.indexOf("Mozilla/6.0(Linux; Android 6.0; HUAWEI NXT-AL10 Build/HUAWEINXT-AL10)")>-1)t._pixelRatio=2;else{var n=t.context,i=n.backingStorePixelRatio||n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1;t._pixelRatio=(t._window.devicePixelRatio||1)/i;t._pixelRatio<1&&(t._pixelRatio=1)}return t._pixelRatio}),e(1,t,"height",function(){return t.__init__(),(i.stage&&i.stage.canvasRotation?t.clientWidth:t.clientHeight)*t.pixelRatio}),e(1,t,"clientWidth",function(){return t.__init__(),t._window.innerWidth||t._document.body.clientWidth}),e(1,t,"window",function(){return t._window||t.__init__()}),e(1,t,"clientHeight",function(){t.__init__();var n=t._window.innerHeight||t._document.body.clientHeight||t._document.documentElement.clientHeight;return n-wr.NotchH}),e(1,t,"width",function(){return t.__init__(),(i.stage&&i.stage.canvasRotation?t.clientHeight:t.clientWidth)*t.pixelRatio}),e(1,t,"container",function(){return t._container||(t.__init__(),t._container=t.createElement("div"),t._container.id="layaContainer",t._document.body.appendChild(t._container)),t._container},function(n){t._container=n}),e(1,t,"document",function(){return t.__init__(),t._document}),t.__init__=function(){var s,c,l,e,h,a,v,y;if(t._window)return t._window;var u=t._window=n,o=t._document=u.document,r=t.userAgent=u.navigator.userAgent;if(r=r.toLocaleLowerCase(),s=u._layalibs,s)for(s.sort(function(n,t){return n.i-t.i}),c=0;c<s.length;c++)s[c].f(u,o,i);r.indexOf("minigame")>-1&&t.window.hasOwnProperty("wx")&&(i.MiniAdpter?i.MiniAdpter.enable():console.error("请先添加小游戏适配库,详细教程：https://ldc2.layabox.com/doc/?nav=zh-ts-5-0-0"));r.indexOf("swangame")>-1&&(i.BMiniAdapter?i.BMiniAdapter.enable():console.error("请先添加百度小游戏适配库,详细教程：https://ldc2.layabox.com/doc/?nav=zh-ts-5-0-0"));typeof getApp=="function"&&(i.KGMiniAdapter?i.KGMiniAdapter.enable():console.error("请先添加小米小游戏适配库,详细教程：https://ldc2.layabox.com/doc/?nav=zh-ts-5-0-0"));r.indexOf("oppo")>-1&&r.indexOf("minigame")>-1&&(i.QGMiniAdapter?i.QGMiniAdapter.enable():console.error("请先添加OPPO小游戏适配库"));u.trace=console.log;u.requestAnimationFrame=u.requestAnimationFrame||u.webkitRequestAnimationFrame||u.mozRequestAnimationFrame||u.oRequestAnimationFrame||u.msRequestAnimationFrame||function(n){return u.setTimeout(n,1e3/60)};l=o.body.style;l.margin=0;l.overflow="hidden";l.background="#031418";for(var p=o.getElementsByTagName("meta"),f=0,w=!1,b="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no,viewport-fit=cover";f<p.length;){if(e=p[f],e.name=="viewport"){e.content=b;w=!0;break}f++}for(w||(e=o.createElement("meta"),e.name="viewport",e.content=b,o.getElementsByTagName("head")[0].appendChild(e)),t.onMobile=u.conch||r.indexOf("mobile")>-1||r.indexOf("huawei")>-1||r.indexOf("xiaomi")>-1,t.onIOS=!!r.match(/\(.*? (mac os x.*?)/),t.onIPhone=r.indexOf("iphone")>-1,t.onMac=r.indexOf("mac os x")>-1,t.onIPad=r.indexOf("ipad")>-1,t.onIPad||(t.onIPad=wr.IsIosPad()),t.onAndroid=r.indexOf("android")>-1||r.indexOf("adr")>-1,t.onWP=r.indexOf("windows phone")>-1,t.onQQBrowser=r.indexOf("qqbrowser")>-1,t.onMQQBrowser=r.indexOf("mqqbrowser")>-1||r.indexOf("mobile")>-1&&r.indexOf("qq")>-1,t.onIE=!!u.ActiveXObject||("activexobject"in u),t.onWeiXin=r.indexOf("micromessenger")>-1,t.onSafari=r.indexOf("safari")>-1,t.onSafari=r.indexOf("safari")>-1&&r.indexOf("chrome")<1&&r.indexOf("crios")<1&&r.indexOf("fxios")<1,t.onPC=!t.onMobile,t.onMiniGame=r.indexOf("minigame")>-1,t.onBDMiniGame=r.indexOf("swangame")>-1,r.indexOf("oppo")>-1&&r.indexOf("minigame")>-1&&(t.onQGMiniGame=!0,t.onMiniGame=!1),t.onLimixiu=r.indexOf("limixiu")>-1,t.onKGMiniGame=r.indexOf("quickgame")>-1,t.supportLocalStorage=sr.__init__(),t.supportWebAudio=vi.__init__(),tt._mainCanvas=new uf(!0),h=tt._mainCanvas.source.style,h.position="absolute",h.top=h.left="0px",h.background="-webkit-gradient(linear, 0 0, 0 bottom, from(#223f48), to(#031418))",t.canvas=new uf(!0),t.context=t.canvas.getContext("2d"),a=new uf(!0),laya.utils.Browser.onQGMiniGame&&(a=tt._mainCanvas),v=["webgl","experimental-webgl","webkit-3d","moz-webgl"],y=null,f=0;f<v.length;f++){try{y=a.source.getContext(v[f])}catch(k){}if(y){t._supportWebGL=!0;break}}return u},t.createElement=function(n){return t.__init__(),t._document.createElement(n)},t.getElementById=function(n){return t.__init__(),t._document.getElementById(n)},t.removeElement=function(n){n&&n.parentNode&&n.parentNode.removeChild(n)},t.now=function(){return Date.now()},t.nowSeconds=function(){return t.now()/1e3>>0},t.userAgent=null,t.onMobile=!1,t.onIOS=!1,t.onMac=!1,t.onIPhone=!1,t.onIPad=!1,t.onAndroid=!1,t.onWP=!1,t.onQQBrowser=!1,t.onMQQBrowser=!1,t.onSafari=!1,t.onIE=!1,t.onWeiXin=!1,t.onPC=!1,t.onMiniGame=!1,t.onBDMiniGame=!1,t.onKGMiniGame=!1,t.onQGMiniGame=!1,t.onLimixiu=!1,t.onFirefox=!1,t.onEdge=!1,t.supportWebAudio=!1,t.supportLocalStorage=!1,t.canvas=null,t.context=null,t._window=null,t._document=null,t._container=null,t._pixelRatio=-1,t._supportWebGL=!1,t}(),wrt=function(){function n(){}r(n,"laya.display.cmd.FillWordsCmd");var t=n.prototype;return t.recover=function(){this.words=null;it.recover("FillWordsCmd",this)},t.run=function(n,t,i){n.fillWords(this.words,this.x+t,this.y+i,this.font,this.color)},e(0,t,"cmdID",function(){return"FillWords"}),n.create=function(t,i,r,u,f){var e=it.getItemByClass("FillWordsCmd",n);return e.words=t,e.x=i,e.y=r,e.font=u,e.color=f,e},n.ID="FillWords",n}(),brt=function(){function n(){}r(n,"laya.display.cmd.TransformCmd");var t=n.prototype;return t.recover=function(){this.matrix=null;it.recover("TransformCmd",this)},t.run=function(n,t,i){n._transform(this.matrix,this.pivotX+t,this.pivotY+i)},e(0,t,"cmdID",function(){return"Transform"}),n.create=function(t,i,r){var u=it.getItemByClass("TransformCmd",n);return u.matrix=t,u.pivotX=i,u.pivotY=r,u},n.ID="Transform",n}(),krt=function(){function n(){this._textIsWorldText=!1;this._fontColor=4294967295;this._strokeColor=0;this._nTexAlign=0;this._fontObj=n._defFontObj}r(n,"laya.display.cmd.FillTextCmd");var t=n.prototype;return t.recover=function(){it.recover("FillTextCmd",this)},t.run=function(n,t,r){i.stage.isGlobalRepaint()&&this._textIsWorldText&&this._text.cleanCache();this._textIsWorldText?n._fast_filltext(this._text,this.x+t,this.y+r,this._fontObj,this._color,null,0,this._nTexAlign,0):n.drawText(this._text,this.x+t,this.y+r,this._font,this._color,this._textAlign)},e(0,t,"text",function(){return this._text},function(n){this._text=n;this._textIsWorldText=n instanceof laya.utils.WordText;this._textIsWorldText&&this._text.cleanCache()}),e(0,t,"cmdID",function(){return"FillText"}),e(0,t,"color",function(){return this._color},function(n){this._color=n;this._fontColor=er.create(n).numColor;this._textIsWorldText&&this._text.cleanCache()}),e(0,t,"font",function(){return this._font},function(n){this._font=n;this._fontObj=ns.Parse(n);this._textIsWorldText&&this._text.cleanCache()}),e(0,t,"textAlign",function(){return this._textAlign},function(n){this._textAlign=n;switch(n){case"center":this._nTexAlign=1;break;case"right":this._nTexAlign=2;break;default:this._nTexAlign=0}this._textIsWorldText&&this._text.cleanCache()}),n.create=function(t,i,r,u,f,e){var o=it.getItemByClass("FillTextCmd",n);return o.text=t,o._textIsWorldText=t instanceof laya.utils.WordText,o.x=i,o.y=r,o.font=u,o.color=f,o.textAlign=e,o},n.ID="FillText",d(n,["_defFontObj",function(){return this._defFontObj=new ns(null)}]),n}(),du=function(){function n(){this._glBuffer=null;this._buffer=null;this._bufferType=0;this._bufferUsage=0;this._byteLength=0;this._glBuffer=yt.instance.createBuffer()}r(n,"laya.webgl.utils.Buffer");var t=n.prototype;return t._bindForVAO=function(){},t.bind=function(){return!1},t.destroy=function(){this._glBuffer&&(yt.instance.deleteBuffer(this._glBuffer),this._glBuffer=null)},e(0,t,"bufferUsage",function(){return this._bufferUsage}),n._bindedVertexBuffer=null,n._bindedIndexBuffer=null,n}(),drt=function(){function n(){this.name=null;this.displayArr=[]}r(n,"laya.ani.bone.SlotData");var t=n.prototype;return t.getDisplayByName=function(n){for(var i,t=0,r=this.displayArr.length;t<r;t++)if(i=this.displayArr[t],i.attachmentName==n)return t;return-1},n}(),rp=function(){function n(){this._glRender=null}r(n,"laya.filters.Filter");var t=n.prototype;return i.imps(t,{"laya.filters.IFilter":!0}),e(0,t,"type",function(){return-1}),n.BLUR=16,n.COLOR=32,n.GLOW=8,n._filter=function(n,t,i,r){var o=t,v=this._next,y,k,d,g,b,nt,tt,p,h,it;if(v){if(y=n.filters,k=y.length,k==1&&y[0].type==32){t.save();t.setColorFilter(y[0]);v._fun.call(v,n,t,i,r);t.restore();return}var rt=ur.create(1,0),u,f=kt.TEMP,ut=o._curMat,e=ht.create();ut.copyTo(e);var c=0,l=0,w=!1,s=null,a=n._cacheStyle.filterCache||null;if(a&&n.getRepaint()==0){if(w=n._cacheStyle.hasGlowFilter||!1,w&&(c=50,l=25),u=n.getBounds(),u.width<=0||u.height<=0)return;u.width+=c;u.height+=c;f.x=u.x*e.a+u.y*e.c;f.y=u.y*e.d+u.x*e.b;u.x=f.x;u.y=f.y;f.x=u.width*e.a+u.height*e.c;f.y=u.height*e.d+u.width*e.b;u.width=f.x;u.height=f.y}else{if(w=n._isHaveGlowFilter(),w&&(c=50,l=25),u=new ct,u.copyFrom(n.getSelfBounds()),u.x+=n.x,u.y+=n.y,u.x-=n.pivotX+4,u.y-=n.pivotY+4,d=u.x,g=u.y,u.width+=c+8,u.height+=c+8,f.x=u.x*e.a+u.y*e.c,f.y=u.y*e.d+u.x*e.b,u.x=f.x,u.y=f.y,f.x=u.width*e.a+u.height*e.c,f.y=u.height*e.d+u.width*e.b,u.width=f.x,u.height=f.y,u.width<=0||u.height<=0)return;for(a&&ts.releaseRT(a),s=ts.getRT(u.width,u.height),b=a=ts.getRT(u.width,u.height),n._getCacheStyle().filterCache=a,o.pushRT(),o.useRT(s),nt=n.x-d+l,tt=n.y-g+l,v._fun.call(v,n,t,nt,tt),o.useRT(b),p=0;p<k;p++){p!=0&&(o.useRT(s),o.drawTarget(b,0,0,u.width,u.height,ht.TEMP.identity(),rt,null,yi.TOINT.overlay),o.useRT(b));h=y[p];switch(h.type){case 16:h._glRender&&h._glRender.render(s,t,u.width,u.height,h);break;case 8:h._glRender&&h._glRender.render(s,t,u.width,u.height,h);break;case 32:o.setColorFilter(h);o.drawTarget(s,0,0,u.width,u.height,ht.EMPTY.identity(),ur.create(1,0));o.setColorFilter(null)}}o.popRT()}i=i-l-n.x;r=r-l-n.y;f.setTo(i,r);e.transformPoint(f);i=f.x+u.x;r=f.y+u.y;o._drawRenderTexture(a,i,r,u.width,u.height,ht.TEMP.identity(),1,vu.defuv);s&&(it=hu.create([s],function(n){n.destroy()},this),s=null,t.addRenderObject(it));e.destroy()}},n}(),hl=function(){function n(){this.skX=0;this.skY=0;this.scX=1;this.scY=1;this.x=0;this.y=0;this.skewX=0;this.skewY=0;this.mMatrix=null}r(n,"laya.ani.bone.Transform");var t=n.prototype;return t.initData=function(n){n.x!=undefined&&(this.x=n.x);n.y!=undefined&&(this.y=n.y);n.skX!=undefined&&(this.skX=n.skX);n.skY!=undefined&&(this.skY=n.skY);n.scX!=undefined&&(this.scX=n.scX);n.scY!=undefined&&(this.scY=n.scY)},t.getMatrix=function(){var n;return n=this.mMatrix?this.mMatrix:this.mMatrix=new ht,n.identity(),n.scale(this.scX,this.scY),(this.skewX||this.skewY)&&this.skew(n,this.skewX*Math.PI/180,this.skewY*Math.PI/180),n.rotate(this.skX*Math.PI/180),n.translate(this.x,this.y),n},t.skew=function(n,t,i){var r=Math.sin(i),u=Math.cos(i),f=Math.sin(t),e=Math.cos(t);return n.setTo(n.a*e-n.b*r,n.a*f+n.b*u,n.c*e-n.d*r,n.c*f+n.d*u,n.tx*e-n.ty*r,n.tx*f+n.ty*u),n},n}(),up=function(){function n(){this.nodes=null;this.name=null;this.playTime=NaN;this.bone3DMap=null;this.totalKeyframeDatasLength=0}return r(n,"laya.ani.AnimationContent"),n}(),lh=function(){function n(n,t,i){this._value=0;this._name2int=n;this._int2name=t;this._int2nameMap=i}r(n,"laya.webgl.shader.ShaderDefinesBase");var t=n.prototype;return t.add=function(n){return typeof n=="string"&&(n=this._name2int[n]),this._value|=n,this._value},t.addInt=function(n){return this._value|=n,this._value},t.remove=function(n){return typeof n=="string"&&(n=this._name2int[n]),this._value&=~n,this._value},t.isDefine=function(n){return(this._value&n)===n},t.getValue=function(){return this._value},t.setValue=function(n){this._value=n},t.toNameDic=function(){var t=this._int2nameMap[this._value];return t?t:n._toText(this._value,this._int2name,this._int2nameMap)},n._reg=function(n,t,i,r){i[n]=t;r[t]=n},n._toText=function(n,t,i){var o=i[n],u,r,f,e;if(o)return o;for(u={},r=1,f=0;f<32;f++){if(r=1<<f,r>n)break;n&r&&(e=t[r],e&&(u[e]=""))}return i[n]=u,u},n._toInt=function(n,t){for(var u,r=n.split("."),f=0,i=0,e=r.length;i<e;i++){if(u=t[r[i]],!u)throw new Error("Defines to int err:"+n+"/"+r[i]);f|=u}return f},n}(),grt=function(){function n(){this.reset()}r(n,"laya.utils.HTMLChar");var t=n.prototype;return t.setData=function(t,i,r,u){return this.char=t,this.charNum=t.charCodeAt(0),this.x=this.y=0,this.width=i,this.height=r,this.style=u,this.isWord=!n._isWordRegExp.test(t),this},t.reset=function(){return this.x=this.y=this.width=this.height=0,this.isWord=!1,this.char=null,this.charNum=0,this.style=null,this},t.recover=function(){it.recover("HTMLChar",this.reset())},t._isChar=function(){return!0},t._getCSSStyle=function(){return this.style},n.create=function(){return it.getItemByClass("HTMLChar",n)},n._isWordRegExp=new RegExp("[\\w.]",""),n}(),yi=function(){function n(){}return r(n,"laya.webgl.canvas.BlendMode"),n._init_=function(){n.fns=[n.BlendNormal,n.BlendAdd,n.BlendMultiply,n.BlendScreen,n.BlendOverlay,n.BlendLight,n.BlendMask,n.BlendDestinationOut];n.targetFns=[n.BlendNormalTarget,n.BlendAddTarget,n.BlendMultiplyTarget,n.BlendScreenTarget,n.BlendOverlayTarget,n.BlendLightTarget,n.BlendMask,n.BlendDestinationOut]},n.BlendNormal=function(n){lt.setBlendFunc(n,1,771)},n.BlendAdd=function(n){lt.setBlendFunc(n,1,772)},n.BlendMultiply=function(n){lt.setBlendFunc(n,774,771)},n.BlendScreen=function(n){lt.setBlendFunc(n,1,1)},n.BlendOverlay=function(n){lt.setBlendFunc(n,1,769)},n.BlendLight=function(n){lt.setBlendFunc(n,1,1)},n.BlendNormalTarget=function(n){lt.setBlendFunc(n,1,771)},n.BlendAddTarget=function(n){lt.setBlendFunc(n,1,772)},n.BlendMultiplyTarget=function(n){lt.setBlendFunc(n,774,771)},n.BlendScreenTarget=function(n){lt.setBlendFunc(n,1,1)},n.BlendOverlayTarget=function(n){lt.setBlendFunc(n,1,769)},n.BlendLightTarget=function(n){lt.setBlendFunc(n,1,1)},n.BlendMask=function(n){lt.setBlendFunc(n,0,770)},n.BlendDestinationOut=function(n){lt.setBlendFunc(n,0,0)},n.activeBlendFunction=null,n.NAMES=["normal","add","multiply","screen","overlay","light","mask","destination-out"],n.TOINT={normal:0,add:1,multiply:2,screen:3,overlay:4,light:5,mask:6,"destination-out":7,lighter:1},n.NORMAL="normal",n.ADD="add",n.MULTIPLY="multiply",n.SCREEN="screen",n.OVERLAY="overlay",n.LIGHT="light",n.MASK="mask",n.DESTINATIONOUT="destination-out",n.LIGHTER="lighter",n.fns=[],n.targetFns=[],n}(),nut=function(){function n(){this.textureName=null;this.textureCount=1;this.maxPartices=100;this.duration=1;this.ageAddScale=0;this.emitterVelocitySensitivity=1;this.minStartSize=100;this.maxStartSize=100;this.minEndSize=100;this.maxEndSize=100;this.minHorizontalVelocity=0;this.maxHorizontalVelocity=0;this.minVerticalVelocity=0;this.maxVerticalVelocity=0;this.endVelocity=1;this.minRotateSpeed=0;this.maxRotateSpeed=0;this.minStartRadius=0;this.maxStartRadius=0;this.minEndRadius=0;this.maxEndRadius=0;this.minHorizontalStartRadian=0;this.maxHorizontalStartRadian=0;this.minVerticalStartRadian=0;this.maxVerticalStartRadian=0;this.useEndRadian=!0;this.minHorizontalEndRadian=0;this.maxHorizontalEndRadian=0;this.minVerticalEndRadian=0;this.maxVerticalEndRadian=0;this.colorComponentInter=!1;this.disableColor=!1;this.blendState=0;this.emitterType="null";this.emissionRate=0;this.sphereEmitterRadius=1;this.sphereEmitterVelocity=0;this.sphereEmitterVelocityAddVariance=0;this.ringEmitterRadius=30;this.ringEmitterVelocity=0;this.ringEmitterVelocityAddVariance=0;this.ringEmitterUp=2;this.gravity=new Float32Array([0,0,0]);this.minStartColor=new Float32Array([1,1,1,1]);this.maxStartColor=new Float32Array([1,1,1,1]);this.minEndColor=new Float32Array([1,1,1,1]);this.maxEndColor=new Float32Array([1,1,1,1]);this.pointEmitterPosition=new Float32Array([0,0,0]);this.pointEmitterPositionVariance=new Float32Array([0,0,0]);this.pointEmitterVelocity=new Float32Array([0,0,0]);this.pointEmitterVelocityAddVariance=new Float32Array([0,0,0]);this.boxEmitterCenterPosition=new Float32Array([0,0,0]);this.boxEmitterSize=new Float32Array([0,0,0]);this.boxEmitterVelocity=new Float32Array([0,0,0]);this.boxEmitterVelocityAddVariance=new Float32Array([0,0,0]);this.sphereEmitterCenterPosition=new Float32Array([0,0,0]);this.ringEmitterCenterPosition=new Float32Array([0,0,0]);this.positionVariance=new Float32Array([0,0,0])}return r(n,"laya.particle.ParticleSetting"),n.checkSetting=function(t){for(var i in n._defaultSetting)t.hasOwnProperty(i)||(t[i]=n._defaultSetting[i]);t.endVelocity=+t.endVelocity;t.gravity[0]=+t.gravity[0];t.gravity[1]=+t.gravity[1];t.gravity[2]=+t.gravity[2]},d(n,["_defaultSetting",function(){return this._defaultSetting=new n}]),n}(),wui=function(){function n(){}r(n,"laya.html.dom.HTMLBrElement");var t=n.prototype;return t._addToLayout=function(n){n.push(this)},t.reset=function(){return this},t.destroy=function(){it.recover(ke.getClassName(this),this.reset())},t._setParent=function(){},t._getCSSStyle=function(){return n.brStyle||(n.brStyle=new de,n.brStyle.setLineElement(!0),n.brStyle.block=!0),n.brStyle},t.renderSelfToGraphic=function(){},e(0,t,"URI",null,function(){}),e(0,t,"parent",null,function(){}),e(0,t,"href",null,function(){}),n.brStyle=null,n}(),cl=function(){function n(){this.reset()}r(n,"laya.html.utils.HTMLExtendStyle");var t=n.prototype;return t.reset=function(){return this.stroke=0,this.strokeColor="#000000",this.leading=0,this.lineHeight=0,this.letterSpacing=0,this.href=null,this},t.recover=function(){this!=n.EMPTY&&it.recover("HTMLExtendStyle",this.reset())},n.create=function(){return it.getItemByClass("HTMLExtendStyle",n)},n.EMPTY=new n,n}(),go=function(){function n(){this.texWidth=1024;this.texHeight=1024;this.atlasgrid=null;this.protectDist=1;this.texture=null;this.charMaps={};this.texHeight=this.texWidth=or.atlasWidth;this.texture=fa.getTextTexture(this.texWidth,this.texHeight);this.texWidth/n.atlasGridW>256&&(n.atlasGridW=Math.ceil(this.texWidth/256));this.atlasgrid=new hut(this.texWidth/n.atlasGridW,this.texHeight/n.atlasGridW,this.texture.id)}r(n,"laya.webgl.text.TextAtlas");var t=n.prototype;return t.setProtecteDist=function(n){this.protectDist=n},t.getAEmpty=function(t,i,r){var u=this.atlasgrid.addRect(1,Math.ceil(t/n.atlasGridW),Math.ceil(i/n.atlasGridW),r);return u&&(r.x*=n.atlasGridW,r.y*=n.atlasGridW),u},t.destroy=function(){var n,t;for(n in this.charMaps)t=this.charMaps[n],t.deleted=!0;this.texture.discard()},t.printDebugInfo=function(){},e(0,t,"usedRate",function(){return this.atlasgrid._used}),n.atlasGridW=16,n}(),ur=function(){function n(t,i){this.size=[0,0];this.alpha=1;this.ALPHA=1;this.subID=0;this.ref=1;this._cacheID=0;this.clipMatDir=[99999999,0,0,99999999];this.clipMatPos=[0,0];this.clipOff=[0,0];this.defines=new kh;this.mainID=t;this.subID=i;this.textureHost=null;this.texture=null;this.color=null;this.colorAdd=null;this.u_mmat2=null;this._cacheID=t|i;this._inClassCache=n._cache[this._cacheID];t>0&&!this._inClassCache&&(this._inClassCache=n._cache[this._cacheID]=[],this._inClassCache._length=0);this.clear()}r(n,"laya.webgl.shader.d2.value.Value2D");var t=n.prototype;return t.setValue=function(){},t._ShaderWithCompile=function(){return rf.withCompile2D(0,this.mainID,this.defines.toNameDic(),this.mainID|this.defines._value,dvt.create,this._attribLocation)},t.upload=function(){var t=vt,n;vt.worldMatrix4===vt.TEMPMAT4_ARRAY||this.defines.addInt(128);this.mmat=t.worldMatrix4;vt.matWVP&&(this.defines.addInt(2048),this.u_MvpMatrix=vt.matWVP.elements);n=rf.sharders[this.mainID|this.defines._value]||this._ShaderWithCompile();n._shaderValueWidth!==t.width||n._shaderValueHeight!==t.height?(this.size[0]=t.width,this.size[1]=t.height,n._shaderValueWidth=t.width,n._shaderValueHeight=t.height,n.upload(this,null)):n.upload(this,n._params2dQuick2||n._make2dQuick2())},t.setFilters=function(n){var r,t,i;if(this.filters=n,n)for(r=n.length,i=0;i<r;i++)t=n[i],t&&(this.defines.add(t.type),t.action.setValue(this))},t.clear=function(){this.defines._value=this.subID+(at.shaderHighPrecision?1024:0);this.clipOff[0]=0},t.release=function(){--this.ref<1&&(this._inClassCache&&(this._inClassCache[this._inClassCache._length++]=this),this.clear(),this.filters=null,this.ref=1,this.clipOff[0]=0)},n._initone=function(t,i){n._typeClass[t]=i;n._cache[t]=[];n._cache[t]._length=0},n.__init__=function(){n._initone(4,sst);n._initone(512,ost);n._initone(1,cw);n._initone(9,cw)},n.create=function(t,i){var r=n._cache[t|i];return r._length?r[--r._length]:new n._typeClass[t|i](i)},n._cache=[],n._typeClass=[],n.TEMPMAT4_ARRAY=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],n}(),tut=function(){function n(){this.name=null;this.intValue=0;this.floatValue=NaN;this.stringValue=null;this.time=NaN}return r(n,"laya.ani.bone.EventData"),n}(),iut=function(){function n(){this._data=[];this._ndata=0;this._tex=null;this._imgId=0;this._clipid=-1;this._enbale=!1;this._colorFiler=null;this._clipMatrix=new ht}r(n,"laya.webgl.text.CharSubmitCache");var t=n.prototype;return t.clear=function(){this._tex=null;this._imgId=-1;this._ndata=0;this._enbale=!1;this._colorFiler=null},t.destroy=function(){this.clear();this._data.length=0;this._data=null},t.add=function(n,t,i,r,u,f){this._ndata>0&&(this._tex!=t||this._imgId!=i||this._clipid>=0&&this._clipid!=n._clipInfoID)&&this.submit(n);this._clipid=n._clipInfoID;n._globalClipMatrix.copyTo(this._clipMatrix);this._tex=t;this._imgId=i;this._colorFiler=n._colorFiler;this._data[this._ndata]=r;this._data[this._ndata+1]=u;this._data[this._ndata+2]=f;this._ndata+=3},t.getPos=function(){return n.__nPosPool==0?new Array(8):n.__posPool[--n.__nPosPool]},t.enable=function(n,t){n!==this._enbale&&(this._enbale=n,this._enbale||this.submit(t))},t.submit=function(t){var i=this._ndata,f,e,r,u;if(i){for(f=t._mesh,e=t._colorFiler,t._colorFiler=this._colorFiler,r=re.create(t,f,ur.create(1,0)),t._submits[t._submits._length++]=t._curSubmit=r,r.shaderValue.textureHost=this._tex,r._key.other=this._imgId,t._colorFiler=e,t._copyClipInfo(r,this._clipMatrix),r.clipInfoID=this._clipid,u=0;u<i;u+=3)f.addQuad(this._data[u],this._data[u+1],this._data[u+2],!0),n.__posPool[n.__nPosPool++]=this._data[u];i/=3;r._numEle+=i*6;f.indexNum+=i*6;f.vertNum+=i*4;t._drawCount+=i;this._ndata=0;ni.loopCount%100==0&&(this._data.length=0)}},n.__posPool=[],n.__nPosPool=0,n}(),ct=function(){function n(n,t,i,r){n===void 0&&(n=0);t===void 0&&(t=0);i===void 0&&(i=0);r===void 0&&(r=0);this.x=n;this.y=t;this.width=i;this.height=r}r(n,"laya.maths.Rectangle");var t=n.prototype;return t.setTo=function(n,t,i,r){return this.x=n,this.y=t,this.width=i,this.height=r,this},t.reset=function(){return this.x=this.y=this.width=this.height=0,this},t.recover=function(){if(this==n.TEMP||this==n.EMPTY){console.log("recover Temp or Empty:",this);return}it.recover("Rectangle",this.reset())},t.copyFrom=function(n){return this.x=n.x,this.y=n.y,this.width=n.width,this.height=n.height,this},t.contains=function(n,t){return this.width<=0||this.height<=0?!1:n>=this.x&&n<this.right&&t>=this.y&&t<this.bottom?!0:!1},t.intersects=function(n){return!(n.x>this.x+this.width||n.x+n.width<this.x||n.y>this.y+this.height||n.y+n.height<this.y)},t.intersection=function(t,i){return this.intersects(t)?(i||(i=new n),i.x=Math.max(this.x,t.x),i.y=Math.max(this.y,t.y),i.width=Math.min(this.right,t.right)-i.x,i.height=Math.min(this.bottom,t.bottom)-i.y,i):null},t.union=function(t,i){return(i||(i=new n),this.clone(i),t.width<=0||t.height<=0)?i:(i.addPoint(t.x,t.y),i.addPoint(t.right,t.bottom),this)},t.clone=function(t){return t||(t=new n),t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},t.toString=function(){return this.x+","+this.y+","+this.width+","+this.height},t.equals=function(n){return!n||n.x!==this.x||n.y!==this.y||n.width!==this.width||n.height!==this.height?!1:!0},t.addPoint=function(n,t){return this.x>n&&(this.width+=this.x-n,this.x=n),this.y>t&&(this.height+=this.y-t,this.y=t),this.width<n-this.x&&(this.width=n-this.x),this.height<t-this.y&&(this.height=t-this.y),this},t._getBoundPoints=function(){var t=n._temB;return(t.length=0,this.width==0||this.height==0)?t:(t.push(this.x,this.y,this.x+this.width,this.y,this.x,this.y+this.height,this.x+this.width,this.y+this.height),t)},t.isEmpty=function(){return this.width<=0||this.height<=0?!0:!1},e(0,t,"right",function(){return this.x+this.width}),e(0,t,"bottom",function(){return this.y+this.height}),n.create=function(){return it.getItemByClass("Rectangle",n)},n._getBoundPointS=function(t,i,r,u){var f=n._temA;return(f.length=0,r==0||u==0)?f:(f.push(t,i,t+r,i,t,i+u,t+r,i+u),f)},n._getWrapRec=function(t,i){if(!t||t.length<1)return i?i.setTo(0,0,0,0):n.TEMP.setTo(0,0,0,0);i=i?i:laya.maths.Rectangle.create();var e,h=t.length,u,o,f,s,r=kt.TEMP;for(u=f=99999,o=s=-u,e=0;e<h;e+=2)r.x=t[e],r.y=t[e+1],u=u<r.x?u:r.x,f=f<r.y?f:r.y,o=o>r.x?o:r.x,s=s>r.y?s:r.y;return i.setTo(u,f,o-u,s-f)},n.EMPTY=new n,n.TEMP=new n,n._temB=[],n._temA=[],n}(),ht=function(){function t(n,i,r,u,f,e,o){if(this._bTransform=!1,n===void 0&&(n=1),i===void 0&&(i=0),r===void 0&&(r=0),u===void 0&&(u=1),f===void 0&&(f=0),e===void 0&&(e=0),o===void 0&&(o=0),t._createFun!=null)return t._createFun(n,i,r,u,f,e,o);this.a=n;this.b=i;this.c=r;this.d=u;this.tx=f;this.ty=e;this._checkTransform()}r(t,"laya.maths.Matrix");var n=t.prototype;return n.identity=function(){return this.a=this.d=1,this.b=this.tx=this.ty=this.c=0,this._bTransform=!1,this},n._checkTransform=function(){return this._bTransform=this.a!==1||this.b!==0||this.c!==0||this.d!==1},n.setTranslate=function(n,t){return this.tx=n,this.ty=t,this},n.translate=function(n,t){return this.tx+=n,this.ty+=t,this},n.scale=function(n,t){return this.a*=n,this.d*=t,this.c*=n,this.b*=t,this.tx*=n,this.ty*=t,this._bTransform=!0,this},n.rotate=function(n){var t=Math.cos(n),i=Math.sin(n),r=this.a,u=this.c,f=this.tx;return this.a=r*t-this.b*i,this.b=r*i+this.b*t,this.c=u*t-this.d*i,this.d=u*i+this.d*t,this.tx=f*t-this.ty*i,this.ty=f*i+this.ty*t,this._bTransform=!0,this},n.skew=function(n,t){var i=Math.tan(n),r=Math.tan(t),u=this.a,f=this.b;return this.a+=r*this.c,this.b+=r*this.d,this.c+=i*u,this.d+=i*f,this},n.invertTransformPoint=function(n){var i=this.a,r=this.b,u=this.c,f=this.d,e=this.tx,t=i*f-r*u,o=f/t,s=-r/t,h=-u/t,c=i/t,l=(u*this.ty-f*e)/t,a=-(i*this.ty-r*e)/t;return n.setTo(o*n.x+h*n.y+l,s*n.x+c*n.y+a)},n.transformPoint=function(n){return n.setTo(this.a*n.x+this.c*n.y+this.tx,this.b*n.x+this.d*n.y+this.ty)},n.transformPointN=function(n){return n.setTo(this.a*n.x+this.c*n.y,this.b*n.x+this.d*n.y)},n.getScaleX=function(){return this.b===0?this.a:Math.sqrt(this.a*this.a+this.b*this.b)},n.getScaleY=function(){return this.c===0?this.d:Math.sqrt(this.c*this.c+this.d*this.d)},n.invert=function(){var t=this.a,i=this.b,r=this.c,u=this.d,f=this.tx,n=t*u-i*r;return this.a=u/n,this.b=-i/n,this.c=-r/n,this.d=t/n,this.tx=(r*this.ty-u*f)/n,this.ty=-(t*this.ty-i*f)/n,this},n.setTo=function(n,t,i,r,u,f){return this.a=n,this.b=t,this.c=i,this.d=r,this.tx=u,this.ty=f,this},n.concat=function(n){var t=this.a,i=this.c,r=this.tx;return this.a=t*n.a+this.b*n.c,this.b=t*n.b+this.b*n.d,this.c=i*n.a+this.d*n.c,this.d=i*n.b+this.d*n.d,this.tx=r*n.a+this.ty*n.c+n.tx,this.ty=r*n.b+this.ty*n.d+n.ty,this},n.scaleEx=function(n,t){var i=this.a,u=this.b,f=this.c,r=this.d;u!==0||f!==0?(this.a=n*i,this.b=n*u,this.c=t*f,this.d=t*r):(this.a=n*i,this.b=0*r,this.c=0*i,this.d=t*r);this._bTransform=!0},n.rotateEx=function(n){var t=Math.cos(n),i=Math.sin(n),r=this.a,f=this.b,e=this.c,u=this.d;f!==0||e!==0?(this.a=t*r+i*e,this.b=t*f+i*u,this.c=-i*r+t*e,this.d=-i*f+t*u):(this.a=t*r,this.b=i*u,this.c=-i*r,this.d=t*u);this._bTransform=!0},n.clone=function(){var n=t.create();return n.a=this.a,n.b=this.b,n.c=this.c,n.d=this.d,n.tx=this.tx,n.ty=this.ty,n._bTransform=this._bTransform,n},n.copyTo=function(n){return n.a=this.a,n.b=this.b,n.c=this.c,n.d=this.d,n.tx=this.tx,n.ty=this.ty,n._bTransform=this._bTransform,n},n.toString=function(){return this.a+","+this.b+","+this.c+","+this.d+","+this.tx+","+this.ty},n.destroy=function(){this.recover()},n.recover=function(){it.recover("Matrix",this.identity())},t.mul=function(n,t,i){var o=n.a,s=n.b,h=n.c,c=n.d,l=n.tx,a=n.ty,r=t.a,f=t.b,e=t.c,u=t.d,v=t.tx,y=t.ty;return f!==0||e!==0?(i.a=o*r+s*e,i.b=o*f+s*u,i.c=h*r+c*e,i.d=h*f+c*u,i.tx=r*l+e*a+v,i.ty=f*l+u*a+y):(i.a=o*r,i.b=s*u,i.c=h*r,i.d=c*u,i.tx=r*l+v,i.ty=u*a+y),i},t.mul16=function(n,t,i){var o=n.a,s=n.b,h=n.c,c=n.d,l=n.tx,a=n.ty,r=t.a,f=t.b,e=t.c,u=t.d,v=t.tx,y=t.ty;return f!==0||e!==0?(i[0]=o*r+s*e,i[1]=o*f+s*u,i[4]=h*r+c*e,i[5]=h*f+c*u,i[12]=r*l+e*a+v,i[13]=f*l+u*a+y):(i[0]=o*r,i[1]=s*u,i[4]=h*r,i[5]=c*u,i[12]=r*l+v,i[13]=u*a+y),i},t.create=function(){return it.getItemByClass("Matrix",t)},t.EMPTY=new t,t.TEMP=new t,t._createFun=null,t}(),fp=function(){function n(){}return r(n,"laya.utils.CacheManger"),n.regCacheByFunction=function(t,i){n.unRegCacheByFunction(t,i);var r;r={tryDispose:t,getCacheList:i};n._cacheList.push(r)},n.unRegCacheByFunction=function(t,i){for(var r=0,u=0,u=n._cacheList.length,r=0;r<u;r++)if(n._cacheList[r].tryDispose==t&&n._cacheList[r].getCacheList==i){n._cacheList.splice(r,1);return}},n.forceDispose=function(){for(var t=0,i=n._cacheList.length,t=0;t<i;t++)n._cacheList[t].tryDispose(!0)},n.beginCheck=function(t){t===void 0&&(t=15e3);i.systemTimer.loop(t,null,n._checkLoop)},n.stopCheck=function(){i.systemTimer.clear(null,n._checkLoop)},n._checkLoop=function(){var t=n._cacheList;if(!(t.length<1))for(var u=c.now(),i=0,r=0,r=i=t.length;i>0;){if(n._index++,n._index=n._index%r,t[n._index].tryDispose(!1),c.now()-u>n.loopTimeLimit)break;i--}},n.loopTimeLimit=2,n._cacheList=[],n._index=0,n}(),ni=function(){function n(){}return r(n,"laya.utils.Stat"),e(1,n,"onclick",null,function(t){if(n._sp)n._sp.on("click",n._sp,t);n._canvas&&(n._canvas.source.onclick=t,n._canvas.source.style.pointerEvents="")}),n.show=function(t,i){t===void 0&&(t=0);i===void 0&&(i=0);c.onMiniGame||c.onLimixiu||tt.isConchApp||c.onBDMiniGame||c.onKGMiniGame||c.onQGMiniGame||(n._useCanvas=!0);n._show=!0;n._fpsData.length=60;n._view[0]={title:"FPS(Canvas)",value:"_fpsStr",color:"yellow",units:"int"};n._view[1]={title:"Sprite",value:"_spriteStr",color:"white",units:"int"};n._view[2]={title:"RB",value:"renderBatches",color:"white",units:"int"};n._view[3]={title:"SRB",value:"savedRenderBatches",color:"white",units:"int"};n._view[4]={title:"CPU",value:"cpuMemory",color:"yellow",units:"M"};n._view[5]={title:"GPU",value:"gpuMemory",color:"yellow",units:"M"};n._view[6]={title:"Shader",value:"shaderCall",color:"white",units:"int"};tt.is3DMode?(n._view[0].title="FPS(3D)",n._view[7]={title:"TriFaces",value:"trianglesFaces",color:"white",units:"int"},n._view[8]={title:"FrustumCulling",value:"frustumCulling",color:"white",units:"int"},n._view[9]={title:"OctreeNodeCulling",value:"octreeNodeCulling",color:"white",units:"int"}):(n._view[0].title="FPS(WebGL)",n._view[7]={title:"Canvas",value:"_canvasStr",color:"white",units:"int"});n._useCanvas?n.createUIPre(t,i):n.createUI(t,i);n.enable()},n.createUIPre=function(t,i){var r=c.pixelRatio,u;for(n._width=r*140,n._vx=r*92,n._height=r*(n._view.length*12+3*r)+4,n._fontSize=12*r,u=0;u<n._view.length;u++)n._view[u].x=4,n._view[u].y=u*n._fontSize+3*r;n._canvas||(n._canvas=new uf(!0),n._canvas.size(n._width,n._height),n._ctx=n._canvas.getContext("2d"),n._ctx.textBaseline="top",n._ctx.font=n._fontSize+"px Arial",n._canvas.source.style.cssText="pointer-events:none;background:rgba(150,150,150,0);z-index:100000;position: absolute;direction:ltr;left:"+t+"px;top:"+i+"px;width:"+n._width/r+"px;height:"+n._height/r+"px;");c.onKGMiniGame||c.container.appendChild(n._canvas.source);n._first=!0;n.loop();n._first=!1},n.createUI=function(t,i){var r=n._sp,o=c.pixelRatio,f,u,e;for(r||(r=new s,n._leftText=new w,n._leftText.pos(4,4),n._leftText.color="#ffffff",r.addChild(n._leftText),n._txt=new w,n._txt.pos(126,5),n._txt.color="#ffcc00",r.addChild(n._txt),n._sp=r,n._sp.mouseEnabled=!1),r.pos(t,i),f="",u=0;u<n._view.length;u++)e=n._view[u],f+=e.title+"\n";n._leftText.text=f;n._txt.fontSize=n._leftText.fontSize=18;n.loop()},n.enable=function(){i.systemTimer.frameLoop(1,n,n.loop)},n.hide=function(){n._show=!1;i.systemTimer.clear(n,n.loop);n._canvas&&c.removeElement(n._canvas.source)},n.clear=function(){n.trianglesFaces=n.renderBatches=n.savedRenderBatches=n.shaderCall=n.spriteRenderUseCacheCount=n.frustumCulling=n.octreeNodeCulling=n.canvasNormal=n.canvasBitmap=n.canvasReCache=0},n.loop=function(){var i,t,r;(n._count++,i=c.now(),i-n._timer<1e3)||(t=n._count,n.FPS=Math.round(t*1e3/(i-n._timer)),n._show&&(n.trianglesFaces=Math.round(n.trianglesFaces/t),n.renderBatches=n._useCanvas?Math.round(n.renderBatches/t):Math.round(n.renderBatches/t)-1,n.savedRenderBatches=Math.round(n.savedRenderBatches/t),n.shaderCall=Math.round(n.shaderCall/t),n.spriteRenderUseCacheCount=Math.round(n.spriteRenderUseCacheCount/t),n.canvasNormal=Math.round(n.canvasNormal/t),n.canvasBitmap=Math.round(n.canvasBitmap/t),n.canvasReCache=Math.ceil(n.canvasReCache/t),n.frustumCulling=Math.round(n.frustumCulling/t),n.octreeNodeCulling=Math.round(n.octreeNodeCulling/t),r=n.FPS>0?Math.floor(1e3/n.FPS).toString():" ",n._fpsStr=n.FPS+(n.renderSlow?" slow":"")+" "+r,n._spriteStr=n._useCanvas?n.spriteCount-1+(n.spriteRenderUseCacheCount?"/"+n.spriteRenderUseCacheCount:""):n.spriteCount-4+(n.spriteRenderUseCacheCount?"/"+n.spriteRenderUseCacheCount:""),n._canvasStr=n.canvasReCache+"/"+n.canvasNormal+"/"+n.canvasBitmap,n.cpuMemory=te.cpuMemory,n.gpuMemory=te.gpuMemory,n._useCanvas?n.renderInfoPre():n.renderInfo(),n.clear()),n._count=0,n._timer=i)},n.renderInfoPre=function(){var r=0,t,u,i;if(n._canvas)for(i=n._ctx,i.clearRect(n._first?0:n._vx,0,n._width,n._height),r=0;r<n._view.length;r++)t=n._view[r],n._first&&(i.fillStyle="white",i.fillText(t.title,t.x,t.y)),i.fillStyle=t.color,u=n[t.value],t.units=="M"&&(u=Math.floor(u/1048576*10)/10+" M"),i.fillText(u+"",t.x+n._vx,t.y)},n.renderInfo=function(){for(var i,t,u="",r=0;r<n._view.length;r++)i=n._view[r],t=n[i.value],i.units=="M"&&(t=Math.floor(t/1048576*10)/10+" M"),i.units=="K"&&(t=Math.floor(t/1024*10)/10+" K"),u+=t+"\n";n._txt.text=u},n.FPS=0,n.loopCount=0,n.shaderCall=0,n.renderBatches=0,n.savedRenderBatches=0,n.trianglesFaces=0,n.spriteCount=0,n.spriteRenderUseCacheCount=0,n.frustumCulling=0,n.octreeNodeCulling=0,n.canvasNormal=0,n.canvasBitmap=0,n.canvasReCache=0,n.renderSlow=!1,n.gpuMemory=0,n.cpuMemory=0,n._fpsStr=null,n._canvasStr=null,n._spriteStr=null,n._fpsData=[],n._timer=0,n._count=0,n._view=[],n._fontSize=12,n._txt=null,n._leftText=null,n._sp=null,n._show=!1,n._useCanvas=!1,n._canvas=null,n._ctx=null,n._first=!1,n._vx=NaN,n._width=0,n._height=100,n}(),ep=function(){function n(){this.rec=new ct;this.reset()}r(n,"laya.html.dom.HTMLHitRect");var t=n.prototype;return t.reset=function(){return this.rec.reset(),this.href=null,this},t.recover=function(){it.recover("HTMLHitRect",this.reset())},n.create=function(){return it.getItemByClass("HTMLHitRect",n)},n}(),rut=function(){function n(){}r(n,"laya.display.cmd.ScaleCmd");var t=n.prototype;return t.recover=function(){it.recover("ScaleCmd",this)},t.run=function(n,t,i){n._scale(this.scaleX,this.scaleY,this.pivotX+t,this.pivotY+i)},e(0,t,"cmdID",function(){return"Scale"}),n.create=function(t,i,r,u){var f=it.getItemByClass("ScaleCmd",n);return f.scaleX=t,f.scaleY=i,f.pivotX=r,f.pivotY=u,f},n.ID="Scale",n}(),uut=function(){function n(){}r(n,"laya.display.cmd.AlphaCmd");var t=n.prototype;return t.recover=function(){it.recover("AlphaCmd",this)},t.run=function(n){n.alpha(this.alpha)},e(0,t,"cmdID",function(){return"Alpha"}),n.create=function(t){var i=it.getItemByClass("AlphaCmd",n);return i.alpha=t,i},n.ID="Alpha",n}(),op=function(){function n(){}return r(n,"laya.layagl.LayaGLRunner"),n.uploadShaderUniforms=function(n,t,i,r){for(var u,e,h=i._data,o=t.getArrayData(),s=0,f=0,c=o.length;f<c;f++)u=o[f],(r||u.textureID!==-1)&&(e=h[u.dataOffset],e!=null&&(s+=u.fun.call(u.caller,u,e)));return s},n.uploadCustomUniform=function(n,t,i,r){var f=0,u=t[i];return u&&r!=null&&(f+=u.fun.call(u.caller,u,r)),f},n.uploadShaderUniformsForNative=function(n,t,i){var r=0,u;return i._runtimeCopyValues.length>0&&(r=1),u=i._data,n.uploadShaderUniforms(t,u,r)},n}(),fut=function(){function n(){this._nativeVertexArrayObject=null;this._bindedIndexBuffer=null;this._nativeVertexArrayObject=yt.instance.createVertexArray()}r(n,"laya.webgl.BufferStateBase");var t=n.prototype;return t.bind=function(){n._curBindedBufferState!==this&&(yt.instance.bindVertexArray(this._nativeVertexArrayObject),n._curBindedBufferState=this)},t.unBind=function(){if(n._curBindedBufferState===this)yt.instance.bindVertexArray(null),n._curBindedBufferState=null;else throw"BufferState: must call bind() function first.";},t.bindForNative=function(){yt.instance.bindVertexArray(this._nativeVertexArrayObject);n._curBindedBufferState=this},t.unBindForNative=function(){yt.instance.bindVertexArray(null);n._curBindedBufferState=null},t.destroy=function(){yt.instance.deleteVertexArray(this._nativeVertexArrayObject)},n._curBindedBufferState=null,n}(),eut=function(){function n(){}r(n,"laya.display.cmd.SaveCmd");var t=n.prototype;return t.recover=function(){it.recover("SaveCmd",this)},t.run=function(n){n.save()},e(0,t,"cmdID",function(){return"Save"}),n.create=function(){return it.getItemByClass("SaveCmd",n)},n.ID="Save",n}(),out=function(){function n(){this._mat=new ht}r(n,"laya.webgl.canvas.save.SaveTranslate");var t=n.prototype;return i.imps(t,{"laya.webgl.canvas.save.ISaveData":!0}),t.isSaveMark=function(){return!1},t.restore=function(t){this._mat.copyTo(t._curMat);n.POOL[n.POOL._length++]=this},n.save=function(t){var i=n.POOL,u=i._length>0?i[--i._length]:new n,r;t._curMat.copyTo(u._mat);r=t._save;r[r._length++]=u},n.POOL=gr._createArray(),n}(),sut=function(){function n(){}r(n,"laya.display.cmd.DrawPieCmd");var t=n.prototype;return t.recover=function(){this.fillColor=null;this.lineColor=null;it.recover("DrawPieCmd",this)},t.run=function(n,t,i){n._drawPie(this.x+t,this.y+i,this.radius,this._startAngle,this._endAngle,this.fillColor,this.lineColor,this.lineWidth,this.vid)},e(0,t,"startAngle",function(){return this._startAngle*180/Math.PI},function(n){this._startAngle=n*Math.PI/180}),e(0,t,"cmdID",function(){return"DrawPie"}),e(0,t,"endAngle",function(){return this._endAngle*180/Math.PI},function(n){this._endAngle=n*Math.PI/180}),n.create=function(t,i,r,u,f,e,o,s,h){var c=it.getItemByClass("DrawPieCmd",n);return c.x=t,c.y=i,c.radius=r,c._startAngle=u,c._endAngle=f,c.fillColor=e,c.lineColor=o,c.lineWidth=s,c.vid=h,c},n.ID="DrawPie",n}(),hut=function(){function t(n,t,i){this.atlasID=0;this._width=0;this._height=0;this._texCount=0;this._rowInfo=null;this._cells=null;this._used=0;n===void 0&&(n=0);t===void 0&&(t=0);i===void 0&&(i=0);this._cells=null;this._rowInfo=null;this.atlasID=i;this._init(n,t)}r(t,"laya.webgl.text.AtlasGrid");var n=t.prototype;return n.addRect=function(n,t,i,r){return this._get(t,i,r)?(this._fill(r.x,r.y,t,i,n),this._texCount++,!0):!1},n._release=function(){this._cells=null;this._rowInfo=null},n._init=function(n,t){return(this._width=n,this._height=t,this._release(),this._width==0)?!1:(this._cells=new Uint8Array(this._width*this._height*3),this._rowInfo=new Uint8Array(this._height),this._used=0,this._clear(),!0)},n._get=function(n,t,i){var f,e,r,s;if(n>this._width||t>this._height)return!1;var o=-1,h=-1,c=this._width,l=this._height,u=this._cells;for(f=0;f<l;f++)if(!(this._rowInfo[f]<n))for(e=0;e<c;){if(r=(f*c+e)*3,u[r]!=0||u[r+1]<n||u[r+2]<t){e+=u[r+1];continue}for(o=e,h=f,s=0;s<n;s++)if(u[3*s+r+2]<t){o=-1;break}if(o<0){e+=u[r+1];continue}return i.x=o,i.y=h,!0}return!1},n._fill=function(n,t,i,r,u){var o=this._width,c=this._height,f,e,h,s;for(this._check(n+i<=o&&t+r<=c),f=t;f<r+t;++f)for(this._check(this._rowInfo[f]>=i),this._rowInfo[f]-=i,e=0;e<i;e++)h=(n+f*o+e)*3,this._check(this._cells[h]==0),this._cells[h]=u,this._cells[h+1]=i,this._cells[h+2]=r;if(n>0)for(f=0;f<r;++f){for(s=0,e=n-1;e>=0;--e,++s)if(this._cells[((t+f)*o+e)*3]!=0)break;for(e=s;e>0;--e)this._cells[((t+f)*o+n-e)*3+1]=e,this._check(e>0)}if(t>0)for(e=n;e<n+i;++e){for(s=0,f=t-1;f>=0;--f,s++)if(this._cells[(e+f*o)*3]!=0)break;for(f=s;f>0;--f)this._cells[(e+(t-f)*o)*3+2]=f,this._check(f>0)}this._used+=i*r/(this._width*this._height)},n._check=function(n){n==!1&&console.log("xtexMerger 错误啦")},n._clear=function(){var i,n,t,r;for(this._texCount=0,i=0;i<this._height;i++)this._rowInfo[i]=this._width;for(n=0;n<this._height;n++)for(t=0;t<this._width;t++)r=(n*this._width+t)*3,this._cells[r]=0,this._cells[r+1]=this._width-t,this._cells[r+2]=this._width-n},t}(),cut=function(){function n(){this.deformSlotDisplayList=[]}return r(n,"laya.ani.bone.DeformSlotData"),n}(),lf=function(){function n(){}return r(n,"laya.webgl.utils.CONST3D2D"),n.BYTES_PE=4,n.BYTES_PIDX=2,n.defaultMatrix4=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],n.defaultMinusYMatrix4=[1,0,0,0,0,-1,0,0,0,0,1,0,0,0,0,1],n.uniformMatrix3=[1,0,0,0,0,1,0,0,0,0,1,0],n._TMPARRAY=[],n._OFFSETX=0,n._OFFSETY=0,n}(),lut=function(){function n(){}r(n,"laya.display.cmd.TranslateCmd");var t=n.prototype;return t.recover=function(){it.recover("TranslateCmd",this)},t.run=function(n){n.translate(this.tx,this.ty)},e(0,t,"cmdID",function(){return"Translate"}),n.create=function(t,i){var r=it.getItemByClass("TranslateCmd",n);return r.tx=t,r.ty=i,r},n.ID="Translate",n}(),ns=function(){function n(t){this._font="14px Arial";this._family="Arial";this._size=14;this._italic=!1;this._bold=!1;this._id=n._gfontID++;this.setFont(t||this._font)}r(n,"laya.utils.FontInfo");var t=n.prototype;return t.setFont=function(n){var t,u,f,i,r,e;if(this._font=n,t=n.split(" "),u=t.length,u<2){u==1&&t[0].indexOf("px")>0&&(this._size=parseInt(t[0]));return}for(f=-1,i=0;i<u;i++)if(t[i].indexOf("px")>0||t[i].indexOf("pt")>0){f=i;this._size=parseInt(t[i]);this._size<=0&&(console.error("font parse error:"+n),this._size=14);break}for(r=f+1,e=t[r],r++;r<u;r++)e+=" "+t[r];this._family=e.split(",")[0];this._italic=t.indexOf("italic")>=0;this._bold=t.indexOf("bold")>=0},n.Parse=function(t){if(t===n._lastFont)return n._lastFontInfo;var i=n._cache[t];return i||(i=n._cache[t]=new n(t)),n._lastFont=t,n._lastFontInfo=i,i},n.EMPTY=new n(null),n._cache={},n._gfontID=0,n._lastFont="",n._lastFontInfo=null,n}(),aut=function(){function n(){this.texture=null;this.uvTransform=null;this.useUvTransform=!1;this.canvasPadding=1;this.uvs=new Float32Array([0,0,1,0,1,1,0,1]);this.vertices=new Float32Array([0,0,100,0,100,100,0,100]);this.indexes=new Uint16Array([0,1,3,3,1,2])}r(n,"laya.ani.bone.canvasmesh.MeshData");var t=n.prototype;return t.getBounds=function(){return ct._getWrapRec(this.vertices)},n}(),vut=function(){function n(){}r(n,"laya.display.cmd.DrawCircleCmd");var t=n.prototype;return t.recover=function(){this.fillColor=null;this.lineColor=null;it.recover("DrawCircleCmd",this)},t.run=function(n,t,i){n._drawCircle(this.x+t,this.y+i,this.radius,this.fillColor,this.lineColor,this.lineWidth,this.vid)},e(0,t,"cmdID",function(){return"DrawCircle"}),n.create=function(t,i,r,u,f,e,o){var s=it.getItemByClass("DrawCircleCmd",n);return s.x=t,s.y=i,s.radius=r,s.fillColor=u,s.lineColor=f,s.lineWidth=e,s.vid=o,s},n.ID="DrawCircle",n}(),yut=function(){function n(){this.name=null;this.targetBoneName=null;this.bendDirection=1;this.mix=1;this.isSpine=!0;this.targetBoneIndex=-1;this.boneNames=[];this.boneIndexs=[]}return r(n,"laya.ani.bone.IkConstraintData"),n}(),sp=function(){function n(){this.char="";this.tex=null;this.deleted=!1;this.pos=0;this.width=0;this.height=0;this.bmpWidth=0;this.bmpHeight=0;this.orix=0;this.oriy=0;this.touchTick=0;this.isSpace=!1;this.uv=new Array(8)}r(n,"laya.webgl.text.CharRenderInfo");var t=n.prototype;return t.touch=function(){var n=ni.loopCount;this.touchTick!=n&&this.tex.touchRect(this,n);this.touchTick=n},n}(),vt=function(){function n(){}return r(n,"laya.webgl.utils.RenderState2D"),n.mat2MatArray=function(t,i){var u=t,r=i;return r[0]=u.a,r[1]=u.b,r[2]=n.EMPTYMAT4_ARRAY[2],r[3]=n.EMPTYMAT4_ARRAY[3],r[4]=u.c,r[5]=u.d,r[6]=n.EMPTYMAT4_ARRAY[6],r[7]=n.EMPTYMAT4_ARRAY[7],r[8]=n.EMPTYMAT4_ARRAY[8],r[9]=n.EMPTYMAT4_ARRAY[9],r[10]=n.EMPTYMAT4_ARRAY[10],r[11]=n.EMPTYMAT4_ARRAY[11],r[12]=u.tx,r[13]=u.ty,r[14]=n.EMPTYMAT4_ARRAY[14],r[15]=n.EMPTYMAT4_ARRAY[15],i},n.restoreTempArray=function(){n.TEMPMAT4_ARRAY[0]=1;n.TEMPMAT4_ARRAY[1]=0;n.TEMPMAT4_ARRAY[4]=0;n.TEMPMAT4_ARRAY[5]=1;n.TEMPMAT4_ARRAY[12]=0;n.TEMPMAT4_ARRAY[13]=0},n.clear=function(){n.worldScissorTest=!1;n.worldAlpha=1},n._MAXSIZE=99999999,n.EMPTYMAT4_ARRAY=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],n.TEMPMAT4_ARRAY=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],n.worldMatrix4=n.TEMPMAT4_ARRAY,n.matWVP=null,n.worldAlpha=1,n.worldScissorTest=!1,n.worldShaderDefines=null,n.worldFilters=null,n.width=0,n.height=0,d(n,["worldMatrix",function(){return this.worldMatrix=new ht}]),n}(),put=function(){function n(){}r(n,"laya.display.cmd.RestoreCmd");var t=n.prototype;return t.recover=function(){it.recover("RestoreCmd",this)},t.run=function(n){n.restore()},e(0,t,"cmdID",function(){return"Restore"}),n.create=function(){return it.getItemByClass("RestoreCmd",n)},n.ID="Restore",n}(),it=function(){function n(){}return r(n,"laya.utils.Pool"),n.getPoolBySign=function(t){return n._poolDic[t]||(n._poolDic[t]=[])},n.clearBySign=function(t){n._poolDic[t]&&(n._poolDic[t].length=0)},n.recover=function(t,i){i.__InPool||(i.__InPool=!0,n.getPoolBySign(t).push(i))},n.recoverByClass=function(t){if(t){var i=t.__className||t.constructor._$gid;i&&n.recover(i,t)}},n._getClassSign=function(n){var t=n.__className||n._$gid;return t||(n._$gid=t=bt.getGID()+""),t},n.createByClass=function(t){return n.getItemByClass(n._getClassSign(t),t)},n.getItemByClass=function(t,i){var u,r;return n._poolDic[t]?(u=n.getPoolBySign(t),u.length?(r=u.pop(),r.__InPool=!1):r=new i,r):new i},n.getItemByCreateFun=function(t,i,r){var u=n.getPoolBySign(t),f=u.length?u.pop():i.call(r);return f.__InPool=!1,f},n.getItem=function(t){var r=n.getPoolBySign(t),i=r.length?r.pop():null;return i&&(i.__InPool=!1),i},n.POOLSIGN="__InPool",n._poolDic={},n}(),wut=function(){function n(){}r(n,"laya.display.cmd.FillTextureCmd");var t=n.prototype;return t.recover=function(){this.texture=null;this.offset=null;this.other=null;it.recover("FillTextureCmd",this)},t.run=function(n,t,i){n.fillTexture(this.texture,this.x+t,this.y+i,this.width,this.height,this.type,this.offset,this.other)},e(0,t,"cmdID",function(){return"FillTexture"}),n.create=function(t,i,r,u,f,e,o,s){var h=it.getItemByClass("FillTextureCmd",n);return h.texture=t,h.x=i,h.y=r,h.width=u,h.height=f,h.type=e,h.offset=o,h.other=s,h},n.ID="FillTexture",n}(),but=function(){function n(){this._strsToID={};this._idToStrs=[];this._length=0}r(n,"laya.utils.StringKey");var t=n.prototype;return t.add=function(n){var t=this._strsToID[n];return t!=null?t:(this._idToStrs[this._length]=n,this._strsToID[n]=this._length++)},t.getID=function(n){var t=this._strsToID[n];return t==null?-1:t},t.getName=function(n){var t=this._idToStrs[n];return t==null?undefined:t},n}(),ah=function(){function n(){this.reset()}r(n,"laya.display.css.SpriteStyle");var t=n.prototype;return t.reset=function(){return this.scaleX=this.scaleY=1,this.skewX=this.skewY=0,this.pivotX=this.pivotY=this.rotation=0,this.alpha=1,this.scrollRect&&this.scrollRect.recover(),this.scrollRect=null,this.viewport&&this.viewport.recover(),this.viewport=null,this.hitArea=null,this.dragging=null,this.blendMode=null,this},t.recover=function(){this!==n.EMPTY&&it.recover("SpriteStyle",this.reset())},n.create=function(){return it.getItemByClass("SpriteStyle",n)},n.EMPTY=new n,n}(),kut=function(){function n(){}return r(n,"laya.webgl.shapes.Earcut"),n.earcut=function(t,i,r){var u,f,l,a,e,o,s,h;r=r||2;var y=i&&i.length,p=y?i[0]*r:t.length,c=n.linkedList(t,0,p,r,!0),v=[];if(!c)return v;if(y&&(c=n.eliminateHoles(t,i,c,r)),t.length>80*r){for(u=l=t[0],f=a=t[1],h=r;h<p;h+=r)e=t[h],o=t[h+1],e<u&&(u=e),o<f&&(f=o),e>l&&(l=e),o>a&&(a=o);s=Math.max(l-u,a-f);s=s!==0?1/s:0}return n.earcutLinked(c,v,r,u,f,s),v},n.linkedList=function(t,i,r,u,f){var e,o;if(f===n.signedArea(t,i,r,u)>0)for(e=i;e<r;e+=u)o=n.insertNode(e,t[e],t[e+1],o);else for(e=r-u;e>=i;e-=u)o=n.insertNode(e,t[e],t[e+1],o);return o&&n.equals(o,o.next)&&(n.removeNode(o),o=o.next),o},n.filterPoints=function(t,i){if(!t)return t;i||(i=t);var r=t,u;do if(u=!1,!r.steiner&&(n.equals(r,r.next)||n.area(r.prev,r,r.next)===0)){if(n.removeNode(r),r=i=r.prev,r===r.next)break;u=!0}else r=r.next;while(u||r!==i);return i},n.earcutLinked=function(t,i,r,u,f,e,o){if(t){!o&&e&&n.indexCurve(t,u,f,e);for(var h=t,c,s;t.prev!==t.next;){if(c=t.prev,s=t.next,e?n.isEarHashed(t,u,f,e):n.isEar(t)){i.push(c.i/r);i.push(t.i/r);i.push(s.i/r);n.removeNode(t);t=s.next;h=s.next;continue}if(t=s,t===h){o?o===1?(t=n.cureLocalIntersections(t,i,r),n.earcutLinked(t,i,r,u,f,e,2)):o===2&&n.splitEarcut(t,i,r,u,f,e):n.earcutLinked(n.filterPoints(t,null),i,r,u,f,e,1);break}}}},n.isEar=function(t){var r=t.prev,u=t,f=t.next,i;if(n.area(r,u,f)>=0)return!1;for(i=t.next.next;i!==t.prev;){if(n.pointInTriangle(r.x,r.y,u.x,u.y,f.x,f.y,i.x,i.y)&&n.area(i.prev,i,i.next)>=0)return!1;i=i.next}return!0},n.isEarHashed=function(t,i,r,u){var o=t.prev,s=t,e=t.next;if(n.area(o,s,e)>=0)return!1;for(var h=o.x<s.x?o.x<e.x?o.x:e.x:s.x<e.x?s.x:e.x,c=o.y<s.y?o.y<e.y?o.y:e.y:s.y<e.y?s.y:e.y,l=o.x>s.x?o.x>e.x?o.x:e.x:s.x>e.x?s.x:e.x,a=o.y>s.y?o.y>e.y?o.y:e.y:s.y>e.y?s.y:e.y,v=n.zOrder(h,c,i,r,u),y=n.zOrder(l,a,i,r,u),f=t.nextZ;f&&f.z<=y;){if(f!==t.prev&&f!==t.next&&n.pointInTriangle(o.x,o.y,s.x,s.y,e.x,e.y,f.x,f.y)&&n.area(f.prev,f,f.next)>=0)return!1;f=f.nextZ}for(f=t.prevZ;f&&f.z>=v;){if(f!==t.prev&&f!==t.next&&n.pointInTriangle(o.x,o.y,s.x,s.y,e.x,e.y,f.x,f.y)&&n.area(f.prev,f,f.next)>=0)return!1;f=f.prevZ}return!0},n.cureLocalIntersections=function(t,i,r){var u=t,e,f;do e=u.prev,f=u.next.next,!n.equals(e,f)&&n.intersects(e,u,u.next,f)&&n.locallyInside(e,f)&&n.locallyInside(f,e)&&(i.push(e.i/r),i.push(u.i/r),i.push(f.i/r),n.removeNode(u),n.removeNode(u.next),u=t=f),u=u.next;while(u!==t);return u},n.splitEarcut=function(t,i,r,u,f,e){var o=t,s,h;do{for(s=o.next.next;s!==o.prev;){if(o.i!==s.i&&n.isValidDiagonal(o,s)){h=n.splitPolygon(o,s);o=n.filterPoints(o,o.next);h=n.filterPoints(h,h.next);n.earcutLinked(o,i,r,u,f,e);n.earcutLinked(h,i,r,u,f,e);return}s=s.next}o=o.next}while(o!==t)},n.eliminateHoles=function(t,i,r,u){for(var o=[],h,c,e,f=0,s=i.length;f<s;f++)h=i[f]*u,c=f<s-1?i[f+1]*u:t.length,e=n.linkedList(t,h,c,u,!1),e===e.next&&(e.steiner=!0),o.push(n.getLeftmost(e));for(o.sort(n.compareX),f=0;f<o.length;f++)n.eliminateHole(o[f],r),r=n.filterPoints(r,r.next);return r},n.compareX=function(n,t){return n.x-t.x},n.eliminateHole=function(t,i){if(i=n.findHoleBridge(t,i),i){var r=n.splitPolygon(i,t);n.filterPoints(r,r.next)}},n.findHoleBridge=function(t,i){var r=i,e=t.x,u=t.y,o=-Infinity,f,s;do{if(u<=r.y&&u>=r.next.y&&r.next.y!==r.y&&(s=r.x+(u-r.y)*(r.next.x-r.x)/(r.next.y-r.y),s<=e&&s>o)){if(o=s,s===e){if(u===r.y)return r;if(u===r.next.y)return r.next}f=r.x<r.next.x?r:r.next}r=r.next}while(r!==i);if(!f)return null;if(e===o)return f.prev;var v=f,a=f.x,c=f.y,l=Infinity,h;for(r=f.next;r!==v;)e>=r.x&&r.x>=a&&e!==r.x&&n.pointInTriangle(u<c?e:o,u,a,c,u<c?o:e,u,r.x,r.y)&&(h=Math.abs(u-r.y)/(e-r.x),(h<l||h===l&&r.x>f.x)&&n.locallyInside(r,t)&&(f=r,l=h)),r=r.next;return f},n.indexCurve=function(t,i,r,u){var f=t;do f.z===null&&(f.z=n.zOrder(f.x,f.y,i,r,u)),f.prevZ=f.prev,f.nextZ=f.next,f=f.next;while(f!==t);f.prevZ.nextZ=null;f.prevZ=null;n.sortLinked(f)},n.sortLinked=function(n){var o,i,t,r,u,s,f,e,h=1;do{for(i=n,n=null,u=null,s=0;i;){for(s++,t=i,f=0,o=0;o<h;o++)if(f++,t=t.nextZ,!t)break;for(e=h;f>0||e>0&&t;)f!==0&&(e===0||!t||i.z<=t.z)?(r=i,i=i.nextZ,f--):(r=t,t=t.nextZ,e--),u?u.nextZ=r:n=r,r.prevZ=u,u=r;i=t}u.nextZ=null;h*=2}while(s>1);return n},n.zOrder=function(n,t,i,r,u){return n=32767*(n-i)*u,t=32767*(t-r)*u,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,n|t<<1},n.getLeftmost=function(n){var t=n,i=n;do t.x<i.x&&(i=t),t=t.next;while(t!==n);return i},n.pointInTriangle=function(n,t,i,r,u,f,e,o){return(u-e)*(t-o)-(n-e)*(f-o)>=0&&(n-e)*(r-o)-(i-e)*(t-o)>=0&&(i-e)*(f-o)-(u-e)*(r-o)>=0},n.isValidDiagonal=function(t,i){return t.next.i!==i.i&&t.prev.i!==i.i&&!n.intersectsPolygon(t,i)&&n.locallyInside(t,i)&&n.locallyInside(i,t)&&n.middleInside(t,i)},n.area=function(n,t,i){return(t.y-n.y)*(i.x-t.x)-(t.x-n.x)*(i.y-t.y)},n.equals=function(n,t){return n.x===t.x&&n.y===t.y},n.intersects=function(t,i,r,u){return n.equals(t,i)&&n.equals(r,u)||n.equals(t,u)&&n.equals(r,i)?!0:n.area(t,i,r)>0!=n.area(t,i,u)>0&&n.area(r,u,t)>0!=n.area(r,u,i)>0},n.intersectsPolygon=function(t,i){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==i.i&&r.next.i!==i.i&&n.intersects(r,r.next,t,i))return!0;r=r.next}while(r!==t);return!1},n.locallyInside=function(t,i){return n.area(t.prev,t,t.next)<0?n.area(t,i,t.next)>=0&&n.area(t,t.prev,i)>=0:n.area(t,i,t.prev)<0||n.area(t,t.next,i)<0},n.middleInside=function(n,t){var i=n,r=!1,f=(n.x+t.x)/2,u=(n.y+t.y)/2;do i.y>u!=i.next.y>u&&i.next.y!==i.y&&f<(i.next.x-i.x)*(u-i.y)/(i.next.y-i.y)+i.x&&(r=!r),i=i.next;while(i!==n);return r},n.splitPolygon=function(n,t){var r=new vl(n.i,n.x,n.y),i=new vl(t.i,t.x,t.y),u=n.next,f=t.prev;return n.next=t,t.prev=n,r.next=u,u.prev=r,i.next=r,r.prev=i,f.next=i,i.prev=f,i},n.insertNode=function(n,t,i,r){var u=new vl(n,t,i);return r?(u.next=r.next,u.prev=r,r.next.prev=u,r.next=u):(u.prev=u,u.next=u),u},n.removeNode=function(n){n.next.prev=n.prev;n.prev.next=n.next;n.prevZ&&(n.prevZ.nextZ=n.nextZ);n.nextZ&&(n.nextZ.prevZ=n.prevZ)},n.signedArea=function(n,t,i,r){for(var e=0,u=t,f=i-r;u<i;u+=r)e+=(n[f]-n[u])*(n[u+1]+n[f+1]),f=u;return e},n}(),ll=function(){function n(){this._controlPoints=[new kt,new kt,new kt];this._calFun=this.getPoint2}r(n,"laya.maths.Bezier");var t=n.prototype;return t._switchPoint=function(n,t){var i=this._controlPoints.shift();i.setTo(n,t);this._controlPoints.push(i)},t.getPoint2=function(n,t){var i=this._controlPoints[0],r=this._controlPoints[1],u=this._controlPoints[2],f=Math.pow(1-n,2)*i.x+2*n*(1-n)*r.x+Math.pow(n,2)*u.x,e=Math.pow(1-n,2)*i.y+2*n*(1-n)*r.y+Math.pow(n,2)*u.y;t.push(f,e)},t.getPoint3=function(n,t){var i=this._controlPoints[0],r=this._controlPoints[1],u=this._controlPoints[2],f=this._controlPoints[3],e=Math.pow(1-n,3)*i.x+3*r.x*n*(1-n)*(1-n)+3*u.x*n*n*(1-n)+f.x*Math.pow(n,3),o=Math.pow(1-n,3)*i.y+3*r.y*n*(1-n)*(1-n)+3*u.y*n*n*(1-n)+f.y*Math.pow(n,3);t.push(e,o)},t.insertPoints=function(n,t){var i=NaN,r;for(n=n>0?n:5,r=NaN,r=1/n,i=0;i<=1;i+=r)this._calFun(i,t)},t.getBezierPoints=function(n,t,i){var r,u,f;if(t===void 0&&(t=5),i===void 0&&(i=2),r=0,u=0,u=n.length,u<(i+1)*2)return[];f=[];switch(i){case 2:this._calFun=this.getPoint2;break;case 3:this._calFun=this.getPoint3;break;default:return[]}while(this._controlPoints.length<=i)this._controlPoints.push(kt.create());for(r=0;r<i*2;r+=2)this._switchPoint(n[r],n[r+1]);for(r=i*2;r<u;r+=2)this._switchPoint(n[r],n[r+1]),r/2%i==0&&this.insertPoints(t,f);return f},d(n,["I",function(){return this.I=new n}]),n}(),hp=function(){function n(){this.name=null;this.parentIndex=0;this.parent=null;this.keyframeWidth=0;this.lerpType=0;this.interpolationMethod=null;this.childs=null;this.keyFrame=null;this.playTime=NaN;this.extenData=null;this.dataOffset=0}return r(n,"laya.ani.AnimationNodeContent"),n}(),dut=function(){function n(){}r(n,"laya.display.cmd.DrawTrianglesCmd");var t=n.prototype;return t.recover=function(){this.texture=null;this.vertices=null;this.uvs=null;this.indices=null;this.matrix=null;it.recover("DrawTrianglesCmd",this)},t.run=function(n,t,i){n.drawTriangles(this.texture,this.x+t,this.y+i,this.vertices,this.uvs,this.indices,this.matrix,this.alpha,this.color,this.blendMode)},e(0,t,"cmdID",function(){return"DrawTriangles"}),n.create=function(t,i,r,u,f,e,o,s,h,c){var l=it.getItemByClass("DrawTrianglesCmd",n),a;return l.texture=t,l.x=i,l.y=r,l.vertices=u,l.uvs=f,l.indices=e,l.matrix=o,l.alpha=s,h&&(l.color=new dh,a=er.create(h).arrColor,l.color.color(a[0]*255,a[1]*255,a[2]*255,a[3]*255)),l.blendMode=c,l},n.ID="DrawTriangles",n}(),gut=function(){function t(n,t){this.submitStartPos=0;this.submitEndPos=0;this.context=null;this.touches=[];this.submits=[];this.sprite=null;this._mesh=null;this._pathMesh=null;this._triangleMesh=null;this.meshlist=[];this._oldMesh=null;this._oldPathMesh=null;this._oldTriMesh=null;this._oldMeshList=null;this.oldTx=0;this.oldTy=0;this.cachedClipInfo=new ht;this.invMat=new ht;this.context=n;this.sprite=t;n._globalClipMatrix.copyTo(this.cachedClipInfo)}r(t,"laya.webgl.canvas.WebGLCacheAsNormalCanvas");var n=t.prototype;return n.startRec=function(){var n,i,t;for(this.context._charSubmitCache._enbale&&(this.context._charSubmitCache.enable(!1,this.context),this.context._charSubmitCache.enable(!0,this.context)),this.context._incache=!0,this.touches.length=0,this.context.touches=this.touches,this.context._globalClipMatrix.copyTo(this.cachedClipInfo),this.submits.length=0,this.submitStartPos=this.context._submits._length,n=0,i=this.meshlist.length;n<i;n++)t=this.meshlist[n],t.canReuse?t.releaseMesh():t.destroy();this.meshlist.length=0;this._mesh=pf.getAMesh(!1);this._pathMesh=os.getAMesh(!1);this._triangleMesh=bh.getAMesh(!1);this.meshlist.push(this._mesh);this.meshlist.push(this._pathMesh);this.meshlist.push(this._triangleMesh);this.context._curSubmit=si.RENDERBASE;this._oldMesh=this.context._mesh;this._oldPathMesh=this.context._pathMesh;this._oldTriMesh=this.context._triangleMesh;this._oldMeshList=this.context.meshlist;this.context._mesh=this._mesh;this.context._pathMesh=this._pathMesh;this.context._triangleMesh=this._triangleMesh;this.context.meshlist=this.meshlist;this.oldTx=this.context._curMat.tx;this.oldTy=this.context._curMat.ty;this.context._curMat.tx=0;this.context._curMat.ty=0;this.context._curMat.copyTo(this.invMat);this.invMat.invert()},n.endRec=function(){var n,i,t;for(this.context._charSubmitCache._enbale&&(this.context._charSubmitCache.enable(!1,this.context),this.context._charSubmitCache.enable(!0,this.context)),n=this.context._submits,this.submitEndPos=n._length,i=this.submitEndPos-this.submitStartPos,t=0;t<i;t++)this.submits.push(n[this.submitStartPos+t]);n._length-=i;this.context._mesh=this._oldMesh;this.context._pathMesh=this._oldPathMesh;this.context._triangleMesh=this._oldTriMesh;this.context.meshlist=this._oldMeshList;this.context._curSubmit=si.RENDERBASE;this.context._curMat.tx=this.oldTx;this.context._curMat.ty=this.oldTy;this.context.touches=null;this.context._incache=!1},n.isCacheValid=function(){var n=this.context._globalClipMatrix;return n.a!=this.cachedClipInfo.a||n.b!=this.cachedClipInfo.b||n.c!=this.cachedClipInfo.c||n.d!=this.cachedClipInfo.d||n.tx!=this.cachedClipInfo.tx||n.ty!=this.cachedClipInfo.ty?!1:!0},n.flushsubmit=function(){var n=si.RENDERBASE;this.submits.forEach(function(t){t!=si.RENDERBASE&&(si.preRender=n,n=t,t.renderSubmit())})},n.releaseMem=function(){},d(t,["matI",function(){return this.matI=new ht}]),t}(),nft=function(){function n(){this._hit=null;this._unHit=null}r(n,"laya.utils.HitArea");var t=n.prototype;return t.contains=function(t,i){return n._isHitGraphic(t,i,this.hit)?!n._isHitGraphic(t,i,this.unHit):!1},e(0,t,"hit",function(){return this._hit||(this._hit=new be),this._hit},function(n){this._hit=n}),e(0,t,"unHit",function(){return this._unHit||(this._unHit=new be),this._unHit},function(n){this._unHit=n}),n._isHitGraphic=function(t,i,r){var u,e,o,f;if(!r||(u=r.cmds,!u&&r._one&&(u=n._cmds,u.length=1,u[0]=r._one),!u))return!1;for(e=0,o=0,o=u.length,e=0;e<o;e++)if(f=u[e],f){switch(f.cmdID){case"Translate":t-=f.tx;i-=f.ty}if(n._isHitCmd(t,i,f))return!0}return!1},n._isHitCmd=function(t,i,r){var u,f;if(!r)return!1;u=!1;switch(r.cmdID){case"DrawRect":n._rect.setTo(r.x,r.y,r.width,r.height);u=n._rect.contains(t,i);break;case"DrawCircle":f=NaN;t-=r.x;i-=r.y;f=t*t+i*i;u=f<r.radius*r.radius;break;case"DrawPoly":t-=r.x;i-=r.y;u=n._ptInPolygon(t,i,r.points)}return u},n._ptInPolygon=function(t,i,r){var e=n._ptPoint,u,a;e.setTo(t,i);var c=0,h=NaN,f=NaN,l=NaN,o=NaN,s=0;for(s=r.length,u=0;u<s;u+=2)(h=r[u],f=r[u+1],l=r[(u+2)%s],o=r[(u+3)%s],f!=o)&&(e.y<Math.min(f,o)||e.y>=Math.max(f,o)||(a=(e.y-f)*(l-h)/(o-f)+h,a>e.x&&c++));return c%2==1},n._cmds=[],d(n,["_rect",function(){return this._rect=new ct},"_ptPoint",function(){return this._ptPoint=new kt}]),n}(),vh=function(){function t(){this.blendShader=0;this.submitType=0;this.other=0;this.clear()}r(t,"laya.webgl.submit.SubmitKey");var n=t.prototype;return n.clear=function(){this.submitType=-1;this.blendShader=this.other=0},n.copyFrom=function(n){this.other=n.other;this.blendShader=n.blendShader;this.submitType=n.submitType},n.copyFrom2=function(n,t,i){this.other=i;this.submitType=t},n.equal3_2=function(n,t,i){return this.submitType===t&&this.other===i&&this.blendShader===n.blendShader},n.equal4_2=function(n,t,i){return this.submitType===t&&this.other===i&&this.blendShader===n.blendShader},n.equal_3=function(n){return this.submitType===n.submitType&&this.blendShader===n.blendShader},n.equal=function(n){return this.other===n.other&&this.submitType===n.submitType&&this.blendShader===n.blendShader},t}(),tft=function(){function n(){}r(n,"laya.display.cmd.ClipRectCmd");var t=n.prototype;return t.recover=function(){it.recover("ClipRectCmd",this)},t.run=function(n,t,i){n.clipRect(this.x+t,this.y+i,this.width,this.height)},e(0,t,"cmdID",function(){return"ClipRect"}),n.create=function(t,i,r,u){var f=it.getItemByClass("ClipRectCmd",n);return f.x=t,f.y=i,f.width=r,f.height=u,f},n.ID="ClipRect",n}(),cp=function(){function n(){}return r(n,"laya.net.AtlasInfoManager"),n.enable=function(t,r){i.loader.load(t,h.create(null,n._onInfoLoaded,[r]),null,"json")},n._onInfoLoaded=function(t,i){var f,e,r,u=0,o=0;for(f in i)for(r=i[f],e=r[0],r=r[1],o=r.length,u=0;u<o;u++)n._fileLoadDic[e+r[u]]=f;t&&t.run()},n.getFileLoadPath=function(t){return n._fileLoadDic[t]||t},n._fileLoadDic={},n}(),ift=function(){function n(){}r(n,"laya.display.cmd.FillBorderTextCmd");var t=n.prototype;return t.recover=function(){it.recover("FillBorderTextCmd",this)},t.run=function(n,t,i){n.fillBorderText(this.text,this.x+t,this.y+i,this.font,this.fillColor,this.borderColor,this.lineWidth,this.textAlign)},e(0,t,"cmdID",function(){return"FillBorderText"}),n.create=function(t,i,r,u,f,e,o,s){var h=it.getItemByClass("FillBorderTextCmd",n);return h.text=t,h.x=i,h.y=r,h.font=u,h.fillColor=f,h.borderColor=e,h.lineWidth=o,h.textAlign=s,h},n.ID="FillBorderText",n}(),rft=function(){function n(){}r(n,"laya.display.cmd.DrawPolyCmd");var t=n.prototype;return t.recover=function(){this.points=null;this.fillColor=null;this.lineColor=null;it.recover("DrawPolyCmd",this)},t.run=function(n,t,i){n._drawPoly(this.x+t,this.y+i,this.points,this.fillColor,this.lineColor,this.lineWidth,this.isConvexPolygon,this.vid)},e(0,t,"cmdID",function(){return"DrawPoly"}),n.create=function(t,i,r,u,f,e,o,s){var h=it.getItemByClass("DrawPolyCmd",n);return h.x=t,h.y=i,h.points=r,h.fillColor=u,h.lineColor=f,h.lineWidth=e,h.isConvexPolygon=o,h.vid=s,h},n.ID="DrawPoly",n}(),ri=function(){function n(){this.gid=0;this.repeat=1;this._count=0}r(n,"laya.utils.Tween");var t=n.prototype;return t.to=function(n,t,i,r,u,f,e){return f===void 0&&(f=0),e===void 0&&(e=!1),this._create(n,t,i,r,u,f,e,!0,!1,!0)},t.from=function(n,t,i,r,u,f,e){return f===void 0&&(f=0),e===void 0&&(e=!1),this._create(n,t,i,r,u,f,e,!1,!1,!0)},t._create=function(t,r,u,f,e,o,s,h,l,a){if(!t)throw new Error("Tween:target is null");this._target=t;this._duration=u;this._ease=f||r.ease||n.easeNone;this._complete=e||r.complete;this._delay=o;this._props=[];this._usedTimer=0;this._startTimer=c.now();this._usedPool=l;this._delayParam=null;this.update=r.update;var v=t.$_GID||(t.$_GID=bt.getGID());if(n.tweenMap[v]?(s&&n.clearTween(t),n.tweenMap[v].push(this)):n.tweenMap[v]=[this],a)if(o<=0)this.firstStart(t,r,h);else{this._delayParam=[t,r,h];i.timer.once(o,this,this.firstStart,this._delayParam)}else this._initProps(t,r,h);return this},t.firstStart=function(n,t,i){if(this._delayParam=null,n.destroyed){this.clear();return}this._initProps(n,t,i);this._beginLoop()},t._initProps=function(n,t,i){var r,u,f;for(r in t)typeof n[r]=="number"&&(u=i?n[r]:t[r],f=i?t[r]:n[r],this._props.push([r,u,f-u]),i||(n[r]=u))},t._beginLoop=function(){i.timer.frameLoop(1,this,this._doEase)},t._doEase=function(){this._updateEase(c.now())},t._updateEase=function(t){var r=this._target,i,o,e,u,s,f;if(r){if(r.destroyed)return n.clearTween(r);if(i=this._usedTimer=t-this._startTimer-this._delay,!(i<0)){if(i>=this._duration)return this.complete();for(o=i>0?this._ease(i,0,1,this._duration):0,e=this._props,u=0,s=e.length;u<s;u++)f=e[u],r[f[0]]=f[1]+o*f[2];this.update&&this.update.run()}}},t.complete=function(){var n,f,t;if(this._target){i.timer.runTimer(this,this.firstStart);var e=this._target,r=this._props,u=this._complete;for(n=0,f=r.length;n<f;n++)t=r[n],e[t[0]]=t[1]+t[2];this.update&&this.update.run();this._count++;this.repeat!=0&&this._count>=this.repeat?(this.clear(),u&&u.run()):this.restart()}},t.pause=function(){i.timer.clear(this,this._beginLoop);i.timer.clear(this,this._doEase);i.timer.clear(this,this.firstStart);var t=c.now(),n=NaN;n=t-this._startTimer-this._delay;n<0&&(this._usedTimer=n)},t.setStartTime=function(n){this._startTimer=n},t.clear=function(){this._target&&(this._remove(),this._clear())},t._clear=function(){this.pause();i.timer.clear(this,this.firstStart);this._complete=null;this._target=null;this._ease=null;this._props=null;this._delayParam=null;this._usedPool&&(this.update=null,it.recover("tween",this))},t.recover=function(){this._usedPool=!0;this._clear()},t._remove=function(){var i=n.tweenMap[this._target.$_GID],t,r;if(i)for(t=0,r=i.length;t<r;t++)if(i[t]===this){i.splice(t,1);break}},t.restart=function(){var t,n,u,r;if(this.pause(),this._usedTimer=0,this._startTimer=c.now(),this._delayParam){i.timer.once(this._delay,this,this.firstStart,this._delayParam);return}for(t=this._props,n=0,u=t.length;n<u;n++)r=t[n],this._target[r[0]]=r[1];i.timer.once(this._delay,this,this._beginLoop)},t.resume=function(){if(!(this._usedTimer>=this._duration))if(this._startTimer=c.now()-this._usedTimer-this._delay,this._delayParam)if(this._usedTimer<0)i.timer.once(-this._usedTimer,this,this.firstStart,this._delayParam);else this.firstStart.apply(this,this._delayParam);else this._beginLoop()},e(0,t,"progress",null,function(n){var t=n*this._duration;this._startTimer=c.now()-this._delay-t}),n.to=function(t,i,r,u,f,e,o,s){return e===void 0&&(e=0),o===void 0&&(o=!1),s===void 0&&(s=!0),it.getItemByClass("tween",n)._create(t,i,r,u,f,e,o,!0,s,!0)},n.from=function(t,i,r,u,f,e,o,s){return e===void 0&&(e=0),o===void 0&&(o=!1),s===void 0&&(s=!0),it.getItemByClass("tween",n)._create(t,i,r,u,f,e,o,!1,s,!0)},n.clearAll=function(t){var i,r,u;if(t&&t.$_GID&&(i=n.tweenMap[t.$_GID],i)){for(r=0,u=i.length;r<u;r++)i[r]._clear();i.length=0}},n.clear=function(n){n.clear()},n.clearTween=function(t){n.clearAll(t)},n.easeNone=function(n,t,i,r){return i*n/r+t},n.tweenMap=[],n}(),gf=function(){function n(){this._pool=[];this._map=[];this._laters=[]}var i,t;return r(n,"laya.utils.CallLater"),t=n.prototype,t._update=function(){var i=this._laters,u=i.length,t,r,n;if(u>0){for(t=0,r=u-1;t<=r;t++)n=i[t],this._map[n.key]=null,n.method!==null&&(n.run(),n.clear()),this._pool.push(n),t===r&&(r=i.length-1);i.length=0}},t._getHandler=function(n,t){var i=n?n.$_GID||(n.$_GID=bt.getGID()):0,r=t.$_TID||(t.$_TID=af._mid++*1e5);return this._map[i+r]},t.callLater=function(n,t,r){var u,f,e;this._getHandler(n,t)==null&&(u=this._pool.length?this._pool.pop():new i,u.caller=n,u.method=t,u.args=r,f=n?n.$_GID:0,e=t.$_TID,u.key=f+e,this._map[u.key]=u,this._laters.push(u))},t.runCallLater=function(n,t){var i=this._getHandler(n,t);i&&i.method!=null&&(this._map[i.key]=null,i.run(),i.clear())},n.I=new n,n.__init$=function(){i=function(){function n(){this.key=0;this.caller=null;this.method=null;this.args=null}r(n,"");var t=n.prototype;return t.clear=function(){this.caller=null;this.method=null;this.args=null},t.run=function(){var n=this.caller,t,i;if(n&&n.destroyed)return this.clear();(t=this.method,i=this.args,t!=null)&&(i?t.apply(n,i):t.call(n))},n}()},n}(),lp=function(){function t(){this._idata=[]}r(t,"laya.layagl.CommandEncoder");var n=t.prototype;return n.getArrayData=function(){return this._idata},n.getPtrID=function(){return 0},n.beginEncoding=function(){},n.endEncoding=function(){},n.clearEncoding=function(){this._idata.length=0},n.getCount=function(){return this._idata.length},n.add_ShaderValue=function(n){this._idata.push(n)},n.addShaderUniform=function(n){this.add_ShaderValue(n)},t}(),uft=function(){function n(){}r(n,"laya.display.cmd.DrawLinesCmd");var t=n.prototype;return t.recover=function(){this.points=null;this.lineColor=null;it.recover("DrawLinesCmd",this)},t.run=function(n,t,i){n._drawLines(this.x+t,this.y+i,this.points,this.lineColor,this.lineWidth,this.vid)},e(0,t,"cmdID",function(){return"DrawLines"}),n.create=function(t,i,r,u,f,e){var o=it.getItemByClass("DrawLinesCmd",n);return o.x=t,o.y=i,o.points=r,o.lineColor=u,o.lineWidth=f,o.vid=e,o},n.ID="DrawLines",n}(),fft=function(){function t(){this.id=NaN;this.save=[];this.toUpperCase=null;this.changed=!1;this._text=null;this.width=-1;this.pageChars=[];this.startID=0;this.startIDStroke=0;this.lastGCCnt=0;this.splitRender=!1}r(t,"laya.utils.WordText");var n=t.prototype;return n.setText=function(n){this.changed=!0;this._text=n;this.width=-1;this.cleanCache()},n.toString=function(){return this._text},n.charCodeAt=function(n){return this._text?this._text.charCodeAt(n):NaN},n.charAt=function(n){return this._text?this._text.charAt(n):null},n.cleanCache=function(){this.pageChars.forEach(function(n){var t=n.tex,i=n.words;n.words.length==1&&t&&t.ri&&t.destroy()});this.pageChars=[];this.startID=0},e(0,n,"length",function(){return this._text?this._text.length:0}),t}(),yh=function(){function n(){this._matrix=new ht}r(n,"laya.webgl.canvas.save.SaveTransform");var t=n.prototype;return i.imps(t,{"laya.webgl.canvas.save.ISaveData":!0}),t.isSaveMark=function(){return!1},t.restore=function(t){t._curMat=this._savematrix;n.POOL[n.POOL._length++]=this},n.save=function(t){var f=t._saveMark,i,r,u;(f._saveuse&2048)!=2048&&(f._saveuse|=2048,i=n.POOL,r=i._length>0?i[--i._length]:new n,r._savematrix=t._curMat,t._curMat=t._curMat.copyTo(r._matrix),u=t._save,u[u._length++]=r)},n.POOL=gr._createArray(),n}(),af=function(){function t(n){this.scale=1;this.currFrame=0;this._delta=0;this._map=[];this._handlers=[];this._temp=[];this._count=0;this.currTimer=c.now();this._lastTimer=c.now();n===void 0&&(n=!0);n&&i.systemTimer&&i.systemTimer.frameLoop(1,this,this._update)}var u,n;return r(t,"laya.utils.Timer"),n=t.prototype,n._update=function(){var r,u,e,f,i,o,n,t;if(this.scale<=0){this._lastTimer=c.now();return}for(r=this.currFrame=this.currFrame+this.scale,u=c.now(),this._delta=(u-this._lastTimer)*this.scale,e=this.currTimer=this.currTimer+this._delta,this._lastTimer=u,f=this._handlers,this._count=0,i=0,o=f.length;i<o;i++)if(n=f[i],n.method!==null){if(t=n.userFrame?r:e,t>=n.exeTime)if(n.repeat)if(n.jumpFrame)while(t>=n.exeTime)n.exeTime+=n.delay,n.run(!1);else n.exeTime+=n.delay,n.run(!1),t>n.exeTime&&(n.exeTime+=Math.ceil((t-n.exeTime)/n.delay)*n.delay);else n.run(!0)}else this._count++;(this._count>30||r%200==0)&&this._clearHandlers()},n._clearHandlers=function(){for(var t,n=this._handlers,i=0,r=n.length;i<r;i++)t=n[i],t.method!==null?this._temp.push(t):this._recoverHandler(t);this._handlers=this._temp;n.length=0;this._temp=n},n._recoverHandler=function(n){this._map[n.key]==n&&(this._map[n.key]=null);n.clear();t._pool.push(n)},n._create=function(n,i,r,f,e,o,s){if(!r)return e.apply(f,o),null;if(s){var h=this._getHandler(f,e);if(h)return h.repeat=i,h.userFrame=n,h.delay=r,h.caller=f,h.method=e,h.args=o,h.exeTime=r+(n?this.currFrame:this.currTimer+c.now()-this._lastTimer),h}return h=t._pool.length>0?t._pool.pop():new u,h.repeat=i,h.userFrame=n,h.delay=r,h.caller=f,h.method=e,h.args=o,h.exeTime=r+(n?this.currFrame:this.currTimer+c.now()-this._lastTimer),this._indexHandler(h),this._handlers.push(h),h},n._indexHandler=function(n){var i=n.caller,r=n.method,u=i?i.$_GID||(i.$_GID=bt.getGID()):0,f=r.$_TID||(r.$_TID=t._mid++*1e5);n.key=u+f;this._map[n.key]=n},n.once=function(n,t,i,r,u){u===void 0&&(u=!0);this._create(!1,!1,n,t,i,r,u)},n.loop=function(n,t,i,r,u,f){u===void 0&&(u=!0);f===void 0&&(f=!1);var e=this._create(!1,!0,n,t,i,r,u);e&&(e.jumpFrame=f)},n.frameOnce=function(n,t,i,r,u){u===void 0&&(u=!0);this._create(!0,!1,n,t,i,r,u)},n.frameLoop=function(n,t,i,r,u){u===void 0&&(u=!0);this._create(!0,!0,n,t,i,r,u)},n.toString=function(){return" handlers:"+this._handlers.length+" pool:"+t._pool.length},n.clear=function(n,t){var i=this._getHandler(n,t);i&&(this._map[i.key]=null,i.key=0,i.clear())},n.clearAll=function(n){var i,r,t;if(n)for(i=0,r=this._handlers.length;i<r;i++)t=this._handlers[i],t.caller===n&&(this._map[t.key]=null,t.key=0,t.clear())},n._getHandler=function(n,i){var r=n?n.$_GID||(n.$_GID=bt.getGID()):0,u=i.$_TID||(i.$_TID=t._mid++*1e5);return this._map[r+u]},n.callLater=function(n,t,i){gf.I.callLater(n,t,i)},n.runCallLater=function(n,t){gf.I.runCallLater(n,t)},n.runTimer=function(n,t){var i=this._getHandler(n,t);i&&i.method!=null&&(this._map[i.key]=null,i.run(!0))},n.pause=function(){this.scale=0},n.resume=function(){this.scale=1},e(0,n,"delta",function(){return this._delta}),t._pool=[],t._mid=1,t.__init$=function(){u=function(){function n(){this.key=0;this.repeat=!1;this.delay=0;this.userFrame=!1;this.exeTime=0;this.caller=null;this.method=null;this.args=null;this.jumpFrame=!1}r(n,"");var t=n.prototype;return t.clear=function(){this.caller=null;this.method=null;this.args=null},t.run=function(n){var t=this.caller,i,r;if(t&&t.destroyed)return this.clear();(i=this.method,r=this.args,n&&this.clear(),i!=null)&&(r?i.apply(t,r):i.call(t))},n}()},t}(),ap=function(){function n(){}return r(n,"laya.maths.GrahamScan"),n.multiply=function(n,t,i){return(n.x-i.x)*(t.y-i.y)-(t.x-i.x)*(n.y-i.y)},n.dis=function(n,t){return(n.x-t.x)*(n.x-t.x)+(n.y-t.y)*(n.y-t.y)},n._getPoints=function(t,i,r){for(i===void 0&&(i=!1),n._mPointList||(n._mPointList=[]);n._mPointList.length<t;)n._mPointList.push(new kt);return r||(r=[]),r.length=0,i?n.getFrom(r,n._mPointList,t):n.getFromR(r,n._mPointList,t),r},n.getFrom=function(n,t,i){for(var r=0,r=0;r<i;r++)n.push(t[r]);return n},n.getFromR=function(n,t,i){for(var r=0,r=0;r<i;r++)n.push(t.pop());return n},n.pListToPointList=function(t,i){i===void 0&&(i=!1);for(var r=0,u=t.length/2,f=n._getPoints(u,i,n._tempPointList),r=0;r<u;r++)f[r].setTo(t[r+r],t[r+r+1]);return f},n.pointListToPlist=function(t){var i=0,f=t.length,r=n._temPList,u;for(r.length=0,i=0;i<f;i++)u=t[i],r.push(u.x,u.y);return r},n.scanPList=function(t){return bt.copyArray(t,n.pointListToPlist(n.scan(n.pListToPointList(t,!0))))},n.scan=function(t){var i=0,e=0,u=0,f,o=t.length,r,h={},s;for(r=n._temArr,r.length=0,o=t.length,i=o-1;i>=0;i--)f=t[i],s=f.x+"_"+f.y,h.hasOwnProperty(s)||(h[s]=!0,r.push(f));for(o=r.length,bt.copyArray(t,r),i=1;i<o;i++)(t[i].y<t[u].y||t[i].y==t[u].y&&t[i].x<t[u].x)&&(u=i);for(f=t[0],t[0]=t[u],t[u]=f,i=1;i<o-1;i++){for(u=i,e=i+1;e<o;e++)(n.multiply(t[e],t[u],t[0])>0||n.multiply(t[e],t[u],t[0])==0&&n.dis(t[0],t[e])<n.dis(t[0],t[u]))&&(u=e);f=t[i];t[i]=t[u];t[u]=f}if(r=n._temArr,r.length=0,t.length<3)return bt.copyArray(r,t);for(r.push(t[0],t[1],t[2]),i=3;i<o;i++){while(r.length>=2&&n.multiply(t[i],r[r.length-1],r[r.length-2])>=0)r.pop();t[i]&&r.push(t[i])}return r},n._mPointList=null,n._tempPointList=[],n._temPList=[],n._temArr=[],n}(),bui=function(){function n(){}return r(n,"laya.webgl.shader.ShaderValue"),n}(),eft=function(){function n(){this._clipInfoID=-1;this.incache=!1;this._globalClipMatrix=new ht;this._clipRect=new ct}r(n,"laya.webgl.canvas.save.SaveClipRect");var t=n.prototype;return i.imps(t,{"laya.webgl.canvas.save.ISaveData":!0}),t.isSaveMark=function(){return!1},t.restore=function(t){this._globalClipMatrix.copyTo(t._globalClipMatrix);this._clipRect.clone(t._clipRect);t._clipInfoID=this._clipInfoID;n.POOL[n.POOL._length++]=this;t._clipInCache=this.incache},n.save=function(t){var r,i,u;(t._saveMark._saveuse&131072)!=131072&&(t._saveMark._saveuse|=131072,r=n.POOL,i=r._length>0?r[--r._length]:new n,t._globalClipMatrix.copyTo(i._globalClipMatrix),t._clipRect.clone(i._clipRect),i._clipInfoID=t._clipInfoID,i.incache=t._clipInCache,u=t._save,u[u._length++]=i)},n.POOL=gr._createArray(),n}(),oft=function(){function n(n){var u;this.script=null;this.codes={};this.funs={};this.curUseID=-1;this.funnames="";this.script=n;for(var i=0,r=0,t=0;;){if(i=n.indexOf("#begin",i),i<0)break;for(t=i+5;;){if(t=n.indexOf("#end",t),t<0)break;if(n.charAt(t+4)==="i")t+=5;else break}if(t<0)throw"add include err,no #end:"+n;r=n.indexOf("\n",i);u=us.splitToWords(n.substr(i,r-i),null);u[1]=="code"?this.codes[u[2]]=n.substr(r+1,t-r-1):u[1]=="function"&&(r=n.indexOf("function",i),r+=8,this.funs[u[3]]=n.substr(r+1,t-r-1),this.funnames+=u[3]+";");i=t+1}}r(n,"laya.webgl.utils.InlcudeFile");var t=n.prototype;return t.getWith=function(n){var t=n?this.codes[n]:this.script;if(!t)throw"get with error:"+n;return t},t.getFunsScript=function(n){var t="";for(var i in this.funs)n.indexOf(i+";")>=0&&(t+=this.funs[i]);return t},n}(),hu=function(){function n(){this.fun=null;this._this=null;this.args=null;this._ref=1;this._key=new vh}r(n,"laya.webgl.submit.SubmitCMD");var t=n.prototype;return i.imps(t,{"laya.webgl.submit.ISubmit":!0}),t.renderSubmit=function(){return this.fun.apply(this._this,this.args),1},t.getRenderType=function(){return 0},t.reUse=function(n,t){return this._ref++,t},t.releaseRender=function(){if(--this._ref<1){var t=n.POOL;t[t._length++]=this}},t.clone=function(){return null},n.create=function(t,i,r){var u=n.POOL._length?n.POOL[--n.POOL._length]:new n;return u.fun=i,u.args=t,u._this=r,u._ref=1,u._key.clear(),u},n.POOL=[],n.__init$=function(){n.POOL._length=0},n}(),sft=function(){function n(){this.name=null;this.slotArr=[]}return r(n,"laya.ani.bone.SkinData"),n}(),nr=function(){function n(){}return r(n,"laya.maths.MathUtil"),n.subtractVector3=function(n,t,i){i[0]=n[0]-t[0];i[1]=n[1]-t[1];i[2]=n[2]-t[2]},n.lerp=function(n,t,i){return n*(1-i)+t*i},n.scaleVector3=function(n,t,i){i[0]=n[0]*t;i[1]=n[1]*t;i[2]=n[2]*t},n.lerpVector3=function(n,t,i,r){var u=n[0],f=n[1],e=n[2];r[0]=u+i*(t[0]-u);r[1]=f+i*(t[1]-f);r[2]=e+i*(t[2]-e)},n.lerpVector4=function(n,t,i,r){var u=n[0],f=n[1],e=n[2],o=n[3];r[0]=u+i*(t[0]-u);r[1]=f+i*(t[1]-f);r[2]=e+i*(t[2]-e);r[3]=o+i*(t[3]-o)},n.slerpQuaternionArray=function(n,t,i,r,u,f,e){var w=n[t+0],b=n[t+1],k=n[t+2],d=n[t+3],c=i[r+0],l=i[r+1],a=i[r+2],v=i[r+3],y,o,p,s,h;return o=w*c+b*l+k*a+d*v,o<0&&(o=-o,c=-c,l=-l,a=-a,v=-v),1-o>1e-6?(y=Math.acos(o),p=Math.sin(y),s=Math.sin((1-u)*y)/p,h=Math.sin(u*y)/p):(s=1-u,h=u),f[e+0]=s*w+h*c,f[e+1]=s*b+h*l,f[e+2]=s*k+h*a,f[e+3]=s*d+h*v,f},n.getRotation=function(n,t,i,r){return Math.atan2(r-t,i-n)/Math.PI*180},n.sortBigFirst=function(n,t){return n==t?0:t>n?1:-1},n.sortSmallFirst=function(n,t){return n==t?0:t>n?-1:1},n.sortNumBigFirst=function(n,t){return parseFloat(t)-parseFloat(n)},n.sortNumSmallFirst=function(n,t){return parseFloat(n)-parseFloat(t)},n.sortByKey=function(t,i,r){i===void 0&&(i=!1);r===void 0&&(r=!0);var u;return u=i?r?n.sortNumBigFirst:n.sortBigFirst:r?n.sortNumSmallFirst:n.sortSmallFirst,function(n,i){return u(n[t],i[t])}},n}(),vp=function(){function n(){}return r(n,"laya.html.utils.Layout"),n.later=function(t){n._will==null&&(n._will=[],i.stage.frameLoop(1,null,function(){if(!(n._will.length<1)){for(var t=0;t<n._will.length;t++)laya.html.utils.Layout.layout(n._will[t]);n._will.length=0}}));n._will.push(t)},n.layout=function(t){var i;return!t||!t._style?null:(i=t._style,(i._type&512)==0)?null:(t.style._type&=-513,n._multiLineLayout(t))},n._multiLineLayout=function(t){function ft(){i.y=e;e+=i.h+ot;i.mWidth=ut;ut=0;i=new by;l.push(i);i.h=0;s=0;k=!0;o=!1}var g=[],ut,k,d,et;t._addChildsToLayout(g);var f=0,nt=g.length,r=t._getCSSStyle(),ct=r.letterSpacing,ot=r.leading,y=r.lineHeight,tt=r._widthAuto()||!r.wordWrap,p=tt?999999:t.width,vt=t.height,w=0,lt=r.italic?r.fontSize/3:0,st=r.align,ht=r.valign,at=ht!=="top"||st!=="left"||y!=0,u,s=0,e=0,c=0,it=0,l=[],h,a,i=l[0]=new by,o=!1,b=!1,v,rt;for(i.h=0,r.italic&&(p-=r.fontSize/3),ut=0,k=!0,f=0;f<nt;f++){if(u=g[f],u==null){k||(s+=n.DIV_ELEMENT_PADDING);i.wordStartIndex=i.elements.length;continue}if(k=!1,u instanceof laya.html.dom.HTMLBrElement){ft();i.y=e;i.h=y;continue}else u._isChar()?(v=u,o=b||v.char==="\n",i.wordStartIndex=i.elements.length,c=v.width+v.style.letterSpacing,it=v.height,b=!1,o=o||s+c>p,o&&ft(),i.minTextHeight=Math.min(i.minTextHeight,u.height)):(h=u._getCSSStyle(),rt=u,a=h.padding,o=b||h.getLineElement(),c=rt.width+a[1]+a[3]+h.letterSpacing,it=rt.height+a[0]+a[2],b=h.getLineElement(),o=o||s+c>p&&h.wordWrap,o&&ft());i.elements.push(u);i.h=Math.max(i.h,it);u.x=s;u.y=e;s+=c;i.w=s-ct;i.y=e;w=Math.max(s+lt+2,w)>>0}if(e=i.y+i.h,at){for(d=0,et=p,tt&&t.width>0&&(et=t.width),f=0,nt=l.length;f<nt;f++)l[f].updatePos(0,et,f,d,st,ht,y),d+=Math.max(y,l[f].h+ot);e=d}return tt&&(t.width=w),e>t.height&&(t.height=e),[w,e]},n.DIV_ELEMENT_PADDING=0,n._will=null,n}(),hft=function(){function t(){this.pos=null;this.coords=null}r(t,"laya.device.geolocation.GeolocationInfo");var n=t.prototype;return n.setPosition=function(n){this.pos=n;this.coords=n.coords},e(0,n,"heading",function(){return this.coords.heading}),e(0,n,"latitude",function(){return this.coords.latitude}),e(0,n,"altitudeAccuracy",function(){return this.coords.altitudeAccuracy}),e(0,n,"longitude",function(){return this.coords.longitude}),e(0,n,"altitude",function(){return this.coords.altitude}),e(0,n,"accuracy",function(){return this.coords.accuracy}),e(0,n,"speed",function(){return this.coords.speed}),e(0,n,"timestamp",function(){return this.pos.timestamp}),t}(),de=function(){function n(){this.padding=n._PADDING;this.reset()}r(n,"laya.html.utils.HTMLStyle");var t=n.prototype;return t._getExtendStyle=function(){return this._extendStyle===cl.EMPTY&&(this._extendStyle=cl.create()),this._extendStyle},t.reset=function(){return this.ower=null,this._type=0,this.wordWrap=!0,this.fontSize=w.defaultFontSize,this.family=w.defaultFont,this.color="#000000",this.valign="top",this.padding=n._PADDING,this.bold=!1,this.italic=!1,this.align="left",this.textDecoration=null,this.bgColor=null,this.borderColor=null,this._extendStyle&&this._extendStyle.recover(),this._extendStyle=cl.EMPTY,this},t.recover=function(){it.recover("HTMLStyle",this.reset())},t.inherit=function(t){var i=0,f=0,r,u;for(r=n._inheritProps,f=r.length,i=0;i<f;i++)u=r[i],this[u]=t[u]},t._widthAuto=function(){return(this._type&262144)!=0},t.widthed=function(){return(this._type&8)!=0},t._calculation=function(){return!1},t.heighted=function(){return(this._type&8192)!=0},t.size=function(n,t){var i=this.ower,r=!1;n!==-1&&n!=i.width&&(this._type|=8,i.width=n,r=!0);t!==-1&&t!=i.height&&(this._type|=8192,i.height=t,r=!0);r&&i._layoutLater()},t.getLineElement=function(){return(this._type&65536)!=0},t.setLineElement=function(n){n?this._type|=65536:this._type&=-65537},t._enableLayout=function(){return(this._type&2)==0&&(this._type&4)==0},t.cssText=function(t){this.attrs(n.parseOneCSS(t,";"))},t.attrs=function(n){var t,r,i;if(n)for(t=0,r=n.length;t<r;t++)i=n[t],this[i[0]]=i[1]},e(0,t,"font",function(){return(this.italic?"italic ":"")+(this.bold?"bold ":"")+this.fontSize+"px "+(c.onIPhone?w.fontFamilyMap[this.family]||this.family:this.family)},function(n){for(var i,r=n.split(" "),t=0,u=r.length;t<u;t++){i=r[t];switch(i){case"italic":this.italic=!0;continue;case"bold":this.bold=!0;continue}if(i.indexOf("px")>0){this.fontSize=parseInt(i);this.family=r[t+1];t++;continue}}}),e(0,t,"href",function(){return this._extendStyle.href},function(n){n!==this._extendStyle.href&&(this._getExtendStyle().href=n)}),e(0,t,"lineHeight",function(){return this._extendStyle.lineHeight},function(n){this._extendStyle.lineHeight!==n&&(this._getExtendStyle().lineHeight=n)}),e(0,t,"strokeColor",function(){return this._extendStyle.strokeColor},function(n){this._extendStyle.strokeColor!==n&&(this._getExtendStyle().strokeColor=n)}),e(0,t,"stroke",function(){return this._extendStyle.stroke},function(n){this._extendStyle.stroke!==n&&(this._getExtendStyle().stroke=n)}),e(0,t,"leading",function(){return this._extendStyle.leading},function(n){this._extendStyle.leading!==n&&(this._getExtendStyle().leading=n)}),e(0,t,"align",function(){var t=this._type&48;return n.align_Value[t]},function(t){t in n.alignVDic&&(this._type&=-49,this._type|=n.alignVDic[t])}),e(0,t,"valign",function(){var t=this._type&192;return n.vAlign_Value[t]},function(t){t in n.alignVDic&&(this._type&=-193,this._type|=n.alignVDic[t])}),e(0,t,"block",function(){return(this._type&1)!=0},function(n){n?this._type|=1:this._type&=-2}),e(0,t,"wordWrap",function(){return(this._type&131072)==0},function(n){n?this._type&=-131073:this._type|=131072}),e(0,t,"bold",function(){return(this._type&1024)!=0},function(n){n?this._type|=1024:this._type&=-1025}),e(0,t,"italic",function(){return(this._type&2048)!=0},function(n){n?this._type|=2048:this._type&=-2049}),e(0,t,"whiteSpace",function(){return this._type&131072?"nowrap":""},function(n){n==="nowrap"&&(this._type|=131072);n==="none"&&(this._type&=-131073)}),e(0,t,"width",null,function(n){if(this._type|=8,typeof n=="string"){var t=n.indexOf("auto");if(t>=0&&(this._type|=262144,n=n.substr(0,t)),this._calculation("width",n))return;n=parseInt(n)}this.size(n,-1)}),e(0,t,"height",null,function(n){if(this._type|=8192,typeof n=="string"){if(this._calculation("height",n))return;n=parseInt(n)}this.size(-1,n)}),e(0,t,"letterSpacing",function(){return this._extendStyle.letterSpacing},function(n){(typeof n=="string"&&(n=parseInt(n+"")),n!=this._extendStyle.letterSpacing)&&(this._getExtendStyle().letterSpacing=n)}),e(0,t,"position",function(){return this._type&4?"absolute":""},function(n){n==="absolute"?this._type|=4:this._type&=-5}),e(0,t,"absolute",function(){return(this._type&4)!=0}),e(0,t,"paddingLeft",function(){return this.padding[3]}),e(0,t,"paddingTop",function(){return this.padding[0]}),n.create=function(){return it.getItemByClass("HTMLStyle",n)},n.parseOneCSS=function(t,i){for(var f,r,h=[],c=t.split(i),u,o=0,a=c.length;o<a;o++){var s=c[o],l=s.indexOf(":"),e=s.substr(0,l).replace(/^\s+|\s+$/g,"");if(e.length!==0){f=s.substr(l+1).replace(/^\s+|\s+$/g,"");r=[e,f];switch(e){case"italic":case"bold":r[1]=f=="true";break;case"font-weight":f=="bold"&&(r[1]=!0,r[0]="bold");break;case"line-height":r[0]="lineHeight";r[1]=parseInt(f);break;case"font-size":r[0]="fontSize";r[1]=parseInt(f);break;case"stroke":r[0]="stroke";r[1]=parseInt(f);break;case"padding":u=f.split(" ");u.length>1||(u[1]=u[2]=u[3]=u[0]);r[1]=[parseInt(u[0]),parseInt(u[1]),parseInt(u[2]),parseInt(u[3])];break;default:(r[0]=n._CSSTOVALUE[e])||(r[0]=e)}h.push(r)}}return h},n.parseCSS=function(t){for(var i;(i=n._parseCSSRegExp.exec(t))!=null;)n.styleSheets[i[1]]=n.parseOneCSS(i[2],";")},n._CSSTOVALUE={"letter-spacing":"letterSpacing","white-space":"whiteSpace","line-height":"lineHeight","font-family":"family","vertical-align":"valign","text-decoration":"textDecoration","background-color":"bgColor","border-color":"borderColor"},n._parseCSSRegExp=new RegExp("([.#]\\w+)\\s*{([\\s\\S]*?)}","g"),n.ALIGN_LEFT="left",n.ALIGN_CENTER="center",n.ALIGN_RIGHT="right",n.VALIGN_TOP="top",n.VALIGN_MIDDLE="middle",n.VALIGN_BOTTOM="bottom",n.styleSheets={},n.ADDLAYOUTED=512,n._PADDING=[0,0,0,0],n._HEIGHT_SET=8192,n._LINE_ELEMENT=65536,n._NOWARP=131072,n._WIDTHAUTO=262144,n._BOLD=1024,n._ITALIC=2048,n._CSS_BLOCK=1,n._DISPLAY_NONE=2,n._ABSOLUTE=4,n._WIDTH_SET=8,n._ALIGN=48,n._VALIGN=192,d(n,["_inheritProps",function(){return this._inheritProps=["italic","align","valign","leading","stroke","strokeColor","bold","fontSize","lineHeight","wordWrap","color"]},"alignVDic",function(){return this.alignVDic={left:0,center:16,right:32,top:0,middle:64,bottom:128}},"align_Value",function(){return this.align_Value={0:"left",16:"center",32:"right"}},"vAlign_Value",function(){return this.vAlign_Value={0:"top",64:"middle",128:"bottom"}}]),n}(),kui=function(){function n(){}return r(n,"laya.Const"),n.NOT_ACTIVE=1,n.ACTIVE_INHIERARCHY=2,n.AWAKED=4,n.NOT_READY=8,n.DISPLAY=16,n.HAS_ZORDER=32,n.HAS_MOUSE=64,n.DISPLAYED_INSTAGE=128,n.DRAWCALL_OPTIMIZE=256,n}(),ts=function(){function n(){}return r(n,"laya.resource.WebGLRTMgr"),n.getRT=function(t,i){t=t|0;i=i|0;t>=1e4&&console.error("getRT error! w too big");var u=i*1e4+t,f=n.dict[u],r;return f&&f.length>0?(r=f.pop(),r._mgrKey=u,r):(r=new vu(t,i,1,-1),r._mgrKey=u,r)},n.releaseRT=function(t){if(!(t._mgrKey<=0)){var i=n.dict[t._mgrKey];i||(i=[],n.dict[t._mgrKey]=i);t._mgrKey=0;i.push(t)}},n.dict={},n}(),cft=function(){function n(){}return r(n,"laya.webgl.shapes.BasePoly"),n.createLine2=function(t,i,r,u,f,e){var c,g,b,nt,tt,p,w,l,a,ut,ft,s,h,k,d,et,ot,st,ht,ct,lt,it,at,v,vt,yt;if(t.length<4)return null;c=n.tempData.length>t.length+2?n.tempData:new Array(t.length+2);c[0]=t[0];c[1]=t[1];for(var y=2,o=0,rt=t.length,o=2;o<rt;o+=2)Math.abs(t[o]-t[o-2])+Math.abs(t[o+1]-t[o-1])>.01&&(c[y++]=t[o],c[y++]=t[o+1]);for(e&&Math.abs(t[0]-c[y-2])+Math.abs(t[1]-c[y-1])>.01&&(c[y++]=t[0],c[y++]=t[1]),g=f,rt=y/2,b=r/2,p=c[0],w=c[1],l=c[2],a=c[3],s=-(w-a),h=p-l,v=Math.sqrt(s*s+h*h),s=s/v*b,h=h/v*b,vt=s,yt=h,g.push(p-s,w-h,p+s,w+h),o=1;o<rt-1;o++){if(p=c[(o-1)*2],w=c[(o-1)*2+1],l=c[o*2],a=c[o*2+1],ut=c[(o+1)*2],ft=c[(o+1)*2+1],s=-(w-a),h=p-l,v=Math.sqrt(s*s+h*h),s=s/v*b,h=h/v*b,k=-(a-ft),d=l-ut,v=Math.sqrt(k*k+d*d),k=k/v*b,d=d/v*b,et=-h+w-(-h+a),ot=-s+l-(-s+p),st=(-s+p)*(-h+a)-(-s+l)*(-h+w),ht=-d+ft-(-d+a),ct=-k+l-(-k+ut),lt=(-k+ut)*(-d+a)-(-k+l)*(-d+ft),it=et*ct-ht*ot,Math.abs(it)<.1){it+=10.1;g.push(l-s,a-h,l+s,a+h);continue}nt=(ot*lt-ct*st)/it;tt=(ht*st-et*lt)/it;at=(nt-l)*(nt-l)+(tt-a)+(tt-a);g.push(nt,tt,l-(nt-l),a-(tt-a))}for(p=c[y-4],w=c[y-3],l=c[y-2],a=c[y-1],s=-(w-a),h=p-l,v=Math.sqrt(s*s+h*h),s=s/v*b,h=h/v*b,g.push(l-s,a-h,l+s,a+h),o=1;o<rt;o++)i.push(u+(o-1)*2,u+(o-1)*2+1,u+o*2+1,u+o*2+1,u+o*2,u+(o-1)*2);return g},n.createLineTriangle=function(n,t,i,r){var u=n.slice(),k=u.length,l=u[0],a=u[1],p=u[2],w=u[2],c=0,f=0,o=0,s=0,b=k/2,y,d,g;if(!(b<=1)&&b!=2){var e=new Array(b*4),v=0,h=0;for(y=0;y<b-1;y++)l=u[h++],a=u[h++],p=u[h++],w=u[h++],o=p-l,s=w-a,o!=0&&s!=0&&(c=Math.sqrt(o*o+s*s),c>.001&&(f=v*4,e[f]=l,e[f+1]=a,e[f+2]=o/c,e[f+3]=s/c,v++));for(r?(l=u[k-2],a=u[k-1],p=u[0],w=u[1],o=p-l,s=w-a,o!=0&&s!=0&&(c=Math.sqrt(o*o+s*s),c>.001&&(f=v*4,e[f]=l,e[f+1]=a,e[f+2]=o/c,e[f+3]=s/c,v++))):(f=v*4,e[f]=l,e[f+1]=a,e[f+2]=o/c,e[f+3]=s/c,v++),h=0,y=0;y<b;y++)l=u[h],a=u[h+1],p=u[h+2],w=u[h+3],d=u[h+4],g=u[h+5];r}},d(n,["tempData",function(){return this.tempData=new Array(256)}]),n}(),al=function(){function n(){this.reset()}r(n,"laya.display.css.CacheStyle");var t=n.prototype;return t.needBitmapCache=function(){return this.cacheForFilters||!!this.mask},t.needEnableCanvasRender=function(){return this.userSetCache!="none"||this.cacheForFilters||!!this.mask},t.releaseContext=function(){this.canvas&&this.canvas.size&&(it.recover("CacheCanvas",this.canvas),this.canvas.size(0,0),this.canvas.width=0,this.canvas.height=0);this.canvas=null},t.createContext=function(){if(!this.canvas){this.canvas=it.getItem("CacheCanvas")||new uf(!1);var n=this.canvas.context;n||(n=this.canvas.getContext("2d"))}},t.releaseFilterCache=function(){var n=this.filterCache;n&&(n.destroy(),n.recycle(),this.filterCache=null)},t.recover=function(){this!==n.EMPTY&&it.recover("SpriteCache",this.reset())},t.reset=function(){return this.releaseContext(),this.releaseFilterCache(),this.cacheAs="none",this.enableCanvasRender=!1,this.userSetCache="none",this.cacheForFilters=!1,this.staticCache=!1,this.reCache=!0,this.mask=null,this.maskParent=null,this.filterCache=null,this.filters=null,this.hasGlowFilter=!1,this.cacheRect&&this.cacheRect.recover(),this.cacheRect=null,this},t._calculateCacheRect=function(t,i,r,u){var e=t._cacheStyle,f,o;return e.cacheRect||(e.cacheRect=ct.create()),i==="bitmap"?(f=t.getSelfBounds(),f.width=f.width+32,f.height=f.height+32,f.x=f.x-t.pivotX,f.y=f.y-t.pivotY,f.x=f.x-16,f.y=f.y-16,f.x=Math.floor(f.x+r)-r,f.y=Math.floor(f.y+u)-u,f.width=Math.floor(f.width),f.height=Math.floor(f.height),e.cacheRect.copyFrom(f)):e.cacheRect.setTo(-t._style.pivotX,-t._style.pivotY,1,1),f=e.cacheRect,t._style.scrollRect&&(o=t._style.scrollRect,f.x-=o.x,f.y-=o.y),n._scaleInfo.setTo(1,1),n._scaleInfo},n.create=function(){return it.getItemByClass("SpriteCache",n)},n.EMPTY=new n,n.CANVAS_EXTEND_EDGE=16,d(n,["_scaleInfo",function(){return this._scaleInfo=new kt}]),n}(),lft=function(){function n(){}r(n,"laya.display.cmd.DrawRectCmd");var t=n.prototype;return t.recover=function(){this.fillColor=null;this.lineColor=null;it.recover("DrawRectCmd",this)},t.run=function(n,t,i){n.drawRect(this.x+t,this.y+i,this.width,this.height,this.fillColor,this.lineColor,this.lineWidth)},e(0,t,"cmdID",function(){return"DrawRect"}),n.create=function(t,i,r,u,f,e,o){var s=it.getItemByClass("DrawRectCmd",n);return s.x=t,s.y=i,s.width=r,s.height=u,s.fillColor=f,s.lineColor=e,s.lineWidth=o,s},n.ID="DrawRect",n}(),vl=function(){function n(n,t,i){this.i=null;this.x=null;this.y=null;this.prev=null;this.next=null;this.z=null;this.prevZ=null;this.nextZ=null;this.steiner=null;this.i=n;this.x=t;this.y=i;this.prev=null;this.next=null;this.z=null;this.prevZ=null;this.nextZ=null;this.steiner=!1}return r(n,"laya.webgl.shapes.EarcutNode"),n}(),yp=function(){function n(){this.ib=null;this.vb=null;var n=at.mainContext;this.ib=aw.create(35048);this.vb=vw.create(8)}r(n,"laya.webgl.shader.d2.skinAnishader.SkinMeshBuffer");var t=n.prototype;return t.addSkinMesh=function(n){n.getData2(this.vb,this.ib,this.vb._byteLength/32)},t.reset=function(){this.vb.clear();this.ib.clear()},n.getInstance=function(){return n.instance=n.instance||new n},n.instance=null,n}(),vi=function(){function n(){}return r(n,"laya.media.SoundManager"),e(1,n,"useAudioMusic",function(){return n._useAudioMusic},function(t){n._useAudioMusic=t;n._musicClass=t?es:null}),e(1,n,"autoStopMusic",function(){return n._autoStopMusic},function(t){if(i.stage.off("mousedown",null,n._stageOnFocus),i.stage.off("blur",null,n._stageOnBlur),i.stage.off("focus",null,n._stageOnFocus),i.stage.off("visibilitychange",null,n._visibilityChange),n._autoStopMusic=t,t&&!c.onPC){i.stage.on("blur",null,n._stageOnBlur);i.stage.on("focus",null,n._stageOnFocus);i.stage.on("visibilitychange",null,n._visibilityChange);i.stage.once("mousedown",null,n._stageOnFocus)}}),e(1,n,"muted",function(){return n._muted},function(t){t!=n._muted&&(t&&n.stopAllSound(),n.musicMuted=t,n._muted=t)}),e(1,n,"musicMuted",function(){return n._musicMuted},function(t){t!=n._musicMuted&&(t?(n._bgMusic?n._musicChannel&&!n._musicChannel.isStopped?tt.isConchApp?n._musicChannel._audio&&(n._musicChannel._audio.muted=!0):n._musicChannel.pause():n._musicChannel=null:n._musicChannel=null,n._musicMuted=t):(n._musicMuted=t,n._bgMusic&&n._musicChannel&&(tt.isConchApp?n._musicChannel._audio&&(n._musicChannel._audio.muted=!1):n._musicChannel.resume())))}),e(1,n,"soundMuted",function(){return n._soundMuted},function(t){n._soundMuted=t}),n.__init__=function(){var i=c.window,t=ie.IsSupport();return n._soundClass=t?ie:es,es._initMusicAudio(),n._musicClass=es,t},n.addChannel=function(t){n._channels.indexOf(t)>=0||n._channels.push(t)},n.removeChannel=function(t){for(var i=0,i=n._channels.length-1;i>=0;i--)n._channels[i]==t&&n._channels.splice(i,1)},n.disposeSoundLater=function(t){i.timer.clear(null,n._checkDisposeSound);n._lastSoundUsedTimeDic[t]=c.now();n._isCheckingDispose||(n._isCheckingDispose=!0,i.timer.loop(5e3,null,n._checkDisposeSound))},n._checkDisposeSound=function(){var t,u=c.now(),r=!1;for(t in n._lastSoundUsedTimeDic)u-n._lastSoundUsedTimeDic[t]>12e5?(delete n._lastSoundUsedTimeDic[t],n.disposeSoundIfNotUsed(t)):r=!0;r||(n._isCheckingDispose=!1,i.timer.clear(null,n._checkDisposeSound))},n.disposeSoundIfNotUsed=function(t){for(var i=0,i=n._channels.length-1;i>=0;i--)if(n._channels[i].url==t)return;n.destroySound(t)},n._visibilityChange=function(){i.stage.isVisibility?n._stageOnFocus():n._stageOnBlur()},n._stageOnBlur=function(){i.stage.once("mousedown",null,n._stageOnFocus);n._isActive=!1;n._musicChannel&&(n._musicChannel.isStopped||(n._blurPaused=!0,n._musicChannel.pause()));n.stopAllSound()},n._stageOnFocus=function(){i.stage.off("mousedown",null,n._stageOnFocus);n._isActive=!0;n.startAudio();n._blurPaused&&n._musicChannel&&n._musicChannel.isStopped&&(n._blurPaused=!1,n._musicChannel.resume())},n.startAudio=function(){var n=ie.ctx;n&&n.state!="running"&&n.resume&&n.resume()},n.playSound=function(t,r,u,f,e,o){var l,s,h;if(r===void 0&&(r=1),e===void 0&&(e=0),!n._isActive||!t||n._muted)return null;if(n.startAudio(),t=ti.formatURL(t),t==n._bgMusic){if(n._musicMuted)return null}else{if(tt.isConchApp&&(l=bt.getFileExtension(t),l!="wav"&&l!="ogg"))return alert("The sound only supports wav or ogg format,for optimal performance reason,please refer to the official website document."),null;if(n._soundMuted)return null}if(c.onMiniGame||(s=i.loader.getRes(t)),!s){f||(f=n._soundClass);s=new f;function a(){y();o&&o.runWith(s.duration)}function v(){y();n.destroySound(t);o&&o.runWith(0)}function y(){s.off("error",null,v);s.off("complete",null,a)}s.on("error",null,v);s.on("complete",null,a);s.load(t);c.onMiniGame||dt.cacheRes(t,s)}return(h=s.play(e,r),!h)?null:(h.url=t,h.volume=t==n._bgMusic?n.musicVolume:n.soundVolume,h.completeHandler=u,h)},n.destroySound=function(n){var t=i.loader.getRes(n);t&&(dt.clearRes(n),t.dispose())},n.playMusic=function(t,i,r,u){return i===void 0&&(i=0),u===void 0&&(u=0),t=ti.formatURL(t),n._bgMusic=t,n._musicChannel&&n._musicChannel.stop(),n._musicChannel=n.playSound(t,i,r,n._musicClass,u)},n.stopSound=function(t){t=ti.formatURL(t);for(var i=0,r,i=n._channels.length-1;i>=0;i--)r=n._channels[i],r.url==t&&r.stop()},n.stopAll=function(){n._bgMusic=null;for(var t=0,i,t=n._channels.length-1;t>=0;t--)i=n._channels[t],i.stop()},n.stopAllSound=function(){for(var t=0,i,t=n._channels.length-1;t>=0;t--)i=n._channels[t],i.url!=n._bgMusic&&i.stop()},n.stopMusic=function(){n._musicChannel&&n._musicChannel.stop();n._bgMusic=null},n.setSoundVolume=function(t,i){if(i)i=ti.formatURL(i),n._setVolume(i,t);else{n.soundVolume=t;for(var r=0,u,r=n._channels.length-1;r>=0;r--)u=n._channels[r],u.url!=n._bgMusic&&(u.volume=t)}},n.setMusicVolume=function(t){n.musicVolume=t;n._setVolume(n._bgMusic,t)},n._setVolume=function(t,i){t=ti.formatURL(t);for(var r=0,u,r=n._channels.length-1;r>=0;r--)u=n._channels[r],u.url==t&&(u.volume=i)},n.musicVolume=1,n.soundVolume=1,n.playbackRate=1,n._useAudioMusic=!0,n._muted=!1,n._soundMuted=!1,n._musicMuted=!1,n._bgMusic=null,n._musicChannel=null,n._channels=[],n._autoStopMusic=!1,n._blurPaused=!1,n._isActive=!0,n._soundClass=null,n._musicClass=null,n._lastSoundUsedTimeDic={},n._isCheckingDispose=!1,n.autoReleaseSound=!0,n.TIME_DISPOSE=12e5,n}(),aft=function(){function t(){this._frameTime=0;this._emissionRate=60;this._emissionTime=0;this.minEmissionTime=1/60;this._particleTemplate=null}r(t,"laya.particle.emitter.EmitterBase");var n=t.prototype;return n.start=function(n){n===void 0&&(n=Number.MAX_VALUE);this._emissionRate!=0&&(this._emissionTime=n)},n.stop=function(){this._emissionTime=0},n.clear=function(){this._emissionTime=0},n.emit=function(){},n.advanceTime=function(n){if((n===void 0&&(n=1),this._emissionTime-=n,!(this._emissionTime<0))&&(this._frameTime+=n,!(this._frameTime<this.minEmissionTime)))while(this._frameTime>this.minEmissionTime)this._frameTime-=this.minEmissionTime,this.emit()},e(0,n,"particleTemplate",null,function(n){this._particleTemplate=n}),e(0,n,"emissionRate",function(){return this._emissionRate},function(n){n<=0||(this._emissionRate=n,n>0&&(this.minEmissionTime=1/n))}),t}(),vft=function(){function n(n,t){this._data=null;this._bones=null;this.target=null;this.rotateMix=NaN;this.translateMix=NaN;this.scaleMix=NaN;this.shearMix=NaN;this._temp=vr(2,0);this._data=n;this._bones==null&&(this._bones=[]);this.target=t[n.targetIndex];for(var i=0,r=0,i=0,r=n.boneIndexs.length;i<r;i++)this._bones.push(t[n.boneIndexs[i]]);this.rotateMix=n.rotateMix;this.translateMix=n.translateMix;this.scaleMix=n.scaleMix;this.shearMix=n.shearMix}r(n,"laya.ani.bone.TfConstraint");var t=n.prototype;return t.apply=function(){for(var e,o,w,n,s=this.target.resultMatrix.a,c=this.target.resultMatrix.b,h=this.target.resultMatrix.c,l=this.target.resultMatrix.d,a=0,b=this._bones.length;a<b;a++){if(n=this._bones[a],this.rotateMix>0){var v=n.resultMatrix.a,u=n.resultMatrix.b,y=n.resultMatrix.c,f=n.resultMatrix.d,t=Math.atan2(h,s)-Math.atan2(y,v)+this._data.offsetRotation*Math.PI/180;t>Math.PI?t-=Math.PI*2:t<-Math.PI&&(t+=Math.PI*2);t*=this.rotateMix;e=Math.cos(t);o=Math.sin(t);n.resultMatrix.a=e*v-o*y;n.resultMatrix.b=e*u-o*f;n.resultMatrix.c=o*v+e*y;n.resultMatrix.d=o*u+e*f}if(this.translateMix&&(this._temp[0]=this._data.offsetX,this._temp[1]=this._data.offsetY,this.target.localToWorld(this._temp),n.resultMatrix.tx+=(this._temp[0]-n.resultMatrix.tx)*this.translateMix,n.resultMatrix.ty+=(this._temp[1]-n.resultMatrix.ty)*this.translateMix,n.updateChild()),this.scaleMix>0){var i=Math.sqrt(n.resultMatrix.a*n.resultMatrix.a+n.resultMatrix.c*n.resultMatrix.c),p=Math.sqrt(s*s+h*h),r=i>1e-5?(i+(p-i+this._data.offsetScaleX)*this.scaleMix)/i:0;n.resultMatrix.a*=r;n.resultMatrix.c*=r;i=Math.sqrt(n.resultMatrix.b*n.resultMatrix.b+n.resultMatrix.d*n.resultMatrix.d);p=Math.sqrt(c*c+l*l);r=i>1e-5?(i+(p-i+this._data.offsetScaleY)*this.scaleMix)/i:0;n.resultMatrix.b*=r;n.resultMatrix.d*=r}this.shearMix>0&&(u=n.resultMatrix.b,f=n.resultMatrix.d,w=Math.atan2(f,u),t=Math.atan2(l,c)-Math.atan2(h,s)-(w-Math.atan2(n.resultMatrix.c,n.resultMatrix.a)),t>Math.PI?t-=Math.PI*2:t<-Math.PI&&(t+=Math.PI*2),t=w+(t+this._data.offsetShearY*Math.PI/180)*this.shearMix,r=Math.sqrt(u*u+f*f),n.resultMatrix.b=Math.cos(t)*r,n.resultMatrix.d=Math.sin(t)*r)}},n}(),yft=function(){function n(){}r(n,"laya.display.cmd.FillBorderWordsCmd");var t=n.prototype;return t.recover=function(){this.words=null;it.recover("FillBorderWordsCmd",this)},t.run=function(n,t,i){n.fillBorderWords(this.words,this.x+t,this.y+i,this.font,this.fillColor,this.borderColor,this.lineWidth)},e(0,t,"cmdID",function(){return"FillBorderWords"}),n.create=function(t,i,r,u,f,e,o){var s=it.getItemByClass("FillBorderWordsCmd",n);return s.words=t,s.x=i,s.y=r,s.font=u,s.fillColor=f,s.borderColor=e,s.lineWidth=o,s},n.ID="FillBorderWords",n}(),pft=function(){function n(){}r(n,"laya.display.cmd.DrawLineCmd");var t=n.prototype;return t.recover=function(){it.recover("DrawLineCmd",this)},t.run=function(n,t,i){n._drawLine(t,i,this.fromX,this.fromY,this.toX,this.toY,this.lineColor,this.lineWidth,this.vid)},e(0,t,"cmdID",function(){return"DrawLine"}),n.create=function(t,i,r,u,f,e,o){var s=it.getItemByClass("DrawLineCmd",n);return s.fromX=t,s.fromY=i,s.toX=r,s.toY=u,s.lineColor=f,s.lineWidth=e,s.vid=o,s},n.ID="DrawLine",n}(),gu=function(){function t(){if(this._drawTriUseAbsMatrix=!1,this._id=++t._COUNT,this._other=null,this._renderNextSubmitIndex=0,this._path=null,this._drawCount=1,this._renderCount=0,this._isConvexCmd=!0,this._submits=null,this._curSubmit=null,this._mesh=null,this._pathMesh=null,this._triangleMesh=null,this.meshlist=[],this._clipInCache=!1,this._clipInfoID=0,this._clipID_Gen=0,this._curMat=null,this._lastMatScaleX=1,this._lastMatScaleY=1,this._lastMat_a=1,this._lastMat_b=0,this._lastMat_c=0,this._lastMat_d=1,this._nBlendType=0,this._save=null,this._targets=null,this._charSubmitCache=null,this._saveMark=null,this.sprite=null,this._italicDeg=0,this._lastTex=null,this._fillColor=0,this._flushCnt=0,this.defTexture=null,this._colorFiler=null,this.drawTexAlign=!1,this._incache=!1,this.isMain=!1,this._tmpMatrix=new ht,this._drawTexToDrawTri_Vert=new Float32Array(8),this._drawTexToDrawTri_Index=new Uint16Array([0,1,2,0,2,3]),this._tempUV=new Float32Array(8),this._width=99999999,this._height=99999999,this._submitKey=new vh,this._transedPoints=new Array(8),this._temp4Points=new Array(8),this._clipRect=t.MAXCLIPRECT,this._globalClipMatrix=new ht(99999999,0,0,99999999,0,0),this._shader2D=new pl,t._contextcount++,!this.defTexture){var n=new fo(2,2);n.setPixels(new Uint8Array(16));n.lock=!0;this.defTexture=new bi(n)}this._lastTex=this.defTexture;this.clear()}var u,n;return r(t,"laya.resource.Context"),n=t.prototype,n.drawImage=function(){},n.getImageData=function(){},n.measureText=function(){return null},n.setTransform=function(){},n.$transform=function(){},n.clearRect=function(){},n._drawRect=function(n,t,i,r,u){ni.renderBatches++;u&&(this.fillStyle=u);this.fillRect(n,t,i,r)},n.drawTexture2=function(){},n.transformByMatrix=function(n,t,i){this.transform(n.a,n.b,n.c,n.d,n.tx+t,n.ty+i)},n.saveTransform=function(){this.save()},n.restoreTransform=function(){this.restore()},n.drawRect=function(n,t,i,r,u,f,e){var o=this;u!=null&&(o.fillStyle=u,o.fillRect(n,t,i,r));f!=null&&(o.strokeStyle=f,o.lineWidth=e,o.strokeRect(n,t,i,r))},n.alpha=function(n){this.globalAlpha*=n},n._transform=function(n,t,i){this.translate(t,i);this.transform(n.a,n.b,n.c,n.d,n.tx,n.ty);this.translate(-t,-i)},n._rotate=function(n,t,i){this.translate(t,i);this.rotate(n);this.translate(-t,-i)},n._scale=function(n,t,i,r){this.translate(i,r);this.scale(n,t);this.translate(-i,-r)},n._drawLine=function(n,t,i,r,u,f,e,o){this.beginPath();this.strokeStyle=e;this.lineWidth=o;this.moveTo(n+i,t+r);this.lineTo(n+u,t+f);this.stroke()},n._drawLines=function(n,t,i,r,u){this.beginPath();this.strokeStyle=r;this.lineWidth=u;var f=i.length;this.addPath(i.slice(),!1,!1,n,t);this.stroke()},n.drawCurves=function(n,t,i,r,u){this.beginPath();this.strokeStyle=r;this.lineWidth=u;this.moveTo(n+i[0],t+i[1]);for(var f=2,e=i.length;f<e;)this.quadraticCurveTo(n+i[f++],t+i[f++],n+i[f++],t+i[f++]);this.stroke()},n._fillAndStroke=function(n,t,i,r){r===void 0&&(r=!1);n!=null&&(this.fillStyle=n,this.fill());t!=null&&i>0&&(this.strokeStyle=t,this.lineWidth=i,this.stroke())},n._drawCircle=function(n,i,r,u,f,e){ni.renderBatches++;this.beginPath(!0);this.arc(n,i,r,0,t.PI2);this.closePath();this._fillAndStroke(u,f,e)},n._drawPie=function(n,t,i,r,u,f,e,o){this.beginPath();this.moveTo(n,t);this.arc(n,t,i,r,u);this.closePath();this._fillAndStroke(f,e,o)},n._drawPoly=function(n,t,i,r,u,f,e){var o=i.length;this.beginPath();this.addPath(i.slice(),!0,e,n,t);this.closePath();this._fillAndStroke(r,u,f,e)},n._drawPath=function(n,t,i,r,u){var e,o,f;for(this.beginPath(),e=0,o=i.length;e<o;e++){f=i[e];switch(f[0]){case"moveTo":this.moveTo(n+f[1],t+f[2]);break;case"lineTo":this.lineTo(n+f[1],t+f[2]);break;case"arcTo":this.arcTo(n+f[1],t+f[2],n+f[3],t+f[4],f[5]);break;case"closePath":this.closePath()}}r!=null&&(this.fillStyle=r.fillStyle,this.fill());u!=null&&(this.strokeStyle=u.strokeStyle,this.lineWidth=u.lineWidth||1,this.lineJoin=u.lineJoin,this.lineCap=u.lineCap,this.miterLimit=u.miterLimit,this.stroke())},n.clearBG=function(n,t,i,r){var u=at.mainContext;u.clearColor(n,t,i,r);u.clear(16384)},n._getSubmits=function(){return this._submits},n._releaseMem=function(n){var t,r,i,u;if(n===void 0&&(n=!1),this._submits){for(this._curMat.destroy(),this._curMat=null,this._shader2D.destroy(),this._shader2D=null,this._charSubmitCache.clear(),t=0,r=this._submits._length;t<r;t++)this._submits[t].releaseRender();for(this._submits.length=0,this._submits._length=0,this._submits=null,this._curSubmit=null,this._path=null,this._save=null,i=0,t=0,i=this.meshlist.length;t<i;t++)u=this.meshlist[t],u.destroy();this.meshlist.length=0;this.sprite=null;n||(this._targets&&this._targets.destroy(),this._targets=null)}},n.destroy=function(n){n===void 0&&(n=!1);--t._contextcount;this.sprite=null;this._releaseMem(n);this._charSubmitCache.destroy();this._mesh.destroy();n||(this._targets&&this._targets.destroy(),this._targets=null)},n.clear=function(){this._submits||(this._other=u.DEFAULT,this._curMat=ht.create(),this._charSubmitCache=new iut,this._mesh=pf.getAMesh(this.isMain),this.meshlist.push(this._mesh),this._pathMesh=os.getAMesh(this.isMain),this.meshlist.push(this._pathMesh),this._triangleMesh=bh.getAMesh(this.isMain),this.meshlist.push(this._triangleMesh),this._submits=[],this._save=[kp.Create(this)],this._save.length=10,this._shader2D=new pl);this._submitKey.clear();this._mesh.clearVB();this._renderCount++;this._drawCount=1;this._other=u.DEFAULT;this._other.lineWidth=this._shader2D.ALPHA=1;this._nBlendType=0;this._clipRect=t.MAXCLIPRECT;this._curSubmit=si.RENDERBASE;si.RENDERBASE._ref=16777215;si.RENDERBASE._numEle=0;this._shader2D.fillStyle=this._shader2D.strokeStyle=no.DEFAULT;for(var n=0,i=this._submits._length;n<i;n++)this._submits[n].releaseRender();this._submits._length=0;this._curMat.identity();this._other.clear();this._saveMark=this._save[0];this._save._length=1},n.size=function(n,t){(this._width!=n||this._height!=t)&&(this._width=n,this._height=t,this._targets&&(this._targets.destroy(),this._targets=new vu(n,t,1,-1)),tt._context==this&&(at.mainContext.viewport(0,0,n,t),vt.width=n,vt.height=t));n===0&&t===0&&this._releaseMem()},n.getMatScaleX=function(){return this._lastMat_a==this._curMat.a&&this._lastMat_b==this._curMat.b?this._lastMatScaleX:(this._lastMatScaleX=this._curMat.getScaleX(),this._lastMat_a=this._curMat.a,this._lastMat_b=this._curMat.b,this._lastMatScaleX)},n.getMatScaleY=function(){return this._lastMat_c==this._curMat.c&&this._lastMat_d==this._curMat.d?this._lastMatScaleY:(this._lastMatScaleY=this._curMat.getScaleY(),this._lastMat_c=this._curMat.c,this._lastMat_d=this._curMat.d,this._lastMatScaleY)},n.setFillColor=function(n){this._fillColor=n},n.getFillColor=function(){return this._fillColor},n.translate=function(n,t){(n!==0||t!==0)&&(out.save(this),this._curMat._bTransform?(yh.save(this),this._curMat.tx+=n*this._curMat.a+t*this._curMat.c,this._curMat.ty+=n*this._curMat.b+t*this._curMat.d):(this._curMat.tx=n,this._curMat.ty=t))},n.save=function(){this._save[this._save._length++]=kp.Create(this)},n.restore=function(){var i=this._save._length,r=this._nBlendType,n,t;if(!(i<1)){for(n=i-1;n>=0;n--)if(t=this._save[n],t.restore(this),t.isSaveMark()){this._save._length=n;return}r!=this._nBlendType&&(this._curSubmit=si.RENDERBASE)}},n.fillText=function(n,t,i,r,u){this._fillText(n,null,t,i,r,u,null,0,null)},n._fillText=function(n,i,r,u,f,e,o,s,h,c){c===void 0&&(c=0);n?t._textRender.filltext(this,n,r,u,f,e,o,s,h,c):i&&t._textRender.fillWords(this,i,r,u,f,e,o,s)},n._fast_filltext=function(n,i,r,u,f,e,o,s,h){h===void 0&&(h=0);t._textRender._fast_filltext(this,n,null,i,r,u,f,e,o,s,h)},n.fillWords=function(n,t,i,r,u){this._fillText(null,n,t,i,r,u,null,-1,null,0)},n.fillBorderWords=function(n,t,i,r,u,f,e){this._fillBorderText(null,n,t,i,r,u,f,e,null)},n.drawText=function(n,t,i,r,u,f){this._fillText(n,null,t,i,r,er.create(u).strColor,null,-1,f)},n.strokeWord=function(n,t,i,r,u,f,e){this._fillText(n,null,t,i,r,null,er.create(u).strColor,f||1,e)},n.fillBorderText=function(n,t,i,r,u,f,e,o){this._fillBorderText(n,null,t,i,r,er.create(u).strColor,er.create(f).strColor,e,o)},n._fillBorderText=function(n,t,i,r,u,f,e,o,s){this._fillText(n,t,i,r,u,f,e,o||1,s)},n._fillRect=function(n,t,i,r,u){var f=this._curSubmit,e=f&&f._key.submitType===2&&f._key.blendShader===this._nBlendType;this._mesh.vertNum+4>65535&&(this._mesh=pf.getAMesh(this.isMain),this.meshlist.push(this._mesh),e=!1);e&&(e=this.isSameClipInfo(f));this.transformQuad(n,t,i,r,0,this._curMat,this._transedPoints);this.clipedOff(this._transedPoints)||(this._mesh.addQuad(this._transedPoints,bi.NO_UV,u,!1),e||(f=this._curSubmit=re.create(this,this._mesh,ur.create(1,0)),this._submits[this._submits._length++]=f,this._copyClipInfo(f,this._globalClipMatrix),f.shaderValue.textureHost=this._lastTex,f._key.other=this._lastTex&&this._lastTex.bitmap?this._lastTex.bitmap.id:-1,f._renderType=10016),this._curSubmit._numEle+=6,this._mesh.indexNum+=6,this._mesh.vertNum+=4)},n.fillRect=function(n,t,i,r,u){var f=u?no.create(u):this._shader2D.fillStyle,e=this.mixRGBandAlpha(f.toInt());this._fillRect(n,t,i,r,e)},n.fillTexture=function(n,t,r,u,f,e,o){if(!n._getSource()){this.sprite&&i.systemTimer.callLater(this,this._repaintSprite);return}this._fillTexture(n,n.width,n.height,n.uvrect,t,r,u,f,e,o.x,o.y)},n._fillTexture=function(n,t,i,r,u,f,e,o,s,h,c){var y=this._curSubmit,ut=!1,b,k,tt,it,rt,d;this._mesh.vertNum+4>65535&&(this._mesh=pf.getAMesh(this.isMain),this.meshlist.push(this._mesh),ut=!1);b=!0;k=!0;switch(s){case"repeat-x":k=!1;break;case"repeat-y":b=!1;break;case"no-repeat":b=k=!1}var l=this._temp4Points,g=0,nt=0,p=0,w=0,a=0,v=0;(h<0?(p=u,g=-h%t/t):p=u+h,c<0?(w=f,nt=-c%i/i):w=f+c,a=u+e,v=f+o,b||(a=Math.min(a,u+h+t)),k||(v=Math.min(v,f+c+i)),a<u||v<f)||p>a||w>v||(tt=(a-u-h)/t,it=(v-f-c)/i,this.transformQuad(p,w,a-p,v-w,0,this._curMat,this._transedPoints),l[0]=g,l[1]=nt,l[2]=tt,l[3]=nt,l[4]=tt,l[5]=it,l[6]=g,l[7]=it,this.clipedOff(this._transedPoints)||(rt=this._mixRGBandAlpha(4294967295,this._shader2D.ALPHA),this._mesh.addQuad(this._transedPoints,l,rt,!0),d=ur.create(1,0),d.defines.add(256),d.u_TexRange=r,y=this._curSubmit=re.create(this,this._mesh,d),this._submits[this._submits._length++]=y,this._copyClipInfo(y,this._globalClipMatrix),y.shaderValue.textureHost=n,y._renderType=10016,this._curSubmit._numEle+=6,this._mesh.indexNum+=6,this._mesh.vertNum+=4),this.breakNextMerge())},n.setColorFilter=function(n){gr.save(this,8388608,this,!0);this._colorFiler=n;this._curSubmit=si.RENDERBASE},n.drawTexture=function(n,t,i,r,u){this._drawTextureM(n,t,i,r,u,null,1,null)},n.drawTextures=function(n,t,r,u){var f;if(!n._getSource()){this.sprite&&i.systemTimer.callLater(this,this._repaintSprite);return}var o=t.length/2,e=0,s=n.bitmap.id;for(f=0;f<o;f++)this._inner_drawTexture(n,s,t[e++]+r,t[e++]+u,0,0,null,null,1,!1)},n._drawTextureAddSubmit=function(n,t){var i=null;i=re.create(this,this._mesh,ur.create(1,0));this._submits[this._submits._length++]=i;i.shaderValue.textureHost=t;i._key.other=n;i._renderType=10016;this._curSubmit=i},n._drawTextureM=function(n,t,i,r,u,f,e,o){var s=this.sprite;return n._getSource(function(){s&&s.repaint()})?this._inner_drawTexture(n,n.bitmap.id,t,i,r,u,f,o,e,!1):!1},n._drawRenderTexture=function(n,t,i,r,u,f,e,o){return this._inner_drawTexture(n,-1,t,i,r,u,f,o,1,!1)},n.submitDebugger=function(){this._submits[this._submits._length++]=hu.create([],function(){},this)},n._copyClipInfo=function(n,t){var i=n.shaderValue.clipMatDir,r;i[0]=t.a;i[1]=t.b;i[2]=t.c;i[3]=t.d;r=n.shaderValue.clipMatPos;r[0]=t.tx;r[1]=t.ty;n.clipInfoID=this._clipInfoID;this._clipInCache&&(n.shaderValue.clipOff[0]=1)},n.isSameClipInfo=function(n){return n.clipInfoID===this._clipInfoID},n._useNewTex2DSubmit=function(n,t){this._mesh.vertNum+t>65535&&(this._mesh=pf.getAMesh(this.isMain),this.meshlist.push(this._mesh));var i=re.create(this,this._mesh,ur.create(1,0));this._submits[this._submits._length++]=this._curSubmit=i;i.shaderValue.textureHost=n;this._copyClipInfo(i,this._globalClipMatrix)},n._drawTexRect=function(n,t,i,r,u){this.transformQuad(n,t,i,r,this._italicDeg,this._curMat,this._transedPoints);var f=this._transedPoints;f[0]=f[0]+.5|0;f[1]=f[1]+.5|0;f[2]=f[2]+.5|0;f[3]=f[3]+.5|0;f[4]=f[4]+.5|0;f[5]=f[5]+.5|0;f[6]=f[6]+.5|0;f[7]=f[7]+.5|0;this.clipedOff(this._transedPoints)||(this._mesh.addQuad(this._transedPoints,u,this._fillColor,!0),this._curSubmit._numEle+=6,this._mesh.indexNum+=6,this._mesh.vertNum+=4)},n.drawCallOptimize=function(n){return this._charSubmitCache.enable(n,this),n},n._inner_drawTexture=function(n,t,i,r,u,f,e,o,s,h){var b=this._curSubmit._key,l,a,v,k,w;if(o=o||n._uv,b.submitType===4&&b.other===t)return l=this._drawTexToDrawTri_Vert,l[0]=i,l[1]=r,l[2]=i+u,l[3]=r,l[4]=i+u,l[5]=r+f,l[6]=i,l[7]=r+f,this._drawTriUseAbsMatrix=!0,a=this._tempUV,a[0]=o[0],a[1]=o[1],a[2]=o[2],a[3]=o[3],a[4]=o[4],a[5]=o[5],a[6]=o[6],a[7]=o[7],this.drawTriangles(n,0,0,l,a,this._drawTexToDrawTri_Index,e,s,null,null),this._drawTriUseAbsMatrix=!1,!0;var y=this._mesh,p=this._curSubmit,c=h?this._charSubmitCache.getPos():this._transedPoints;return(this.transformQuad(i,r,u||n.width,f||n.height,this._italicDeg,e||this._curMat,c),this.drawTexAlign&&(v=Math.round,c[0]=v(c[0]),c[1]=v(c[1]),c[2]=v(c[2]),c[3]=v(c[3]),c[4]=v(c[4]),c[5]=v(c[5]),c[6]=v(c[6]),c[7]=v(c[7]),this.drawTexAlign=!1),k=this._mixRGBandAlpha(4294967295,this._shader2D.ALPHA*s),h)?(this._charSubmitCache.add(this,n,t,c,o,k),!0):(this._drawCount++,w=t>=0&&b.submitType===2&&b.other===t,w&&(w=w&&this.isSameClipInfo(p)),this._lastTex=n,y.vertNum+4>65535&&(y=this._mesh=pf.getAMesh(this.isMain),this.meshlist.push(y),w=!1),y.addQuad(c,o,k,!0),w||(this._submits[this._submits._length++]=this._curSubmit=p=re.create(this,y,ur.create(1,0)),p.shaderValue.textureHost=n,p._key.other=t,this._copyClipInfo(p,this._globalClipMatrix)),p._numEle+=6,y.indexNum+=6,y.vertNum+=4,!0)},n.transform4Points=function(n,t,i){var r=t.tx,u=t.ty,f=t.a,e=t.b,o=t.c,s=t.d,h=n[0],c=n[1],l=n[2],a=n[3],v=n[4],y=n[5],p=n[6],w=n[7];t._bTransform?(i[0]=h*f+c*o+r,i[1]=h*e+c*s+u,i[2]=l*f+a*o+r,i[3]=l*e+a*s+u,i[4]=v*f+y*o+r,i[5]=v*e+y*s+u,i[6]=p*f+w*o+r,i[7]=p*e+w*s+u):(i[0]=h+r,i[1]=c+u,i[2]=l+r,i[3]=a+u,i[4]=v+r,i[5]=y+u,i[6]=p+r,i[7]=w+u)},n.clipedOff=function(){return this._clipRect.width<=0||this._clipRect.height<=0?!0:!1},n.transformQuad=function(n,t,i,r,u,f,e){var v=0;u!=0&&(v=Math.tan(u*Math.PI/180)*r);var tt=n+i,it=t+r,o=f.tx,s=f.ty,h=f.a,c=f.b,l=f.c,a=f.d,y=n+v,p=t,w=tt+v,b=t,k=tt,d=it,g=n,nt=it;f._bTransform?(e[0]=y*h+p*l+o,e[1]=y*c+p*a+s,e[2]=w*h+b*l+o,e[3]=w*c+b*a+s,e[4]=k*h+d*l+o,e[5]=k*c+d*a+s,e[6]=g*h+nt*l+o,e[7]=g*c+nt*a+s):(e[0]=y+o,e[1]=p+s,e[2]=w+o,e[3]=b+s,e[4]=k+o,e[5]=d+s,e[6]=g+o,e[7]=nt+s)},n.pushRT=function(){this.addRenderObject(hu.create(null,vu.pushRT,this))},n.popRT=function(){this.addRenderObject(hu.create(null,vu.popRT,this));this.breakNextMerge()},n.useRT=function(n){function t(n){if(n)n.start(),n.clear(0,0,0,0);else throw"error useRT";}this.addRenderObject(hu.create([n],t,this));this.breakNextMerge()},n.RTRestore=function(n){function t(n){n.restore()}this.addRenderObject(hu.create([n],t,this));this.breakNextMerge()},n.breakNextMerge=function(){this._curSubmit=si.RENDERBASE},n._repaintSprite=function(){this.sprite&&this.sprite.repaint()},n.drawTextureWithTransform=function(n,t,i,r,u,f,e,o,s,h,c){var v=null,a=this._curMat,y,l;if(h&&(v=this.globalCompositeOperation,this.globalCompositeOperation=h),y=this._colorFiler,c&&this.setColorFilter(c),!f){this._drawTextureM(n,t+e,i+o,r,u,a,s,null);h&&(this.globalCompositeOperation=v);c&&this.setColorFilter(y);return}l=this._tmpMatrix;l.a=f.a;l.b=f.b;l.c=f.c;l.d=f.d;l.tx=f.tx+e;l.ty=f.ty+o;l._bTransform=f._bTransform;f&&a._bTransform?(ht.mul(l,a,l),f=l,f._bTransform=!0):(l.tx+=a.tx,l.ty+=a.ty,f=l);this._drawTextureM(n,t,i,r,u,f,s,null);h&&(this.globalCompositeOperation=v);c&&this.setColorFilter(y)},n._flushToTarget=function(n,t){vt.worldScissorTest=!1;at.mainContext.disable(3089);var i=vt.worldAlpha,r=vt.worldMatrix4,u=vt.worldMatrix,f=vt.worldShaderDefines;vt.worldMatrix=ht.EMPTY;vt.restoreTempArray();vt.worldMatrix4=vt.TEMPMAT4_ARRAY;vt.worldAlpha=1;uu.activeShader=null;t.start();n._submits._length>0&&t.clear(0,0,0,0);n._curSubmit=si.RENDERBASE;n.flush();n.clear();t.restore();n._curSubmit=si.RENDERBASE;uu.activeShader=null;vt.worldAlpha=i;vt.worldMatrix4=r;vt.worldMatrix=u},n.drawCanvas=function(n,t,i,r,u){var e,o,s,f,h,c;n&&(e=n.context,e._targets?(e._submits._length>0&&(o=hu.create([e,e._targets],this._flushToTarget,this),this._submits[this._submits._length++]=o),this._drawRenderTexture(e._targets,t,i,r,u,null,1,vu.flipyuv),this._curSubmit=si.RENDERBASE):(s=n,s.touches&&s.touches.forEach(function(n){n.touch()}),o=hw.create(n,this._shader2D.ALPHA,this._shader2D.filters),this._submits[this._submits._length++]=o,o._key.clear(),f=o._matrix,this._curMat.copyTo(f),h=f.tx,c=f.ty,f.tx=f.ty=0,f.transformPoint(kt.TEMP.setTo(t,i)),f.translate(kt.TEMP.x+h,kt.TEMP.y+c),ht.mul(s.invMat,f,f),this._curSubmit=si.RENDERBASE))},n.drawTarget=function(n,t,i,r,u,f,e,o,s){var c,h;return(s===void 0&&(s=-1),this._drawCount++,c=4294967295,this._mesh.vertNum+4>65535&&(this._mesh=pf.getAMesh(this.isMain),this.meshlist.push(this._mesh)),this.transformQuad(t,i,r,u,0,f||this._curMat,this._transedPoints),!this.clipedOff(this._transedPoints))?(this._mesh.addQuad(this._transedPoints,o||bi.DEF_UV,4294967295,!0),h=this._curSubmit=gy.create(this,this._mesh,e,n),h.blendType=s==-1?this._nBlendType:s,this._copyClipInfo(h,this._globalClipMatrix),h._numEle=6,this._mesh.indexNum+=6,this._mesh.vertNum+=4,this._submits[this._submits._length++]=h,this._curSubmit=si.RENDERBASE,!0):(this._curSubmit=si.RENDERBASE,!1)},n.drawTriangles=function(n,t,r,u,f,e,o,s,h){var l,p;if(!n._getSource()){this.sprite&&i.systemTimer.callLater(this,this._repaintSprite);return}this._drawCount++;var c=this._tmpMatrix,a=this._triangleMesh,v=null,w=!1;h&&(v=this._colorFiler,this._colorFiler=h,this._curSubmit=si.RENDERBASE,w=v!=h);var b=n.bitmap,y=this._curSubmit._key,k=y.submitType===4&&y.other===b.id&&y.blendShader==this._nBlendType;a.vertNum+u.length/2>65535&&(a=this._triangleMesh=bh.getAMesh(this.isMain),this.meshlist.push(a),k=!1);k||(l=this._curSubmit=re.create(this,a,ur.create(1,0)),l.shaderValue.textureHost=n,l._renderType=10016,l._key.submitType=4,l._key.other=b.id,this._copyClipInfo(l,this._globalClipMatrix),this._submits[this._submits._length++]=l);p=this._mixRGBandAlpha(4294967295,this._shader2D.ALPHA*s);this._drawTriUseAbsMatrix?a.addData(u,f,e,o,p):(o?(c.a=o.a,c.b=o.b,c.c=o.c,c.d=o.d,c.tx=o.tx+t,c.ty=o.ty+r):(c.a=1,c.b=0,c.c=0,c.d=1,c.tx=t,c.ty=r),ht.mul(c,this._curMat,c),a.addData(u,f,e,c,p));this._curSubmit._numEle+=e.length;w&&(this._colorFiler=v,this._curSubmit=si.RENDERBASE)},n.transform=function(n,t,i,r,u,f){yh.save(this);ht.mul(ht.TEMP.setTo(n,t,i,r,u,f),this._curMat,this._curMat);this._curMat._checkTransform()},n._transformByMatrix=function(n,t,i){n.setTranslate(t,i);ht.mul(n,this._curMat,this._curMat);n.setTranslate(0,0);this._curMat._bTransform=!0},n.setTransformByMatrix=function(n){n.copyTo(this._curMat)},n.rotate=function(n){yh.save(this);this._curMat.rotateEx(n)},n.scale=function(n,t){yh.save(this);this._curMat.scaleEx(n,t)},n.clipRect=function(n,i,r,u){var s,h;eft.save(this);this._clipRect==t.MAXCLIPRECT?this._clipRect=new ct(n,i,r,u):(this._clipRect.width=r,this._clipRect.height=u,this._clipRect.x=n,this._clipRect.y=i);this._clipID_Gen++;this._clipID_Gen%=1e4;this._clipInfoID=this._clipID_Gen;var f=this._globalClipMatrix,e=f.tx,o=f.ty,c=e+f.a,l=o+f.d;this._clipRect.width>=99999999?(f.a=f.d=99999999,f.b=f.c=f.tx=f.ty=0):(this._curMat._bTransform?(f.tx=this._clipRect.x*this._curMat.a+this._clipRect.y*this._curMat.c+this._curMat.tx,f.ty=this._clipRect.x*this._curMat.b+this._clipRect.y*this._curMat.d+this._curMat.ty,f.a=this._clipRect.width*this._curMat.a,f.b=this._clipRect.width*this._curMat.b,f.c=this._clipRect.height*this._curMat.c,f.d=this._clipRect.height*this._curMat.d):(f.tx=this._clipRect.x+this._curMat.tx,f.ty=this._clipRect.y+this._curMat.ty,f.a=this._clipRect.width,f.b=f.c=0,f.d=this._clipRect.height),this._incache&&(this._clipInCache=!0));f.a>0&&f.d>0&&(s=f.tx+f.a,h=f.ty+f.d,s<=e||h<=o||f.tx>=c||f.ty>=l?(f.a=-.1,f.d=-.1):(f.tx<e&&(f.a-=e-f.tx,f.tx=e),s>c&&(f.a-=s-c),f.ty<o&&(f.d-=o-f.ty,f.ty=o),h>l&&(f.d-=h-l),f.a<=0&&(f.a=-.1),f.d<=0&&(f.d=-.1)))},n.drawMesh=function(n,t,i,r,u,f,e,o,s){s===void 0&&(s=0)},n.addRenderObject=function(n){this._submits[this._submits._length++]=n},n.submitElement=function(n,t){var f=tt._context===this,i=this._submits,u=i._length,r;for(t<0&&(t=i._length),r=si.RENDERBASE;n<t;){if(this._renderNextSubmitIndex=n+1,i[n]===si.RENDERBASE){n++;continue}si.preRender=r;r=i[n];n+=r.renderSubmit()}return u},n.flush=function(){var i,n,r,t;for(this._clipID_Gen=0,i=this.submitElement(0,this._submits._length),this._path&&this._path.reset(),yp.instance&&yp.getInstance().reset(),this._curSubmit=si.RENDERBASE,n=0,r=this.meshlist.length;n<r;n++)t=this.meshlist[n],t.canReuse?t.releaseMesh():t.destroy();return this.meshlist.length=0,this._mesh=pf.getAMesh(this.isMain),this._pathMesh=os.getAMesh(this.isMain),this._triangleMesh=bh.getAMesh(this.isMain),this.meshlist.push(this._mesh,this._pathMesh,this._triangleMesh),this._flushCnt++,this._flushCnt%60==0&&tt._context==this&&or.textRenderInst&&or.textRenderInst.GC(),i},n.beginPath=function(n){n===void 0&&(n=!1);var t=this._getPath();t.beginPath(n)},n.closePath=function(){this._path.closePath()},n.addPath=function(n,t,i,r,u){for(var o,s,f=0,e=0,h=n.length/2;e<h;e++)o=n[f]+r,s=n[f+1]+u,n[f]=o,n[f+1]=s,f+=2;this._getPath().push(n,i)},n.fill=function(){var t=this._curMat,d=this._getPath(),b=this._curSubmit,v=b._key.submitType===3&&b._key.blendShader===this._nBlendType,g,s,i,y,nt,h,f,o,k,p,a,w;for(v&&(v=v&&this.isSameClipInfo(b)),v||(this._curSubmit=this.addVGSubmit(this._pathMesh)),g=this.mixRGBandAlpha(this.fillStyle.toInt()),s=0,y=0,nt=d.paths.length;y<nt;y++)if(h=d.paths[y],f=h.path.length/2,!(f<3)&&(f!=3||h.convex)){var n=h.path.concat(),r=0,u=0,e=0,c=NaN,l=NaN;if(t._bTransform)for(r=0;r<f;r++)u=r<<1,e=u+1,c=n[u],l=n[e],n[u]=t.a*c+t.c*l+t.tx,n[e]=t.b*c+t.d*l+t.ty;else for(r=0;r<f;r++)u=r<<1,e=u+1,c=n[u],l=n[e],n[u]=c+t.tx,n[e]=l+t.ty;if(this._pathMesh.vertNum+f>65535&&(this._curSubmit._numEle+=s,s=0,this._pathMesh=os.getAMesh(this.isMain),this._curSubmit=this.addVGSubmit(this._pathMesh)),o=this._pathMesh.vertNum,h.convex)for(k=f-2,i=new Array(k*3),p=0,a=0;a<k;a++)i[p++]=o,i[p++]=a+1+o,i[p++]=a+2+o;else if(i=kut.earcut(n,null,2),o>0)for(w=0;w<i.length;w++)i[w]+=o;this._pathMesh.addVertAndIBToMesh(this,n,g,i);s+=i.length}this._curSubmit._numEle+=s},n.addVGSubmit=function(n){var t=si.createShape(this,n,0,ur.create(4,0));return t._key.submitType=3,this._submits[this._submits._length++]=t,this._copyClipInfo(t,this._globalClipMatrix),t},n.stroke=function(){var f,c,y,e;if(this.lineWidth>0){var b=this.mixRGBandAlpha(this.strokeStyle._color.numColor),v=this._getPath(),l=this._curSubmit,h=l._key.submitType===3&&l._key.blendShader===this._nBlendType;for(h&&(h=h&&this.isSameClipInfo(l)),h||(this._curSubmit=this.addVGSubmit(this._pathMesh)),f=0,c=0,y=v.paths.length;c<y;c++)if(e=v.paths[c],!(e.path.length<=0)){var a=[],n=[],p=e.path.length*2;if(!(p<2)){this._pathMesh.vertNum+p>65535&&(this._curSubmit._numEle+=f,f=0,this._pathMesh=os.getAMesh(this.isMain),this.meshlist.push(this._pathMesh),this._curSubmit=this.addVGSubmit(this._pathMesh));cft.createLine2(e.path,a,this.lineWidth,this._pathMesh.vertNum,n,e.loop);var w=n.length/2,t=this._curMat,i=0,r=0,u=0,o=NaN,s=NaN;if(t._bTransform)for(i=0;i<w;i++)r=i<<1,u=r+1,o=n[r],s=n[u],n[r]=t.a*o+t.c*s+t.tx,n[u]=t.b*o+t.d*s+t.ty;else for(i=0;i<w;i++)r=i<<1,u=r+1,o=n[r],s=n[u],n[r]=o+t.tx,n[u]=s+t.ty;this._pathMesh.addVertAndIBToMesh(this,n,b,a);f+=a.length}}this._curSubmit._numEle+=f}},n.moveTo=function(n,t){var i=this._getPath();i.newPath();i._lastOriX=n;i._lastOriY=t;i.addPoint(n,t)},n.lineTo=function(n,t){var i=this._getPath();Math.abs(n-i._lastOriX)<.001&&Math.abs(t-i._lastOriY)<.001||(i._lastOriX=n,i._lastOriY=t,i.addPoint(n,t))},n.arcTo=function(n,i,r,u,f){var p=0,o=0,s=0,w=this._path._lastOriX-n,b=this._path._lastOriY-i,e=Math.sqrt(w*w+b*b),h,at,vt;if(!(e<=1e-6)){var c=w/e,l=b/e,k=r-n,d=u-i,ni=k*k+d*d,g=Math.sqrt(ni);if(!(g<=1e-6)){var nt=k/g,tt=d/g,it=c+nt,rt=l+tt,ut=Math.sqrt(it*it+rt*rt);if(!(ut<=1e-6)){var yt=it/ut,pt=rt/ut,ti=Math.acos(yt*c+pt*l),ft=Math.PI/2-ti;e=f/Math.tan(ft);var wt=e*c+n,bt=e*l+i,kt=Math.sqrt(e*e+f*f),dt=n+yt*kt,gt=i+pt*kt,ri=e*nt+n,ui=e*tt+i,ii=c*tt-l*nt,a=0,v=0,y=0;ii>=0?(a=ft*2,h=a/t.SEGNUM,v=Math.sin(h),y=Math.cos(h)):(a=-ft*2,h=a/t.SEGNUM,v=Math.sin(h),y=Math.cos(h));var et=this._path._lastOriX,ot=this._path._lastOriY,st=wt,ht=bt;(Math.abs(st-this._path._lastOriX)>.1||Math.abs(ht-this._path._lastOriY)>.1)&&(o=st,s=ht,et=st,ot=ht,this._path.addPoint(o,s));var ct=wt-dt,lt=bt-gt;for(p=0;p<t.SEGNUM;p++)at=ct*y+lt*v,vt=-ct*v+lt*y,o=at+dt,s=vt+gt,(Math.abs(et-o)>.1||Math.abs(ot-s)>.1)&&(this._path.addPoint(o,s),et=o,ot=s),ct=at,lt=vt}}}},n.arc=function(n,t,i,r,u,f,e){f===void 0&&(f=!1);e===void 0&&(e=!0);var y=0,o=0,p=0,w=0,c=0,l=0,s=0,h=0,a=0,v=0,g=0;if(o=u-r,f)if(Math.abs(o)>=Math.PI*2)o=-Math.PI*2;else while(o>0)o-=Math.PI*2;else if(Math.abs(o)>=Math.PI*2)o=Math.PI*2;else while(o<0)o+=Math.PI*2;var b=this.getMatScaleX(),k=this.getMatScaleY(),nt=i*(b>k?b:k),tt=2*Math.PI*nt;v=Math.max(tt/10,10)|0;p=o/v/2;w=Math.abs(4/3*(1-Math.cos(p))/Math.sin(p));f&&(w=-w);g=0;var d=this._getPath();for(a=0;a<=v;a++)y=r+o*(a/v),c=Math.cos(y),l=Math.sin(y),s=n+c*i,h=t+l*i,(s!=this._path._lastOriX||h!=this._path._lastOriY)&&d.addPoint(s,h);c=Math.cos(u);l=Math.sin(u);s=n+c*i;h=t+l*i;(s!=this._path._lastOriX||h!=this._path._lastOriY)&&d.addPoint(s,h)},n.quadraticCurveTo=function(n,t,i,r){for(var e=ll.I,f=e.getBezierPoints([this._path._lastOriX,this._path._lastOriY,n,t,i,r],30,2),u=0,o=f.length/2;u<o;u++)this.lineTo(f[u*2],f[u*2+1]);this.lineTo(i,r)},n.mixRGBandAlpha=function(n){return this._mixRGBandAlpha(n,this._shader2D.ALPHA)},n._mixRGBandAlpha=function(n,t){if(t>=1)return n;var i=(n&4278190080)>>>24;return i!=0?i*=t:i=t*255,n&16777215|i<<24},n.strokeRect=function(n,t,i,r,u){var o=u*.5,e,f;this.lineWidth>0&&(e=this.mixRGBandAlpha(this.strokeStyle._color.numColor),f=this.lineWidth/2,this._fillRect(n-f,t-f,i+this.lineWidth,this.lineWidth,e),this._fillRect(n-f,t-f+r,i+this.lineWidth,this.lineWidth,e),this._fillRect(n-f,t+f,this.lineWidth,r-this.lineWidth,e),this._fillRect(n-f+i,t+f,this.lineWidth,r-this.lineWidth,e))},n.clip=function(){},n.drawParticle=function(n,t,i){i.x=n;i.y=t;this._submits[this._submits._length++]=i},n._getPath=function(){return this._path||(this._path=new tp)},n._fillTexture_h=function(n,i,r,u,f,e,o,s){for(var c=e,y=Math.floor(s/u),l=s%u,a=0;a<y;a++)this._inner_drawTexture(n,i,c,o,u,f,this._curMat,r,1,!1),c+=u;if(l>0){var p=r[2]-r[0],v=r[0]+p*(l/u),h=t.tmpuv1;h[0]=r[0];h[1]=r[1];h[2]=v;h[3]=r[3];h[4]=v;h[5]=r[5];h[6]=r[6];h[7]=r[7];this._inner_drawTexture(n,i,c,o,l,f,this._curMat,h,1,!1)}},n._fillTexture_v=function(n,i,r,u,f,e,o,s){for(var c=o,y=Math.floor(s/f),l=s%f,a=0;a<y;a++)this._inner_drawTexture(n,i,e,c,u,f,this._curMat,r,1,!1),c+=f;if(l>0){var p=r[7]-r[1],v=r[1]+p*(l/f),h=t.tmpuv1;h[0]=r[0];h[1]=r[1];h[2]=r[2];h[3]=r[3];h[4]=r[4];h[5]=v;h[6]=r[6];h[7]=v;this._inner_drawTexture(n,i,e,c,u,l,this._curMat,h,1,!1)}},n.drawTextureWithSizeGrid=function(n,i,r,u,f,e,o,s){var vt,ot;if(n._getSource()){i+=o;r+=s;var ht=n.uv,ct=n.bitmap.width,lt=n.bitmap.height,p=e[0],a=e[3],rt=p/lt,ut=a/ct,w=e[1],b=e[2],ft=w/ct,et=b/lt,st=e[4],at=!1;u==ct&&(a=w=0);f==lt&&(p=b=0);a+w>u&&(vt=u,at=!0,u=a+w,this.save(),this.clipRect(0+i,0+r,vt,f));var k=n.bitmap.id,it=this._curMat,h=this._tempUV,d=ht[0],g=ht[1],nt=ht[4],tt=ht[5],v=d,y=g,c=nt,l=tt;a&&p&&(c=d+ut,l=g+rt,h[0]=d,h[1]=g,h[2]=c,h[3]=g,h[4]=c,h[5]=l,h[6]=d,h[7]=l,this._inner_drawTexture(n,k,i,r,a,p,it,h,1,!1));w&&p&&(v=nt-ft,y=g,c=nt,l=g+rt,h[0]=v,h[1]=y,h[2]=c,h[3]=y,h[4]=c,h[5]=l,h[6]=v,h[7]=l,this._inner_drawTexture(n,k,u-w+i,0+r,w,p,it,h,1,!1));a&&b&&(v=d,y=tt-et,c=d+ut,l=tt,h[0]=v,h[1]=y,h[2]=c,h[3]=y,h[4]=c,h[5]=l,h[6]=v,h[7]=l,this._inner_drawTexture(n,k,0+i,f-b+r,a,b,it,h,1,!1));w&&b&&(v=nt-ft,y=tt-et,c=nt,l=tt,h[0]=v,h[1]=y,h[2]=c,h[3]=y,h[4]=c,h[5]=l,h[6]=v,h[7]=l,this._inner_drawTexture(n,k,u-w+i,f-b+r,w,b,it,h,1,!1));p&&(v=d+ut,y=g,c=nt-ft,l=g+rt,h[0]=v,h[1]=y,h[2]=c,h[3]=y,h[4]=c,h[5]=l,h[6]=v,h[7]=l,st?this._fillTexture_h(n,k,h,n.width-a-w,p,a+i,r,u-a-w):this._inner_drawTexture(n,k,a+i,r,u-a-w,p,it,h,1,!1));b&&(v=d+ut,y=tt-et,c=nt-ft,l=tt,h[0]=v,h[1]=y,h[2]=c,h[3]=y,h[4]=c,h[5]=l,h[6]=v,h[7]=l,st?this._fillTexture_h(n,k,h,n.width-a-w,b,a+i,f-b+r,u-a-w):this._inner_drawTexture(n,k,a+i,f-b+r,u-a-w,b,it,h,1,!1));a&&(v=d,y=g+rt,c=d+ut,l=tt-et,h[0]=v,h[1]=y,h[2]=c,h[3]=y,h[4]=c,h[5]=l,h[6]=v,h[7]=l,st?this._fillTexture_v(n,k,h,a,n.height-p-b,i,p+r,f-p-b):this._inner_drawTexture(n,k,i,p+r,a,f-p-b,it,h,1,!1));w&&(v=nt-ft,y=g+rt,c=nt,l=tt-et,h[0]=v,h[1]=y,h[2]=c,h[3]=y,h[4]=c,h[5]=l,h[6]=v,h[7]=l,st?this._fillTexture_v(n,k,h,w,n.height-p-b,u-w+i,p+r,f-p-b):this._inner_drawTexture(n,k,u-w+i,p+r,w,f-p-b,it,h,1,!1));v=d+ut;y=g+rt;c=nt-ft;l=tt-et;h[0]=v;h[1]=y;h[2]=c;h[3]=y;h[4]=c;h[5]=l;h[6]=v;h[7]=l;st?(ot=t.tmpUVRect,ot[0]=v,ot[1]=y,ot[2]=c-v,ot[3]=l-y,this._fillTexture(n,n.width-a-w,n.height-p-b,ot,a+i,p+r,u-a-w,f-p-b,"repeat",0,0)):this._inner_drawTexture(n,k,a+i,p+r,u-a-w,f-p-b,it,h,1,!1);at&&this.restore()}},e(0,n,"textAlign",function(){return this._other.textAlign},function(n){this._other.textAlign===n||(this._other=this._other.make(),gr.save(this,32768,this._other,!1),this._other.textAlign=n)}),e(0,n,"lineJoin",function(){return null},function(){}),e(0,n,"fillStyle",function(){return this._shader2D.fillStyle},function(n){this._shader2D.fillStyle.equal(n)||(gr.save(this,2,this._shader2D,!1),this._shader2D.fillStyle=no.create(n),this._submitKey.other=-this._shader2D.fillStyle.toInt())}),e(0,n,"lineCap",function(){return null},function(){}),e(0,n,"miterLimit",function(){return null},function(){}),e(0,n,"strokeStyle",function(){return this._shader2D.strokeStyle},function(n){this._shader2D.strokeStyle.equal(n)||(gr.save(this,512,this._shader2D,!1),this._shader2D.strokeStyle=no.create(n),this._submitKey.other=-this._shader2D.strokeStyle.toInt())}),e(0,n,"globalCompositeOperation",function(){return yi.NAMES[this._nBlendType]},function(n){var t=yi.TOINT[n];t==null||this._nBlendType===t||(gr.save(this,65536,this,!0),this._curSubmit=si.RENDERBASE,this._nBlendType=t)}),e(0,n,"globalAlpha",function(){return this._shader2D.ALPHA},function(n){n=Math.floor(n*1e3)/1e3;n!=this._shader2D.ALPHA&&(gr.save(this,1,this._shader2D,!1),this._shader2D.ALPHA=n)}),e(0,n,"asBitmap",null,function(n){if(n){if(this._targets||(this._targets=new vu(this._width,this._height,1,-1)),!this._width||!this._height)throw Error("asBitmap no size!");}else this._targets&&this._targets.destroy(),this._targets=null}),e(0,n,"textBaseline",function(){return this._other.textBaseline},function(n){this._other.textBaseline===n||(this._other=this._other.make(),gr.save(this,16384,this._other,!1),this._other.textBaseline=n)}),e(0,n,"lineWidth",function(){return this._other.lineWidth},function(n){this._other.lineWidth===n||(this._other=this._other.make(),gr.save(this,256,this._other,!1),this._other.lineWidth=n)}),e(0,n,"font",null,function(){this._other=this._other.make();gr.save(this,8,this._other,!1)}),e(0,n,"canvas",function(){return this._canvas}),t.__init__=function(){t.MAXCLIPRECT=new ct(0,0,99999999,99999999);u.DEFAULT=new u;gut},t.set2DRenderConfig=function(){var n=yt.instance;lt.setBlend(n,!0);lt.setBlendFunc(n,1,771);lt.setDepthTest(n,!1);lt.setCullFace(n,!1);lt.setDepthMask(n,!0);lt.setFrontFace(n,2305);n.viewport(0,0,vt.width,vt.height)},t.ENUM_TEXTALIGN_DEFAULT=0,t.ENUM_TEXTALIGN_CENTER=1,t.ENUM_TEXTALIGN_RIGHT=2,t._SUBMITVBSIZE=32e3,t._MAXSIZE=99999999,t._MAXVERTNUM=65535,t.MAXCLIPRECT=null,t._COUNT=0,t.SEGNUM=32,t._contextcount=0,t.PI2=2*Math.PI,d(t,["_textRender",function(){return this._textRender=new or},"tmpuv1",function(){return this.tmpuv1=[0,0,0,0,0,0,0,0]},"tmpUV",function(){return this.tmpUV=[0,0,0,0,0,0,0,0]},"tmpUVRect",function(){return this.tmpUVRect=[0,0,0,0]}]),t.__init$=function(){u=function(){function n(){this.lineWidth=1;this.textAlign=null;this.textBaseline=null}r(n,"");var t=n.prototype;return t.clear=function(){this.lineWidth=1;this.textAlign=this.textBaseline=null},t.make=function(){return this===n.DEFAULT?new n:this},n.DEFAULT=null,n}()},t}(),pp=function(){function n(){}return r(n,"laya.ani.math.BezierLerp"),n.getBezierRate=function(t,i,r,u,f){var h=n._getBezierParamKey(i,r,u,f),o=h*100+t;if(n._bezierResultCache[o])return n._bezierResultCache[o];for(var s=n._getBezierPoints(i,r,u,f,h),e=0,c=0,c=s.length,e=0;e<c;e+=2)if(t<=s[e])return n._bezierResultCache[o]=s[e+1],s[e+1];return n._bezierResultCache[o]=1,1},n._getBezierParamKey=function(n,t,i,r){return(((n*100+t)*100+i)*100+r)*100},n._getBezierPoints=function(t,i,r,u,f){var o,s,e;return n._bezierPointsCache[f]?n._bezierPointsCache[f]:(o=[0,0,t,i,r,u,1,1],s=new ll,e=s.getBezierPoints(o,100,3),n._bezierPointsCache[f]=e,e)},n._bezierResultCache={},n._bezierPointsCache={},n}(),ru=function(){function n(){}return r(n,"laya.utils.RunDriver"),n.createShaderCondition=function(n){var t="(function() {return "+n+";})";return i._runScript(t)},n.fontMap=[],n.measureText=function(t,i){var f=n.hanzi.test(t),r,u;return f&&n.fontMap[i]?n.fontMap[i]:(r=c.context,r.font=i,u=r.measureText(t),f&&(n.fontMap[i]=u),u)},n.drawToCanvas=function(n,t,i,r,u,f){var e,l,s,y;u-=n.x;f-=n.y;u|=0;f|=0;i|=0;r|=0;e=new gu;e.size(i,r);e.asBitmap=!0;e._targets.start();ge.renders[t]._fun(n,e,u,f);e.flush();e._targets.end();e._targets.restore();l=e._targets.getData(0,0,i,r);e.destroy();for(var a=new ImageData(i,r),o=i*4,w=new Uint8Array(o),p=a.data,h=r-1,v=h*o,c=0;h>=0;h--)p.set(l.subarray(c,c+o),v),v-=o,c+=o;return s=new uf(!0),s.size(i,r),y=s.getContext("2d"),y.putImageData(a,0,0),s},n.drawToTexture=function(n,t,i,r,u,f){var e,o;return u-=n.x,f-=n.y,u|=0,f|=0,i|=0,r|=0,e=new gu,e.size(i,r),e.asBitmap=!0,e._targets.start(),ge.renders[t]._fun(n,e,u,f),e.flush(),e._targets.end(),e._targets.restore(),o=new bi(e._targets,bi.INV_UV),e.destroy(!0),o},n.changeWebGLSize=function(n,t){at.onStageResize(n,t)},n.clear=function(n){gu.set2DRenderConfig();vt.worldScissorTest&&at.mainContext.disable(3089);var r=tt.context,t=r._submits._length==0||wu.preserveDrawingBuffer?er.create(n).arrColor:i.stage._wgColor;t?r.clearBG(t[0],t[1],t[2],t[3]):r.clearBG(0,0,0,0);vt.clear()},n.enableNative=null,d(n,["hanzi",function(){return this.hanzi=new RegExp("^[一-龥]$")}]),n}(),wft=function(){function n(){}r(n,"laya.display.cmd.StrokeTextCmd");var t=n.prototype;return t.recover=function(){it.recover("StrokeTextCmd",this)},t.run=function(n,t,i){n.strokeWord(this.text,this.x+t,this.y+i,this.font,this.color,this.lineWidth,this.textAlign)},e(0,t,"cmdID",function(){return"StrokeText"}),n.create=function(t,i,r,u,f,e,o){var s=it.getItemByClass("StrokeTextCmd",n);return s.text=t,s.x=i,s.y=r,s.font=u,s.color=f,s.lineWidth=e,s.textAlign=o,s},n.ID="StrokeText",n}(),yl=function(){function n(){}var u,t;return r(n,"laya.utils.SceneUtils"),n.getBindFun=function(t){var r=n._funMap.get(t),u,f;return r==null&&(u='"'+t+'"',u=u.replace(/^"\${|}"$/g,"").replace(/\${/g,'"+').replace(/}/g,'+"'),f="(function(data){if(data==null)return;with(data){try{\nreturn "+u+"\n}catch(e){}}})",r=i._runScript(f),n._funMap.set(t,r)),r},n.createByData=function(i,r){var f=t.create();if(i=n.createComp(r,i,i,null,f),i._setBit(8,!0),i.hasOwnProperty("_idMap")&&(i._idMap=f._idMap),r.animations){for(var s=[],h=r.animations,e=0,c=h.length,u,o,e=0;e<c;e++){u=new bvt;o=h[e];u._setUp(f._idMap,o);i[o.name]=u;u._setControlNode(i);switch(o.action){case 1:u.play(0,!1);break;case 2:u.play(0,!0)}s.push(u)}i._aniList=s}return i._$componentType==="Scene"&&i._width>0&&r.props.hitTestPrior==null&&!i.mouseThrough&&(i.hitTestPrior=!0),f.beginLoad(i),i},n.createInitTool=function(){return t.create()},n.createComp=function(t,r,u,f,e){var c,p,l,b,a,k,o,v,s,w,y,h;if(t.type=="Scene3D"||t.type=="Sprite3D")return c=[],p=i.Utils3D._createSceneByJsonForMaker(t,c,e),t.type=="Sprite3D"?i.StaticBatchManager.combine(p,c):i.StaticBatchManager.combine(null,c),p;if(r=r||n.getCompInstance(t),!r)return t.props&&t.props.runtime?console.warn("runtime not found:"+t.props.runtime):console.warn("can not create:"+t.type),null;if(l=t.child,l)for(b=r._$componentType=="List",a=0,k=l.length;a<k;a++)o=l[a],r.hasOwnProperty("itemRender")&&(o.props.name=="render"||o.props.renderType==="render")?r.itemRender=o:o.type=="Graphic"?ne._addGraphicsToSprite(o,r):ne._isDrawType(o.type)?ne._addGraphicToSprite(o,r,!0):(b?(v=[],s=n.createComp(o,null,u,v,e),v.length&&(s._$bindData=v)):s=n.createComp(o,null,u,f,e),o.type=="Script"?s instanceof laya.components.Component?r._addComponentInstance(s):"owner"in s?s.owner=r:"target"in s&&(s.target=r):o.props.renderType=="mask"||o.props.name=="mask"?r.mask=s:s instanceof laya.display.Node&&r.addChild(s));w=t.props;for(y in w)h=w[y],typeof h=="string"&&(h.indexOf("@node:")>=0||h.indexOf("@Prefab:")>=0)?e&&e.addNodeRef(r,y,h):n.setCompValue(r,y,h,u,f);return r._afterInited&&r._afterInited(),t.compId&&e&&e._idMap&&(e._idMap[t.compId]=r),r},n.setCompValue=function(t,i,r,f,e){var h,l,a,v,o,s,c;if(typeof r=="string"&&r.indexOf("${")>-1){if(n._sheet||(n._sheet=ne.getClass("laya.data.Table")),!n._sheet){console.warn("Can not find class Sheet");return}if(e)e.push(t,i,r);else if(f)for(r.indexOf("].")==-1&&(r=r.replace(".","[0].")),h=new u(t,i,r),h.exe(f),v=r.replace(/\[.*?\]\./g,".");(l=n._parseWatchData.exec(v))!=null;){for(o=l[1];(a=n._parseKeyWord.exec(o))!=null;){s=a[0];c=f._watchMap[s]||(f._watchMap[s]=[]);c.push(h);n._sheet.I.notifer.on(s,f,f.changeData,[s])}c=f._watchMap[o]||(f._watchMap[o]=[]);c.push(h);n._sheet.I.notifer.on(o,f,f.changeData,[o])}return}i==="var"&&f?f[r]=t:t[i]=r==="true"?!0:r==="false"?!1:r},n.getCompInstance=function(t){var r,i,u;if(t.type=="UIView"&&t.props&&t.props.pageData)return n.createByData(null,t.props.pageData);if(r=t.props&&t.props.runtime||t.type,i=ne.getClass(r),!i)throw"Can not find class "+r;return t.type==="Script"&&i.prototype._doAwake?(u=it.createByClass(i),u._destroyed=!1,u):t.props&&t.props.hasOwnProperty("renderType")&&t.props.renderType=="instance"?(i.instance||(i.instance=new i),i.instance):new i},n._sheet=null,d(n,["_funMap",function(){return this._funMap=new is},"_parseWatchData",function(){return this._parseWatchData=/\${(.*?)}/g},"_parseKeyWord",function(){return this._parseKeyWord=/[a-zA-Z_][a-zA-Z0-9_]*(?:(?:\.[a-zA-Z_][a-zA-Z0-9_]*)+)/g}]),n.__init$=function(){u=function(){function t(n,t,i){this.comp=null;this.prop=null;this.value=null;this.comp=n;this.prop=t;this.value=i}r(t,"");var i=t.prototype;return i.exe=function(t){var i=n.getBindFun(this.value);this.comp[this.prop]=i.call(this,t)},t}();t=function(){function t(){this._nodeRefList=null;this._initList=null;this._loadList=null;this._idMap=null;this._scene=null}r(t,"");var n=t.prototype;return n.reset=function(){this._nodeRefList=null;this._initList=null;this._idMap=null;this._loadList=null;this._scene=null},n.recover=function(){this.reset();it.recover("InitTool",this)},n.addLoadRes=function(n,t){this._loadList||(this._loadList=[]);t?this._loadList.push({url:n,type:t}):this._loadList.push(n)},n.addNodeRef=function(n,t,i){this._nodeRefList||(this._nodeRefList=[]);this._nodeRefList.push([n,t,i]);i.indexOf("@Prefab:")>=0&&this.addLoadRes(i.replace("@Prefab:",""),"prefab")},n.setNodeRef=function(){var n,i,t;if(this._nodeRefList){if(!this._idMap){this._nodeRefList=null;return}for(n=0,i=0,i=this._nodeRefList.length,n=0;n<i;n++)t=this._nodeRefList[n],t[0][t[1]]=this.getReferData(t[2]);this._nodeRefList=null}},n.getReferData=function(n){var i,t,r,u;if(n.indexOf("@Prefab:")>=0)return dt.getRes(n.replace("@Prefab:",""));if(n.indexOf("@arr:")>=0){for(n=n.replace("@arr:",""),i=n.split(","),t=0,r=0,r=i.length,t=0;t<r;t++)u=i[t],i[t]=u?this._idMap[u.replace("@node:","")]:null;return i}return this._idMap[n.replace("@node:","")]},n.addInitItem=function(n){this._initList||(this._initList=[]);this._initList.push(n)},n.doInits=function(){this._initList&&(this._initList=null)},n.finish=function(){this.setNodeRef();this.doInits();this._scene._setBit(8,!1);this._scene.parent&&this._scene.parent.activeInHierarchy&&this._scene.active&&this._scene._processActive();this._scene.event("onViewCreated");this.recover()},n.beginLoad=function(n){this._scene=n;!this._loadList||this._loadList.length<1?this.finish():i.loader.load(this._loadList,h.create(this,this.finish))},t.create=function(){var n=it.getItemByClass("InitTool",t);return n._idMap=[],n},t}()},n}(),at=function(){function t(){}return r(t,"laya.webgl.WebGL"),t._uint8ArraySlice=function(){for(var t=this,r=t.length,i=new Uint8Array(t.length),n=0;n<r;n++)i[n]=t[n];return i},t._float32ArraySlice=function(){for(var t=this,r=t.length,i=new Float32Array(t.length),n=0;n<r;n++)i[n]=t[n];return i},t._uint16ArraySlice=function(){var u=arguments,e=this,i=0,t,n=0,r,f;if(u.length===0)for(i=e.length,t=new Uint16Array(i),n=0;n<i;n++)t[n]=e[n];else if(u.length===2)if(r=u[0],f=u[1],f>r)for(i=f-r,t=new Uint16Array(i),n=r;n<f;n++)t[n-r]=e[n];else t=new Uint16Array(0);return t},t._nativeRender_enable=function(){t.isNativeRender_enable||(t.isNativeRender_enable=!0,lt.__init_native(),rf.prototype.uploadTexture2D=function(n){var t=lt;t.bindTexture(laya.webgl.WebGL.mainContext,t.TEXTURE_2D,n)},vt.width=c.window.innerWidth,vt.height=c.window.innerHeight,ru.measureText=function(t,i){return n.conchTextCanvas.font=i,n.conchTextCanvas.measureText(t)},ru.enableNative=function(){tt.supportWebGLPlusRendering&&(op.uploadShaderUniforms=op.uploadShaderUniformsForNative,lp=n.GLCommandEncoder,yt=n.LayaGLContext);var t=bw;t.prototype.render=t.prototype.renderToNative},ru.drawToCanvas=ru.drawToTexture=function(n,t,i,r,u,f){u-=n.x;f-=n.y;u|=0;f|=0;i|=0;r|=0;var o=new uf(!1),e=o.getContext("2d");return o.size(i,r),e.asBitmap=!0,e._targets.start(),ge.renders[t]._fun(n,e,u,f),e.flush(),e._targets.end(),e._targets.restore(),o},vu.prototype._uv=vu.flipyuv,Object.defineProperty(vu.prototype,"uv",{get:function(){return this._uv},set:function(n){this._uv=n}}),uf.prototype.getTexture=function(){return this._texture||(this._texture=this.context._targets,this._texture.uv=vu.flipyuv,this._texture.bitmap=this._texture),this._texture})},t.enable=function(){return!0},t.inner_enable=function(){return Float32Array.prototype.slice||(Float32Array.prototype.slice=t._float32ArraySlice),Uint16Array.prototype.slice||(Uint16Array.prototype.slice=t._uint16ArraySlice),Uint8Array.prototype.slice||(Uint8Array.prototype.slice=t._uint8ArraySlice),tt.isConchApp&&t._nativeRender_enable(),!0},t.onStageResize=function(n,i){t.mainContext!=null&&(t.mainContext.viewport(0,0,n,i),vt.width=n,vt.height=i)},t.mainContext=null,t.shaderHighPrecision=!1,t._isWebGL2=!1,t.isNativeRender_enable=!1,t}(),bft=function(){function n(){}return r(n,"laya.events.KeyBoardManager"),n.__init__=function(){n._addEvent("keydown");n._addEvent("keypress");n._addEvent("keyup")},n._addEvent=function(n){c.document.addEventListener(n,function(t){laya.events.KeyBoardManager._dispatch(t,n)},!0)},n._dispatch=function(t,r){if(n.enabled){n._event._stoped=!1;n._event.nativeEvent=t;n._event.keyCode=t.keyCode||t.which||t.charCode;r==="keydown"?n._pressKeys[n._event.keyCode]=!0:r==="keyup"&&(n._pressKeys[n._event.keyCode]=null);for(var f=i.stage.focus&&i.stage.focus.event!=null&&i.stage.focus.displayedInStage?i.stage.focus:i.stage,u=f;u;)u.event(r,n._event.setTo(r,u,f)),u=u.parent}},n.hasKeyDown=function(t){return n._pressKeys[t]},n._pressKeys={},n.enabled=!0,d(n,["_event",function(){return this._event=new ol}]),n}(),kft=function(){function n(){this.colorFlt=null}r(n,"laya.display.cmd.DrawTextureCmd");var t=n.prototype;return t.recover=function(){this.texture._removeReference();this.texture=null;this.matrix=null;it.recover("DrawTextureCmd",this)},t.run=function(n,t,i){n.drawTextureWithTransform(this.texture,this.x,this.y,this.width,this.height,this.matrix,t,i,this.alpha,this.blendMode,this.colorFlt)},e(0,t,"cmdID",function(){return"DrawTexture"}),n.create=function(t,i,r,u,f,e,o,s,h){var c=it.getItemByClass("DrawTextureCmd",n);return c.texture=t,t._addReference(),c.x=i,c.y=r,c.width=u,c.height=f,c.matrix=e,c.alpha=o,c.color=s,c.blendMode=h,s&&(c.colorFlt=new dh,c.colorFlt.setColor(s)),c},n.ID="DrawTexture",n}(),wp=function(){function n(){this.startTime=NaN;this.duration=NaN;this.interpolationData=null;this.data=null;this.dData=null;this.nextData=null}return r(n,"laya.ani.KeyFramesContent"),n}(),dft=function(){function n(){this.position=null;this.velocity=null;this.startColor=null;this.endColor=null;this.sizeRotation=null;this.radius=null;this.radian=null;this.durationAddScale=NaN;this.time=NaN}return r(n,"laya.particle.ParticleData"),n.Create=function(t,i,r,u){var f=new n,o,s,e,h,c,l;if(f.position=i,nr.scaleVector3(r,t.emitterVelocitySensitivity,n._tempVelocity),o=nr.lerp(t.minHorizontalVelocity,t.maxHorizontalVelocity,Math.random()),s=Math.random()*Math.PI*2,n._tempVelocity[0]+=o*Math.cos(s),n._tempVelocity[2]+=o*Math.sin(s),n._tempVelocity[1]+=nr.lerp(t.minVerticalVelocity,t.maxVerticalVelocity,Math.random()),f.velocity=n._tempVelocity,f.startColor=n._tempStartColor,f.endColor=n._tempEndColor,e=0,t.disableColor){for(e=0;e<3;e++)f.startColor[e]=1,f.endColor[e]=1;f.startColor[e]=nr.lerp(t.minStartColor[e],t.maxStartColor[e],Math.random());f.endColor[e]=nr.lerp(t.minEndColor[e],t.maxEndColor[e],Math.random())}else if(t.colorComponentInter)for(e=0;e<4;e++)f.startColor[e]=nr.lerp(t.minStartColor[e],t.maxStartColor[e],Math.random()),f.endColor[e]=nr.lerp(t.minEndColor[e],t.maxEndColor[e],Math.random());else nr.lerpVector4(t.minStartColor,t.maxStartColor,Math.random(),f.startColor),nr.lerpVector4(t.minEndColor,t.maxEndColor,Math.random(),f.endColor);return f.sizeRotation=n._tempSizeRotation,h=Math.random(),f.sizeRotation[0]=nr.lerp(t.minStartSize,t.maxStartSize,h),f.sizeRotation[1]=nr.lerp(t.minEndSize,t.maxEndSize,h),f.sizeRotation[2]=nr.lerp(t.minRotateSpeed,t.maxRotateSpeed,Math.random()),f.radius=n._tempRadius,c=Math.random(),f.radius[0]=nr.lerp(t.minStartRadius,t.maxStartRadius,c),f.radius[1]=nr.lerp(t.minEndRadius,t.maxEndRadius,c),f.radian=n._tempRadian,f.radian[0]=nr.lerp(t.minHorizontalStartRadian,t.maxHorizontalStartRadian,Math.random()),f.radian[1]=nr.lerp(t.minVerticalStartRadian,t.maxVerticalStartRadian,Math.random()),l=t.useEndRadian,f.radian[2]=l?nr.lerp(t.minHorizontalEndRadian,t.maxHorizontalEndRadian,Math.random()):f.radian[0],f.radian[3]=l?nr.lerp(t.minVerticalEndRadian,t.maxVerticalEndRadian,Math.random()):f.radian[1],f.durationAddScale=t.ageAddScale*Math.random(),f.time=u,f},d(n,["_tempVelocity",function(){return this._tempVelocity=new Float32Array(3)},"_tempStartColor",function(){return this._tempStartColor=new Float32Array(4)},"_tempEndColor",function(){return this._tempEndColor=new Float32Array(4)},"_tempSizeRotation",function(){return this._tempSizeRotation=new Float32Array(3)},"_tempRadius",function(){return this._tempRadius=new Float32Array(2)},"_tempRadian",function(){return this._tempRadian=new Float32Array(4)}]),n}(),ge=function(){function n(t,i){if(th.map[t]){this._fun=th.map[t];this._next=n.NORENDER;return}this._next=i||n.NORENDER;switch(t){case 0:this._fun=this._no;return;case 1:this._fun=this._alpha;return;case 2:this._fun=this._transform;return;case 4:this._fun=this._blend;return;case 8:this._fun=this._canvas;return;case 32:this._fun=this._mask;return;case 64:this._fun=this._clip;return;case 128:this._fun=this._style;return;case 512:this._fun=this._graphics;return;case 8192:this._fun=this._children;return;case 2048:this._fun=this._custom;return;case 256:this._fun=this._texture;return;case 16:this._fun=rp._filter;return;case 69905:this._fun=n._initRenderFun;return}this.onCreate(t)}r(n,"laya.renders.RenderSprite");var t=n.prototype;return t.onCreate=function(){},t._style=function(n,t,i,r){var f=n._style,u;f.render!=null&&f.render(n,t,i,r);u=this._next;u._fun.call(u,n,t,i,r)},t._no=function(){},t._custom=function(n,t,i,r){n.customRender(t,i,r);this._next._fun.call(this._next,n,t,i-n.pivotX,r-n.pivotY)},t._clip=function(t,i,r,u){var e=this._next,f;e!=n.NORENDER&&(f=t._style.scrollRect,i.save(),i.clipRect(r,u,f.width,f.height),e._fun.call(e,t,i,r-f.x,u-f.y),i.restore())},t._texture=function(t,i,r,u){var f=t.texture,e;f._getSource()&&i.drawTexture(f,r-t.pivotX+f.offsetX,u-t.pivotY+f.offsetY,t._width||f.width,t._height||f.height);e=this._next;e!=n.NORENDER&&e._fun.call(e,t,i,r,u)},t._graphics=function(t,i,r,u){var e=t._style,o=t._graphics,f;o&&o._render(t,i,r-e.pivotX,u-e.pivotY);f=this._next;f!=n.NORENDER&&f._fun.call(f,t,i,r,u)},t._image=function(n,t,i,r){var u=n._style;t.drawTexture2(i,r,u.pivotX,u.pivotY,n.transform,n._graphics._one)},t._image2=function(n,t,i,r){var u=n._style;t.drawTexture2(i,r,u.pivotX,u.pivotY,n.transform,n._graphics._one)},t._alpha=function(n,t,i,r){var o=n._style,f,e,u;((f=o.alpha)>.01||n._needRepaint())&&(e=t.globalAlpha,t.globalAlpha*=f,u=this._next,u._fun.call(u,n,t,i,r),t.globalAlpha=e)},t._transform=function(t,i,r,u){var f=t.transform,e=this._next,o=t._style;f&&e!=n.NORENDER?(i.save(),i.transform(f.a,f.b,f.c,f.d,f.tx+r,f.ty+u),e._fun.call(e,t,i,0,0),i.restore()):e!=n.NORENDER&&e._fun.call(e,t,i,r,u)},t._children=function(n,t,i,r){var c;if(n){var s=n._style,o=n._children,h=o.length,f=0,u;if(i=i-n.pivotX,r=r-n.pivotY,c=n._getBit(256)&&t.drawCallOptimize(!0),s.viewport){var e=s.viewport,v=e.x,y=e.y,p=e.right,w=e.bottom,l=NaN,a=NaN;for(f;f<h;++f)u=o[f],u&&u._visible&&(l=u._x)<p&&l+u.width>v&&(a=u._y)<w&&a+u.height>y&&u.render(t,i,r)}else for(f;f<h;++f)u=o[f],u&&u._visible&&u.render(t,i,r);c&&t.drawCallOptimize(!1)}},t._canvas=function(n,t,r,u){var f=n._cacheStyle,o=this._next,c,l,h,e;if(!f.enableCanvasRender){o._fun.call(o,n,t,r,u);return}if(f.cacheAs==="bitmap"?ni.canvasBitmap++:ni.canvasNormal++,c=!1,l=!1,f.canvas){var s=f.canvas,v=s.context,a=s.touches;if(a)for(h=0;h<a.length;h++)if(a[h].deleted){l=!0;break}c=s.isCacheValid&&!s.isCacheValid()}if(n._needRepaint()||!f.canvas||l||c||i.stage.isGlobalRepaint())if(f.cacheAs==="normal"){if(t._targets){o._fun.call(o,n,t,r,u);return}this._canvas_webgl_normal_repaint(n,t)}else this._canvas_repaint(n,t,r,u);e=f.cacheRect;t.drawCanvas(f.canvas,r+e.x,u+e.y,e.width,e.height)},t._canvas_repaint=function(n,t,i,r){var u=n._cacheStyle,e=this._next,f,o=u.canvas,p,w,s,c=u.cacheAs,l,a,v,y,b,h;if(b=u._calculateCacheRect(n,c,i,r),v=b.x,y=b.y,s=u.cacheRect,l=s.width*v,a=s.height*y,p=s.x,w=s.y,c==="bitmap"&&(l>2048||a>2048)){console.warn("cache bitmap size larger than 2048,cache ignored");u.releaseContext();e._fun.call(e,n,t,i,r);return}o||(u.createContext(),o=u.canvas);f=o.context;f.sprite=n;(o.width!=l||o.height!=a)&&o.size(l,a);c==="bitmap"?f.asBitmap=!0:c==="normal"&&(f.asBitmap=!1);f.clear();v!=1||y!=1?(h=f,h.save(),h.scale(v,y),e._fun.call(e,n,f,-p,-w),h.restore(),n._applyFilters()):(h=f,e._fun.call(e,n,f,-p,-w),n._applyFilters());u.staticCache&&(u.reCache=!1);ni.canvasReCache++},t._canvas_webgl_normal_repaint=function(n,t){var u=n._cacheStyle,f=this._next,r=u.canvas,o=u.cacheAs,s=u._calculateCacheRect(n,o,0,0),e;r||(r=u.canvas=new i.WebGLCacheAsNormalCanvas(t,n));e=r.context;r.startRec();f._fun.call(f,n,e,n.pivotX,n.pivotY);n._applyFilters();ni.canvasReCache++;r.endRec()},t._blend=function(n,t,i,r){var f=n._style,u=this._next;f.blendMode?(t.save(),t.globalCompositeOperation=f.blendMode,u._fun.call(u,n,t,i,r),t.restore()):u._fun.call(u,n,t,i,r)},t._mask=function(t,i,r,u){var o=this._next,c=t.mask,e=i,l,f,v,y;if(c){if(e.save(),l=e.globalCompositeOperation,f=new ct,f.copyFrom(c.getBounds()),f.width=Math.round(f.width),f.height=Math.round(f.height),f.x=Math.round(f.x),f.y=Math.round(f.y),f.width>0&&f.height>0){var s=f.width,h=f.height,a=ts.getRT(s,h);e.breakNextMerge();e.pushRT();e.addRenderObject(hu.create([e,a,s,h],n.tmpTarget,this));c.render(e,-f.x,-f.y);e.breakNextMerge();e.popRT();e.save();e.clipRect(r+f.x-t.getStyle().pivotX,u+f.y-t.getStyle().pivotY,s,h);o._fun.call(o,t,e,r,u);e.restore();l=e.globalCompositeOperation;e.addRenderObject(hu.create(["mask"],n.setBlendMode,this));v=ur.create(1,0);y=bi.INV_UV;e.drawTarget(a,r+f.x-t.getStyle().pivotX,u+f.y-t.getStyle().pivotY,s,h,ht.TEMP.identity(),v,y,6);e.addRenderObject(hu.create([a],n.recycleTarget,this));e.addRenderObject(hu.create([l],n.setBlendMode,this))}e.restore()}else o._fun.call(o,t,i,r,u)},n.__init__=function(){th.__init__();var t=0,i=0,r;for(r=new n(69905,null),i=n.renders.length=16384,t=0;t<i;t++)n.renders[t]=r;n.renders[0]=new n(0,null)},n._initRenderFun=function(t,i,r,u){var f=t._renderType,e=n.renders[f]=n._getTypeRender(f);e._fun(t,i,r,u)},n._getTypeRender=function(t){if(th.map[t])return new n(t,null);for(var r=null,i=8192;i>0;)i&t&&(r=new n(i,r)),i=i>>1;return r},n.tmpTarget=function(n,t){t.start();t.clear(0,0,0,0)},n.recycleTarget=function(n){ts.releaseRT(n)},n.setBlendMode=function(n){var t=at.mainContext;yi.targetFns[yi.TOINT[n]](t)},n.INIT=69905,n.renders=[],n.NORENDER=new n(0,null),d(n,["tempUV",function(){return this.tempUV=new Array(8)}]),n}(),bp=function(){function n(n,t){var r,i,u;for(this.target=null,this.data=null,this.bones=null,this.position=NaN,this.spacing=NaN,this.rotateMix=NaN,this.translateMix=NaN,this._debugKey=!1,this._spaces=null,this._segments=[],this._curves=[],this.data=n,this.position=n.position,this.spacing=n.spacing,this.rotateMix=n.rotateMix,this.translateMix=n.translateMix,this.bones=[],r=this.data.bones,i=0,u=r.length;i<u;i++)this.bones.push(t[r[i]])}r(n,"laya.ani.bone.PathConstraint");var t=n.prototype;return t.apply=function(n,t){var k,i,lt,u,et,y,p,ot;if(this.target){var nt=this.translateMix,c=this.translateMix,bt=nt>0,pt=c>0,st=this.data.spacingMode,ht=st=="length",tt=this.data.rotateMode,it=tt=="tangent",rt=tt=="chainScale",ct=[],ut=this.bones.length,ft=it?ut:ut+1,l=[];if(this._spaces=l,l[0]=this.position,k=this.spacing,rt||ht)for(i=0,lt=ft-1;i<lt;){var r=this.bones[i],f=r.length,a=f*r.resultMatrix.a,v=f*r.resultMatrix.b;f=Math.sqrt(a*a+v*v);rt&&(ct[i]=f);l[++i]=ht?Math.max(0,f+k):k}else for(i=1;i<ft;i++)l[i]=k;if(u=this.computeWorldPositions(this.target,n,t,ft,it,this.data.positionMode=="percent",st=="percent"),this._debugKey){for(i=0;i<u.length;i++)t.drawCircle(u[i++],u[i++],5,"#00ff00");for(et=[],i=0;i<u.length;i++)et.push(u[i++],u[i++]);t.drawLines(0,0,et,"#ff0000")}var d=u[0],g=u[1],at=this.data.offsetRotation,wt=tt=="chain"&&at==0,h=NaN;for(i=0,h=3;i<ut;i++,h+=3)if(r=this.bones[i],r.resultMatrix.tx+=(d-r.resultMatrix.tx)*nt,r.resultMatrix.ty+=(g-r.resultMatrix.ty)*nt,a=u[h],v=u[h+1],y=a-d,p=v-g,rt&&(f=ct[i],f!=0&&(ot=(Math.sqrt(y*y+p*p)/f-1)*c+1,r.resultMatrix.a*=ot,r.resultMatrix.c*=ot)),d=a,g=v,pt){var w=r.resultMatrix.a,vt=r.resultMatrix.c,b=r.resultMatrix.b,yt=r.resultMatrix.d,e=NaN,o=NaN,s=NaN;e=it?u[h-1]:l[i+1]==0?u[h+2]:Math.atan2(p,y);e-=Math.atan2(b,w)-at/180*Math.PI;wt&&(o=Math.cos(e),s=Math.sin(e),f=r.length,d+=(f*(o*w-s*b)-y)*c,g+=(f*(s*w+o*b)-p)*c);e>Math.PI?e-=Math.PI*2:e<-Math.PI&&(e+=Math.PI*2);e*=c;o=Math.cos(e);s=Math.sin(e);r.resultMatrix.a=o*w-s*b;r.resultMatrix.c=o*vt-s*yt;r.resultMatrix.b=s*w+o*b;r.resultMatrix.d=s*vt+o*yt}}},t.computeWorldVertices2=function(t,i,r,u,f,e){var k=t.currDisplayData.bones,d=t.currDisplayData.weights,p=t.currDisplayData.triangles,l,c=0,o=0,it=0,a=0,s=0,w=0,g=0,nt=0,v=0,y=0,b,rt=0,ut,h,et,tt;if(k==null){if(p||(p=d),t.deformData&&(p=t.deformData),ut=t.parent,i)for(rt=i.length,c=0;c<rt;c++)if(i[c].name==ut){b=i[c];break}b&&(h=b.resultMatrix);h||(h=n._tempMt);var ot=h.tx,st=h.ty,ht=h.a,ct=h.b,lt=h.c,ft=h.d;for(b&&(ft*=b.d),o=r,s=e;s<u;o+=2,s+=2)v=p[o],y=p[o+1],f[s]=v*ht+y*ct+ot,f[s+1]=-(v*lt+y*ft+st);return}for(c=0;c<r;c+=2)a=k[o],o+=a+1,it+=a;for(et=i,s=e,w=it*3;s<u;s+=2){for(g=0,nt=0,a=k[o++],a+=o;o<a;o++,w+=3)l=et[k[o]].resultMatrix,v=d[w],y=d[w+1],tt=d[w+2],g+=(v*l.a+y*l.c+l.tx)*tt,nt+=(v*l.b+y*l.d+l.ty)*tt;f[s]=g;f[s+1]=nt}},t.computeWorldPositions=function(t,i,r,u,f,e,o){var oi=t.currDisplayData.bones,si=t.currDisplayData.weights,hi=t.currDisplayData.triangles,ti=[],c=0,tt=t.currDisplayData.verLen,ii=t,yt=this.position,ui=this._spaces,s=[],st=[],ri=!1,pt=tt/6,ht=-1,v=NaN,b=0,y=0,h=NaN,wt=NaN,it=NaN,w=NaN,fi,ei,p;if(0){if(fi=t.currDisplayData.lengths,pt-=ri?1:2,v=fi[pt],e&&(yt*=v),o)for(c=0;c<u;c++)ui[c]*=v;for(s.length=8,c=0,b=0,y=0;c<u;c++,b+=3){if(wt=ui[c],yt+=wt,h=yt,ri)h%=v,h<0&&(h+=v),y=0;else if(h<0){ht!=n.BEFORE&&(ht=n.BEFORE,this.computeWorldVertices2(ii,i,2,4,s,0));this.addBeforePosition(h,s,0,st,b);continue}else if(h>v){ht!=n.AFTER&&(ht=n.AFTER,this.computeWorldVertices2(ii,i,tt-6,4,s,0));this.addAfterPosition(h-v,s,0,st,b);continue}for(;;y++)if(w=fi[y],!(h>w)){y==0?h/=w:(it=fi[y-1],h=(h-it)/(w-it));break}y!=ht&&(ht=y,ri&&y==pt?(this.computeWorldVertices2(ii,i,tt-4,4,s,0),this.computeWorldVertices2(ii,i,0,4,s,4)):this.computeWorldVertices2(ii,i,y*6+2,8,s,0));this.addCurvePosition(h,s[0],s[1],s[2],s[3],s[4],s[5],s[6],s[7],st,b,f||c>0&&wt==0)}return st}if(ri)tt+=2,s[tt-2]=s[0],s[tt-1]=s[1];else{if(pt--,tt-=4,this.computeWorldVertices2(t,i,2,tt,ti,0),this._debugKey)for(c=0;c<ti.length;)r.drawCircle(ti[c++],ti[c++],10,"#ff0000");s=ti}this._curves.length=pt;ei=this._curves;v=0;var rt=s[0],ut=s[1],ft=0,et=0,lt=0,at=0,bt=0,kt=0,dt=NaN,gt=NaN,k=NaN,d=NaN,g=NaN,nt=NaN,l=NaN,a=NaN,ct=0;for(c=0,ct=2;c<pt;c++,ct+=6)ft=s[ct],et=s[ct+1],lt=s[ct+2],at=s[ct+3],bt=s[ct+4],kt=s[ct+5],dt=(rt-ft*2+lt)*.1875,gt=(ut-et*2+at)*.1875,k=((ft-lt)*3-rt+bt)*.09375,d=((et-at)*3-ut+kt)*.09375,g=dt*2+k,nt=gt*2+d,l=(ft-rt)*.75+dt+k*.16666667,a=(et-ut)*.75+gt+d*.16666667,v+=Math.sqrt(l*l+a*a),l+=g,a+=nt,g+=k,nt+=d,v+=Math.sqrt(l*l+a*a),l+=g,a+=nt,v+=Math.sqrt(l*l+a*a),l+=g+k,a+=nt+d,v+=Math.sqrt(l*l+a*a),ei[c]=v,rt=bt,ut=kt;if(e&&(yt*=v),o)for(c=0;c<u;c++)ui[c]*=v;var ni=this._segments,ot=0,vt=0;for(c=0,b=0,y=0,vt=0;c<u;c++,b+=3){if(wt=ui[c],yt+=wt,h=yt,ri)h%=v,h<0&&(h+=v),y=0;else if(h<0){this.addBeforePosition(h,s,0,st,b);continue}else if(h>v){this.addAfterPosition(h-v,s,tt-4,st,b);continue}for(;;y++)if(w=ei[y],!(h>w)){y==0?h/=w:(it=ei[y-1],h=(h-it)/(w-it));break}if(y!=ht){for(ht=y,p=y*6,rt=s[p],ut=s[p+1],ft=s[p+2],et=s[p+3],lt=s[p+4],at=s[p+5],bt=s[p+6],kt=s[p+7],dt=(rt-ft*2+lt)*.03,gt=(ut-et*2+at)*.03,k=((ft-lt)*3-rt+bt)*.006,d=((et-at)*3-ut+kt)*.006,g=dt*2+k,nt=gt*2+d,l=(ft-rt)*.3+dt+k*.16666667,a=(et-ut)*.3+gt+d*.16666667,ot=Math.sqrt(l*l+a*a),ni[0]=ot,p=1;p<8;p++)l+=g,a+=nt,g+=k,nt+=d,ot+=Math.sqrt(l*l+a*a),ni[p]=ot;l+=g;a+=nt;ot+=Math.sqrt(l*l+a*a);ni[8]=ot;l+=g+k;a+=nt+d;ot+=Math.sqrt(l*l+a*a);ni[9]=ot;vt=0}for(h*=ot;;vt++)if(w=ni[vt],!(h>w)){vt==0?h/=w:(it=ni[vt-1],h=vt+(h-it)/(w-it));break}this.addCurvePosition(h*.1,rt,ut,ft,et,lt,at,bt,kt,st,b,f||c>0&&wt==0)}return st},t.addBeforePosition=function(n,t,i,r,u){var e=t[i],o=t[i+1],s=t[i+2]-e,h=t[i+3]-o,f=Math.atan2(h,s);r[u]=e+n*Math.cos(f);r[u+1]=o+n*Math.sin(f);r[u+2]=f},t.addAfterPosition=function(n,t,i,r,u){var e=t[i+2],o=t[i+3],s=e-t[i],h=o-t[i+1],f=Math.atan2(h,s);r[u]=e+n*Math.cos(f);r[u+1]=o+n*Math.sin(f);r[u+2]=f},t.addCurvePosition=function(n,t,i,r,u,f,e,o,s,h,c,l){n==0&&(n=.0001);var v=n*n,w=v*n,a=1-n,y=a*a,b=y*a,p=a*n,k=p*3,d=a*k,g=k*n,nt=t*b+r*d+f*g+o*w,tt=i*b+u*d+e*g+s*w;h[c]=nt;h[c+1]=tt;h[c+2]=l?Math.atan2(tt-(i*y+u*p*2+e*v),nt-(t*y+r*p*2+f*v)):0},n.NONE=-1,n.BEFORE=-2,n.AFTER=-3,d(n,["_tempMt",function(){return this._tempMt=new ht}]),n}(),kp=function(){function n(){this._saveuse=0}r(n,"laya.webgl.canvas.save.SaveMark");var t=n.prototype;return i.imps(t,{"laya.webgl.canvas.save.ISaveData":!0}),t.isSaveMark=function(){return!0},t.restore=function(t){t._saveMark=this._preSaveMark;n.POOL[n.POOL._length++]=this},n.Create=function(t){var r=n.POOL,i=r._length>0?r[--r._length]:new n;return i._saveuse=0,i._preSaveMark=t._saveMark,t._saveMark=i,i},n.POOL=gr._createArray(),n}(),gft=function(){function t(){this.fontName=null;this.complete=null;this.err=null;this._fontTxt=null;this._url=null;this._div=null;this._txtWidth=NaN;this._http=null}r(t,"laya.net.TTFLoader");var n=t.prototype;return n.load=function(n){this._url=n;var t=n.split(".ttf")[0].split("/");this.fontName=t[t.length-1];tt.isConchApp?this._loadConch():c.window.FontFace?this._loadWithFontFace():this._loadWithCSS()},n._loadConch=function(){this._http=new ta;this._http.on("error",this,this._onErr);this._http.on("complete",this,this._onHttpLoaded);this._http.send(this._url,null,"get","arraybuffer")},n._onHttpLoaded=function(n){c.window.conchTextCanvas.setFontFaceFromBuffer(this.fontName,n);this._clearHttp();this._complete()},n._clearHttp=function(){this._http&&(this._http.off("error",this,this._onErr),this._http.off("complete",this,this._onHttpLoaded),this._http=null)},n._onErr=function(){this._clearHttp();this.err&&(this.err.runWith("fail:"+this._url),this.err=null)},n._complete=function(){i.systemTimer.clear(this,this._complete);i.systemTimer.clear(this,this._checkComplete);this._div&&this._div.parentNode&&(this._div.parentNode.removeChild(this._div),this._div=null);this.complete&&(this.complete.runWith(this),this.complete=null)},n._checkComplete=function(){ru.measureText("LayaTTFFont",this._fontTxt).width!=this._txtWidth&&this._complete()},n._loadWithFontFace=function(){var n=new c.window.FontFace(this.fontName,"url('"+this._url+"')"),t;c.window.document.fonts.add(n);t=this;n.loaded.then(function(){t._complete()});n.load()},n._createDiv=function(){this._div=c.createElement("div");this._div.innerHTML="laya";var n=this._div.style;n.fontFamily=this.fontName;n.position="absolute";n.left="-100px";n.top="-100px";c.document.body.appendChild(this._div)},n._loadWithCSS=function(){var r=this,n=c.createElement("style"),t;n.type="text/css";c.document.body.appendChild(n);n.textContent="@font-face { font-family:'"+this.fontName+"'; src:url('"+this._url+"');}";this._fontTxt="40px "+this.fontName;this._txtWidth=ru.measureText("LayaTTFFont",this._fontTxt).width;t=this;n.onload=function(){i.systemTimer.once(1e4,t,r._complete)};i.systemTimer.loop(20,this,this._checkComplete);this._createDiv()},t._testString="LayaTTFFont",t}(),sr=function(){function t(){}var i;return r(t,"laya.net.LocalStorage"),t.__init__=function(){return t._baseClass||(t._baseClass=i,i.init()),t.items=t._baseClass.items,t.support=t._baseClass.support,t.support},t.setItem=function(n,i){t._baseClass.setItem(n,i)},t.getItem=function(n){return t._baseClass.getItem(n)},t.setJSON=function(n,i){t._baseClass.setJSON(n,i)},t.getJSON=function(n){return t._baseClass.getJSON(n)},t.removeItem=function(n){t._baseClass.removeItem(n)},t.clear=function(){t._baseClass.clear()},t._baseClass=null,t.items=null,t.support=!1,t.__init$=function(){i=function(){function t(){}return r(t,""),t.init=function(){try{t.support=!0;t.items=n.localStorage;t.setItem("laya","1");t.removeItem("laya")}catch(i){t.support=!1}t.support||console.log("LocalStorage is not supprot or browser is private mode.")},t.setItem=function(n,i){try{t.support&&t.items.setItem(n,i)}catch(r){console.warn("set localStorage failed",r)}},t.getItem=function(n){return t.support?t.items.getItem(n):null},t.setJSON=function(n,i){try{t.support&&t.items.setItem(n,JSON.stringify(i))}catch(r){console.warn("set localStorage failed",r)}},t.getJSON=function(n){return JSON.parse(t.support?t.items.getItem(n):null)},t.removeItem=function(n){t.support&&t.items.removeItem(n)},t.clear=function(){t.support&&t.items.clear()},t.items=null,t.support=!1,t}()},t}(),net=function(){function n(){}r(n,"laya.display.cmd.DrawImageCmd");var t=n.prototype;return t.recover=function(){this.texture._removeReference();this.texture=null;it.recover("DrawImageCmd",this)},t.run=function(n,t,i){n.drawTexture(this.texture,this.x+t,this.y+i,this.width,this.height)},e(0,t,"cmdID",function(){return"DrawImage"}),n.create=function(t,i,r,u,f){var e=it.getItemByClass("DrawImageCmd",n);return e.texture=t,t._addReference(),e.x=i,e.y=r,e.width=u,e.height=f,e},n.ID="DrawImage",n}(),is=function(){function n(){this._obj=null;this._obj=n.supportWeakMap?new c.window.WeakMap:{};n.supportWeakMap||n._maps.push(this)}r(n,"laya.utils.WeakObject");var t=n.prototype;return t.set=function(t,i){if(t!=null)if(n.supportWeakMap){var r=t;(typeof t=="string"||typeof t=="number")&&(r=n._keys[t],r||(r=n._keys[t]={k:t}));this._obj.set(r,i)}else typeof t=="string"||typeof t=="number"?this._obj[t]=i:(t.$_GID||(t.$_GID=bt.getGID()),this._obj[t.$_GID]=i)},t.get=function(t){if(t==null)return null;if(n.supportWeakMap){var i=typeof t=="string"||typeof t=="number"?n._keys[t]:t;return i?this._obj.get(i):null}return typeof t=="string"||typeof t=="number"?this._obj[t]:this._obj[t.$_GID]},t.del=function(t){if(t!=null)if(n.supportWeakMap){var i=typeof t=="string"||typeof t=="number"?n._keys[t]:t;if(!i)return;this._obj.delete(i)}else typeof t=="string"||typeof t=="number"?delete this._obj[t]:delete this._obj[this._obj.$_GID]},t.has=function(t){if(t==null)return!1;if(n.supportWeakMap){var i=typeof t=="string"||typeof t=="number"?n._keys[t]:t;return this._obj.has(i)}return typeof t=="string"||typeof t=="number"?this._obj[t]!=null:this._obj[this._obj.$_GID]!=null},n.__init__=function(){n.supportWeakMap=c.window.WeakMap!=null;n.supportWeakMap||i.systemTimer.loop(n.delInterval,null,n.clearCache)},n.clearCache=function(){for(var r,t=0,i=n._maps.length;t<i;t++)r=n._maps[t],r._obj={}},n.supportWeakMap=!1,n.delInterval=6e5,n._keys={},n._maps=[],d(n,["I",function(){return this.I=new n}]),n}(),no=function(){function n(n){this._color=null;this.setValue(n)}r(n,"laya.webgl.canvas.DrawStyle");var t=n.prototype;return t.setValue=function(n){this._color=n?n instanceof laya.utils.ColorUtils?n:er.create(n):er.create("#000000")},t.reset=function(){this._color=er.create("#000000")},t.toInt=function(){return this._color.numColor},t.equal=function(n){return typeof n=="string"?this._color.strColor===n:n instanceof laya.utils.ColorUtils?this._color.numColor===n.numColor:!1},t.toColorStr=function(){return this._color.strColor},n.create=function(t){if(t){var i=t instanceof laya.utils.ColorUtils?t:er.create(t);return i._drawStyle||(i._drawStyle=new n(t))}return n.DEFAULT},d(n,["DEFAULT",function(){return this.DEFAULT=new n("#000000")}]),n}(),tet=function(){function n(){}r(n,"laya.display.cmd.DrawPathCmd");var t=n.prototype;return t.recover=function(){this.paths=null;this.brush=null;this.pen=null;it.recover("DrawPathCmd",this)},t.run=function(n,t,i){n._drawPath(this.x+t,this.y+i,this.paths,this.brush,this.pen)},e(0,t,"cmdID",function(){return"DrawPath"}),n.create=function(t,i,r,u,f){var e=it.getItemByClass("DrawPathCmd",n);return e.x=t,e.y=i,e.paths=r,e.brush=u,e.pen=f,e},n.ID="DrawPath",n}(),iet=function(){function n(){this.skinName=null;this.deformSlotDataList=[]}return r(n,"laya.ani.bone.DeformAniData"),n}(),ret=function(){function n(){}r(n,"laya.display.cmd.DrawCurvesCmd");var t=n.prototype;return t.recover=function(){this.points=null;this.lineColor=null;it.recover("DrawCurvesCmd",this)},t.run=function(n,t,i){n.drawCurves(this.x+t,this.y+i,this.points,this.lineColor,this.lineWidth)},e(0,t,"cmdID",function(){return"DrawCurves"}),n.create=function(t,i,r,u,f){var e=it.getItemByClass("DrawCurvesCmd",n);return e.x=t,e.y=i,e.points=r,e.lineColor=u,e.lineWidth=f,e},n.ID="DrawCurves",n}(),uet=function(){function n(){this.name=null;this.attachmentName=null;this.type=0;this.transform=null;this.width=NaN;this.height=NaN;this.texture=null;this.bones=null;this.uvs=null;this.weights=null;this.triangles=null;this.vertices=null;this.lengths=null;this.verLen=0}r(n,"laya.ani.bone.SkinSlotDisplayData");var t=n.prototype;return t.createTexture=function(n){return this.texture?this.texture:(this.texture=new bi(n.bitmap,this.uvs),this.uvs[0]>this.uvs[4]&&this.uvs[1]>this.uvs[5]?(this.texture.width=n.height,this.texture.height=n.width,this.texture.offsetX=-n.offsetX,this.texture.offsetY=-n.offsetY,this.texture.sourceWidth=n.sourceHeight,this.texture.sourceHeight=n.sourceWidth):(this.texture.width=n.width,this.texture.height=n.height,this.texture.offsetX=-n.offsetX,this.texture.offsetY=-n.offsetY,this.texture.sourceWidth=n.sourceWidth,this.texture.sourceHeight=n.sourceHeight),this.texture)},t.destory=function(){this.texture&&this.texture.destroy()},n}(),ne=function(){function n(){}return r(n,"laya.utils.ClassUtils"),n.regClass=function(t,i){n._classMap[t]=i},n.regShortClassName=function(t){for(var r,u,i=0;i<t.length;i++)r=t[i],u=r.name,n._classMap[u]=r},n.getRegClass=function(t){return n._classMap[t]},n.getClass=function(t){var r=n._classMap[t]||t;return typeof r=="string"?i.__classmap[r]||i[t]:r},n.getInstance=function(t){var i=n.getClass(t);return i?new i:(console.warn("[error] Undefined class:",t),null)},n.createByJson=function(t,i,r,u,f){var h,l,a,v,e,o,s,c;if(typeof t=="string"&&(t=JSON.parse(t)),h=t.props,!i&&(i=f?f.runWith(t):n.getInstance(h.runtime||t.type),!i))return null;if(l=t.child,l)for(a=0,v=l.length;a<v;a++)e=l[a],(e.props.name==="render"||e.props.renderType==="render")&&i._$set_itemRender?i.itemRender=e:e.type=="Graphic"?n._addGraphicsToSprite(e,i):n._isDrawType(e.type)?n._addGraphicToSprite(e,i,!0):(o=n.createByJson(e,null,r,u,f),e.type==="Script"?o.hasOwnProperty("owner")?o.owner=i:o.hasOwnProperty("target")&&(o.target=i):e.props.renderType=="mask"?i.mask=o:i.addChild(o));if(h)for(s in h)c=h[s],s==="var"&&r?r[c]=i:c instanceof Array&&typeof i[s]=="function"?i[s].apply(i,c):i[s]=c;return u&&t.customProps&&u.runWith([i,t]),i.created&&i.created(),i},n._addGraphicsToSprite=function(t,i){var e=t.child,f,s;if(e&&!(e.length<1)){var o=n._getGraphicsFromSprite(t,i),r=0,u=0;for(t.props&&(r=n._getObjVar(t.props,"x",0),u=n._getObjVar(t.props,"y",0)),r!=0&&u!=0&&o.translate(r,u),f=0,s=0,s=e.length,f=0;f<s;f++)n._addGraphicToGraphics(e[f],o);r!=0&&u!=0&&o.translate(-r,-u)}},n._addGraphicToSprite=function(t,i,r){r===void 0&&(r=!1);var u=r?n._getGraphicsFromSprite(t,i):i.graphics;n._addGraphicToGraphics(t,u)},n._getGraphicsFromSprite=function(n,t){var i,r,u;return!n||!n.props?t.graphics:(i=n.props.renderType,(i==="hit"||i==="unHit")&&(r=t._style.hitArea||(t.hitArea=new nft),r[i]||(r[i]=new be),u=r[i]),u||(u=t.graphics),u)},n._getTransformData=function(t){var i;(t.hasOwnProperty("pivotX")||t.hasOwnProperty("pivotY"))&&(i=i||new ht,i.translate(-n._getObjVar(t,"pivotX",0),-n._getObjVar(t,"pivotY",0)));var r=n._getObjVar(t,"scaleX",1),u=n._getObjVar(t,"scaleY",1),f=n._getObjVar(t,"rotation",0),e=n._getObjVar(t,"skewX",0),o=n._getObjVar(t,"skewY",0);return(r!=1||u!=1||f!=0)&&(i=i||new ht,i.scale(r,u),i.rotate(f*.0174532922222222)),i},n._addGraphicToGraphics=function(t,i){var e,r;if((e=t.props,e)&&(r=n.DrawTypeDic[t.type],r)){var u=i,o=n._getParams(e,r[1],r[2],r[3]),f=n._tM;(f||n._alpha!=1)&&(u.save(),f&&u.transform(f),n._alpha!=1&&u.alpha(n._alpha));u[r[0]].apply(u,o);(f||n._alpha!=1)&&u.restore()}},n._adptLineData=function(n){return n[2]=parseFloat(n[0])+parseFloat(n[2]),n[3]=parseFloat(n[1])+parseFloat(n[3]),n},n._adptTextureData=function(n){return n[0]=dt.getRes(n[0]),n},n._adptLinesData=function(t){return t[2]=n._getPointListByStr(t[2]),t},n._isDrawType=function(t){return t==="Image"?!1:n.DrawTypeDic.hasOwnProperty(t)},n._getParams=function(t,i,r,u){var f,e,s,o;for(r===void 0&&(r=0),f=n._temParam,f.length=i.length,e=0,s=0,s=i.length,e=0;e<s;e++)f[e]=n._getObjVar(t,i[e][0],i[e][1]);return n._alpha=n._getObjVar(t,"alpha",1),o=n._getTransformData(t),o?(r||(r=0),o.translate(f[r],f[r+1]),f[r]=f[r+1]=0,n._tM=o):n._tM=null,u&&n[u]&&(f=n[u](f)),f},n._getPointListByStr=function(n){for(var i=n.split(","),t=0,r=0,r=i.length,t=0;t<r;t++)i[t]=parseFloat(i[t]);return i},n._getObjVar=function(n,t,i){return n.hasOwnProperty(t)?n[t]:i},n._temParam=[],n._classMap={Sprite:s,Scene:kht,Text:w,Animation:"laya.display.Animation",Skeleton:"laya.ani.bone.Skeleton",Particle2D:"laya.particle.Particle2D",div:"laya.html.dom.HTMLDivParser",p:"laya.html.dom.HTMLElement",img:"laya.html.dom.HTMLImageElement",span:"laya.html.dom.HTMLElement",br:"laya.html.dom.HTMLBrElement",style:"laya.html.dom.HTMLStyleElement",font:"laya.html.dom.HTMLElement",a:"laya.html.dom.HTMLElement","#text":"laya.html.dom.HTMLElement",link:"laya.html.dom.HTMLLinkElement"},n._tM=null,n._alpha=NaN,d(n,["DrawTypeDic",function(){return this.DrawTypeDic={Rect:["drawRect",[["x",0],["y",0],["width",0],["height",0],["fillColor",null],["lineColor",null],["lineWidth",1]]],Circle:["drawCircle",[["x",0],["y",0],["radius",0],["fillColor",null],["lineColor",null],["lineWidth",1]]],Pie:["drawPie",[["x",0],["y",0],["radius",0],["startAngle",0],["endAngle",0],["fillColor",null],["lineColor",null],["lineWidth",1]]],Image:["drawTexture",[["x",0],["y",0],["width",0],["height",0]]],Texture:["drawTexture",[["skin",null],["x",0],["y",0],["width",0],["height",0]],1,"_adptTextureData"],FillTexture:["fillTexture",[["skin",null],["x",0],["y",0],["width",0],["height",0],["repeat",null]],1,"_adptTextureData"],FillText:["fillText",[["text",""],["x",0],["y",0],["font",null],["color",null],["textAlign",null]],1],Line:["drawLine",[["x",0],["y",0],["toX",0],["toY",0],["lineColor",null],["lineWidth",0]],0,"_adptLineData"],Lines:["drawLines",[["x",0],["y",0],["points",""],["lineColor",null],["lineWidth",0]],0,"_adptLinesData"],Curves:["drawCurves",[["x",0],["y",0],["points",""],["lineColor",null],["lineWidth",0]],0,"_adptLinesData"],Poly:["drawPoly",[["x",0],["y",0],["points",""],["fillColor",null],["lineColor",null],["lineWidth",1]],0,"_adptLinesData"]}}]),n}(),fet=function(){function n(){}r(n,"laya.display.css.BoundsStyle");var t=n.prototype;return t.reset=function(){return this.bounds&&this.bounds.recover(),this.userBounds&&this.userBounds.recover(),this.bounds=null,this.userBounds=null,this.temBM=null,this},t.recover=function(){it.recover("BoundsStyle",this.reset())},n.create=function(){return it.getItemByClass("BoundsStyle",n)},n}(),eet=function(){function n(){this._cacheBoundsType=!1}r(n,"laya.display.GraphicsBounds");var t=n.prototype;return t.destroy=function(){this._graphics=null;this._cacheBoundsType=!1;this._temp&&(this._temp.length=0);this._rstBoundPoints&&(this._rstBoundPoints.length=0);this._bounds&&this._bounds.recover();this._bounds=null;it.recover("GraphicsBounds",this)},t.reset=function(){this._temp&&(this._temp.length=0)},t.getBounds=function(n){return n===void 0&&(n=!1),(!this._bounds||!this._temp||this._temp.length<1||n!=this._cacheBoundsType)&&(this._bounds=ct._getWrapRec(this.getBoundPoints(n),this._bounds)),this._cacheBoundsType=n,this._bounds},t.getBoundPoints=function(n){return n===void 0&&(n=!1),(!this._temp||this._temp.length<1||n!=this._cacheBoundsType)&&(this._temp=this._getCmdPoints(n)),this._cacheBoundsType=n,this._rstBoundPoints=bt.copyArray(this._rstBoundPoints,this._temp)},t._getCmdPoints=function(t){var d,s,u,y,f,e,i,r,p,k,v,o;if(t===void 0&&(t=!1),d=tt._context,s=this._graphics.cmds,u=this._temp||(this._temp=[]),u.length=0,s||this._graphics._one==null||(n._tempCmds.length=0,n._tempCmds.push(this._graphics._one),s=n._tempCmds),!s)return u;for(y=n._tempMatrixArrays,y.length=0,f=n._initMatrix,f.identity(),e=n._tempMatrix,p=0,k=s.length;p<k;p++){i=s[p];switch(i.cmdID){case"Alpha":y.push(f);f=f.clone();break;case"Restore":f=y.pop();break;case"Scale":e.identity();e.translate(-i.pivotX,-i.pivotY);e.scale(i.scaleX,i.scaleY);e.translate(i.pivotX,i.pivotY);this._switchMatrix(f,e);break;case"Rotate":e.identity();e.translate(-i.pivotX,-i.pivotY);e.rotate(i.angle);e.translate(i.pivotX,i.pivotY);this._switchMatrix(f,e);break;case"Translate":e.identity();e.translate(i.tx,i.ty);this._switchMatrix(f,e);break;case"Transform":e.identity();e.translate(-i.pivotX,-i.pivotY);e.concat(i.matrix);e.translate(i.pivotX,i.pivotY);this._switchMatrix(f,e);break;case"DrawImage":case"FillTexture":n._addPointArrToRst(u,ct._getBoundPointS(i.x,i.y,i.width,i.height),f);break;case"DrawTexture":f.copyTo(e);i.matrix&&e.concat(i.matrix);n._addPointArrToRst(u,ct._getBoundPointS(i.x,i.y,i.width,i.height),e);break;case"DrawImage":if(r=i.texture,t)i.width&&i.height?n._addPointArrToRst(u,ct._getBoundPointS(i.x,i.y,i.width,i.height),f):n._addPointArrToRst(u,ct._getBoundPointS(i.x,i.y,r.width,r.height),f);else{var h=(i.width||r.sourceWidth)/r.width,c=(i.height||r.sourceHeight)/r.height,w=h*r.sourceWidth,b=c*r.sourceHeight,l=r.offsetX>0?r.offsetX:0,a=r.offsetY>0?r.offsetY:0;l*=h;a*=c;n._addPointArrToRst(u,ct._getBoundPointS(i.x-l,i.y-a,w,b),f)}break;case"FillTexture":i.width&&i.height?n._addPointArrToRst(u,ct._getBoundPointS(i.x,i.y,i.width,i.height),f):(r=i.texture,n._addPointArrToRst(u,ct._getBoundPointS(i.x,i.y,r.width,r.height),f));break;case"DrawTexture":i.matrix?(f.copyTo(e),e.concat(i.matrix),v=e):v=f;t?i.width&&i.height?n._addPointArrToRst(u,ct._getBoundPointS(i.x,i.y,i.width,i.height),v):(r=i.texture,n._addPointArrToRst(u,ct._getBoundPointS(i.x,i.y,r.width,r.height),v)):(r=i.texture,h=(i.width||r.sourceWidth)/r.width,c=(i.height||r.sourceHeight)/r.height,w=h*r.sourceWidth,b=c*r.sourceHeight,l=r.offsetX>0?r.offsetX:0,a=r.offsetY>0?r.offsetY:0,l*=h,a*=c,n._addPointArrToRst(u,ct._getBoundPointS(i.x-l,i.y-a,w,b),v));break;case"DrawRect":n._addPointArrToRst(u,ct._getBoundPointS(i.x,i.y,i.width,i.height),f);break;case"DrawCircle":n._addPointArrToRst(u,ct._getBoundPointS(i.x-i.radius,i.y-i.radius,i.radius+i.radius,i.radius+i.radius),f);break;case"DrawLine":n._tempPoints.length=0;o=NaN;o=i.lineWidth*.5;i.fromX==i.toX?n._tempPoints.push(i.fromX+o,i.fromY,i.toX+o,i.toY,i.fromX-o,i.fromY,i.toX-o,i.toY):i.fromY==i.toY?n._tempPoints.push(i.fromX,i.fromY+o,i.toX,i.toY+o,i.fromX,i.fromY-o,i.toX,i.toY-o):n._tempPoints.push(i.fromX,i.fromY,i.toX,i.toY);n._addPointArrToRst(u,n._tempPoints,f);break;case"DrawCurves":n._addPointArrToRst(u,ll.I.getBezierPoints(i.points),f,i.x,i.y);break;case"DrawLines":case"DrawPoly":n._addPointArrToRst(u,i.points,f,i.x,i.y);break;case"DrawPath":n._addPointArrToRst(u,this._getPathPoints(i.paths),f,i.x,i.y);break;case"DrawPie":n._addPointArrToRst(u,this._getPiePoints(i.x,i.y,i.radius,i.startAngle,i.endAngle),f)}}return u.length>200?u=bt.copyArray(u,ct._getWrapRec(u)._getBoundPoints()):u.length>8&&(u=ap.scanPList(u)),u},t._switchMatrix=function(n,t){t.concat(n);t.copyTo(n)},t._getPiePoints=function(t,i,r,u,f){var e=n._tempPoints,o,s,h,p,w,c,l;if(n._tempPoints.length=0,o=Math.PI/180,s=f-u,s>=360||s<=-360)return e.push(t-r,i-r),e.push(t+r,i-r),e.push(t+r,i+r),e.push(t-r,i+r),e;e.push(t,i);h=s%360;h<0&&(h+=360);var a=u+h,v=u*o,y=a*o;for(e.push(t+r*Math.cos(v),i+r*Math.sin(v)),e.push(t+r*Math.cos(y),i+r*Math.sin(y)),p=Math.ceil(u/90)*90,w=Math.floor(a/90)*90,c=p;c<=w;c+=90)l=c*o,e.push(t+r*Math.cos(l),i+r*Math.sin(l));return e},t._getPathPoints=function(t){var r=0,f=0,u=n._tempPoints,i;for(u.length=0,f=t.length,r=0;r<f;r++)i=t[r],i.length>1&&(u.push(i[1],i[2]),i.length>3&&u.push(i[3],i[4]));return u},n.create=function(){return it.getItemByClass("GraphicsBounds",n)},n._addPointArrToRst=function(t,i,r,u,f){u===void 0&&(u=0);f===void 0&&(f=0);for(var e=0,o=0,o=i.length,e=0;e<o;e+=2)n._addPointToRst(t,i[e]+u,i[e+1]+f,r)},n._addPointToRst=function(n,t,i,r){var u=kt.TEMP;u.setTo(t?t:0,i?i:0);r.transformPoint(u);n.push(u.x,u.y)},n._tempPoints=[],n._tempMatrixArrays=[],n._tempCmds=[],d(n,["_tempMatrix",function(){return this._tempMatrix=new ht},"_initMatrix",function(){return this._initMatrix=new ht}]),n}(),to=function(){function n(){this.preOvers=[];this.preDowns=[];this.preRightDowns=[];this.enable=!0;this._lastClickTime=0;this._event=new ol}r(n,"laya.events.TouchManager");var t=n.prototype;return t._clearTempArrs=function(){n._oldArr.length=0;n._newArr.length=0;n._tEleArr.length=0},t.getTouchFromArr=function(n,t){for(var i=0,u=0,r,u=t.length,i=0;i<u;i++)if(r=t[i],r.id==n)return r;return null},t.removeTouchFromArr=function(n,t){for(var i=0,i=t.length-1;i>=0;i--)t[i].id==n&&t.splice(i,1)},t.createTouchO=function(n,t){var i;return i=it.getItem("TouchData")||{},i.id=t,i.tar=n,i},t.onMouseDown=function(t,i,r){var u,f,e,o;(r===void 0&&(r=!1),this.enable)&&(u=this.getTouchFromArr(i,this.preOvers),e=this.getEles(t,null,n._tEleArr),u?u.tar=t:(f=this.createTouchO(t,i),this.preOvers.push(f)),c.onMobile&&this.sendEvents(e,"mouseover"),o=r?this.preDowns:this.preRightDowns,u=this.getTouchFromArr(i,o),u?u.tar=t:(f=this.createTouchO(t,i),o.push(f)),this.sendEvents(e,r?"mousedown":"rightmousedown"),this._clearTempArrs())},t.sendEvents=function(n,t){var r=0,u=0,f,i;for(u=n.length,this._event._stoped=!1,f=n[0],r=0;r<u;r++)if(i=n[r],i){if(i.destroyed)return;if(i.event(t,this._event.setTo(t,i,f)),this._event._stoped)break}},t.getEles=function(n,t,i){for(i?i.length=0:i=[];n&&n!=t;)i.push(n),n=n.parent;return i},t.checkMouseOutAndOverOfMove=function(t,i,r){var s,u,e,h,c,f,o;if(r===void 0&&(r=0),i!=t)if(e=0,h=0,i.contains(t))u=this.getEles(t,i,n._tEleArr),this.sendEvents(u,"mouseover");else if(t.contains(i))u=this.getEles(i,t,n._tEleArr),this.sendEvents(u,"mouseout");else{for(u=n._tEleArr,u.length=0,c=this.getEles(i,null,n._oldArr),f=this.getEles(t,null,n._newArr),h=c.length,o=0,e=0;e<h;e++)if(s=c[e],o=f.indexOf(s),o>=0){f.splice(o,f.length-o);break}else u.push(s);u.length>0&&this.sendEvents(u,"mouseout");f.length>0&&this.sendEvents(f,"mouseover")}},t.onMouseMove=function(t,i){var r,u;this.enable&&(r=this.getTouchFromArr(i,this.preOvers),r?(this.checkMouseOutAndOverOfMove(t,r.tar),r.tar=t,u=this.getEles(t,null,n._tEleArr)):(u=this.getEles(t,null,n._tEleArr),this.sendEvents(u,"mouseover"),this.preOvers.push(this.createTouchO(t,i))),this.sendEvents(u,"mousemove"),this._clearTempArrs())},t.getLastOvers=function(){return(n._tEleArr.length=0,this.preOvers.length>0&&this.preOvers[0].tar)?this.getEles(this.preOvers[0].tar,null,n._tEleArr):(n._tEleArr.push(i.stage),n._tEleArr)},t.stageMouseOut=function(){var n;n=this.getLastOvers();this.preOvers.length=0;this.sendEvents(n,"mouseout")},t.onMouseUp=function(t,i,r){var l,a,v;if(r===void 0&&(r=!1),this.enable){var f,e,s,o=0,y=0,h,u,p=c.onMobile;if(e=this.getEles(t,null,n._tEleArr),this.sendEvents(e,r?"mouseup":"rightmouseup"),l=r?this.preDowns:this.preRightDowns,f=this.getTouchFromArr(i,l),f){if(a=!1,v=c.now(),a=v-this._lastClickTime<300,this._lastClickTime=v,t==f.tar)u=e;else for(s=this.getEles(f.tar,null,n._oldArr),u=n._newArr,u.length=0,y=s.length,o=0;o<y;o++)h=s[o],e.indexOf(h)>=0&&u.push(h);u.length>0&&this.sendEvents(u,r?"click":"rightclick");r&&a&&this.sendEvents(u,"doubleclick");this.removeTouchFromArr(i,l);f.tar=null;it.recover("TouchData",f)}f=this.getTouchFromArr(i,this.preOvers);f&&p&&(u=this.getEles(f.tar,null,u),u&&u.length>0&&this.sendEvents(u,"mouseout"),this.removeTouchFromArr(i,this.preOvers),f.tar=null,it.recover("TouchData",f));this._clearTempArrs()}},n._oldArr=[],n._newArr=[],n._tEleArr=[],d(n,["I",function(){return this.I=new n}]),n}(),rs=function(){function n(){this.useDic={};this.shapeDic={};this.shapeLineDic={};this._id=0;this._checkKey=!1;this._freeIdArray=[];fp.regCacheByFunction(bt.bind(this.startDispose,this),bt.bind(this.getCacheList,this))}r(n,"laya.utils.VectorGraphManager");var t=n.prototype;return t.getId=function(){return this._id++},t.addShape=function(n,t){this.shapeDic[n]=t;this.useDic[n]||(this.useDic[n]=!0)},t.addLine=function(n,t){this.shapeLineDic[n]=t;this.shapeLineDic[n]||(this.shapeLineDic[n]=!0)},t.getShape=function(n){this._checkKey&&this.useDic[n]!=null&&(this.useDic[n]=!0)},t.deleteShape=function(n){this.shapeDic[n]&&(this.shapeDic[n]=null,delete this.shapeDic[n]);this.shapeLineDic[n]&&(this.shapeLineDic[n]=null,delete this.shapeLineDic[n]);this.useDic[n]!=null&&delete this.useDic[n]},t.getCacheList=function(){var n,t=[];for(n in this.shapeDic)t.push(this.shapeDic[n]);for(n in this.shapeLineDic)t.push(this.shapeLineDic[n]);return t},t.startDispose=function(){for(var n in this.useDic)this.useDic[n]=!1;this._checkKey=!0},t.endDispose=function(){if(this._checkKey){for(var n in this.useDic)this.useDic[n]||this.deleteShape(n);this._checkKey=!1}},n.getInstance=function(){return n.instance=n.instance||new n},n.instance=null,n}(),dp=function(){function n(){}return r(n,"laya.ui.Styles"),n.DEF_TEXT_FONT="Arial",n.DEF_TEXT_SIZE=24,n.DEF_TEXT_COLOR="#c3e1e8",n.DEF_TEXT_COLOR_GRAY="#52777e",n.DEF_BTN_COLOR_NORMAL="#c3e1e8",n.DEF_BTN_COLOR_DOWN="#111111",n.labelColor="#000000",n.buttonStateNum=3,n.scrollBarMinNum=15,n.scrollBarDelayTime=500,d(n,["defaultSizeGrid",function(){return this.defaultSizeGrid=[4,4,4,4,0]},"DEF_TEXT_FILLTEXT",function(){return this.DEF_TEXT_FILLTEXT="24px Arial"},"DEF_BTN_COLORS",function(){return this.DEF_BTN_COLORS=["#c3e1e8","#111111"]},"labelPadding",function(){return this.labelPadding=[2,2,2,2]},"inputLabelPadding",function(){return this.inputLabelPadding=[1,1,1,3]},"buttonLabelColors",function(){return this.buttonLabelColors=["#e5ba73","#e5ba73","#666666","#C0C0C0"]},"comboBoxItemColors",function(){return this.comboBoxItemColors=["#5e95b6","#ffffff","#000000","#8fa4b1","#ffffff"]}]),n}(),oet=function(){function n(){}r(n,"laya.display.cmd.RotateCmd");var t=n.prototype;return t.recover=function(){it.recover("RotateCmd",this)},t.run=function(n,t,i){n._rotate(this.angle,this.pivotX+t,this.pivotY+i)},e(0,t,"cmdID",function(){return"Rotate"}),n.create=function(t,i,r){var u=it.getItemByClass("RotateCmd",n);return u.angle=t,u.pivotX=i,u.pivotY=r,u},n.ID="Rotate",n}(),wr=function(){function t(){}return r(t,"laya.device.LayaDevice"),t.init=function(){t.IsApp=n.conch!=null;t.IsApp&&!t.mConfig&&(t.mConfig=n.conch.config);t.DevVo=n.DevVo||new yet;t.DevVo.Notch_Th>0&&(t.DevVo.Notch_Th+=12);t.DevVo.Notch_Fh>0&&(t.DevVo.Notch_Fh=t.DevVo.Notch_Fh*.6>>0);t.NotchH=t.DevVo.Notch_Th+t.DevVo.Notch_Fh},t.getAppInfo=function(){if(t.IsApp){var n=["\n[ 播放器 (Conch) 信息 ]"];return n.push("播放器号: "+t.getRuntimeVersion()),n.push("系统标识: "+t.getOS()),n.push("App 版本: "+t.getAppVersion()),n.push("设备信息: "+t.getDeviceInfo()),n.join("\n")}return"                               Not App"},t.getAll=function(n){if(n){var t,r=["    方法集合"],u=["    属性集合"],i;for(t in n)typeof n[t]=="function"?r.push(t):(i=n[t]+"",0==i.indexOf("function")&&(i="return function()"),u.push(t+": "+i));return r.join("\n        ")+"\n"+u.join("\n        ")}return"Not App"},t.getAllConfig=function(){return"Config Info:\n"+t.getAll(t.mConfig)},t.getAllConch=function(){return"Conch Info:\n"+t.getAll(n.conch)},t.getTotalMem=function(){return t.mConfig?t.mConfig.getTotalMem():0},t.getUsedMem=function(){return t.mConfig?t.mConfig.getUsedMem():0},t.getAvalidMem=function(){return t.mConfig?t.mConfig.getAvalidMem():0},t.getNetworkType=function(){return t.mConfig?t.mConfig.getNetworkType():0},t.getRuntimeVersion=function(){return t.mConfig?t.mConfig.getRuntimeVersion():""},t.getOS=function(){return t.mConfig?t.mConfig.getOS():""},t.getAppVersion=function(){return t.mConfig?t.mConfig.getAppVersion():""},t.getDeviceInfo=function(){if(t.mConfig){var i=JSON.parse(t.mConfig.getDeviceInfo()),n,r=[""];for(n in i)r.push("    "+n+": "+i[n]);return r.join("\n")}return"No DeviceInfo"},t.IsIosPad=function(){var n,i,r;return t.mConfig&&(n=JSON.parse(t.mConfig.getDeviceInfo()),i=n.os||"",i.toLocaleLowerCase()=="ios")?(r=n.localmodel||"",r.toLocaleLowerCase()=="ipad"):!1},t.getIosGuid=function(){if(t.mConfig){var n=JSON.parse(t.mConfig.getDeviceInfo()),i=n.os||"";if(i.toLocaleLowerCase()=="ios")return n.guid||""}return""},t.mConfig=null,t.IsApp=!1,t.DevVo=null,t.NotchH=0,t}(),set=function(){function t(){this._texture=null;this._fontCharDic={};this._fontWidthMap={};this._complete=null;this._path=null;this._maxWidth=0;this._spaceWidth=10;this._padding=null;this.fontSize=12;this.autoScaleSize=!1;this.letterSpacing=0}r(t,"laya.display.BitmapFont");var n=t.prototype;return n.loadFont=function(n,t){if(this._path=n,this._complete=t,!n||n.indexOf(".fnt")===-1){console.error('Bitmap font configuration information must be a ".fnt" file');return}i.loader.load([{url:n,type:"xml"},{url:n.replace(".fnt",".png"),type:"image"}],h.create(this,this._onLoaded))},n._onLoaded=function(){this.parseFont(dt.getRes(this._path),dt.getRes(this._path.replace(".fnt",".png")));this._complete&&this._complete.run()},n.parseFont=function(n,t){var h,u,s,f,a;if(n!=null&&t!=null){this._texture=t;var e=1,o=n.getElementsByTagName("info");if(!o[0].getAttributeNode)return this.parseFont2(n,t);for(this.fontSize=parseInt(o[0].getAttributeNode("size").nodeValue),h=o[0].getAttributeNode("padding").nodeValue,u=h.split(","),this._padding=[parseInt(u[0]),parseInt(u[1]),parseInt(u[2]),parseInt(u[3])],s=n.getElementsByTagName("char"),f=0,f=0;f<s.length;f++){var i=s[f],c=parseInt(i.getAttributeNode("id").nodeValue),v=parseInt(i.getAttributeNode("xoffset").nodeValue)/e,y=parseInt(i.getAttributeNode("yoffset").nodeValue)/e,l=parseInt(i.getAttributeNode("xadvance").nodeValue)/e,r=new ct;r.x=parseInt(i.getAttributeNode("x").nodeValue);r.y=parseInt(i.getAttributeNode("y").nodeValue);r.width=parseInt(i.getAttributeNode("width").nodeValue);r.height=parseInt(i.getAttributeNode("height").nodeValue);a=bi.create(t,r.x,r.y,r.width,r.height,v,y);this._maxWidth=Math.max(this._maxWidth,l+this.letterSpacing);this._fontCharDic[c]=a;this._fontWidthMap[c]=l}}},n.parseFont2=function(n,t){var h,u,o,f,a;if(n!=null&&t!=null){this._texture=t;var e=1,s=n.getElementsByTagName("info");for(this.fontSize=parseInt(s[0].attributes.size.nodeValue),h=s[0].attributes.padding.nodeValue,u=h.split(","),this._padding=[parseInt(u[0]),parseInt(u[1]),parseInt(u[2]),parseInt(u[3])],o=n.getElementsByTagName("char"),f=0,f=0;f<o.length;f++){var i=o[f].attributes,c=parseInt(i.id.nodeValue),v=parseInt(i.xoffset.nodeValue)/e,y=parseInt(i.yoffset.nodeValue)/e,l=parseInt(i.xadvance.nodeValue)/e,r=new ct;r.x=parseInt(i.x.nodeValue);r.y=parseInt(i.y.nodeValue);r.width=parseInt(i.width.nodeValue);r.height=parseInt(i.height.nodeValue);a=bi.create(t,r.x,r.y,r.width,r.height,v,y);this._maxWidth=Math.max(this._maxWidth,l+this.letterSpacing);this._fontCharDic[c]=a;this._fontWidthMap[c]=l}}},n.getCharTexture=function(n){return this._fontCharDic[n.charCodeAt(0)]},n.destroy=function(){var t,n;if(this._texture){for(t in this._fontCharDic)n=this._fontCharDic[t],n&&n.destroy();this._texture.destroy();this._fontCharDic=null;this._fontWidthMap=null;this._texture=null;this._complete=null;this._padding=null}},n.setSpaceWidth=function(n){this._spaceWidth=n},n.getCharWidth=function(n){var t=n.charCodeAt(0);return this._fontWidthMap[t]?this._fontWidthMap[t]+this.letterSpacing:n===" "?this._spaceWidth+this.letterSpacing:0},n.getTextWidth=function(n){for(var i=0,t=0,r=n.length;t<r;t++)i+=this.getCharWidth(n.charAt(t));return i},n.getMaxWidth=function(){return this._maxWidth},n.getMaxHeight=function(){return this.fontSize},n._drawText=function(n,t,i,r,u,f){var c=this.getTextWidth(n),o,s=0,h,e,l;for(u==="center"&&(s=(f-c)/2),u==="right"&&(s=f-c),h=0,e=0,l=n.length;e<l;e++)o=this.getCharTexture(n.charAt(e)),o&&(t.graphics.drawImage(o,i+h+s,r),h+=this.getCharWidth(n.charAt(e)))},t}(),kt=function(){function n(n,t){n===void 0&&(n=0);t===void 0&&(t=0);this.x=n;this.y=t}r(n,"laya.maths.Point");var t=n.prototype;return t.setTo=function(n,t){return this.x=n,this.y=t,this},t.reset=function(){return this.x=this.y=0,this},t.recover=function(){it.recover("Point",this.reset())},t.distance=function(n,t){return Math.sqrt((this.x-n)*(this.x-n)+(this.y-t)*(this.y-t))},t.toString=function(){return this.x+","+this.y},t.normalize=function(){var t=Math.sqrt(this.x*this.x+this.y*this.y),n;t>0&&(n=1/t,this.x*=n,this.y*=n)},t.copy=function(n){return this.setTo(n.x,n.y)},n.create=function(){return it.getItemByClass("Point",n)},n.TEMP=new n,n.EMPTY=new n,n}(),dui=function(){function n(){}return r(n,"laya.ani.AnimationState"),n.stopped=0,n.paused=1,n.playing=2,n}(),het=function(){function n(){}return r(n,"laya.ui.UIUtils"),n.fillArray=function(n,t,i){var f=n.concat(),e,r,o,u;if(t)for(e=t.split(","),r=0,o=Math.min(f.length,e.length);r<o;r++)u=e[r],f[r]=u=="true"?!0:u=="false"?!1:u,i!=null&&(f[r]=i(u));return f},n.toColor=function(n){return bt.toHexColor(n)},n.gray=function(t,i){i===void 0&&(i=!0);i?n.addFilter(t,n.grayFilter):n.clearFilter(t,dh)},n.addFilter=function(n,t){var i=n.filters||[];i.push(t);n.filters=i},n.clearFilter=function(n,t){var r=n.filters,u,f;if(r!=null&&r.length>0){for(u=r.length-1;u>-1;u--)f=r[u],i.__typeof(f,t)&&r.splice(u,1);n.filters=r}},n._getReplaceStr=function(t){return n.escapeSequence[t]},n.adptString=function(t){return t.replace(/\\(\w)/g,n._getReplaceStr)},n.getBindFun=function(t){var r=n._funMap.get(t),u,f;return r==null&&(u='"'+t+'"',u=u.replace(/^"\${|}"$/g,"").replace(/\${/g,'"+').replace(/}/g,'+"'),f="(function(data){if(data==null)return;with(data){try{\nreturn "+u+"\n}catch(e){}}})",r=i._runScript(f),n._funMap.set(t,r)),r},d(n,["grayFilter",function(){return this.grayFilter=new dh([.3086,.6094,.082,0,0,.3086,.6094,.082,0,0,.3086,.6094,.082,0,0,0,0,0,1,0])},"escapeSequence",function(){return this.escapeSequence={"\\n":"\n","\\t":"\t"}},"_funMap",function(){return this._funMap=new is}]),n}(),gp=function(){function n(n){this.childs=[];this.text="";this.parent=null;this.name=null;this.noCompile=!1;this.includefiles=null;this.condition=null;this.conditionType=0;this.useFuns="";this.z=0;this.src=null;this.includefiles=n}r(n,"laya.webgl.utils.ShaderNode");var t=n.prototype;return t.setParent=function(n){n.childs.push(this);this.z=n.z+1;this.parent=n},t.setCondition=function(n,t){n&&(this.conditionType=t,n=n.replace(/(\s*$)/g,""),this.condition=function(){return this[n]},this.condition.__condition=n)},t.toscript=function(t,i){return this._toscript(t,i,++n.__id)},t._toscript=function(n,t,i){var o,u,f,r,e;if(this.childs.length<1&&!this.text||(o=t.length,this.condition&&(u=!!this.condition.call(n),this.conditionType===2&&(u=!u),!u)))return t;if(this.text&&t.push(this.text),this.childs.length>0&&this.childs.forEach(function(r){r._toscript(n,t,i)}),this.includefiles.length>0&&this.useFuns.length>0)for(r=0,e=this.includefiles.length;r<e;r++)this.includefiles[r].curUseID!=i&&(f=this.includefiles[r].file.getFunsScript(this.useFuns),f.length>0&&(this.includefiles[r].curUseID=i,t[0]=f+t[0]));return t},n.__id=1,n}(),cet=function(){function n(){this.name=null;this.parent=null;this.attachmentName=null;this.srcDisplayIndex=-1;this.type="src";this.templet=null;this.currSlotData=null;this.currTexture=null;this.currDisplayData=null;this.displayIndex=-1;this.originalIndex=-1;this._diyTexture=null;this._parentMatrix=null;this._resultMatrix=null;this._replaceDic={};this._curDiyUV=null;this._curDiyVS=null;this._skinSprite=null;this.deformData=null;this._mVerticleArr=null;this._preGraphicVerticle=null;this._preGraphicMatrix=null}r(n,"laya.ani.bone.BoneSlot");var t=n.prototype;return t.showSlotData=function(n,t){t===void 0&&(t=!0);this.currSlotData=n;t&&(this.displayIndex=this.srcDisplayIndex);this.currDisplayData=null;this.currTexture=null},t.showDisplayByName=function(n){this.currSlotData&&this.showDisplayByIndex(this.currSlotData.getDisplayByName(n))},t.replaceDisplayByName=function(n,t){var i,r;this.currSlotData&&(i=0,i=this.currSlotData.getDisplayByName(n),r=0,r=this.currSlotData.getDisplayByName(t),this.replaceDisplayByIndex(i,r))},t.replaceDisplayByIndex=function(n,t){this.currSlotData&&(this._replaceDic[n]=t,this.originalIndex==n&&this.showDisplayByIndex(n))},t.showDisplayByIndex=function(n){if(this.originalIndex=n,this._replaceDic[n]!=null&&(n=this._replaceDic[n]),this.currSlotData&&n>-1&&n<this.currSlotData.displayArr.length){if(this.displayIndex=n,this.currDisplayData=this.currSlotData.displayArr[n],this.currDisplayData){var t=this.currDisplayData.name;this.currTexture=this.templet.getTexture(t);this.currTexture&&this.currDisplayData.type==0&&this.currDisplayData.uvs&&(this.currTexture=this.currDisplayData.createTexture(this.currTexture))}}else this.displayIndex=-1,this.currDisplayData=null,this.currTexture=null},t.replaceSkin=function(n){this._diyTexture=n;this._curDiyUV&&(this._curDiyUV.length=0);this.currDisplayData&&this._diyTexture==this.currDisplayData.texture&&(this._diyTexture=null)},t.setParentMatrix=function(n){this._parentMatrix=n},t.getSaveVerticle=function(t){return n.useSameMatrixAndVerticle&&this._preGraphicVerticle&&n.isSameArr(t,this._preGraphicVerticle)?t=this._preGraphicVerticle:(t=bt.copyArray([],t),this._preGraphicVerticle=t),t},t.getSaveMatrix=function(t){if(n.useSameMatrixAndVerticle&&this._preGraphicMatrix&&n.isSameMatrix(t,this._preGraphicMatrix))t=this._preGraphicMatrix;else{var i=t.clone();t=i;this._preGraphicMatrix=t}return t},t.draw=function(t,i,r,u){var s,f,c,l,e,h,a,v,w,y,o;if(r===void 0&&(r=!1),u===void 0&&(u=1),(this._diyTexture!=null||this.currTexture!=null)&&this.currDisplayData!=null||this.currDisplayData&&this.currDisplayData.type==3){s=this.currTexture;this._diyTexture&&(s=this._diyTexture);switch(this.currDisplayData.type){case 0:t&&(c=this.getDisplayMatrix(),this._parentMatrix&&(l=!1,c&&(ht.mul(c,this._parentMatrix,ht.TEMP),r?(this._resultMatrix==null&&(this._resultMatrix=new ht),e=this._resultMatrix):e=n._tempResultMatrix,this._diyTexture&&this.currDisplayData.uvs?(h=n._tempMatrix,h.identity(),this.currDisplayData.uvs[1]>this.currDisplayData.uvs[5]&&(h.d=-1),this.currDisplayData.uvs[0]>this.currDisplayData.uvs[4]&&this.currDisplayData.uvs[1]>this.currDisplayData.uvs[5]&&(l=!0,h.rotate(-Math.PI/2)),ht.mul(h,ht.TEMP,e)):ht.TEMP.copyTo(e),r||(e=this.getSaveMatrix(e)),e._checkTransform(),l?t.drawTexture(s,-this.currDisplayData.height/2,-this.currDisplayData.width/2,this.currDisplayData.height,this.currDisplayData.width,e,u):t.drawTexture(s,-this.currDisplayData.width/2,-this.currDisplayData.height/2,this.currDisplayData.width,this.currDisplayData.height,e,u))));break;case 1:if(r?(this._skinSprite==null&&(this._skinSprite=n.createSkinMesh()),f=this._skinSprite):f=n.createSkinMesh(),f==null)return;var p;this.currDisplayData.bones==null?(a=this.currDisplayData.weights,this.deformData&&(a=this.deformData),this._diyTexture?(this._curDiyUV||(this._curDiyUV=[]),this._curDiyUV.length==0&&(this._curDiyUV=ch.getRelativeUV(this.currTexture.uv,this.currDisplayData.uvs,this._curDiyUV),this._curDiyUV=ch.getAbsoluteUV(this._diyTexture.uv,this._curDiyUV,this._curDiyUV)),v=this._curDiyUV):v=this.currDisplayData.uvs,this._mVerticleArr=a,w=this.currDisplayData.triangles.length/3,p=this.currDisplayData.triangles,this.deformData&&(r||(this._mVerticleArr=this.getSaveVerticle(this._mVerticleArr))),f.init2(s,p,this._mVerticleArr,v),y=this.getDisplayMatrix(),this._parentMatrix&&y&&(ht.mul(y,this._parentMatrix,ht.TEMP),r?(this._resultMatrix==null&&(this._resultMatrix=new ht),o=this._resultMatrix):o=n._tempResultMatrix,ht.TEMP.copyTo(o),r||(o=this.getSaveMatrix(o)),f.transform=o)):this.skinMesh(i,f);t.drawSkin(f,u);break;case 2:if(r?(this._skinSprite==null&&(this._skinSprite=n.createSkinMesh()),f=this._skinSprite):f=n.createSkinMesh(),f==null)return;this.skinMesh(i,f);t.drawSkin(f,u)}}},t.skinMesh=function(t,i){var k=this.currTexture,e=this.currDisplayData.bones,w,b;this._diyTexture?(k=this._diyTexture,this._curDiyUV||(this._curDiyUV=[]),this._curDiyUV.length==0&&(this._curDiyUV=ch.getRelativeUV(this.currTexture.uv,this.currDisplayData.uvs,this._curDiyUV),this._curDiyUV=ch.getAbsoluteUV(this._diyTexture.uv,this._curDiyUV,this._curDiyUV)),w=this._curDiyUV):w=this.currDisplayData.uvs;var o=this.currDisplayData.weights,g=this.currDisplayData.triangles,d,s=0,h=0,v=0,r,c=NaN,l=NaN,f=0,a=0,y,u=0,p=0;if(n._tempVerticleArr.length=0,y=n._tempVerticleArr,this.deformData&&this.deformData.length>0)for(b=0,u=0,p=e.length;u<p;){for(v=e[u++]+u,s=0,h=0;u<v;u++)r=t[e[u]],c=o[f]+this.deformData[b++],l=o[f+1]+this.deformData[b++],a=o[f+2],s+=(c*r.a+l*r.c+r.tx)*a,h+=(c*r.b+l*r.d+r.ty)*a,f+=3;y.push(s,h)}else for(u=0,p=e.length;u<p;){for(v=e[u++]+u,s=0,h=0;u<v;u++)r=t[e[u]],c=o[f],l=o[f+1],a=o[f+2],s+=(c*r.a+l*r.c+r.tx)*a,h+=(c*r.b+l*r.d+r.ty)*a,f+=3;y.push(s,h)}this._mVerticleArr=y;d=g;this._mVerticleArr=this.getSaveVerticle(this._mVerticleArr);i.init2(k,d,this._mVerticleArr,w)},t.drawBonePoint=function(n){n&&this._parentMatrix&&n.drawCircle(this._parentMatrix.tx,this._parentMatrix.ty,5,"#ff0000")},t.getDisplayMatrix=function(){return this.currDisplayData?this.currDisplayData.transform.getMatrix():null},t.getMatrix=function(){return this._resultMatrix},t.copy=function(){var t=new n;return t.type="copy",t.name=this.name,t.attachmentName=this.attachmentName,t.srcDisplayIndex=this.srcDisplayIndex,t.parent=this.parent,t.displayIndex=this.displayIndex,t.templet=this.templet,t.currSlotData=this.currSlotData,t.currTexture=this.currTexture,t.currDisplayData=this.currDisplayData,t},n.createSkinMesh=function(){return new cst},n.isSameArr=function(n,t){if(n.length!=t.length)return!1;for(var i=0,r=0,r=n.length,i=0;i<r;i++)if(n[i]!=t[i])return!1;return!0},n.isSameMatrix=function(n,t){return n.a==t.a&&n.b==t.b&&n.c==t.c&&n.d==t.d&&Math.abs(n.tx-t.tx)<1e-5&&Math.abs(n.ty-t.ty)<1e-5},n.useSameMatrixAndVerticle=!0,n._tempVerticleArr=[],d(n,["_tempMatrix",function(){return this._tempMatrix=new ht},"_tempResultMatrix",function(){return this._tempResultMatrix=new ht}]),n}(),wu=function(){function n(){}return r(n,"Config"),n.animationInterval=50,n.isAntialias=!0,n.isAlpha=!1,n.premultipliedAlpha=!0,n.isStencil=!0,n.preserveDrawingBuffer=!1,n.webGL2D_MeshAllocMaxMem=!0,n.is2DPixelArtGame=!1,n.useWebGL2=!1,n.useRetinalCanvas=!1,n}(),us=function(){function n(n,t,i,r){function e(n){n=n.replace(u._clearCR,"");var t=[],i=new gp(t);return u._compileToTree(i,n.split("\n"),0,t,r),i}var u,f;this._clearCR=new RegExp("\r","g");u=this;f=c.now();this._VS=e(n);this._PS=e(t);this._nameMap=i;c.now()-f>2&&console.log("ShaderCompile use time:"+(c.now()-f)+"  size:"+n.length+"/"+t.length)}r(n,"laya.webgl.utils.ShaderCompile");var t=n.prototype;return t._compileToTree=function(t,i,r,u,f){for(var e,c,o,a,b,l=0,s,w,y=0,k=0,h=0,v,p,y=r;y<i.length;y++)if((o=i[y],!(o.length<1))&&(l=o.indexOf("//"),l!==0)){if(l>=0&&(o=o.substr(0,l)),e=w||new gp(u),w=null,e.text=o,e.noCompile=!0,(l=o.indexOf("#"))>=0){for(a="#",h=l+1,k=o.length;h<k;h++){if(v=o.charAt(h),v===" "||v==="\t"||v==="?")break;a+=v}e.name=a;switch(a){case"#ifdef":case"#ifndef":if(e.src=o,e.noCompile=o.match(/[!&|()=<>]/)!=null,e.noCompile?console.log("function():Boolean{return "+o.substr(l+e.name.length)+"}"):(s=o.replace(/^\s*/,"").split(/\s+/),e.setCondition(s[1],a==="#ifdef"?1:2),e.text="//"+e.text),e.setParent(t),t=e,f)for(s=o.substr(h).split(n._splitToWordExps3),h=0;h<s.length;h++)o=s[h],o.length&&(f[o]=!0);continue;case"#if":if(e.src=o,e.noCompile=!0,e.setParent(t),t=e,f)for(s=o.substr(h).split(n._splitToWordExps3),h=0;h<s.length;h++)o=s[h],o.length&&o!="defined"&&(f[o]=!0);continue;case"#else":e.src=o;t=t.parent;c=t.childs[t.childs.length-1];e.noCompile=c.noCompile;e.noCompile||(e.condition=c.condition,e.conditionType=c.conditionType==1?2:1,e.text="//"+e.text+" "+c.text+" "+e.conditionType);e.setParent(t);t=e;continue;case"#endif":t=t.parent;c=t.childs[t.childs.length-1];e.noCompile=c.noCompile;e.noCompile||(e.text="//"+e.text);e.setParent(t);continue;case"#include":if(s=n.splitToWords(o,null),p=n.includes[s[1]],!p)throw"ShaderCompile error no this include file:"+s[1];if((l=s[0].indexOf("?"))<0){e.setParent(t);o=p.getWith(s[2]=="with"?s[3]:null);this._compileToTree(e,o.split("\n"),0,u,f);e.text="";continue}e.setCondition(s[0].substr(l+1),1);e.text=p.getWith(s[2]=="with"?s[3]:null);break;case"#import":s=n.splitToWords(o,null);b=s[1];u.push({node:e,file:n.includes[b],ofs:e.text.length});continue}}else{if(c=t.childs[t.childs.length-1],c&&!c.name){u.length>0&&n.splitToWords(o,c);w=e;c.text+="\n"+o;continue}u.length>0&&n.splitToWords(o,e)}e.setParent(t)}},t.createShader=function(n,t,i,r){var u={},f="",e,o,s;if(n)for(e in n)f+="#define "+e+"\n",u[e]=!0;return o=this._VS.toscript(u,[]),s=this._PS.toscript(u,[]),(i||rf.create)(f+o.join("\n"),f+s.join("\n"),t,this._nameMap,r)},n._parseOne=function(t,i,r,u,f,e){var o={type:n.shaderParamsMap[r[u+1]],name:r[u+2],size:isNaN(parseInt(r[u+3]))?1:parseInt(r[u+3])};return e&&(f=="attribute"?t.push(o):i.push(o)),r[u+3]==":"&&(o.type=r[u+4],u+=2),u+2},n.addInclude=function(t,i){if(!i||i.length===0)throw new Error("add shader include file err:"+t);if(n.includes[t])throw new Error("add shader include file err, has add:"+t);n.includes[t]=new oft(i)},n.preGetParams=function(t,i){var a=[t,i],h={},c=[],l=[],v={},y=[],r,o,e,f,s,u,p;for(h.attributes=c,h.uniforms=l,h.defines=v,r=0,o=0,e=0;e<2;e++)for(a[e]=a[e].replace(n._removeAnnotation,""),f=a[e].match(n._reg),r=0,o=f.length;r<o;r++){if(u=f[r],u!="attribute"&&u!="uniform"){if(u=="#define"){u=f[++r];y[u]=1;continue}else if(u=="#ifdef")for(s=f[++r],p=v[s]=v[s]||[],r++;r<o;r++){if(u=f[r],u!="attribute"&&u!="uniform"){if(u=="#else")for(r++;r<o;r++){if(u=f[r],u!="attribute"&&u!="uniform"){if(u=="#endif")break;continue}r=n._parseOne(c,l,f,r,u,!y[s])}continue}r=n._parseOne(c,l,f,r,u,y[s])}continue}r=n._parseOne(c,l,f,r,u,!0)}return h},n.splitToWords=function(n,t){for(var s,u=[],e,i=-1,f,r=0,o=n.length;r<o;r++){if(e=n.charAt(r)," \t=+-*/&%!<>()'\",;".indexOf(e)>=0){if(i>=0&&r-i>1&&(f=n.substr(i,r-i),u.push(f)),e=='"'||e=="'"){if(s=n.indexOf(e,r+1),s<0)throw"Sharder err:"+n;u.push(n.substr(r+1,s-r-1));r=s;i=-1;continue}e=="("&&t&&u.length>0&&(f=u[u.length-1]+";","vec4;main;".indexOf(f)<0&&(t.useFuns+=f));i=-1;continue}i<0&&(i=r)}return i<o&&o-i>1&&(f=n.substr(i,o-i),u.push(f)),u},n.IFDEF_NO=0,n.IFDEF_YES=1,n.IFDEF_ELSE=2,n.IFDEF_PARENT=3,n._removeAnnotation=new RegExp("(/\\*([^*]|[\\r\\\n]|(\\*+([^*/]|[\\r\\n])))*\\*+/)|(//.*)","g"),n._reg=new RegExp("(\".*\")|('.*')|([#\\w\\*-\\.+/()=<>{}\\\\]+)|([,;:\\\\])","g"),n._splitToWordExps=new RegExp("[(\".*\")]+|[('.*')]+|([ \\t=\\+\\-*/&%!<>!%(),;])","g"),n.includes={},d(n,["shaderParamsMap",function(){return this.shaderParamsMap={float:5126,int:5124,bool:35670,vec2:35664,vec3:35665,vec4:35666,ivec2:35667,ivec3:35668,ivec4:35669,bvec2:35671,bvec3:35672,bvec4:35673,mat2:35674,mat3:35675,mat4:35676,sampler2D:35678,samplerCube:35680}},"_splitToWordExps3",function(){return this._splitToWordExps3=new RegExp("[ \\t=\\+\\-*/&%!<>!%(),;\\|]","g")}]),n}(),aet=function(){function n(){this.json=null}r(n,"laya.components.Prefab");var t=n.prototype;return t.create=function(){return this.json?yl.createByData(null,this.json):null},n}(),vet=function(){function n(){this.boneSlot=null;this.slotIndex=-1;this.attachment=null;this.deformData=null;this.frameIndex=0;this.timeList=[];this.vectices=[];this.tweenKeyList=[]}r(n,"laya.ani.bone.DeformSlotDisplayData");var t=n.prototype;return t.binarySearch1=function(n,t){var u=0,i=n.length-2,r;if(i==0)return 1;for(r=i>>>1;;){if(n[Math.floor(r+1)]<=t?u=r+1:i=r,u==i)return u+1;r=u+i>>>1}return 0},t.apply=function(n,t,i){var o,f;if(i===void 0&&(i=1),n+=.05,!(this.timeList.length<=0)){var r=0,c=this.timeList[0];if(!(n<c)){var e=this.vectices[0].length,u=[],s=this.binarySearch1(this.timeList,n);if(this.frameIndex=s,n>=this.timeList[this.timeList.length-1]){if(o=this.vectices[this.vectices.length-1],i<1)for(r=0;r<e;r++)u[r]+=(o[r]-u[r])*i;else for(r=0;r<e;r++)u[r]=o[r];this.deformData=u;return}var y=this.tweenKeyList[this.frameIndex],l=this.vectices[this.frameIndex-1],a=this.vectices[this.frameIndex],h=this.timeList[this.frameIndex-1],v=this.timeList[this.frameIndex];for(i=this.tweenKeyList[s-1]?(n-h)/(v-h):0,f=NaN,r=0;r<e;r++)f=l[r],u[r]=f+(a[r]-f)*i;this.deformData=u}}},n}(),yet=function(){function n(){this.Notch_Is=0;this.Notch_Th=0;this.Notch_Fh=0;this.IsEmu=!1;this.Notch_Is=this.Notch_Th=this.Notch_Fh=0}return r(n,"laya.device.L_DevVo"),n}(),vf=function(){function n(){this.mouseX=0;this.mouseY=0;this.disableMouseEvent=!1;this.mouseDownTime=0;this.mouseMoveAccuracy=2;this._stage=null;this._captureSp=null;this._captureExlusiveMode=!1;this._hitCaputreSp=!1;this._target=null;this._lastMoveTimer=0;this._isLeftMouse=!1;this._touchIDs={};this._id=1;this._tTouchID=0;this._event=new ol;this._captureChain=[];this._matrix=new ht;this._point=new kt;this._rect=new ct;this._prePoint=new kt;this._curTouchID=NaN}r(n,"laya.events.MouseManager");var t=n.prototype;return t.__init__=function(t,i){var r=this,u;this._stage=t;u=this;i.oncontextmenu=function(){if(n.enabled)return!1};i.addEventListener("mousedown",function(t){n.enabled&&(c.onIE||t.preventDefault(),u.mouseDownTime=c.now(),r.runEvent(t))});i.addEventListener("mouseup",function(t){n.enabled&&(t.preventDefault(),u.mouseDownTime=-c.now(),r.runEvent(t))},!0);i.addEventListener("mousemove",function(t){if(n.enabled){t.preventDefault();var i=c.now();if(i-u._lastMoveTimer<10)return;u._lastMoveTimer=i;r.runEvent(t)}},!0);i.addEventListener("mouseout",function(t){n.enabled&&r.runEvent(t)});i.addEventListener("mouseover",function(t){n.enabled&&r.runEvent(t)});i.addEventListener("touchstart",function(t){n.enabled&&(n._isFirstTouch||ci.isInputting||t.preventDefault(),u.mouseDownTime=c.now(),r.runEvent(t))});i.addEventListener("touchend",function(t){n.enabled?(n._isFirstTouch||ci.isInputting||t.preventDefault(),n._isFirstTouch=!1,u.mouseDownTime=-c.now(),r.runEvent(t)):r._curTouchID=NaN},!0);i.addEventListener("touchmove",function(t){n.enabled&&(t.preventDefault(),r.runEvent(t))},!0);i.addEventListener("touchcancel",function(t){n.enabled?(t.preventDefault(),r.runEvent(t)):r._curTouchID=NaN},!0);i.addEventListener("mousewheel",function(t){n.enabled&&r.runEvent(t)});i.addEventListener("DOMMouseScroll",function(t){n.enabled&&r.runEvent(t)})},t.initEvent=function(n,t){var i=this,r;i._event._stoped=!1;i._event.nativeEvent=t||n;i._target=null;this._point.setTo(n.pageX||n.clientX,n.pageY||n.clientY);this._stage._canvasTransform&&(this._stage._canvasTransform.invertTransformPoint(this._point),i.mouseX=this._point.x,i.mouseY=this._point.y);i._event.touchId=n.identifier||0;this._tTouchID=i._event.touchId;r=to.I._event;r._stoped=!1;r.nativeEvent=i._event.nativeEvent;r.touchId=i._event.touchId},t.checkMouseWheel=function(n){var i,t,u,r;for(this._event.delta=n.wheelDelta?n.wheelDelta*.025:-n.detail,i=to.I.getLastOvers(),t=0,u=i.length;t<u;t++)r=i[t],r.event("mousewheel",this._event.setTo("mousewheel",r,this._target))},t.onMouseMove=function(n){to.I.onMouseMove(n,this._tTouchID)},t.onMouseDown=function(n){if(ci.isInputting&&i.stage.focus&&i.stage.focus.focus&&!i.stage.focus.contains(this._target)){var t=i.stage.focus._tf||i.stage.focus,r=n._tf||n;r instanceof laya.display.Input&&r.multiline==t.multiline?t._focusOut():t.focus=!1}to.I.onMouseDown(n,this._tTouchID,this._isLeftMouse)},t.onMouseUp=function(n){to.I.onMouseUp(n,this._tTouchID,this._isLeftMouse)},t.check=function(n,t,i,r){var f,u,e,o,s;if(this._point.setTo(t,i),n.fromParentPoint(this._point),t=this._point.x,i=this._point.y,f=n._style.scrollRect,f&&(this._rect.setTo(f.x,f.y,f.width,f.height),!this._rect.contains(t,i)))return!1;if(!this.disableMouseEvent){if(n.hitTestPrior&&!n.mouseThrough&&!this.hitTest(n,t,i))return!1;for(u=n._children.length-1;u>-1;u--)if(e=n._children[u],!e.destroyed&&e._mouseState>1&&e._visible&&this.check(e,t,i,r))return!0;for(u=n._extUIChild.length-1;u>=0;u--)if(o=n._extUIChild[u],!o.destroyed&&o._mouseState>1&&o._visible&&this.check(o,t,i,r))return!0}return s=n.hitTestPrior&&!n.mouseThrough&&!this.disableMouseEvent?!0:this.hitTest(n,t,i),s?(this._target=n,r.call(this,n),this._target==this._hitCaputreSp&&(this._hitCaputreSp=!0)):r===this.onMouseUp&&n===this._stage&&(this._target=this._stage,r.call(this,this._target)),s},t.hitTest=function(n,t,i){var u=!1,r;return(n.scrollRect&&(t-=n._style.scrollRect.x,i-=n._style.scrollRect.y),r=n._style.hitArea,r&&r._hit)?r.contains(t,i):((n.width>0&&n.height>0||n.mouseThrough||r)&&(u=n.mouseThrough?n.getGraphicBounds().contains(t,i):(r?r:this._rect.setTo(0,0,n.width,n.height)).contains(t,i)),u)},t._checkAllBaseUI=function(n,t,i){var r=this.handleExclusiveCapture(this.mouseX,this.mouseY,i);return r?!0:(r=this.check(this._stage,this.mouseX,this.mouseY,i),this.handleCapture(this.mouseX,this.mouseY,i)||r)},t.check3DUI=function(n,t,i){for(var e=this._stage._3dUI,u=0,f=!1,r;u<e.length;u++)r=e[u],this._stage._curUIBase=r,!r.destroyed&&r._mouseState>1&&r._visible&&(f=f||this.check(r,this.mouseX,this.mouseY,i));return this._stage._curUIBase=this._stage,f},t.handleExclusiveCapture=function(n,t,i){var r,u;if(this._captureExlusiveMode&&this._captureSp&&this._captureChain.length>0){for(this._point.setTo(n,t),u=0;u<this._captureChain.length;u++)r=this._captureChain[u],r.fromParentPoint(this._point);return this._target=r,i.call(this,r),!0}return!1},t.handleCapture=function(n,t,i){var r,u;if(!this._hitCaputreSp&&this._captureSp&&this._captureChain.length>0){for(this._point.setTo(n,t),u=0;u<this._captureChain.length;u++)r=this._captureChain[u],r.fromParentPoint(this._point);return this._target=r,i.call(this,r),!0}return!1},t.runEvent=function(t){var h=this,i=0,u=0,r,f,e,o,s;t.type!=="mousemove"&&(this._prePoint.x=this._prePoint.y=-1e6);switch(t.type){case"mousedown":this._touchIDs[0]=this._id++;n._isTouchRespond?n._isTouchRespond=!1:(this._isLeftMouse=t.button===0,this.initEvent(t),this._checkAllBaseUI(this.mouseX,this.mouseY,this.onMouseDown));break;case"mouseup":this._isLeftMouse=t.button===0;this.initEvent(t);this._checkAllBaseUI(this.mouseX,this.mouseY,this.onMouseUp);break;case"mousemove":Math.abs(this._prePoint.x-t.clientX)+Math.abs(this._prePoint.y-t.clientY)>=this.mouseMoveAccuracy&&(this._prePoint.x=t.clientX,this._prePoint.y=t.clientY,this.initEvent(t),this._checkAllBaseUI(this.mouseX,this.mouseY,this.onMouseMove));break;case"touchstart":for(n._isTouchRespond=!0,this._isLeftMouse=!0,f=t.changedTouches,i=0,u=f.length;i<u;i++)r=f[i],(n.multiTouchEnabled||isNaN(this._curTouchID))&&(this._curTouchID=r.identifier,this._id%200==0&&(this._touchIDs={}),this._touchIDs[r.identifier]=this._id++,this.initEvent(r,t),this._checkAllBaseUI(this.mouseX,this.mouseY,this.onMouseDown));break;case"touchend":case"touchcancel":for(n._isTouchRespond=!0,this._isLeftMouse=!0,e=t.changedTouches,i=0,u=e.length;i<u;i++)if(r=e[i],(n.multiTouchEnabled||r.identifier==this._curTouchID)&&(this._curTouchID=NaN,this.initEvent(r,t),o=!1,o=this._checkAllBaseUI(this.mouseX,this.mouseY,this.onMouseUp),!o))this.onMouseUp(null);break;case"touchmove":for(s=t.changedTouches,i=0,u=s.length;i<u;i++)r=s[i],(n.multiTouchEnabled||r.identifier==this._curTouchID)&&(this.initEvent(r,t),this._checkAllBaseUI(this.mouseX,this.mouseY,this.onMouseMove));break;case"wheel":case"mousewheel":case"DOMMouseScroll":this.checkMouseWheel(t);break;case"mouseout":to.I.stageMouseOut();break;case"mouseover":this._stage.event("mouseover",this._event.setTo("mouseover",this._stage,this._stage))}},t.setCapture=function(n,t){t===void 0&&(t=!1);this._captureSp=n;this._captureExlusiveMode=t;this._captureChain.length=0;this._captureChain.push(n);for(var r=n;;){if(r==i.stage)break;if(r==i.stage._curUIBase)break;if(r=r.parent,!r)break;this._captureChain.splice(0,0,r)}},t.releaseCapture=function(){console.log("release capture");this._captureSp=null},n.enabled=!0,n.multiTouchEnabled=!0,n._isTouchRespond=!1,n._isFirstTouch=!0,d(n,["instance",function(){return this.instance=new n}]),n}(),pl=function(){function n(){this.ALPHA=1;this.shaderType=0;this.defines=new kh;this.fillStyle=no.DEFAULT;this.strokeStyle=no.DEFAULT}r(n,"laya.webgl.shader.d2.Shader2D");var t=n.prototype;return t.destroy=function(){this.defines=null;this.filters=null},n.__init__=function(){var n,t;n="/*\n\ttexture和fillrect使用的。\n*/\nattribute vec4 posuv;\nattribute vec4 attribColor;\nattribute vec4 attribFlags;\n//attribute vec4 clipDir;\n//attribute vec2 clipRect;\nuniform vec4 clipMatDir;\nuniform vec2 clipMatPos;\t\t// 这个是全局的，不用再应用矩阵了。\nvarying vec2 cliped;\nuniform vec2 size;\nuniform vec2 clipOff;\t\t\t// 使用要把clip偏移。cacheas normal用. 只用了[0]\n#ifdef WORLDMAT\n\tuniform mat4 mmat;\n#endif\n#ifdef MVP3D\n\tuniform mat4 u_MvpMatrix;\n#endif\nvarying vec4 v_texcoordAlpha;\nvarying vec4 v_color;\nvarying float v_useTex;\n\nvoid main() {\n\n\tvec4 pos = vec4(posuv.xy,0.,1.);\n#ifdef WORLDMAT\n\tpos=mmat*pos;\n#endif\n\tvec4 pos1  =vec4((pos.x/size.x-0.5)*2.0,(0.5-pos.y/size.y)*2.0,0.,1.0);\n#ifdef MVP3D\n\tgl_Position=u_MvpMatrix*pos1;\n#else\n\tgl_Position=pos1;\n#endif\n\tv_texcoordAlpha.xy = posuv.zw;\n\t//v_texcoordAlpha.z = attribColor.a/255.0;\n\tv_color = attribColor/255.0;\n\tv_color.xyz*=v_color.w;//反正后面也要预乘\n\t\n\tv_useTex = attribFlags.r/255.0;\n\tfloat clipw = length(clipMatDir.xy);\n\tfloat cliph = length(clipMatDir.zw);\n\t\n\tvec2 clpos = clipMatPos.xy;\n\t#ifdef WORLDMAT\n\t\t// 如果有mmat，需要修改clipMatPos,因为 这是cacheas normal （如果不是就错了）， clipMatPos被去掉了偏移\n\t\tif(clipOff[0]>0.0){\n\t\t\tclpos.x+=mmat[3].x;\t//tx\t最简单处理\n\t\t\tclpos.y+=mmat[3].y;\t//ty\n\t\t}\n\t#endif\n\tvec2 clippos = pos.xy - clpos;\t//pos已经应用矩阵了，为了减的有意义，clip的位置也要缩放\n\tif(clipw>20000. && cliph>20000.)\n\t\tcliped = vec2(0.5,0.5);\n\telse {\n\t\t//转成0到1之间。/clipw/clipw 表示clippos与normalize之后的clip朝向点积之后，再除以clipw\n\t\tcliped=vec2( dot(clippos,clipMatDir.xy)/clipw/clipw, dot(clippos,clipMatDir.zw)/cliph/cliph);\n\t}\n\n}";t="/*\n\ttexture和fillrect使用的。\n*/\n#ifdef FSHIGHPRECISION\nprecision highp float;\n#else\nprecision mediump float;\n#endif\n\nvarying vec4 v_texcoordAlpha;\nvarying vec4 v_color;\nvarying float v_useTex;\nuniform sampler2D texture;\nvarying vec2 cliped;\n\n#ifdef BLUR_FILTER\nuniform vec4 strength_sig2_2sig2_gauss1;\nuniform vec2 blurInfo;\n\n#define PI 3.141593\n\nfloat getGaussian(float x, float y){\n    return strength_sig2_2sig2_gauss1.w*exp(-(x*x+y*y)/strength_sig2_2sig2_gauss1.z);\n}\n\nvec4 blur(){\n    const float blurw = 9.0;\n    vec4 vec4Color = vec4(0.0,0.0,0.0,0.0);\n    vec2 halfsz=vec2(blurw,blurw)/2.0/blurInfo;    \n    vec2 startpos=v_texcoordAlpha.xy-halfsz;\n    vec2 ctexcoord = startpos;\n    vec2 step = 1.0/blurInfo;  //每个像素      \n    \n    for(float y = 0.0;y<=blurw; ++y){\n        ctexcoord.x=startpos.x;\n        for(float x = 0.0;x<=blurw; ++x){\n            //TODO 纹理坐标的固定偏移应该在vs中处理\n            vec4Color += texture2D(texture, ctexcoord)*getGaussian(x-blurw/2.0,y-blurw/2.0);\n            ctexcoord.x+=step.x;\n        }\n        ctexcoord.y+=step.y;\n    }\n    return vec4Color;\n}\n#endif\n\n#ifdef COLOR_FILTER\nuniform vec4 colorAlpha;\nuniform mat4 colorMat;\n#endif\n\n#ifdef GLOW_FILTER\nuniform vec4 u_color;\nuniform vec4 u_blurInfo1;\nuniform vec4 u_blurInfo2;\n#endif\n\n#ifdef COLOR_ADD\nuniform vec4 colorAdd;\n#endif\n\n#ifdef FILLTEXTURE\t\nuniform vec4 u_TexRange;//startu,startv,urange, vrange\n#endif\nvoid main() {\n\tif(cliped.x<0.) discard;\n\tif(cliped.x>1.) discard;\n\tif(cliped.y<0.) discard;\n\tif(cliped.y>1.) discard;\n\t\n#ifdef FILLTEXTURE\t\n   vec4 color= texture2D(texture, fract(v_texcoordAlpha.xy)*u_TexRange.zw + u_TexRange.xy);\n#else\n   vec4 color= texture2D(texture, v_texcoordAlpha.xy);\n#endif\n\n   if(v_useTex<=0.)color = vec4(1.,1.,1.,1.);\n   color.a*=v_color.w;\n   //color.rgb*=v_color.w;\n   color.rgb*=v_color.rgb;\n   gl_FragColor=color;\n   \n   #ifdef COLOR_ADD\n\tgl_FragColor = vec4(colorAdd.rgb,colorAdd.a*gl_FragColor.a);\n\tgl_FragColor.xyz *= colorAdd.a;\n   #endif\n   \n   #ifdef BLUR_FILTER\n\tgl_FragColor =   blur();\n\tgl_FragColor.w*=v_color.w;   \n   #endif\n   \n   #ifdef COLOR_FILTER\n\tmat4 alphaMat =colorMat;\n\n\talphaMat[0][3] *= gl_FragColor.a;\n\talphaMat[1][3] *= gl_FragColor.a;\n\talphaMat[2][3] *= gl_FragColor.a;\n\n\tgl_FragColor = gl_FragColor * alphaMat;\n\tgl_FragColor += colorAlpha/255.0*gl_FragColor.a;\n   #endif\n   \n   #ifdef GLOW_FILTER\n\tconst float c_IterationTime = 10.0;\n\tfloat floatIterationTotalTime = c_IterationTime * c_IterationTime;\n\tvec4 vec4Color = vec4(0.0,0.0,0.0,0.0);\n\tvec2 vec2FilterDir = vec2(-(u_blurInfo1.z)/u_blurInfo2.x,-(u_blurInfo1.w)/u_blurInfo2.y);\n\tvec2 vec2FilterOff = vec2(u_blurInfo1.x/u_blurInfo2.x/c_IterationTime * 2.0,u_blurInfo1.y/u_blurInfo2.y/c_IterationTime * 2.0);\n\tfloat maxNum = u_blurInfo1.x * u_blurInfo1.y;\n\tvec2 vec2Off = vec2(0.0,0.0);\n\tfloat floatOff = c_IterationTime/2.0;\n\tfor(float i = 0.0;i<=c_IterationTime; ++i){\n\t\tfor(float j = 0.0;j<=c_IterationTime; ++j){\n\t\t\tvec2Off = vec2(vec2FilterOff.x * (i - floatOff),vec2FilterOff.y * (j - floatOff));\n\t\t\tvec4Color += texture2D(texture, v_texcoordAlpha.xy + vec2FilterDir + vec2Off)/floatIterationTotalTime;\n\t\t}\n\t}\n\tgl_FragColor = vec4(u_color.rgb,vec4Color.a * u_blurInfo2.z);\n\tgl_FragColor.rgb *= gl_FragColor.a;   \n   #endif\n   \n}";rf.preCompile2D(0,1,n,t,null);n="attribute vec4 position;\nattribute vec4 attribColor;\n//attribute vec4 clipDir;\n//attribute vec2 clipRect;\nuniform vec4 clipMatDir;\nuniform vec2 clipMatPos;\n#ifdef WORLDMAT\n\tuniform mat4 mmat;\n#endif\nuniform mat4 u_mmat2;\n//uniform vec2 u_pos;\nuniform vec2 size;\nvarying vec4 color;\n//vec4 dirxy=vec4(0.9,0.1, -0.1,0.9);\n//vec4 clip=vec4(100.,30.,300.,600.);\nvarying vec2 cliped;\nvoid main(){\n\t\n#ifdef WORLDMAT\n\tvec4 pos=mmat*vec4(position.xy,0.,1.);\n\tgl_Position =vec4((pos.x/size.x-0.5)*2.0,(0.5-pos.y/size.y)*2.0,pos.z,1.0);\n#else\n\tgl_Position =vec4((position.x/size.x-0.5)*2.0,(0.5-position.y/size.y)*2.0,position.z,1.0);\n#endif\t\n\tfloat clipw = length(clipMatDir.xy);\n\tfloat cliph = length(clipMatDir.zw);\n\tvec2 clippos = position.xy - clipMatPos.xy;\t//pos已经应用矩阵了，为了减的有意义，clip的位置也要缩放\n\tif(clipw>20000. && cliph>20000.)\n\t\tcliped = vec2(0.5,0.5);\n\telse {\n\t\t//clipdir是带缩放的方向，由于上面clippos是在缩放后的空间计算的，所以需要把方向先normalize一下\n\t\tcliped=vec2( dot(clippos,clipMatDir.xy)/clipw/clipw, dot(clippos,clipMatDir.zw)/cliph/cliph);\n\t}\n  //pos2d.x = dot(clippos,dirx);\n  color=attribColor/255.;\n}";t="precision mediump float;\n//precision mediump float;\nvarying vec4 color;\n//uniform float alpha;\nvarying vec2 cliped;\nvoid main(){\n\t//vec4 a=vec4(color.r, color.g, color.b, 1);\n\t//a.a*=alpha;\n    gl_FragColor= color;// vec4(color.r, color.g, color.b, alpha);\n\tgl_FragColor.rgb*=color.a;\n\tif(cliped.x<0.) discard;\n\tif(cliped.x>1.) discard;\n\tif(cliped.y<0.) discard;\n\tif(cliped.y>1.) discard;\n}";rf.preCompile2D(0,4,n,t,null);n="attribute vec2 position;\nattribute vec2 texcoord;\nattribute vec4 color;\nuniform vec2 size;\nuniform float offsetX;\nuniform float offsetY;\nuniform mat4 mmat;\nuniform mat4 u_mmat2;\nvarying vec2 v_texcoord;\nvarying vec4 v_color;\nvoid main() {\n  vec4 pos=mmat*u_mmat2*vec4(offsetX+position.x,offsetY+position.y,0,1 );\n  gl_Position = vec4((pos.x/size.x-0.5)*2.0,(0.5-pos.y/size.y)*2.0,pos.z,1.0);\n  v_color = color;\n  v_color.rgb *= v_color.a;\n  v_texcoord = texcoord;  \n}";t="precision mediump float;\nvarying vec2 v_texcoord;\nvarying vec4 v_color;\nuniform sampler2D texture;\nuniform float alpha;\nvoid main() {\n\tvec4 t_color = texture2D(texture, v_texcoord);\n\tgl_FragColor = t_color.rgba * v_color;\n\tgl_FragColor *= alpha;\n}";rf.preCompile2D(0,512,n,t,null)},n}(),nf=function(){function n(){}return r(n,"laya.utils.Ease"),n.linearNone=function(n,t,i,r){return i*n/r+t},n.linearIn=function(n,t,i,r){return i*n/r+t},n.linearInOut=function(n,t,i,r){return i*n/r+t},n.linearOut=function(n,t,i,r){return i*n/r+t},n.bounceIn=function(t,i,r,u){return r-n.bounceOut(u-t,0,r,u)+i},n.bounceInOut=function(t,i,r,u){return t<u*.5?n.bounceIn(t*2,0,r,u)*.5+i:n.bounceOut(t*2-u,0,r,u)*.5+r*.5+i},n.bounceOut=function(n,t,i,r){return(n/=r)<1/2.75?i*7.5625*n*n+t:n<2/2.75?i*(7.5625*(n-=1.5/2.75)*n+.75)+t:n<2.5/2.75?i*(7.5625*(n-=2.25/2.75)*n+.9375)+t:i*(7.5625*(n-=2.625/2.75)*n+.984375)+t},n.backIn=function(n,t,i,r,u){return u===void 0&&(u=1.70158),i*(n/=r)*n*((u+1)*n-u)+t},n.backInOut=function(n,t,i,r,u){return(u===void 0&&(u=1.70158),(n/=r*.5)<1)?i*.5*n*n*(((u*=1.525)+1)*n-u)+t:i/2*((n-=2)*n*(((u*=1.525)+1)*n+u)+2)+t},n.backOut=function(n,t,i,r,u){return u===void 0&&(u=1.70158),i*((n=n/r-1)*n*((u+1)*n+u)+1)+t},n.elasticIn=function(t,i,r,u,f,e){f===void 0&&(f=0);e===void 0&&(e=0);var o;return t==0?i:(t/=u)==1?i+r:(e||(e=u*.3),!f||r>0&&f<r||r<0&&f<-r?(f=r,o=e/4):o=e/n.PI2*Math.asin(r/f),-(f*Math.pow(2,10*(t-=1))*Math.sin((t*u-o)*n.PI2/e))+i)},n.elasticInOut=function(t,i,r,u,f,e){f===void 0&&(f=0);e===void 0&&(e=0);var o;return t==0?i:(t/=u*.5)==2?i+r:(e||(e=u*.3*1.5),!f||r>0&&f<r||r<0&&f<-r?(f=r,o=e/4):o=e/n.PI2*Math.asin(r/f),t<1)?-.5*f*Math.pow(2,10*(t-=1))*Math.sin((t*u-o)*n.PI2/e)+i:f*Math.pow(2,-10*(t-=1))*Math.sin((t*u-o)*n.PI2/e)*.5+r+i},n.elasticOut=function(t,i,r,u,f,e){f===void 0&&(f=0);e===void 0&&(e=0);var o;return t==0?i:(t/=u)==1?i+r:(e||(e=u*.3),!f||r>0&&f<r||r<0&&f<-r?(f=r,o=e/4):o=e/n.PI2*Math.asin(r/f),f*Math.pow(2,-10*t)*Math.sin((t*u-o)*n.PI2/e)+r+i)},n.strongIn=function(n,t,i,r){return i*(n/=r)*n*n*n*n+t},n.strongInOut=function(n,t,i,r){return(n/=r*.5)<1?i*.5*n*n*n*n*n+t:i*.5*((n-=2)*n*n*n*n+2)+t},n.strongOut=function(n,t,i,r){return i*((n=n/r-1)*n*n*n*n+1)+t},n.sineInOut=function(n,t,i,r){return-i*.5*(Math.cos(Math.PI*n/r)-1)+t},n.sineIn=function(t,i,r,u){return-r*Math.cos(t/u*n.HALF_PI)+r+i},n.sineOut=function(t,i,r,u){return r*Math.sin(t/u*n.HALF_PI)+i},n.quintIn=function(n,t,i,r){return i*(n/=r)*n*n*n*n+t},n.quintInOut=function(n,t,i,r){return(n/=r*.5)<1?i*.5*n*n*n*n*n+t:i*.5*((n-=2)*n*n*n*n+2)+t},n.quintOut=function(n,t,i,r){return i*((n=n/r-1)*n*n*n*n+1)+t},n.quartIn=function(n,t,i,r){return i*(n/=r)*n*n*n+t},n.quartInOut=function(n,t,i,r){return(n/=r*.5)<1?i*.5*n*n*n*n+t:-i*.5*((n-=2)*n*n*n-2)+t},n.quartOut=function(n,t,i,r){return-i*((n=n/r-1)*n*n*n-1)+t},n.cubicIn=function(n,t,i,r){return i*(n/=r)*n*n+t},n.cubicInOut=function(n,t,i,r){return(n/=r*.5)<1?i*.5*n*n*n+t:i*.5*((n-=2)*n*n+2)+t},n.cubicOut=function(n,t,i,r){return i*((n=n/r-1)*n*n+1)+t},n.quadIn=function(n,t,i,r){return i*(n/=r)*n+t},n.quadInOut=function(n,t,i,r){return(n/=r*.5)<1?i*.5*n*n+t:-i*.5*(--n*(n-2)-1)+t},n.quadOut=function(n,t,i,r){return-i*(n/=r)*(n-2)+t},n.expoIn=function(n,t,i,r){return n==0?t:i*Math.pow(2,10*(n/r-1))+t-i*.001},n.expoInOut=function(n,t,i,r){return n==0?t:n==r?t+i:(n/=r*.5)<1?i*.5*Math.pow(2,10*(n-1))+t:i*.5*(-Math.pow(2,-10*--n)+2)+t},n.expoOut=function(n,t,i,r){return n==r?t+i:i*(-Math.pow(2,-10*n/r)+1)+t},n.circIn=function(n,t,i,r){return-i*(Math.sqrt(1-(n/=r)*n)-1)+t},n.circInOut=function(n,t,i,r){return(n/=r*.5)<1?-i*.5*(Math.sqrt(1-n*n)-1)+t:i*.5*(Math.sqrt(1-(n-=2)*n)+1)+t},n.circOut=function(n,t,i,r){return i*Math.sqrt(1-(n=n/r-1)*n)+t},n.HALF_PI=Math.PI*.5,n.PI2=Math.PI*2,n}(),pet=function(){function n(){}r(n,"laya.display.cmd.DrawTexturesCmd");var t=n.prototype;return t.recover=function(){this.texture._removeReference();this.texture=null;this.pos=null;it.recover("DrawTexturesCmd",this)},t.run=function(n,t,i){n.drawTextures(this.texture,this.pos,t,i)},e(0,t,"cmdID",function(){return"DrawTextures"}),n.create=function(t,i){var r=it.getItemByClass("DrawTexturesCmd",n);return r.texture=t,t._addReference(),r.pos=i,r},n.ID="DrawTextures",n}(),nw=function(n){function t(n){this.Cookie=null;t.__super.call(this,n);this.Cookie=this.getCookie();this.Cookie||(this.Cookie=new ytt);var u=!1,f=ot.CFG_DZ.VecSliders,i=0,o=f.length,r,e=this.Cookie.sliders||{};for(i;i<o;i++)r=f[i],e.hasOwnProperty(r.id)||(e[r.id]=r.def,u=!0);u&&this.DoSave()}r(t,"games.windows.matches.creators.dzdp.CrtNml_VwCkMain",n);var i=t.prototype;return i.DoSave=function(){this.Save(this.Cookie)},t}(nu),ii=function(n){function t(){t.__super.call(this,t)}return r(t,"games.pokers.PokerUtil",n),t.doSort=function(n){if(n){var i=0,r=n.length;for(i;i<r;i++)t.mHelp_SortVec[i]=ul.parse(n[i]);for(t.mHelp_SortVec.sort(t.extSort),i=0;i<r;i++)n[i]=t.mHelp_SortVec[i].ov;while(t.mHelp_SortVec.length>0)l.recyle(t.mHelp_SortVec.shift())}return null},t.extSort=function(n,t){return n.sv>t.sv?-1:n.sv<t.sv?1:n.type>t.type?-1:n.type<t.type?1:0},t.ShowPoints=function(n,i,r){r===void 0&&(r=!1);var e=[],u=0,o=i.length,f=0;for(u;u<o;u++)f=i[u],f<0?e[u]="无牌":(ul.parse(f,t.mHelp_voCard),e[u]=t.TYPES[t.mHelp_voCard.type]+t.POINTS[t.mHelp_voCard.v]+(r?" ("+f+")":""))},t.matchBest=function(n,i,r,u,f){var e,s,o,h,c,l;if(f===void 0&&(f=!0),i&&i.length>0){for(t.sHelpCards.length=0,e=0,s=r.length,e=0;e<s;e++)t.sHelpCards.push(r[e]);if(u)for(s=u.length,e=0;e<s;e++)t.sHelpCards.push(u[e]);if(s=t.sHelpCards.length,0==s)return;if(!f){for(e=0;e<s;e++)o=t.sHelpCards.shift(),o&&o.showNormal();return}h=5;switch(n){case 1:h=0;break;case 2:h=2;break;case 3:h=4;break;case 4:h=3;break;case 8:h=4}for(c=0,l=0,e=0;e<s;e++)o=t.sHelpCards.shift(),o&&(c=o.getCardPoint(),c>-1&&(l=i.indexOf(c),l>-1?l<h?o.showSelect():o.showNormal():o.showLow()));t.sHelpCards.length=0}},t.Dhc_Self=function(n,i,r){var u=0,f=r.length;for(u;u<f;u++)t.addOneCard(n,u,i,r[u])},t.addOneCard=function(n,r,u,f){var h=f>-1,o=n.HandCoords,e=l.get(eu),s;e.pos(o.sxs[r],o.sys[r]);e.showPoint(f%60);s=t.replaceCard(n,r,e);o.IsSelf?(e.toSize(62,86),1==s?e.showSelect():2==s&&e.showLow()):(e.toSize(44,62),f>=60&&(e.y=o.sys[r]+8,e.showLow()));n.Add_Ins(e,!1,!0);u&&h&&i.stage.isActive&&e.doFlipShow(100*r,!0)},t.Dhc_Other=function(n,i,r){var u=0;for(u;u<r;u++)t.addOneBack(n,u,i);n.Other_RePosBacks()},t.addOneBack=function(n,r,u){var f=ha.getBack(1,0,0);t.replaceCard(n,r,f);n.Add_Ins(f,!1,!1);u&&i.stage.isActive&&f.toAppear(100*r)},t.replaceCard=function(n,t,i){var u=0,r=n.VecCards[t];return r&&(r.IsBackIns||(u=r.mState),r.doRecyle()),n.VecCards[t]=i,u},t.syncPlayerCards=function(n,i,r,u){var a=i.isSelf(),o=0,f,e,s,h,c;if(r?o=r.length:u&&(o=u.length),0==o)while(i.VecCards.length>0)l.recyle(i.VecCards.shift());else if(f=0,r)if(a)for(f=0;f<o;f++)e=r[f],t.addOneCard(i,e.index,n,e.value);else{for(s=!1,f=0;f<o;f++)if(r[f].value>-1){s=!0;break}if(s){if(i.getAllPoints(t.sHelpShows),h=t.sHelpShows.pop(),h<0)for(c=t.sHelpShows.length,f=0;f<c;f++)t.addOneCard(i,f,!1,-1);for(f=0;f<o;f++)e=r[f],t.addOneCard(i,e.index,n,e.value);i.Other_ReShowDepth()}else{for(f=0;f<o;f++)e=r[f],t.replaceCard(i,e.index,null),i.isValid()&&t.addOneBack(i,e.index,n);i.Other_RePosBacks()}}else if(u){for(f=0;f<o;f++)t.addOneCard(i,f,n,u[f]);i.Other_ReShowDepth()}},t.sInitBrandCoords=function(n){if(n){var r,i;for(r in n)i=n[r],delete n[r],i&&(t.sDic_BrandCoords[i.label]=i.data)}},t.getBc_Config=function(n){return t.sDic_BrandCoords[n]},t.sMakeD2Txts=function(){var i=[],r=102*o.PlayerScale>>0,n=new ae(4);return n.y=.5*(r-n.height)+t.FLOP_Y1>>0,i[1]=n,n=new ae(4),n.y=.5*(r-n.height)+t.FLOP_Y2>>0,i[2]=n,i},t.sMakeFlops=function(){for(var l=10,a=vr(l),n=0,v,c=o.PlayerScale,w=72*c>>0,y=102*c>>0,r,u,f,n=0;n<l;n++)a[n]=v=new eu,v.toSize(w,y);if(!t.sFlopCoords){t.sFlopCoords={};var e=ui.toRealY(660),s=e-y-54,p=78*c>>0,h=i.stage.width-5*p>>0;for(h-=6,h=h>>1,t.FLOP_Y1=s,t.FLOP_Y2=e,r=[],u=[],n=0;n<5;n++)u[n]=h+p*n,r[n]={x:u[n],y:e};for(t.sFlopCoords[5]=r,f=[],r=[],n=0;n<4;n++)r[n]={x:u[n],y:e};for(r[4]={x:u[4],y:s},r[5]={x:u[4],y:e},f[6]=r,t.sFlopCoords[6]=f,f=[],r=[],n=0;n<3;n++)r[n]={x:u[n],y:e};for(r[3]={x:u[3],y:s},r[4]={x:u[4],y:s},r[5]={x:u[3],y:e},r[6]={x:u[4],y:e},f[6]=f[7]=r,t.sFlopCoords[7]=f,f=[],r=[],n=0;n<5;n++)r[n]={x:u[n],y:s},r[n+5]={x:u[n],y:e},f[6+n]=r;t.sFlopCoords[10]=f}return a},t.getFlopCoords=function(n){for(var i,r=0,u=n.length,e=0,o=0,f,r=0;r<u;r++){if(e=n[r],e<0)break;o+=1}return u>5&&(f=t.sFlopCoords[u],f&&(i=f[o])),i||(i=t.sFlopCoords[5]),i},t.CARD_TYPE_HIGHT=1,t.CARD_TYPE_TWO=2,t.CARD_TYPE_DTWO=3,t.CARD_TYPE_THREE=4,t.CARD_TYPE_STRAIGHT=5,t.CARD_TYPE_SAME=6,t.CARD_TYPE_FULL_HOUSE=7,t.CARD_TYPE_FOUR=8,t.CARD_TYPE_FLUSH=9,t.CARD_TYPE_ROYAL_FLUSH=10,t.NUM_MAX=13,t.HAND_W=62,t.HAND_H=86,t.HAND_X1=102,t.HAND_X2=170,t.SHOW_W=44,t.SHOW_H=62,t.sDic_BrandCoords={},t.FLOP_Y1=0,t.FLOP_Y2=0,t.sFlopCoords=null,d(t,["TYPES",function(){return this.TYPES=["方片","梅花","红桃","黑桃"]},"POINTS",function(){return this.POINTS=["A","2","3","4","5","6","7","8","9","10","J","Q","K"]},"mHelp_SortVec",function(){return this.mHelp_SortVec=[]},"mHelp_voCard",function(){return this.mHelp_voCard=new ul},"sHelpCards",function(){return this.sHelpCards=[]},"SELF_OFF",function(){return this.SELF_OFF={2:73,4:136,5:180}},"HAND_XS",function(){return this.HAND_XS=[102,170,238,306,374]},"HAND_YS",function(){return this.HAND_YS=[-5,-5,-5,-5,-5]},"OH_LXS",function(){return this.OH_LXS=[62,62,62,62,62]},"OH_RXS",function(){return this.OH_RXS=[0,0,0,0,0]},"OH_YS",function(){return this.OH_YS=[28,34,40,46,52]},"OHS_XS",function(){return this.OHS_XS={2:[-6,42],4:[-8,8,24,42],5:[-15,1,17,33,49]}},"OHS_YS",function(){return this.OHS_YS=[10,10,10,10,10]},"sHelpShows",function(){return this.sHelpShows=[]}]),t}(pr),wet=function(n){function u(){this._bits=0;this._parent=null;this.name="";this.destroyed=!1;this._conchData=null;this._components=null;this._activeChangeScripts=null;this._scene=null;u.__super.call(this);this._children=u.ARRAY_EMPTY;this._extUIChild=u.ARRAY_EMPTY;this.createGLBuffer()}r(u,"laya.display.Node",n);var t=u.prototype;return t.createGLBuffer=function(){},t._setBit=function(n,t){if(n===16){var i=this._getBit(n);i!=t&&this._updateDisplayedInstage()}t?this._bits|=n:this._bits&=~n},t._getBit=function(n){return(this._bits&n)!=0},t._setUpNoticeChain=function(){this._getBit(16)&&this._setBitUp(16)},t._setBitUp=function(n){var t=this;for(t._setBit(n,!0),t=t._parent;t;){if(t._getBit(n))return;t._setBit(n,!0);t=t._parent}},t.on=function(n,t,i,r){return(n==="display"||n==="undisplay")&&(this._getBit(16)||this._setBitUp(16)),this._createListener(n,t,i,r,!1)},t.once=function(n,t,i,r){return(n==="display"||n==="undisplay")&&(this._getBit(16)||this._setBitUp(16)),this._createListener(n,t,i,r,!0)},t.destroy=function(n){n===void 0&&(n=!0);this.destroyed=!0;this._destroyAllComponent();this._parent&&this._parent.removeChild(this);this._children&&(n?this.destroyChildren():this.removeChildren());this.onDestroy();this._children=null;this.offAll()},t.onDestroy=function(){},t.destroyChildren=function(){if(this._children)for(var n=0,t=this._children.length;n<t;n++)this._children[0].destroy(!0)},t.addChild=function(n){if(!n||this.destroyed||n===this)return n;if(n._zOrder&&this._setBit(32,!0),n._parent===this){var t=this.getChildIndex(n);t!==this._children.length-1&&(this._children.splice(t,1),this._children.push(n),this._childChanged())}else n._parent&&n._parent.removeChild(n),this._children===u.ARRAY_EMPTY&&(this._children=[]),this._children.push(n),n._setParent(this),this._childChanged();return n},t.addInputChild=function(n){if(this._extUIChild==u.ARRAY_EMPTY)this._extUIChild=[n];else{if(this._extUIChild.indexOf(n)>=0)return null;this._extUIChild.push(n)}return null},t.removeInputChild=function(n){var t=this._extUIChild.indexOf(n);t>=0&&this._extUIChild.splice(t,1)},t.addChildren=function(){for(var n=arguments,t=0,i=n.length;t<i;)this.addChild(n[t++])},t.addChildAt=function(n,t){if(!n||this.destroyed||n===this)return n;if(n._zOrder&&this._setBit(32,!0),t>=0&&t<=this._children.length){if(n._parent===this){var i=this.getChildIndex(n);this._children.splice(i,1);this._children.splice(t,0,n);this._childChanged()}else n._parent&&n._parent.removeChild(n),this._children===u.ARRAY_EMPTY&&(this._children=[]),this._children.splice(t,0,n),n._setParent(this);return n}throw new Error("appendChildAt:The index is out of bounds");},t.getChildIndex=function(n){return this._children.indexOf(n)},t.getChildByName=function(n){var i=this._children,t,u,r;if(i)for(t=0,u=i.length;t<u;t++)if(r=i[t],r.name===n)return r;return null},t.getChildAt=function(n){return this._children[n]||null},t.setChildIndex=function(n,t){var i=this._children,r;if(t<0||t>=i.length)throw new Error("setChildIndex:The index is out of bounds.");if(r=this.getChildIndex(n),r<0)throw new Error("setChildIndex:node is must child of this object.");return i.splice(r,1),i.splice(t,0,n),this._childChanged(),n},t._childChanged=function(){},t.removeChild=function(n){if(!this._children)return n;var t=this._children.indexOf(n);return this.removeChildAt(t)},t.removeSelf=function(){return this._parent&&this._parent.removeChild(this),this},t.removeChildByName=function(n){var t=this.getChildByName(n);return t&&this.removeChild(t),t},t.removeChildAt=function(n){var t=this.getChildAt(n);return t&&(this._children.splice(n,1),t._setParent(null)),t},t.removeChildren=function(n,t){var i,r,f,e;if(n===void 0&&(n=0),t===void 0&&(t=2147483647),this._children&&this._children.length>0)for(i=this._children,n===0&&t>=i.length-1?(r=i,this._children=u.ARRAY_EMPTY):r=i.splice(n,t-n),f=0,e=r.length;f<e;f++)r[f]._setParent(null);return this},t.replaceChild=function(n,t){var i=this._children.indexOf(t);return i>-1?(this._children.splice(i,1,n),t._setParent(null),n._setParent(this),n):null},t._setParent=function(n){this._parent!==n&&(n?(this._parent=n,this._onAdded(),this.event("added"),this._getBit(16)&&(this._setUpNoticeChain(),n.displayedInStage&&this._displayChild(this,!0)),n._childChanged(this)):(this._onRemoved(),this.event("removed"),this._parent._childChanged(),this._getBit(16)&&this._displayChild(this,!1),this._parent=n))},t._updateDisplayedInstage=function(){var n,r,t;for(n=this,r=i.stage,t=!1;n;){if(n._getBit(16)){t=n._getBit(128);break}if(n===r||n._getBit(128)){t=!0;break}n=n._parent}this._setBit(128,t)},t._setDisplay=function(n){this._getBit(128)!==n&&(this._setBit(128,n),n?this.event("display"):this.event("undisplay"))},t._displayChild=function(n,t){var u=n._children,i,r,f;if(u)for(r=0,f=u.length;r<f;r++)if(i=u[r],i){if(!i._getBit(16))continue;i._children.length>0?this._displayChild(i,t):i._setDisplay(t)}n._setDisplay(t)},t.contains=function(n){if(n===this)return!0;while(n){if(n._parent===this)return!0;n=n._parent}return!1},t.timerLoop=function(n,t,r,u,f,e){f===void 0&&(f=!0);e===void 0&&(e=!1);var o=this.scene?this.scene.timer:i.timer;o.loop(n,t,r,u,f,e)},t.timerOnce=function(n,t,r,u,f){f===void 0&&(f=!0);var e=this.scene?this.scene.timer:i.timer;e._create(!1,!1,n,t,r,u,f)},t.frameLoop=function(n,t,r,u,f){f===void 0&&(f=!0);var e=this.scene?this.scene.timer:i.timer;e._create(!0,!0,n,t,r,u,f)},t.frameOnce=function(n,t,r,u,f){f===void 0&&(f=!0);var e=this.scene?this.scene.timer:i.timer;e._create(!0,!1,n,t,r,u,f)},t.clearTimer=function(n,t){var r=this.scene?this.scene.timer:i.timer;r.clear(n,t)},t.callLater=function(n,t){var r=this.scene?this.scene.timer:i.timer;r.callLater(this,n,t)},t.runCallLater=function(n){var t=this.scene?this.scene.timer:i.timer;t.runCallLater(this,n)},t._onActive=function(){ni.spriteCount++},t._onInActive=function(){ni.spriteCount--},t._onActiveInScene=function(){},t._onInActiveInScene=function(){},t._parse=function(){},t._setBelongScene=function(n){if(!this._scene){if(this._scene=n,this._components)for(var t=0,i=this._components.length;t<i;t++)this._components[t]._setActiveInScene(!0);for(this._onActiveInScene(),t=0,i=this._children.length;t<i;t++)this._children[t]._setBelongScene(n)}},t._setUnBelongScene=function(){if(this._scene!==this){if(this._onInActiveInScene(),this._components)for(var n=0,t=this._components.length;n<t;n++)this._components[n]._setActiveInScene(!1);for(this._scene=null,n=0,t=this._children.length;n<t;n++)this._children[n]._setUnBelongScene()}},t.onAwake=function(){},t.onEnable=function(){},t._processActive=function(){this._activeChangeScripts||(this._activeChangeScripts=[]);this._activeHierarchy(this._activeChangeScripts);this._activeScripts()},t._activeHierarchy=function(n){var t,r,i,u;if(this._setBit(2,!0),this._components)for(t=0,r=this._components.length;t<r;t++)i=this._components[t],i._setActive(!0),i._isScript()&&i._enabled&&n.push(i);for(this._onActive(),t=0,r=this._children.length;t<r;t++)u=this._children[t],u&&!u._getBit(1)&&u._activeHierarchy(n);this._getBit(4)||(this._setBit(4,!0),this.onAwake());this.onEnable()},t._activeScripts=function(){for(var n=0,t=this._activeChangeScripts.length;n<t;n++)this._activeChangeScripts[n].onEnable();this._activeChangeScripts.length=0},t._processInActive=function(){this._activeChangeScripts||(this._activeChangeScripts=[]);this._inActiveHierarchy(this._activeChangeScripts);this._inActiveScripts()},t._inActiveHierarchy=function(n){var t,r,i,u;if(this._onInActive(),this._components)for(t=0,r=this._components.length;t<r;t++)i=this._components[t],i._setActive(!1),i._isScript()&&i._enabled&&n.push(i);for(this._setBit(2,!1),t=0,r=this._children.length;t<r;t++)u=this._children[t],u&&!u._getBit(1)&&u._inActiveHierarchy(n);this.onDisable()},t._inActiveScripts=function(){for(var n=0,t=this._activeChangeScripts.length;n<t;n++)this._activeChangeScripts[n].onDisable();this._activeChangeScripts.length=0},t.onDisable=function(){},t._onAdded=function(){if(this._activeChangeScripts&&this._activeChangeScripts.length!==0)throw"Node: can't set the main inActive node active in hierarchy,if the operate is in main inActive node or it's children script's onDisable Event.";else{var n=this._parent.scene;n&&this._setBelongScene(n);this._parent.activeInHierarchy&&this.active&&this._processActive()}},t._onRemoved=function(){if(this._activeChangeScripts&&this._activeChangeScripts.length!==0)throw"Node: can't set the main active node inActive in hierarchy,if the operate is in main active node or it's children script's onEnable Event.";else this._parent.activeInHierarchy&&this.active&&this._processInActive(),this._parent.scene&&this._setUnBelongScene()},t._addComponentInstance=function(n){this._components=this._components||[];this._components.push(n);n.owner=this;n._onAdded();this.activeInHierarchy&&(n._setActive(!0),n._isScript()&&n._enabled&&n.onEnable());this._scene&&n._setActiveInScene(!0)},t._destroyComponent=function(n){var t,r,i;if(this._components)for(t=0,r=this._components.length;t<r;t++)if(i=this._components[t],i===n){i._destroy();this._components.splice(t,1);break}},t._destroyAllComponent=function(){var n,t,i;if(this._components){for(n=0,t=this._components.length;n<t;n++)i=this._components[n],i._destroy();this._components.length=0}},t._cloneTo=function(n){var u=n,t,i,r;if(this._components)for(t=0,i=this._components.length;t<i;t++)r=u.addComponent(this._components[t].constructor),this._components[t]._cloneTo(r)},t.addComponentIntance=function(n){if(n.owner)throw"Node:the component has belong to other node.";if(n.isSingleton&&this.getComponent(n.constructor))throw"Node:the component is singleton,can't add the second one.";return this._addComponentInstance(n),n},t.addComponent=function(n){var t=it.createByClass(n);if(t._destroyed=!1,t.isSingleton&&this.getComponent(n))throw"无法实例"+n+"组件，"+n+"组件已存在！";return this._addComponentInstance(t),t},t.getComponent=function(n){var t,u,r;if(this._components)for(t=0,u=this._components.length;t<u;t++)if(r=this._components[t],i.__typeof(r,n))return r;return null},t.getComponents=function(n){var t,r,f,u;if(this._components)for(r=0,f=this._components.length;r<f;r++)u=this._components[r],i.__typeof(u,n)&&(t=t||[],t.push(u));return t},e(0,t,"numChildren",function(){return this._children.length}),e(0,t,"parent",function(){return this._parent}),e(0,t,"activeInHierarchy",function(){return this._getBit(2)}),e(0,t,"active",function(){return!this._getBit(8)&&!this._getBit(1)},function(n){if(n=!!n,!this._getBit(1)!==n)if(this._activeChangeScripts&&this._activeChangeScripts.length!==0)if(n)throw"Node: can't set the main inActive node active in hierarchy,if the operate is in main inActive node or it's children script's onDisable Event.";else throw"Node: can't set the main active node inActive in hierarchy,if the operate is in main active node or it's children script's onEnable Event.";else this._setBit(1,!n),this._parent&&this._parent.activeInHierarchy&&(n?this._processActive():this._processInActive())}),e(0,t,"displayedInStage",function(){return this._getBit(16)?this._getBit(128):(this._setBitUp(16),this._getBit(128))}),e(0,t,"scene",function(){return this._scene}),e(0,t,"timer",function(){return this.scene?this.scene.timer:i.timer}),u.ARRAY_EMPTY=[],u}(fr),bi=function(n){function t(n,i,r,u){this.uvrect=[0,0,1,1];this._destroyed=!1;this._referenceCount=0;this.$_GID=0;this.offsetX=0;this.offsetY=0;this._w=0;this._h=0;this.sourceWidth=0;this.sourceHeight=0;this.url=null;this.scaleRate=1;t.__super.call(this);r===void 0&&(r=0);u===void 0&&(u=0);this.setTo(n,i,r,u)}r(t,"laya.resource.Texture",n);var u=t.prototype;return u._addReference=function(){this._bitmap&&this._bitmap._addReference();this._referenceCount++},u._removeReference=function(){this._bitmap&&this._bitmap._removeReference();this._referenceCount--},u._getSource=function(n){return this._destroyed||!this._bitmap?null:(this.recoverBitmap(n),this._bitmap.destroyed?null:this.bitmap._getSource())},u._onLoaded=function(n,i){if(i&&i!=this)if(i instanceof laya.resource.Texture){var r=i;t._create(i,0,0,r.width,r.height,0,0,r.sourceWidth,r.sourceHeight,this)}else this.bitmap=i,this.sourceWidth=this._w=i.width,this.sourceHeight=this._h=i.height;n&&n.run();this.event("ready",this)},u.getIsReady=function(){return this._destroyed?!1:this._bitmap?!0:!1},u.setTo=function(n,i,r,u){r===void 0&&(r=0);u===void 0&&(u=0);this.bitmap=n;this.sourceWidth=r;this.sourceHeight=u;n&&(this._w=n.width,this._h=n.height,this.sourceWidth=this.sourceWidth||n.width,this.sourceHeight=this.sourceHeight||n.height);this.uv=i||t.DEF_UV},u.load=function(n,t){this._destroyed||i.loader.load(n,h.create(this,this._onLoaded,[t]),null,"htmlimage",1,!1,null,!0)},u.getTexturePixels=function(n,t,i,r){var s=0,o=0,h=0,k=this.bitmap,c=k.width,a=k.height,f,p,l,u,e,d;if(n+i>c&&(i-=n+i-c),t+r>a&&(r-=t+r-a),i<=0||r<=0)return null;f=i*4;p=null;try{p=k.getPixels()}catch(tt){}if(p){if(n==0&&t==0&&i==c&&r==a)return p;for(l=new Uint8Array(i*r*4),f=c*4,s=n*4,o=(t+r-1)*f+n*4,h=r-1;h>=0;h--)l.set(d.slice(o,o+i*4),s),s+=f,o-=f;return l}if(u=new gu,u.size(i,r),u.asBitmap=!0,e=null,n!=0||t!=0||i!=c||r!=a){e=e.concat();var v=e[0],y=e[1],g=e[2]-v,nt=e[7]-y,w=g/c,b=nt/a;e=[v+n*w,y+t*b,v+(n+i)*w,y+t*b,v+(n+i)*w,y+(t+r)*b,v+n*w,y+(t+r)*b,]}for(u._drawTextureM(this,0,0,i,r,null,1,e),u._targets.start(),u.flush(),u._targets.end(),u._targets.restore(),d=u._targets.getData(0,0,i,r),u.destroy(),l=new Uint8Array(i*r*4),s=0,o=(r-1)*f,h=r-1;h>=0;h--)l.set(d.slice(o,o+f),s),s+=f,o-=f;return l},u.getPixels=function(n,t,i,r){return tt.isConchApp?this._nativeObj.getImageData(n,t,i,r):this.getTexturePixels(n,t,i,r)},u.recoverBitmap=function(n){var r=this,t=this._bitmap.url;!this._destroyed&&(!this._bitmap||this._bitmap.destroyed)&&t&&i.loader.load(t,h.create(this,function(t){r.bitmap=t;n&&n()}),null,"htmlimage",1,!1,null,!0)},u.disposeBitmap=function(){!this._destroyed&&this._bitmap&&this._bitmap.destroy()},u.destroy=function(n){if(n===void 0&&(n=!1),!this._destroyed){this._destroyed=!0;var t=this._bitmap;t&&(t._removeReference(this._referenceCount),(t.referenceCount===0||n)&&t.destroy(),t=null);this.url&&this===i.loader.getRes(this.url)&&i.loader.clearRes(this.url)}},e(0,u,"height",function(){return this._h?this._h:this.bitmap?this.uv&&this.uv!==t.DEF_UV?(this.uv[5]-this.uv[1])*this.bitmap.height:this.bitmap.height:0},function(n){this._h=n;this.sourceHeight||(this.sourceHeight=n)}),e(0,u,"uv",function(){return this._uv},function(n){this.uvrect[0]=Math.min(n[0],n[2],n[4],n[6]);this.uvrect[1]=Math.min(n[1],n[3],n[5],n[7]);this.uvrect[2]=Math.max(n[0],n[2],n[4],n[6])-this.uvrect[0];this.uvrect[3]=Math.max(n[1],n[3],n[5],n[7])-this.uvrect[1];this._uv=n}),e(0,u,"width",function(){return this._w?this._w:this.bitmap?this.uv&&this.uv!==t.DEF_UV?(this.uv[2]-this.uv[0])*this.bitmap.width:this.bitmap.width:0},function(n){this._w=n;this.sourceWidth||(this.sourceWidth=n)}),e(0,u,"bitmap",function(){return this._bitmap},function(n){this._bitmap&&this._bitmap._removeReference(this._referenceCount);this._bitmap=n;n&&n._addReference(this._referenceCount)}),e(0,u,"destroyed",function(){return this._destroyed}),t.moveUV=function(n,t,i){for(var r=0;r<8;r+=2)i[r]+=n,i[r+1]+=t;return i},t.create=function(n,i,r,u,f,e,o,s,h){return e===void 0&&(e=0),o===void 0&&(o=0),s===void 0&&(s=0),h===void 0&&(h=0),t._create(n,i,r,u,f,e,o,s,h)},t._create=function(n,i,r,u,f,e,o,s,h,c){var l,b,k,y;e===void 0&&(e=0);o===void 0&&(o=0);s===void 0&&(s=0);h===void 0&&(h=0);var it=n instanceof laya.resource.Texture,rt=it?n.uv:t.DEF_UV,a=it?n.bitmap:n;a.width&&i+u>a.width&&(u=a.width-i);a.height&&r+f>a.height&&(f=a.height-r);c?(l=c,l.setTo(a,null,s||u,h||f)):l=new t(a,null,s||u,h||f);l.width=u;l.height=f;l.offsetX=e;l.offsetY=o;b=1/a.width;k=1/a.height;i*=b;r*=k;u*=b;f*=k;var d=l.uv[0],g=l.uv[1],nt=l.uv[4],tt=l.uv[5],p=nt-d,w=tt-g,v=t.moveUV(rt[0],rt[1],[i,r,i+u,r,i+u,r+f,i,r+f]);return l.uv=new Float32Array([d+v[0]*p,g+v[1]*w,nt-(1-v[2])*p,g+v[3]*w,nt-(1-v[4])*p,tt-(1-v[5])*w,d+v[6]*p,tt-(1-v[7])*w]),y=a.scaleRate,y&&y!=1?(l.sourceWidth/=y,l.sourceHeight/=y,l.width/=y,l.height/=y,l.scaleRate=y):l.scaleRate=1,l},t.createFromTexture=function(n,i,r,u,f){var o=n.scaleRate,s,e,h;if(o!=1&&(i*=o,r*=o,u*=o,f*=o),s=ct.TEMP.setTo(i-n.offsetX,r-n.offsetY,u,f),e=s.intersection(t._rect1.setTo(0,0,n.width,n.height),t._rect2),e)h=t.create(n,e.x,e.y,e.width,e.height,e.x-s.x,e.y-s.y,u,f);else return null;return h},t.DEF_UV=new Float32Array([0,0,1,0,1,1,0,1]),t.NO_UV=new Float32Array([0,0,0,0,0,0,0,0]),t.INV_UV=new Float32Array([0,1,1,1,1,0,0,0]),t._rect1=new ct,t._rect2=new ct,t}(fr),bet=function(n){function t(){this.sID=0;this.name=null;this.icon=null;this.cLev=0;t.__super.call(this)}r(t,"games.cores.dataServices.sql.zjVo.S_ZJ_Detail",n);var i=t.prototype;return i.read=function(t,i){return n.prototype.read.call(this,t,i),this.sID=t.getUint32(),this.name=t.getString(),this.icon=t.getString(),i&&(this.cLev=t.getByte()),this},i.recyle=function(){n.prototype.recyle.call(this);this.sID=this.cLev=0;this.name=this.icon=null},t}(bv),k=function(n){function t(){t.__super.call(this,null)}return r(t,"FioLibs.displays.coms.FioComs",n),t.Init=function(n){if(n){var e,u,o,f,i,r;for(e in n)u=n[e],delete n[e],delete u.id,o=u.type,f=t.mConfigs[o],f||(f=t.mConfigs[o]={}),i=new hy,i.parse(u),f[i.style]=i,delete u.type,"def"==i.style&&(r=new hy,r.style="tmp",r.font=i.font,r.size=i.size,r.colors=i.colors,f.tmp=r)}},t.getVo=function(n,i,r){var u=t.mConfigs[n],f;return u?(f=u[i],f||(f=r?u.tmp:u.def),f):null},t.createButton=function(n,i,r,u,f,e,o,s,h){var l,c;return e===void 0&&(e=0),o===void 0&&(o=0),s===void 0&&(s=0),h===void 0&&(h=0),l=t.getVo(i,u,f),tc.s_Locked=!1,c=new n,tc.s_Locked=!0,c.pos(e,o),t.updateBtnRes(c,l,f,s,h),r&&r.addChild(c),c},t.updateBtnRes=function(n,t,i,r,u){r===void 0&&(r=0);u===void 0&&(u=0);n.setTextStartPos(t.tx,t.ty);n.syncSize(t.width,t.height);r>0&&(n.width=r);u>0&&(n.height=u);n.res=i?i:t.res;n.colors=t.colors;n.scaleGrids=t.grids;n.mText.font=t.font;n.mText.fontSize=t.size},t.crt_Btn=function(n,i,r,u,f,e,o){return u===void 0&&(u=0),f===void 0&&(f=0),e===void 0&&(e=0),o===void 0&&(o=0),t.createButton(wi,"btn",n,i,r,u,f,e,o)},t.crt_Switch=function(n,i,r,u,f,e){u===void 0&&(u=0);f===void 0&&(f=0);e===void 0&&(e=0);var o=t.createButton(adt,"switch",n,i,r,u,f);return o.toggle=!0,e>0&&(o.textOffX=e),o},t.crt_Radio=function(n,i,r,u,f){u===void 0&&(u=0);f===void 0&&(f=0);var e=t.createButton(udt,"radio",n,i,r,u,f);return e.toggle=!0,e},t.loadImgBg=function(n,i,r,u,f){if(u===void 0&&(u=0),f===void 0&&(f=0),n){var o=t.mConfigs.img,e;o&&(e=o[i]);e?(e.width>0&&(n.width=e.width),e.height>0&&(n.height=e.height),r||(r=e.res),n.scaleGrids=e.grids,n.loadImage(r)):n.loadImage(r);u>0&&(n.width=u);f>0&&(n.height=f)}},t.TYPE_BTN="btn",t.TYPE_SWITCH="switch",t.TYPE_RADIO="radio",t.TYPE_IMAGE="img",t.mConfigs={},t}(pr),wl=function(n){function t(){this.cID=0;this.sID=0;this.name=null;this.icon=null;this.note=null;this.job=0;this.isDpi=0;this.timeOff=0;this.gold=NaN;this.vID=0;this.cLev=0;this.numOnline=0;this.numTotal=0;t.__super.call(this)}r(t,"games.cores.dataServices._voes.S_Member",n);var i=t.prototype;return i.recyle=function(){n.prototype.recyle.call(this);this.cID=this.sID=this.job=this.timeOff=this.gold=0;this.name=this.icon=this.note="";this.vID=this.cLev=this.numOnline=this.numTotal=0},i.readMemVo=function(n){return this.readBase(n),this.job=n.readByte(),this.isDpi=n.readByte(),this.timeOff=n.getUint32(),this.gold=n.getFloat64(),this.readCredits(n),this},i.readClubVo=function(n){return this.readBase(n),this.vID=n.getUint32(),this.cLev=n.getByte(),this.numOnline=n.getUint32(),this.numTotal=n.getUint32(),this.readCredits(n),this},i.readBase=function(n){this.sID=n.readUint32();this.name=n.getString();this.icon=n.getString();this.note=n.getString()},t}(bc),ui=function(n){function t(){t.__super.call(this,null)}return r(t,"games.matchCores.Match_Const",n),t.InitConfigs=function(n){var u=n,r,f,i;for(f in u)i=u[f],r=t.sDicPlayerCoords[i.group],r||(t.sDicPlayerCoords[i.group]=r={}),r[i.index]=i},t.getSitterCoords=function(n){return t.sDicPlayerCoords[n]},t.toRealY=function(n){return n/1334*i.stage.height>>0},t.IsAmh=function(n){return 1==n},t.crtTxt=function(n,t,i){n===void 0&&(n=22);t===void 0&&(t=0);var r=w.quickCreate(n,i||"#b2d6fb");return r.stroke=.1,r.strokeColor="#000000",r.y=t,r},t.show=function(n,i,r,f){if(i>0){f+=64;var e=l.get(fu);e.crtTitle(u.lang("winscore",a.NumToStr(i,9)));e.pivot(e.width>>1,e.height>>1);e.pos(r>>0,f>>0);e.scaleX=e.scaleY=.6;n.addChild(e);t.PARAM_MOVE.y=f-64;ri.to(e,t.PARAM_MOVE,150,null,h.create(null,t.doWait,[e]))}},t.doWait=function(n){ri.to(n,t.PARAM_DISAPPEAR,150,null,h.create(l,l.recyle,[n]),1500)},t.COLOR_BACKGROUND="#090909",t.COLOR_CHIP="#b2d6fb",t.COLOR_TEXT="#b2d6fb",t.COLOR_MASK="#00000088",t.ICON_SIZE_FULL=80,t.ICON_SIZE=78,t.ICON_HALF=39,t.Y_LOGO=666,t.CHIP_Y=350,t.FLOP_Y=660,t.FLOP_W=72,t.FLOP_H=102,t.FLOP_GAP=78,t.TIME_CHIP_TO_POOL=400,t.TIME_CHIP_TO_BET=200,t.TIME_POKER_MOVE=100,t.TIME_POKER_L2=150,t.TIME_POKER_FLIP=150,t.TIME_POKER_DROP=350,t.GAME_TYPE_DZ=0,t.GAME_TYPE_AMH=1,t.GAME_TYPE_DP=2,t.MATCH_TYPE_NORMAL=0,t.MATCH_TYPE_MTT=1,t.MATCH_TYPE_SNG=2,t.MATCH_TYPE_YUJUESAI=3,t.ROOM_UNOPEN=0,t.ROOM_PAUSE=1,t.ROOM_ING=2,t.ROOM_OVER=3,t.ROOM_REST=4,t.ROOM_WAITING_START=5,t.ROOM_WAITING_SYNC=6,t.ROOM_WAITING_OVER=7,t.ROOM_WAITING_OVER_OTHER=8,t.STATE_UNJOIN=0,t.STATE_FILLBLIND=1,t.STATE_FOLLOW=2,t.STATE_PASS=3,t.STATE_ADD=4,t.STATE_ADD_FIRST=13,t.STATE_ALLIN=5,t.STATE_DROP=6,t.STATE_MUCK=7,t.STATE_SHOW=8,t.STATE_LEFT=9,t.STATE_ING=10,t.STATE_OPING=11,t.STATE_HOLDING=12,t.STATE_NULL=99,t.STRADDLE_RATE=20,t.PLAYER_SEAT_WATCH=9,t.sDicPlayerCoords={},t.TIME_MOVE=150,t.TIME_STAY=1500,t.H_TO=64,d(t,["CHIP_XS",function(){return this.CHIP_XS=[-100,56]},"CHIP_YS",function(){return this.CHIP_YS=[0,100,152,204,256]},"COORDS_CURPOT",function(){return this.COORDS_CURPOT=new kt},"PARAM_MOVE",function(){return this.PARAM_MOVE={y:1,scaleX:1,scaleY:1}},"PARAM_DISAPPEAR",function(){return this.PARAM_DISAPPEAR={scaleX:.6,scaleY:.6}}]),t}(pr),ket=function(n){function t(n){t.__super.call(this,n)}r(t,"games.windows.matches.lspjCtrls.Lspj_Ctrl_Zd_Matches",n);var i=t.prototype;return i.getIns=function(n){var t=l.get(co);return t.show(n,!0),t},t}(ih),gui=function(n){function t(){this.res=null;t.__super.call(this)}return r(t,"FioLibs.voes.VO_ExtendedLabel",n),t}(ku),y=function(n){function t(n){var r,i;for(this.i_CmdIDs=null,this.ServiceName=null,t.__super.call(this),this.ServiceName=this.ClsName,r=n.length,this.i_CmdIDs=vr(r),i=0,i;i<r;i++)this.i_CmdIDs[i]=n[i];t.s_socket.regsitService(this)}r(t,"FioLibs.core.socket.BaseService",n);var i=t.prototype;return i.analyzePack=function(n,i){var r=this.parsePack(n,i);r>0&&t.showError(n,r)},i.parsePack=function(){return 0},i.regist=function(t,i,r,u){u===void 0&&(u=!1);n.prototype.regist.call(this,t,i,r,u)},i.remove=function(t,i,r){n.prototype.remove.call(this,t,i,r)},t.showError=function(n,i){t.s_socket.showCmdError(n,i)},t.getRndValue=function(n){return n===void 0&&(n=88888),(Math.random()>.5?1:-1)*Math.random()*n>>0},t.s_socket=null,t.MyID=0,t.ClubID=0,t.LeaID=0,t}(oi),au=function(n){function t(){t.__super.call(this,null)}return r(t,"FioLibs.core.downcount.FioMgr_DownCount",n),t.Init=function(){t.mInited=!0;i.timer.loop(1e3,t,t.onTimer)},t.addIns=function(n,i,r,u,f){if(r===void 0&&(r=0),u===void 0&&(u=!0),f===void 0&&(f=!0),n){t.mInited||t.Init();var s=c.now(),o,e;for(o in t.mDic){if(e=t.mDic[o],e&&e.ins==n)return e.complete=!f,f&&(e.end=s+i*1e3,t.callVo(e,s)),o;e=null}return o=t.mIndex,t.mIndex+=1,e=l.get(an),e.index=o,e.ins=n,e.type=r,e.once=u,f?(e.end=s+i*1e3,t.callVo(e,s)):e.complete=!0,t.mDic[o]=e,o}return 0},t.delIns=function(n){l.recyle(t.mDic[n]);delete t.mDic[n]},t.reStart=function(n,i){var r=t.mDic[n],u;r&&(u=c.now(),r.end=u+i*1e3,r.once=!1,r.complete=!1,t.callVo(r,u))},t.stop=function(n){var i=t.mDic[n],r;i&&(r=i.complete,i.complete=!0,i.once&&t.delIns(n))},t.onTimer=function(){var r=c.now(),i,n;for(i in t.mDic)n=t.mDic[i],n&&!n.complete&&(t.callVo(n,r),n.complete&&n.once&&t.delIns(n.index))},t.callVo=function(n,i){var r=n.end-i;r<0&&(r=0);r=r/1e3>>0;n.complete=r==0;0==n.type?n.ins.updateDC(r):n.ins.updateDC(t.getTimeStr(r))},t.getTimeStr=function(n){var i,r,u;return t.s_VecStrs.length=0,i=n/t.s_H>>0,i>0&&t.s_VecStrs.push(t.format(i)),r=n%t.s_H/60>>0,t.s_VecStrs.push(t.format(r)),u=n%60>>0,t.s_VecStrs.push(t.format(u)),t.s_VecStrs.join(":")},t.format=function(n){return(n<10?"0":"")+n},t.mInited=!1,t.mIndex=1,t.mDic={},t.s_M=60,t.s_H=3600,d(t,["s_VecStrs",function(){return this.s_VecStrs=[]}]),t}(pu),nfi=function(n){function t(){this.icon=null;this.resIcon=0;t.__super.call(this);this.recyle()}r(t,"FioLibs.voes.VO_ListMenu",n);var i=t.prototype;return i.recyle=function(){n.prototype.recyle.call(this);this.icon=null;this.resIcon=-1},t}(ku),tf=function(n){function t(){this.mStage=null;this.mMasker=null;this.mVecIns=[];t.__super.call(this,null);this.mStage=i.stage;this.mStage.on("focuschange",this,this.onFocusChanged);this.mStage.on("visibilitychange",this,this.onTabToFront);this.mMasker=new s;this.mMasker.mouseEnabled=!0;this.mMasker.graphics.drawRect(0,0,this.mStage.width,this.mStage.height,"#00000040");this.mMasker.size(this.mStage.width,this.mStage.height)}r(t,"FioLibs.core.FioMgr_BackFront",n);var u=t.prototype;return u.addIns=function(n){n&&-1==this.mVecIns.indexOf(n)&&this.mVecIns.push(n)},u.maskShow=function(){this.mStage.clearTimer(this,this.doDel)},u.maskRemove=function(){this.mStage.timerOnce(150,this,this.doDel)},u.doDel=function(){this.mMasker.removeSelf()},u.onFocusChanged=function(){this.mStage.isFocused?this.maskRemove():this.maskShow()},u.onTabToFront=function(){var t=this.mStage.renderingEnabled,n=0,i=this.mVecIns.length;for(n;n<i;n++)this.mVecIns[n].onBackFront(t)},e(1,t,"ins",function(){return t.s_Ins||(pu.s_locked=!1,t.s_Ins=new t,pu.s_locked=!0),t.s_Ins},FioLibs.RooterFactory._$SET_ins),t.s_Ins=null,t}(pu),ei=function(n){function t(){t.__super.call(this,t)}return r(t,"games.cores.MgrSound",n),t.Init=function(n){t.mVInited||(t.mVInited=!0,t.mSupport=wr.IsApp||c.supportWebAudio,wr.IsApp&&(t.mExts=".ogg"),n&&(t.mV_Game=!0))},t.get261=function(n,i){t.mV_Game=t.mSupport&&n;t.mV_Msg=t.mSupport&&i},t.PlayEff=function(n,i,r){i===void 0&&(i=0);r===void 0&&(r=!1);(t.mV_Game||r)&&t.toPlay(n,i)},t.toPlay=function(n,r){if(r===void 0&&(r=0),i.stage.isActive)if(r=0,r<16)t.doPlay(n);else i.timer.once(r,t,t.doPlay,[n],!1)},t.doPlay=function(n){i.stage.isActive&&vi.playSound("res/sound/"+n+t.mExts)},t.mSupport=!1,t.mV_Game=!1,t.mV_Msg=!1,t.mVInited=!1,t.mExts=".mp3",t}(pr),ph=function(n){function t(){t.__super.call(this,t)}return r(t,"games.cores.MgrUpload",n),t.Init=function(){et.regShellFun("oTj_UploadIcon",t.oTj_UploadIcon);et.regShellFun("oTj_UploadResult",t.oTj_UploadResult)},t.openUpload=function(n){t.mType=n;t.mBase64=null;et.isShell()?et.uploadIcon():b.OpenWin(5,t.mType)},t.oTj_UploadIcon=function(n){var i=JSON.parse(n);t.doUpload(i.imgBase64)},t.doUpload=function(n){var i=f.Club.ClubVo.vID;0==t.mType&&(i=f.Account.Detail.nextIcon);t.upload(t.mType,i,n)},t.upload=function(n,i,r){t.mType=t.mIconID=0;t.mBase64=null;r&&(t.mType=n,t.mIconID=i,t.mBase64=r,(0==t.mType||i)&&t.submitUploadIcon(i))},t.submitUploadIcon=function(n){if(t.mBase64){var r,i;switch(t.mType){case 0:r="users/"+n+".png";i="image/png";break;case 1:r="club/"+n+".png";i="image/png";break;case 8:r="mics/"+n+".mp3";i="audio/mp3";break;case 9:r="logs/"+n+".htm";i="text/htm";t.mBase64="data:"+i+";base64,"+urt.encodeStr("Nick:"+f.Account.Detail.Nick+", Brower:"+t.mBase64)}et.isShell()?et.exUpload(r,t.mBase64,i):c.window.uploadIcon(r,t.mBase64,i,t,t.onUploadResult);t.mBase64=null}},t.onUploadResult=function(n,r){var u,e,o;if(n)switch(t.mType){case 0:u="users/"+f.Account.Detail.iconID+".png";et.isShell()?et.delFile(u):u.length>15&&delFile(u);f.Account.reqIconUpdate(-1,t.mIconID);break;case 1:e=f.Club.ClubVo;0==t.mIconID&&(o=wt.getClubIcon("0.1"),i.loader.cacheRes(wt.getClubIcon(e.icon),i.loader.getRes(o)),i.loader.clearRes(o));e.IconVer+=1;f.Club.reqEdit(f.Club.ClubVo.cID);oi.notify(350);break;case 8:f.Match.reqMic(r.name,t.MicDurtion)}else ut.showMessage("usericon_faild");t.mType=t.mIconID=0;t.mBase64=null},t.oTj_UploadResult=function(n){var i=JSON.parse(n);t.onUploadResult(1==i.code,{name:i.name})},t.mType=0,t.mIconID=null,t.mBase64=null,t.MicDurtion=0,t}(pr),det=function(n){function t(){this.rateIn=NaN;this.rateWin=NaN;this.ratePreWin=NaN;t.__super.call(this)}r(t,"games.cores.dataServices.brands.S_Room_Player",n);var i=t.prototype;return i.parse=function(t,i){i===void 0&&(i=!0);n.prototype.parse.call(this,t,i);this.rateIn=t.getUint32();this.rateWin=t.getUint32();this.ratePreWin=t.getUint32()},t}(dc),bl=function(n){function t(n){this.Cookie=null;t.__super.call(this,n);this.Cookie=this.getCookie();this.Cookie||(this.Cookie=new nrt);this.Cookie.tzData||(this.Cookie.tzData=new rh,this.Cookie.tzData.val=ot.CFG_MTT.OtherCfgs[0].data[0].min);var u=!1,f=ot.CFG_MTT.VecSliders,i=0,o=f.length,r,e=this.Cookie.sliders||{};for(i;i<o;i++)r=f[i],e.hasOwnProperty(r.id)||(e[r.id]=r.def,u=!0);u&&this.DoSave()}r(t,"games.windows.matches.creators.mtt.CrtMtt_CkMain",n);var i=t.prototype;return i.DoSave=function(){this.Save(this.Cookie)},t}(nu),io=function(t){function u(){this.mDicCmds={};this.HdErr=null;this.HdBase=null;this.TraceCmd=!1;this.PingCmd=150;this.mTping=0;this.mTlast=30;this.mSkt=null;this.mBs=null;this.mBr=null;this.mIsHttps=!1;this.mHost=null;this.IP=null;this.mPort=0;this.mCheckCmds=null;this.mToBytes=null;this.mChecker=null;u.__super.call(this,null);this.mSkt=new dot;this.mSkt.endian=u.SOCKET_ENDIAN;this.mSkt.disableInput=!0;this.mSkt._handler=h.create(this,this.onEvents,null,!1);this.mSkt.on("message",this,this.onReceived);v.s_socket=this;y.s_socket=this;this.mBs=new lu;this.mBs.endian=u.SOCKET_ENDIAN;this.mBr=new lu;this.mBr.endian=u.SOCKET_ENDIAN;this.mCheckCmds=[];et.regShellFun("oTj_OnDnsIp",u.getDnsIP)}r(u,"FioLibs.core.socket.FioSocket",t);var f=u.prototype;return f.regsitService=function(n){var i=n.i_CmdIDs,t=0,u=i.length,r=0;for(t;t<u;t++)r=i[t],this.mDicCmds[r]=n},f.showCmdError=function(n,t){this.HdErr&&this.HdErr.runWith([n,t])},f.onEvents=function(n){0==n?(this.mTlast=30,i.timer.loop(5e3,this,this.sendPing),this.sendPing()):(cr.show(0),this.clearTo(),i.timer.clear(this,this.sendPing),this.mTlast=9999);this.HdBase&&this.HdBase.runWith(n)},f.close=function(n){n===void 0&&(n=!0);i.timer.clear(this,this.sendPing);this.mSkt.cleanSocket();this.mBs.clear();n&&this.onEvents(1)},f.setAdress=function(t,i,r,u){this.mHost=i;this.mPort=r;this.mIsHttps=/^(https:)$/i.test(n.location.protocol);this.mIsHttps&&(this.mHost=t,this.mPort=u)},f.setCheckCmds=function(){var t=arguments,n=0,i=t.length;for(this.mCheckCmds.length=0,n;n<i;n++)this.mCheckCmds[n]=t[n]},f.connect=function(){if(!this.mHost||this.mPort<1){ut.showMessage("No Server Config",!1);return}this.clearTo();cr.show(1);this.mChecker||(this.mChecker=new nat(h.create(this,this.ToConnect,null,!1)));this.mChecker.DoCheck()},f.ToConnect=function(){if(et.IsTVer(11)){et.reqDnsIp(this.mHost);return}this.DoConnect(this.mHost)},f.DoConnect=function(n){this.IP=n;this.mIsHttps?this.mSkt.connectByUrl("wss://"+n+":"+this.mPort):this.mSkt.connect(n,this.mPort)},f.checkWaitTo=function(){var n=!1;return this.mToBytes&&(this.sendByte(this.mToBytes),n=!0),this.clearTo(),n},f.clearTo=function(){this.mToBytes&&this.mToBytes.doRecyle();this.mToBytes=null},f.sendByte=function(n){var t=n.cmdID;this.connected?(this.mBs.writeInt16(t),this.mBs.writeArrayBuffer(n.buffer),this.mSkt.send(this.mBs.buffer),this.mBs.clear(),n.doRecyle()):this.mCheckCmds.indexOf(t)>-1?(this.connect(),this.mToBytes=n):n.doRecyle()},f.onReceived=function(n){this.mBr.clear();this.mBr.writeArrayBuffer(n);this.mBr.pos=0;var t=this.mBr.getInt16(),i=this.mDicCmds[t];i&&i.analyzePack(t,this.mBr);this.PingCmd==t&&(this.mTlast=c.now()-this.mTping,this.mTping=0);this.mBr.clear()},f.sendPing=function(){this.mTping=c.now();v.SendCmd(this.PingCmd)},f.getPing=function(){return this.mTping>0?c.now()-this.mTping:this.mTlast},e(0,f,"connected",function(){var n=this.readyState;return n>-1?n<2:this.mSkt.connected}),e(0,f,"readyState",function(){return this.mSkt.readyState}),e(1,u,"ins",function(){return null==u.sIns&&(pu.s_locked=!1,u.sIns=new u,pu.s_locked=!0),u.sIns},FioLibs.RooterFactory._$SET_ins),u.getDnsIP=function(n){var t=JSON.parse(n);u.sIns.DoConnect(t.ip)},u.sIns=null,u.SOCKET_ENDIAN="littleEndian",u}(pu),get=function(n){function t(n){t.__super.call(this,n)}r(t,"games.windows.matches.lspjCtrls.Lspj_Ctrl_Dpi",n);var i=t.prototype;return i.getIdx=function(n){return a.getIndexDate(n)},i.getIns=function(n){var t=l.get(co);return t.show(n,!1),t},i.getTime=function(n,t){return t},t}(ih),tw=function(n){function t(n,i){this.DataSrc=null;this.IsDp=!1;this.open=!1;this.time=0;this.timeIdx=0;this.Configs=null;this.SendArr=null;this.mCookie=null;t.__super.call(this,n);this.IsDp=i;this.DataSrc=i?ot.CFG_DP:ot.CFG_DZ;this.open=!1;this.time=0;this.timeIdx=this.DataSrc.ZmTimeConfig.def;this.mCookie=this.getCookie();this.mCookie&&this.mCookie.Configs?(this.open=this.mCookie.open,this.time=this.mCookie.time||0,this.timeIdx=this.mCookie.timeIdx||0,this.Configs=this.mCookie.Configs,this.SendArr=this.mCookie.SendArr||[]):(this.mCookie={},this.SendArr=[]);this.checkVec()}r(t,"games.windows.matches.creators.dzdp.CrtNml_ZmCkMain",n);var i=t.prototype;return i.checkVec=function(){var n=0,t,i;if(this.Configs)for(i=!1,n;n<3;n++)t=this.Configs[n],t||(this.Configs[n]=this.getDefVo(n));else for(this.Configs=[],n;n<3;n++)this.Configs[n]=this.getDefVo(n);this.CheckValid();this.doSave()},i.CheckValid=function(){var n=0,t,i=!1;for(n;n<3;n++){if(t=this.Configs[n],0==t.lbVal){t.open=!1;continue}i=!0}this.open&&!i&&(this.open=!1)},i.getDefVo=function(n){var t=new ag;return t.idx=n,t.lbIdx=this.DataSrc.VecSliders[0].def,t.anteIdx=ot.getAnte(0).def,t},i.doSave=function(){this.mCookie.open=this.open;this.mCookie.time=this.time;this.mCookie.timeIdx=this.timeIdx;this.mCookie.Configs=this.Configs;this.mCookie.SendArr=this.SendArr;this.Save(this.mCookie)},i.getValStr=function(){if(this.open){var f=[],e=!1,t=NaN,o=NaN,i=0,s=this.SendArr.length/4>>0,r=0,n="";for(i;i<s;i++)r=i*4,e=1==this.SendArr[r],t=this.SendArr[r+1],o=this.SendArr[r+2],this.IsDp?(n=t+"",e&&(n+="(Dx2)")):(n=t+"/"+2*t,e&&(n+="/"+4*t),o>0&&(n+="("+o+")")),f.push(n);if(s=f.length,s>0)return this.time+"min: "+f.join(", ")}return u.lang("cm_zm_no")},t.NUM_MAX=3,t}(nu),u=function(n){function t(){t.__super.call(this,t)}return r(t,"FioLibs.core.FioLang",n),t.parseConfig=function(n){n=t.ParseLang(n);n.replace(/^(\w+)=(.*)$/gmi,t.addToDic);t.StrNull=t.lang("null")},t.addToDic=function(){return t.s_DicConfigs[arguments[1]]=arguments[2].replace(/\\r|\\n/gi,"\n"),null},t.ParseLang=function(n){return n=n.replace(/\[cs#([0-9a-f]+),[\s]{0,}(\d+)\]/gim,"<span style='color:#$1;font-size:$2px;'>"),n=n.replace(/\[cs\]/gim,"<\/span>"),n=n.replace(/(\[\/cs\])/gim,"<\/span>"),n=n.replace(/\[c#([0-9a-f]+)\]/gim,"<span style='color:#$1'>"),n=n.replace(/\[c\]/gim,"<\/span>"),n=n.replace(/(\[\/c\])/gim,"<\/span>"),n=n.replace(/\[s#([0-9]+)\]/gim,"<span style='font-size:$1px;'>"),n=n.replace(/\[s\]/gim,"<\/span>"),n.replace(/(\[\/s\])/gim,"<\/span>")},t.lang=function(n){for(var i=[],r=1,u=arguments.length;r<u;r++)i.push(arguments[r]);return i.unshift(t.s_DicConfigs[n]),t.replace.apply(t,i)},t.doReplace=function(){return t.mParams[arguments[1]]},t.replace=function(n){for(var r=[],i=1,u=arguments.length;i<u;i++)r.push(arguments[i]);return n&&n.length>0?(t.mParams=r,t.mParams.length>0&&(n=n.replace(t.mRegReplace,t.doReplace)),t.mParams=null,n):""},t.obj=function(n){if(n){var i=t.lang(n);if(i)return JSON.parse(i)}return null},t.byArr=function(n,i){var r=t.s_DicConfigs[n];return r&&r.length>0?(t.mParams=i,t.mParams.length>0&&(r=r.replace(t.mRegReplace,t.doReplace)),t.mParams=null,r):""},t.toColor=function(n,t){return'<span style="color:'+t+'">'+n+"<\/span>"},t.StrNull="无",t.s_DicConfigs={},t.mParams=null,d(t,["mRegReplace",function(){return this.mRegReplace=new RegExp("{(\\d)+}","gi")}]),t}(pr),et=function(t){function e(){e.__super.call(this,null)}return r(e,"games.cores.shell.JsShell",t),e.Start=function(){e.mIsShell=!1;wr.IsApp?(e.mIsShell=!0,e.mBridge=mBridge,e.AppType=e.IS_IOS?1:2,e.regShellFun("oTj_SetShell",e.oTj_SetShell),e.regShellFun("oTj_OnNetState",e.oTj_OnNetState),e.regShellFun("oTj_OnNetMac",e.oTj_OnNetMac),e.regShellFun("oTj_OnNetIp",e.oTj_OnNetIp),e.regShellFun("oTj_OnGps",e.oTj_OnGps),e.regShellFun("oTj_upProgress",e.oTj_upProgress),e.regShellFun("oTj_TabSys",e.oTj_TabSys),e.regShellFun("oTj_Ct4_Ok",e.oTj_Ct4_Ok),e.regShellFun("oTj_Ct4_Err",e.oTj_Ct4_Err)):(e.Mac=sr.getItem("webMac"),e.Mac||(e.Mac="web-"+c.now(),sr.setItem("webMac",e.Mac)),e.Ct4_WebInit());e.sendToShell("initShell");var i=n._clientUpload.options,t={};t.region=i.region;t.accessKeyId=i.accessKeyId;t.accessKeySecret=i.accessKeySecret;t.bucket=i.bucket;t.endpoint=i.endpoint.href;e.sendToShell("setOss",t)},e.isShell=function(){return e.mIsShell},e.regShellFun=function(n,t){e.mBridge&&e.mBridge.callWithBack(t,n)},e.sendToShell=function(n,t){if(e.mIsShell)try{return t||(t={}),e.mBridge.call(n+(e.IS_IOS?":":""),JSON.stringify(t)),!0}catch(i){}return!1},e.oTj_SetShell=function(n){var i=JSON.parse(n),t;e.IsMnq=!1;e.IsLhp=1==i.isLhp;1==i.isMnq&&(e.IsMnq=!0,e.AppType=3);t=i.ver||1;t<1e4&&(t=999);e.ShellVer=t},e.IsTVer=function(n){if(e.mIsShell){var t=e.ShellVer%1e3;return t>n&&t<999}return!1},e.isZsb=function(){return e.mIsShell&&e.ShellVer>2e4&&e.ShellVer<3e4},e.oTj_OnNetState=function(n){var t=JSON.parse(n),i=e.mNetState;e.mNetState=t.state||0;e.mIsShell&&i!=e.mNetState&&io.ins.close(!0)},e.oTj_OnNetMac=function(n){var t=JSON.parse(n);e.Mac=e.AppType+"-"+t.mac},e.oTj_OnNetIp=function(n){var t=JSON.parse(n);e.Ip=t.ip},e.oTj_OnGps=function(n){var t=JSON.parse(n);e.GpsX=t.longitude;e.GpsY=t.latitude;f.Login.reqGps(e.GpsX,e.GpsY)},e.oTj_upProgress=function(n){var i=JSON.parse(n),t=i.pro||0;cr.show(1,u.lang("tip_newUp",t)||"正在更新游戏 "+t+"%")},e.oTj_TabSys=function(n){var t=JSON.parse(n),r=1==t.v;i.stage.isActive=r},e.reqPcIP=function(){f.Login.reqGps(e.GpsX,e.GpsY)},e.shake=function(n,t){n===void 0&&(n=200);t===void 0&&(t=!1);(f.Account.Cookie.MessageShake||t)&&e.mIsShell&&e.sendToShell("shake",{time:e.IS_IOS?n<60?1519:0:n})},e.reqGps=function(){e.mIsShell&&e.sendToShell("reqGps")},e.sInitGme=function(){e.sendToShell("uninitGME");e.sendToShell("initGME",{openId:f.Account.Detail.SID+""})},e.reqRecord=function(){e.sendToShell("recordStart",{maxTime:15})},e.reqRecordStop=function(n){e.sendToShell("recordStop",{cancel:n?1:0})},e.psMic=function(n){e.sendToShell("ps_Mic",{url:n})},e.shareUrl=function(n){e.sendToShell("shareUrl",n)},e.uploadIcon=function(){e.sendToShell("uploadIcon",{width:200,height:200,quality:.7})},e.iosPayUn=function(){e.sendToShell("pay_getUnOk")},e.iosPayReq=function(n,t){e.sendToShell("pay_req",{goodID:n,uID:t+""})},e.iosPayClose=function(n){e.sendToShell("pay_close",{dealID:n})},e.exUpload=function(n,t,i){e.sendToShell("exUpload",{name:n,base64:t,mime:i})},e.delFile=function(n){e.sendToShell("delFile",{path:n})},e.reload=function(){e.sendToShell("reload")},e.reGetHead=function(){e.sendToShell("getHead")},e.reShareImg=function(n){e.sendToShell("shareImg",{img64:n,title:""})},e.copy=function(n){e.mIsShell?e.sendToShell("doCopy",{v:n}):fn.copy(n)},e.reqPay=function(n,t){e.sendToShell(n?"wxPay":"aliPay",{order:t})},e.reqPF=function(){e.sendToShell("requestStar")},e.callWXCS=function(n,t){e.mIsShell?e.sendToShell("callWXCS",{corpId:n,url:t}):e.openWeb(t)},e.reqDnsIp=function(n){e.sendToShell("reqDnsIp",{host:n,timeout:2e3})},e.copyUserIcon=function(n,t){e.mIsShell?e.sendToShell("ossCopyUser",{tarName:n,orgName:t}):ossCopyUser(n,t)},e.openWeb=function(t){e.mIsShell?e.sendToShell("openWeb",{url:t}):n.open(t,"_blank")},e.Ct4_WebInit=function(){e.mIsShell||n.initAlicom4({captchaId:"7f60dae9381f4d79d367a14a896c4d29",product:"bind"},function(n){e.mCaptcha=n;n.onSuccess(function(){e.oTj_Ct4_Ok(JSON.stringify(n.getValidate()))});n.onError(e.oTj_Ct4_Err)})},e.getCt4Type=function(){return e.mIsShell?e.IsTVer(20)?1:0:1},e.Ct4_Show=function(){e.mIsShell?e.IsTVer(20)&&e.sendToShell("Ct4_Show"):e.mCaptcha?e.mCaptcha.showCaptcha():e.Ct4_Clear()},e.Ct4_Clear=function(){},e.oTj_Ct4_Ok=function(n){f.Login.sendCt4(n);e.Ct4_Clear()},e.oTj_Ct4_Err=function(){e.Ct4_Clear()},e.GpsX=1e3,e.GpsY=1e3,e.Ip="0.0.0.0",e.Mac="",e.ShellVer=999,e.IsMnq=!1,e.IsLhp=!1,e.AppType=0,e.mNetState=-1,e.mIsShell=!1,e.mBridge=null,e.mCaptcha=null,d(e,["IS_IOS",function(){return this.IS_IOS=c.onIOS||!1}]),e}(pr),pt=function(n){function t(){t.__super.call(this,null)}return r(t,"games.UD_Displays.alert.GAlert",n),t.InitLang=function(n,i,r){t.mLabelSure=n||"确定";t.mLabelCancel=i||"取消";t.mTitle=r||"系统消息"},t.Alert=function(){t.sVec.push(arguments);t.CheckNext(!1)},t.CheckNext=function(n){n===void 0&&(n=!0);n&&(t.sIng=!1);t.sVec.length>0?t.sIng||(t.sIng=!0,t.extAlert.apply(null,t.sVec.shift())):t.sIng=!1},t.extAlert=function(n,i,r,u,f){var e,c;u||(u=[]);e=r?r:u.length>1?[t.mLabelSure,t.mLabelCancel]:[t.mLabelSure];var o=e.length,h=u.length,s=h;if(o>h)for(s;s<o;s++)u.push(null);1==o?(e.unshift(null),u.unshift(null)):(e.unshift(e.pop()),u.unshift(u.pop()));c=l.get(wpt);c.Alert(n,i,e,u,f||t.mTitle);et.shake()},t.mLabelSure="确定",t.mLabelCancel="取消",t.mTitle="系统消息",t.sVec=[],t.sIng=!1,t}(pr),not=function(n){function t(){this.mLabel=null;this.mHandler=null;t.__super.call(this);this.mLabel=u.lang("msg_4_2");this.mHandler=h.create(this,this.getRedPcak,null,!1)}r(t,"games.windows.messages.MsgParser_4",n);var i=t.prototype;return i.parse=function(n,t){n.updateVo(t);2==t.subType&&(n.updateBtn(this.mLabel,t.opResult),n.setClick(this.mHandler))},i.getRedPcak=function(n){f.Message.reqOp(n.sID,3)},t}(gc),tot=function(n){function t(){this.mLabel=null;this.mLabelMtt=null;this.mHandler=null;this.mSID=0;this.mMenuHandler=null;this.mItem=null;this.mCreParam=null;t.__super.call(this);this.mLabel=u.lang("msg_3_0");this.mLabelMtt=u.lang("msg_3_12");this.mCreParam={};this.mHandler=h.create(this,this.opFun,null,!1);this.mMenuHandler=h.create(this,this.onMenuCall,null,!1)}r(t,"games.windows.messages.MsgParser_3",n);var i=t.prototype;return i.parse=function(n,t){n.updateVo(t);this.mItem=n;t.subType>2&&n.updateBtn(12==t.subType?this.mLabelMtt:this.mLabel,t.opResult);n.setClick(this.mHandler)},i.opFun=function(n){switch(n.subType){case 3:case 4:case 5:case 6:case 7:case 8:case 11:this.mSID=n.sID;dr.ins.AgreeOrRefuse(this.mMenuHandler);break;case 12:case 13:this.mSID=n.sID;f.Message.reqOp(this.mSID,4);b.OpenWin(64,n.params.clubid);break;case 9:this.mCreParam.mID=this.mSID=n.sID;this.mCreParam.cID=n.params.clubid;this.mCreParam.sID=n.params.acct;dr.ins.ReEditOrRefuse(this.mMenuHandler)}},i.onMenuCall=function(n){3==n?(f.Club.reqMemVo(this.mCreParam.cID,this.mCreParam.sID),f.Message.reqOp(this.mSID,4)):f.Message.reqOp(this.mSID,n)},t}(gc),iot=function(n){function t(){this.mLabel=null;this.mHandler=null;t.__super.call(this);this.mLabel=u.lang("msg_1_1_menu");this.mHandler=h.create(this,this.opMail,null,!1)}r(t,"games.windows.messages.MsgParser_1",n);var i=t.prototype;return i.parse=function(n,t){n.updateVo(t);1==t.subType&&(n.updateBtn(this.mLabel),n.setClick(this.mHandler))},i.opMail=function(n){b.OpenWin(42,n.params.roomid)},t}(gc),rot=function(n){function t(){this.matchType=0;this.CanViewClub=!1;this.roomID=NaN;this.gameType=0;this.name=null;this.creater=null;this.clubName=null;this.st=0;this.et=0;this.handNum=0;this.safe=NaN;this.jackpot=NaN;this.zPlayers=null;this.dPlayers=null;t.__super.call(this);this.dClubs;this.zPlayers=[];this.dPlayers=[];this.dClubs=[]}r(t,"games.cores.dataServices.brands.S_RoomScore",n);var i=t.prototype;return i.parse=function(n){for(var t,i,r,u,f;this.zPlayers.length>0;)l.recyle(this.zPlayers.shift());while(this.dPlayers.length>0)l.recyle(this.dPlayers.shift());while(this.dClubs.length>0)l.recyle(this.dClubs.shift());for(this.CanViewClub=0==n.getByte(),this.roomID=n.getUint32(),this.gameType=n.getByte(),this.name=n.getString(),this.creater=n.getString(),this.clubName=n.getString(),this.st=n.getUint32(),this.et=n.getUint32(),this.handNum=n.getUint32(),this.littleBB=n.getFloat32(),this.ante=n.getFloat32(),this.safe=n.getFloat64(),this.jackpot=n.getFloat64(),this.setFlag(n.getUint32()),t=0,i=0,i=n.getUint16(),t=0;t<i;t++)r=l.get(dc),r.parse(n,!1),this.zPlayers[t]=r;for(i=n.getUint16(),t=0;t<i;t++)this.dPlayers[t]=u=l.get(det),u.parse(n);for(i=n.getUint16(),t=0;t<i;t++)this.dClubs[t]=f=l.get(eot),f.parse(n)},t}(nl),kl=function(n){function t(){this.sID=NaN;this.state=0;this.numCur=0;this.numMax=0;this.timeRest=0;this.timeMax=0;this.roomID=NaN;this.name=null;this.gameType=0;this.createType=0;this.icon=null;this.creater=null;this.suringMin=0;this.suringMax=0;this.stisNumMax=0;this.cID=0;this.uID=0;t.__super.call(this);this.recyle()}r(t,"games.cores.dataServices.matchSvc.desk.S_Desk",n);var i=t.prototype;return i.recyle=function(){n.prototype.recyle.call(this);this.name=this.icon=this.creater="";this.roomID=0},i.readAll=function(n){this.sID=n.getUint32();this.readUpdate(n);this.roomID=n.getUint32();this.name=n.getString();this.gameType=n.getByte();this.createType=n.getByte();this.icon=n.getString();this.creater=n.getString();this.littleBB=n.getFloat32();this.ante=n.getFloat32();this.suringMin=n.getUint32();this.suringMax=n.getUint32();this.setFlag(n.getUint32());this.stisNumMax=n.getByte();this.cID=n.getUint32();this.uID=n.getUint32()},i.readUpdate=function(n){this.state=n.getByte();this.numCur=n.getUint32();this.timeRest=n.getUint32();this.timeMax=n.getUint32();this.numMax=n.getUint32()},t}(nl),tfi=function(n){function t(){this.tips=null;t.__super.call(this)}r(t,"FioLibs.voes.Vo_BigBtnTips",n);var i=t.prototype;return i.recyle=function(){n.prototype.recyle.call(this);this.tips=null},t}(ku),uot=function(n){function t(){this.uID=0;this.Fund=NaN;this.platTotal=NaN;this.platToday=NaN;this.platUsed=NaN;this.platZr=NaN;t.__super.call(this)}r(t,"games.cores.dataServices.league.S_Lea_Update",n);var i=t.prototype;return i.recyle=function(){n.prototype.recyle.call(this);this.uID=this.Fund=0;this.platTotal=this.platToday=this.platUsed=this.platZr=0},i.readUpdate=function(n){this.uID=n.getUint32();this.Fund=n.getFloat64();this.readCredits(n);this.platTotal=n.getFloat64();this.platToday=n.getFloat64();this.platUsed=n.getFloat64();this.platZr=n.getFloat64()},t}(bc),dl=function(n){function t(){this.C_ID=0;this.roomID=0;this.handID=0;this.tStart=0;this.safe=0;this.safePeifu=NaN;this.safeYK=NaN;this.score=NaN;this.cardType=0;this.cards=[];this.HcNum=0;this.endStr="";this.DealIdx=0;this.HdIdx=0;t.__super.call(this)}r(t,"games.cores.dataServices.brands.S_Brands_Fav",n);var i=t.prototype;return i.recyle=function(){this.cards.length=0;this.HcNum=2;this.C_ID=this.roomID=0;this.endStr="";this.DealIdx=0},i.readADeal=function(n,t){t>0&&(this.endStr="-"+t);this.DealIdx=t;this.score=n.getFloat64();this.cardType=n.getByte();this.cards.length=0;for(var i=0,r=this.HcNum=n.getUint16(),i=0;i<r;i++)this.cards[i]=n.getByte();for(r=n.getUint16(),i=0;i<r;i++)this.cards.push(n.getByte());this.cardType==0&&r<3&&(this.cardType=99)},i.getLck=function(n){return(n===void 0&&(n=!1),gt.vecStrs.length=0,gt.vecStrs.push(u.lang("cardType"+this.cardType)),gt.vecStrs.push(gt.getResultStr(this.score)),n)?gt.vecStrs.join("<br/>"):((this.safe>0||this.safePeifu>0)&&(gt.vecStrs.push(gt.getResultStr2("pBrands_SafeUse",-this.safe)),gt.vecStrs.push(gt.getResultStr2("pBrands_SafeScore",this.safePeifu))),gt.vecStrs.join("  "))},i.getSafe=function(){return gt.vecStrs.length=0,this.safe>0||this.safePeifu>0?(gt.vecStrs.push(gt.getResultStr2("pBrands_SafeUse",-this.safe)),gt.vecStrs.push(gt.getResultStr2("pBrands_SafeScore",this.safePeifu))):gt.vecStrs.push(u.lang("pBrands_SafeNo")),gt.vecStrs.join("<br/>")},t.sMakeCID=function(n,t){return n*1e4+t},t}(gt),fot=function(n){function t(n){t.__super.call(this,n)}r(t,"games.windows.matches.lspjCtrls.Lspj_Ctrl_Zd_Xls",n);var i=t.prototype;return i.getIns=function(n){var t=l.get(lg);return t.show(n,!0),t},t}(ih),wt=function(n){function t(){t.__super.call(this,null)}return r(t,"games.consts.WebApi",n),t.getRndVer=function(){return"?"+i.systemTimer.currTimer%1e6},t.init=function(){var n=c.window.getLoginVo();t.ResCdn=ti.basePath=n.ResCdn;t.plat=n.plat||1;t.from=n.from;t.host=n.host;t.hosts=n.hosts;t.port=n.port;t.ports=n.ports;t.version=""+n.version;ti.debugVer="?"+t.version;t.IconCdn=n.IconCdn;t.ActCdn=n.IconCdn;t.ShopCdn=n.ShopCdn;t.WeihuCdn=n.SerStatuPath;t.mOssVer=t.getRndVer()},t.updateLog=function(){t.logOpen="";t.logOpen=et.isShell()?(c.onIOS?"IOS":"Android")+"应用程序":c.onPC?"PC浏览器":(c.onIOS?"IOS":"Android")+"浏览器";f.Account.Cookie.save()},t.getUserIcon=function(n){return n?t.s_RegNum.test(n)?"sysIcons/"+n+".png":t.s_RegNum2.test(n)?"sysIcons/"+n+".png":t.IconCdn+"users/"+n+".png":null},t.getClubIcon=function(n){return n?t.IconCdn+"club/"+n.replace(".",".png?"):null},t.getIfImg=function(n){return"iconFrames/"+n+".png"},t.getAssImg=function(n){return n?"res/assImgs/"+n:null},t.getSerStatu=function(){return t.WeihuCdn+t.getRndVer()},t.getActNewPath=function(){return t.ActCdn+"act/act_new.txt"+t.getRndVer()},t.getActImg=function(n,i){return t.ActCdn+"act/"+(n?"big":"sub")+"/"+i+".png?"+t.version},t.getNtCfgPath=function(){return t.ActCdn+"act/nt.txt"+t.getRndVer()},t.getAdsImg=function(n){return t.ActCdn+"act/nt/"+n+".png?"+t.version},t.getPpImg=function(n){return t.ShopCdn+"jsShop/intros/"+n+".png?"+t.version},t.getBagsCfgPath=function(){var n="jsShop/configs/Tickets_All.json"+t.mOssVer;return t.ShopCdn+n},t.getBagsIcon=function(n,i){i===void 0&&(i=!1);var r="jsShop/"+(i?"mains":"subIcons")+"/"+n+".png?"+t.OssImgVer;return t.ShopCdn+r},t.getShopIcon=function(n){return"shops/"+n+".png"},t.getFundIcon=function(n){return"funds/"+n+".png"},t.reload=function(){i.stage.visible=!1;cr.show(1,u.lang("tip_reload"));et.isShell()?et.reload():reStartGame()},t.plat=0,t.from=null,t.host=null,t.hosts=null,t.port=0,t.ports=0,t.ResCdn=null,t.version=null,t.IconCdn=null,t.ActCdn=null,t.ShopCdn=null,t.WeihuCdn=null,t.logOpen=null,t.OssImgVer=0,t.mOssVer=null,d(t,["s_RegNum",function(){return this.s_RegNum=/^\d+$/i},"s_RegNum2",function(){return this.s_RegNum2=/^(\d+)-(\d+)$/i}]),t}(pr),yf=function(n){function t(){t.__super.call(this,null)}return r(t,"games.cores.faces.MgrEffects",n),t.Init=function(n){t.mConfigs=n},t.playDragon=function(n,r,u,f,e,o,s){var c,p,y,v,l,w,a;if(s===void 0&&(s=1),!i.stage.isActive)return null;if(c=t.mConfigs[o],c){if(p=c.eID,y=t.mDisPools[p],y||(t.mDisPools[p]=y=[]),1==c.type)return v=y.length>0?y.shift():new wat(p,c.icon),v.doRound=c.end>0,v.pos(r,u),n.addChild(v),v.alpha=1,v.scale(s,s),ri.to(v,{x:f,y:e},500,nf.linearIn,h.create(null,t.onImgDone,[v])),c;if(w=!1,y.length>0?(l=y.shift(),w=!0):(l=new ro,l.TmpData=new ktt,l.eID=p,l.AutoPlay=!1),l.scale(s,s),a=l.TmpData,a.sx=r,a.sy=u,a.ex=f,a.ey=e,a.end=c.end,a.sid=c.sid,w)t.onDLComplete(a,!1,l);else l.load("res/dragons/"+p+".sk",h.create(t,t.onDLComplete,[a,!0]));n.addChild(l)}return c},t.onDLComplete=function(n,i,r){i&&r.player.on("stopped",t,t.onEffectDone,[r]);r.pos(n.sx,n.sy);r.play(0,!1);r.paused();0==n.end&&(n.sx!=n.ex||n.sy!=n.ey)?ri.to(r,{x:n.ex,y:n.ey},500,nf.strongOut,h.create(null,t.doPlay,[r])):t.doPlay(r)},t.doPlay=function(n){if(n){n.play(0,!1);var t=n.TmpData;t.sid>0&&ei.PlayEff(t.sid)}},t.onEffectDone=function(n){var r=t.mDisPools[n.eID],u,i;-1==r.indexOf(n)&&(u=n.parent,r.push(n),i=n.TmpData,i.end>0&&t.playDragon(u,i.ex,i.ey,i.ex,i.ey,i.end));n.removeSelf()},t.onImgDone=function(n){if(i.stage.isActive)n.doRound?ri.to(n,{scaleX:-1},800,nf.strongOut,h.create(null,t.onImgRound,[n]),100):ri.to(n,{alpha:.1},800,nf.strongOut,h.create(null,t.onImgRecyle,[n]),800);else t.onImgRecyle(n)},t.onImgRound=function(n){if(i.stage.isActive)ri.to(n,{scaleX:1},800,nf.strongOut,h.create(null,t.onImgRecyle,[n]));else t.onImgRecyle(n)},t.onImgRecyle=function(n){var i=t.mDisPools[n.eID];-1==i.indexOf(n)&&i.push(n);n.removeSelf()},t.TIME_MOVE=500,t.mDisPools={},t.mConfigs=null,t}(pr),ifi=function(n){function t(){this.res=null;this.x=0;this.y=0;this.index=0;t.__super.call(this)}return r(t,"games.cores.configVoes.L_Menus",n),t}(ku),iw=function(n){function t(){this.roomID=0;this.handID=0;this.name=null;this.myIdx=0;this.safe=NaN;this.DealTimes=0;t.__super.call(this);this.vecDeals=[]}r(t,"games.cores.dataServices.brands.S_ABrands",n);var i=t.prototype;return i.parse=function(n){while(this.vecDeals.length>0)l.recyle(this.vecDeals.shift());this.roomID=n.getUint32();this.handID=n.getUint32();this.name=n.getString();this.myIdx=n.getByte();this.safe=n.getFloat64();var t=0,i=n.getUint16(),u,r;for(this.DealTimes=i,t=0;t<i;t++)r=""+this.handID,i>1&&(r+="-"+(t+1)),this.vecDeals[t]=u=l.get(yot),u.parse(n,r,this.safe)},t}(gt),eot=function(n){function t(){this.safe=NaN;t.__super.call(this);this.playerIndexs=[]}r(t,"games.cores.dataServices.brands.S_RoomScore_Club",n);var i=t.prototype;return i.parse=function(t,i){i===void 0&&(i=!0);n.prototype.parse.call(this,t,i);this.safe=t.getFloat64();this.playerIndexs.length=0;for(var r=0,u=t.getUint16(),r=0;r<u;r++)this.playerIndexs[r]=t.getInt16()},t}(dc),v=function(n){function t(){if(this.Types=null,this.cmdID=0,t.__super.call(this),t.s_locked)throw new Error("SocketPack 不允许被实例化，只能通过 SocketPack.getPackage() 来获取实例");this.endian=io.SOCKET_ENDIAN}r(t,"FioLibs.core.socket.SocketPack",n);var i=t.prototype;return i.sendUInt8=function(n){this.writeUint8(n)},i.sendInt8=function(n){this.writeByte(n)},i.sendInt16=function(n){this.writeUint16(n)},i.sendInt32=function(n){this.writeUint32(n)},i.sendString=function(n){this.writeUTFString(n)},i.sendFloat=function(n){this.writeFloat32(n)},i.send64=function(n){this.writeFloat64(n)},i.get64=function(){return this.getFloat64()},i.getInt8=function(){return this.readUint8()},i.flush=function(){t.s_socket.sendByte(this)},i.doRecyle=function(){this.clear();-1==t.s_vecPools.indexOf(this)&&t.s_vecPools.push(this)},t.getPack=function(n){var i;return t.s_vecPools.length>0?i=t.s_vecPools.shift():(t.s_locked=!1,i=new t,t.s_locked=!0),i.cmdID=n,i},t.SendCmd=function(n){t.getPack(n).flush()},t.s_socket=null,t.s_locked=!0,d(t,["s_vecPools",function(){return this.s_vecPools=[]}]),t}(lu),rfi=function(n){function t(){this.min=0;this.max=0;this.step=0;this.Areas=null;t.__super.call(this)}return r(t,"games.windows.matches.creators.voes.CrtMacVo_Area",n),t}(ku),rw=function(n){function t(){t.__super.call(this,null)}return r(t,"FioLibs.core.FioMgr_Resize",n),t.Init=function(){t.mInited=!0;i.stage.on("resize",t,t.delayResize)},t.addIns=function(n){if(n&&-1==t.mVecIns.indexOf(n)){t.mInited||t.Init();t.mVecIns.push(n);n.onStageResize(i.stage.width>>0,i.stage.height>>0)}},t.delayResize=function(){if(!t.mStageDelay){i.timer.once(200,t,t.doStageResize);t.mStageDelay=!0}},t.doStageResize=function(){var u=i.stage.width>>0,f=i.stage.height>>0,n=0,e=t.mVecIns.length,r;for(n;n<e;n++)r=t.mVecIns[n],r&&r.onStageResize(u,f);t.mStageDelay=!1},t.mInited=!1,t.mStageDelay=!1,d(t,["mVecIns",function(){return this.mVecIns=[]}]),t}(pr),uw=function(n){function t(n){this.Cookie=null;t.__super.call(this,n);this.Cookie=this.getCookie();this.Cookie||(this.Cookie=new wn);var u=!1,f=ot.CFG_SNG.VecSliders,i=0,o=f.length,r,e=this.Cookie.sliders||{};for(i;i<o;i++)r=f[i],e.hasOwnProperty(r.id)||(e[r.id]=r.def,u=!0);u&&this.DoSave()}r(t,"games.windows.matches.creators.sng.CrtSng_CkMain",n);var i=t.prototype;return i.DoSave=function(){this.Save(this.Cookie)},t}(nu),oot=function(n){function t(n){this.IsMatch=!1;t.__super.call(this,n);this.IsMatch=!1}r(t,"games.windows.matches.lspjCtrls.Lspj_Ctrl_Sy",n);var i=t.prototype;return i.doReset=function(){n.prototype.doReset.call(this);this.IsMatch=!1},i.getIdx=function(n){return a.getIndexDate(n)},i.getIns=function(n){var t,i;return this.IsMatch?(t=l.get(co),t.show(n,!1),t):(i=l.get(lg),i.show(n,!1),i)},i.getTime=function(n,t){return t},t}(ih),sot=function(n){function t(){this.nick=null;this.uID=0;t.__super.call(this)}return r(t,"games.cores.dataServices.club.fundVo.S_Fund_Admin_Req",n),t}(kg),hot=function(t){function s(){this.mSocket=null;this.mLoading=null;this.mLogin=null;this.mWindows=null;this.mScene=null;this.mV_Logined=!1;this.mV_ResOk=!1;this.mTback=0;this.mDldUrl=null;s.__super.call(this,null);i.loader.retryNum=0;i.loader.retryDelay=0}r(s,"games.FioApp",t);var o=s.prototype;return i.imps(o,{"FioLibs.interfaces.IFio_BackFront":!0}),o.init=function(){et.Start();oi.sInit();wt.init();ut.Init();this.mSocket=io.ins;this.mSocket.TraceCmd=!1;this.mSocket.setAdress(wt.hosts,wt.host,wt.port,wt.ports);this.mSocket.PingCmd=150;this.mSocket.setCheckCmds(100,101,102);this.mSocket.HdErr=h.create(this,this.showCmdErr,null,!1);this.mSocket.HdBase=h.create(this,this.onSktEvents,null,!1);f.Init();f.Login.regist(100,this.get100,this);f.Login.regist(102,this.get102,this);f.Login.regist(120,this.get120,this);f.Login.regist(131,this.get131,this);f.Account.regist(261,this.get261,this);f.Match.regist(400,this.get400,this);ti.version=n.VER_CONFIG;this.mTback=i.timer.currTimer;this.mLoading=new ylt(h.create(this,this.onBaseResDone));tu.Add(this.mLoading)},o.onBaseResDone=function(){pt.InitLang(u.lang("sure"),u.lang("cancel"),u.lang("alertTitle"));new bn;ei.Init(!1);ph.Init();yf.Init(rt.GameConfigs.faceConfigs);ot.sInit();this.mWindows=ea.ins;this.mLogin=new avt;this.mScene=new yct;gi.sInit(rt.GameConfigs.items);vo.sInit(rt.GameConfigs.serMessage);rt.GameConfigs.serMessage=null;ft.sInit(rt.GameConfigs.uiTabs);rt.GameConfigs.uiTabs=null;ii.sInitBrandCoords(rt.GameConfigs.brand_coords);rt.GameConfigs.brand_coords=null;this.mV_ResOk=!0;c.onSafari&&!rt.IS_FULLWEB&&new lht;this.mLoading&&(this.mLoading.destroy(),this.mLoading=null);c.window.onerror=function(n,t,i,r,u){u&&pt.Alert("[s#22]出错啦，请把此信息截图给客服[s][s#20]<br/>------------------<br/>"+n+"<br/>------------------<br/>"+u.stack+"<br/>[s]",wt,["刷新游戏","继续游戏"],[wt.reload,null])};this.mLogin.start(!0);tf.ins.addIns(this);tt.isConchApp||new ptt},o.reqConnect=function(n){n===void 0&&(n=0);ao.hide();wo.hide();cr.show(1);this.mSocket.connect()},o.onSktEvents=function(n){0==n?(f.Login.reqVersion(),f.Login.sendApp()):i.stage.renderingEnabled&&(this.mV_Logined?(cr.show(1),i.stage.timerOnce(1e3,this,this.reqConnect)):n>1&&ut.showMessage("server_coning_err"))},o.reqGameStart=function(){ao.hide();wo.hide();this.mV_Logined||(this.mV_Logined=!0);tf.ins.maskShow();this.mLogin.stop();this.mScene.Start()},o.onBackFront=function(n){var t=i.timer.currTimer,r=t-this.mTback;if(this.mTback=t,n){if(this.mV_ResOk)if(this.mV_Logined){if(!this.mSocket.connected){this.reqConnect(1);return}if(r>=1e4){ut.clearQueues();this.reqGameStart();return}}else this.get120(99);tf.ins.maskRemove()}},o.get400=function(n){0==n&&(ut.clearQueues(),this.reqGameStart())},o.showCmdErr=function(n,t){ut.showMessage(u.lang("cmd_"+n+"_"+t),!1)},o.get102=function(){tf.ins.maskRemove();cr.show(0)},o.get100=function(n){this.get102();0==n?(this.mLogin.saveSelect(),et.reqPcIP(),f.Login.reqOs(),f.Account.reqCookie(),rt.IS_LR?f.Login.autoReqLogin():this.reqGameStart()):this.get120(99)},o.get120=function(n){if(this.get102(),this.mScene.toCloseAll(),n<2){if(!i.stage.isActive)return;this.mLogin.clearPsw();this.mWindows.toCloseAll();0==n&&(this.mSocket.close(!1),pt.Alert(u.lang("login_err_onOther"),this,[u.lang("changePsw"),u.lang("relogin")],[this.toChangePsw]))}this.mLogin.start(!1);this.mV_Logined=!1},o.toChangePsw=function(){b.OpenWin(181,!1)},o.get131=function(n){var e=rt.SVER=n.vClient,r,i,t;if(rt.SHARE_URL=n.shareUrl,r=a.getNumber(wt.version),i=et.ShellVer,et.isShell()&&(t=0,c.onAndroid?(t=n.vAndroid,this.mDldUrl="http://www.dpzx.com"):c.onIOS&&(i<2e4?(t=n.vIosPay,this.mDldUrl="https://apps.apple.com/cn/app/id1167904689"):(t=n.vIos,this.mDldUrl="http://www.dpzx.com/")),t>0&&i<t)){this.toUpdate(!1);return}if(e>r){pt.Alert(u.lang("pc_update")||"发现新的版本，点击确认更新",null,null,[wt.reload]);return}this.mSocket.checkWaitTo()?1:this.mV_Logined?f.Login.autoReqLogin()?cr.show(1):this.get120(99):this.mLogin.start(!0)},o.get261=function(){ei.get261(f.Account.Cookie.Sound_Game,f.Account.Cookie.Sound_Message)},o.toUpdate=function(n){n===void 0&&(n=!0);n&&et.openWeb(this.mDldUrl);pt.Alert(u.lang("app_update")||"请更新应用程序",this,null,[this.toUpdate])},e(1,s,"ins",function(){return null==s.s_instance&&(pu.s_locked=!1,s.s_instance=new s,pu.s_locked=!0),s.s_instance},FioLibs.RooterFactory._$SET_ins),s.s_instance=null,s}(pu),ut=function(n){function t(){t.__super.call(this,null)}return r(t,"FioLibs.displays.flyMessage.Fio_FlyMsg",n),t.Init=function(){t.s_Inited||(t.s_Inited=!0,t.mMarquee=new lct,t.mCenter=new ntt(5),t.mTL=new gn(8))},t.clearQueues=function(){t.s_Inited&&(t.mMarquee.clear(),t.mCenter.clear(),t.mTL.clear())},t.showMessage=function(n,i,r){(i===void 0&&(i=!0),r===void 0&&(r=1),t.s_Inited)&&(i&&(n=u.lang(n)),n)&&(0==r?t.mMarquee.showMessage(n):1==r?t.mCenter.showMessage(n):2==r&&t.mTL.showMessage(n))},t.log=function(n){t.s_Inited&&t.mTL.showMessage('<span style="#ff7dff">'+n+"<\/span>")},t.s_Inited=!1,t.mMarquee=null,t.mCenter=null,t.mTL=null,t}(pr),cot=function(n){function t(){this.creater=null;this.name=null;this.icon=null;this.gameType=0;this.bmType=0;this.bmItemID=0;this.unionID=0;this.zdID=0;this.C_Bmf=0;t.__super.call(this)}r(t,"games.cores.dataServices.matchSvc.mtt.S_Mtt_List",n);var i=t.prototype;return i.recyle=function(){n.prototype.recyle.call(this);this.creater=this.name=this.icon="";this.gameType=this.bmType=this.bmItemID=0;this.unionID=this.zdID=0;this.C_Bmf=0},i.read=function(n,t){this.name=n.getString();this.creater=n.getString();this.icon=n.getString();this.gameType=n.getUint8();this.bmType=n.getUint8();this.C_Bmf=n.getUint32()+n.getUint32();this.bmItemID=n.getUint32();this.unionID=n.getUint32();this.zdID=n.getUint32();this.readUpdate(n,t)},i.getCost=function(){if(this.Flag.yjs_na)return"N/A";if(this.bmItemID>0){var n=gi.getTicket(this.bmItemID);return n.getVal(this.bmType)+"/"+n.name}return this.C_Bmf},i.getItemPrice=function(){if(this.Flag.yjs_na)return 0;if(this.bmItemID>0){var n=gi.getTicket(this.bmItemID);return n.getVal(this.bmType)}return this.C_Bmf},t}(ny),lot=function(n){function t(){this.myRank=0;this.myScore=0;this.myFh=0;this.myZg=0;this.myCg=0;this.nextTime=0;t.__super.call(this)}r(t,"games.cores.dataServices.matchSvc.mtt.S_Mtt_Detail_Room",n);var i=t.prototype;return i.read=function(n){this.readBase(n);this.myRank=n.getUint16();this.myScore=n.getUint32();this.myFh=n.getUint8();this.myCg=n.getUint8();this.myZg=n.getUint8();this.nextTime=n.getUint16();n.bytesAvailable&&(this.gameType=n.getUint8())},i.getBmStr=function(){var t=u.lang("resType_"+this.bmType),n;return this.bmItemID>0?(n=gi.getTicket(this.bmItemID),n.getVal(this.bmType)+t+"/"+n.name):this.bmVal+this.bmSerVal+t},t}(iy),gl=function(n){function t(n){this.Cookie=null;t.__super.call(this,n);this.Cookie=this.getCookie();this.Cookie||(this.Cookie=new dg);this.Cookie.tzData||(this.Cookie.tzData=new rh,this.Cookie.tzData.val=ot.YJS_MAIN.OtherCfgs[0].data[0].min);var u=!1,f=ot.YJS_MAIN.VecSliders,i=0,o=f.length,r,e=this.Cookie.sliders||{};for(i;i<o;i++)r=f[i],e.hasOwnProperty(r.id)||(e[r.id]=r.def,u=!0);u&&this.DoSave()}r(t,"games.windows.matches.creators.yujuesai.voes.CrtYjs_CkMain",n);var i=t.prototype;return i.DoSave=function(){this.Save(this.Cookie)},t}(nu),na=function(n){function t(){this.id=0;this.displayid=0;this.name=null;this.clubid=0;this.gold_value=0;this.score_value=0;this.drawflag=0;this.cangive=0;this.exchange=0;t.__super.call(this)}r(t,"games.cores.dataServices.bag.S_Ticket",n);var u=t.prototype;return i.imps(u,{"FioLibs.interfaces.IFio_Recyle":!0}),u.recyle=function(){this.id=this.displayid=0;this.name="";this.clubid=this.gold_value=this.score_value=this.drawflag=this.cangive=this.exchange=0},u.getVal=function(n){return 0==n?this.gold_value:this.score_value},u.read=function(n){this.id=n.getUint32();this.displayid=n.getUint32();this.name=n.getString();this.clubid=n.getUint32();this.gold_value=n.getUint32();this.score_value=n.getUint32();this.drawflag=n.getUint32();this.cangive=n.getUint8()},t}(en),a=function(n){function t(){t.__super.call(this,t)}return r(t,"FioLibs.core.Fio",n),t.NumToStr=function(n,i){return i===void 0&&(i=0),9==i&&n>0&&(n="+"+n),t.mNumType=i%3,0==t.mNumType?String(n).replace(/(\d{1,3})(?=(\d{3})+(\b|\D))/gi,"$1,"):String(n).replace(/(\d+)/gi,t.replaceNum)},t.replaceNum=function(){var i=arguments[0],n,r;if(i>9999)if(n=0,r=2,1==t.mNumType){for(n;n<r;n++)if(i>=t.mVecNumRates[n])return(10*i/t.mVecNumRates[n]>>0)/10+t.mVecNumUnits[n]}else{for(t.s_HelpTimeVecStrs.length=0,n;n<r;n++)i>=t.mVecNumRates[n]&&(t.s_HelpTimeVecStrs.push((i/t.mVecNumRates[n]>>0)+t.mVecNumUnits[n]),i=i%t.mVecNumRates[n]);return i>0&&t.s_HelpTimeVecStrs.push(i),t.s_HelpTimeVecStrs.join("")}return i},t.toK=function(n){return n>=1e3?(n/1e3).toFixed(1).replace(/[.]?0+$/g,"")+"K":n+""},t.getFullTimeStr=function(n){return(n<10?"0":"")+n},t.G2S=function(n,i){if(i===void 0&&(i=0),t.mDate.setTime(n*1e3),t.s_HelpTimeVecStrs.length=0,t.s_HelpTimeVecStrs.push(t.mDate.getFullYear()+t.mVecDateUnits[0]),t.s_HelpTimeVecStrs.push(1+t.mDate.getMonth()+t.mVecDateUnits[1]),t.s_HelpTimeVecStrs.push(t.mDate.getDate()+t.mVecDateUnits[2]),t.s_HelpTimeVecStrs.push(t.mVecDateUnits[3]),i>0){var r=1==i||4==i?":":".";t.s_HelpTimeVecStrs.push(t.getFullTimeStr(t.mDate.getHours())+r);i<4?(t.s_HelpTimeVecStrs.push(t.getFullTimeStr(t.mDate.getMinutes())+r),t.s_HelpTimeVecStrs.push(t.getFullTimeStr(t.mDate.getSeconds()))):t.s_HelpTimeVecStrs.push(t.getFullTimeStr(t.mDate.getMinutes()))}return t.s_HelpTimeVecStrs.join("")},t.S2G=function(n,i){i===void 0&&(i=0);n=n.replace(/(-)/gi,"/");var r=Date.parse(n);return(r=r/1e3>>0,0==i)?r:t.G2S(r,1)},t.D2G=function(n){n=n.replace(/(-)/gi,"/");var i=Date.parse(n);return i=i/1e3/t.s_Day>>0,i+=1,i*t.s_Day>>0},t.GTos=function(n,i){return i===void 0&&(i=!1),t.s_HelpTimeVecStrs.length=0,t.s_HelpTimeVecStrs.push(t.getStrDate(n,i)),t.s_HelpTimeVecStrs.push(t.getStrHM(n)),t.s_HelpTimeVecStrs.join(" ")},t.getDayGap=function(n,t){var i=FioLibs.core.Fio.D2G(FioLibs.core.Fio.G2S(n)),r=FioLibs.core.Fio.D2G(FioLibs.core.Fio.G2S(t));return(r-i)/86400>>0},t.getStrDate=function(n,i,r){return(i===void 0&&(i=!1),r===void 0&&(r="-"),t.mDate.setTime(n*1e3),i)?t.mDate.getFullYear()+r+(1+t.mDate.getMonth())+r+t.mDate.getDate():1+t.mDate.getMonth()+r+t.mDate.getDate()},t.getStrHM=function(n,i){var u,r;return i===void 0&&(i=!1),u=n,i&&(r=n%100,0!=r&&(n+=100-r)),t.mDate.setTime(n*1e3),n,t.mDate.getHours()+":"+t.getFullTimeStr(t.mDate.getMinutes())},t.getIndexDate=function(n){return t.mDate.setTime(n*1e3),(1+t.mDate.getMonth())*100+t.mDate.getDate()},t.getStrSeconds=function(n,i){var u,r,f;return(i===void 0&&(i=0),u=n/3600>>0,r=n%3600>>0,1==i)?(f="",u>0&&(f=u+"h"),r=Math.ceil(r/60),(r>0||0==n)&&(f+=(u>0?t.getFullTimeStr(r):r)+"m"),f):u>0?u+(r/360>>0)/10+"h":Math.ceil(r/60)+"m"},t.getDate=function(n){return(n===void 0&&(n="#ff99ff"),n)?'<span style="color:'+n+'">['+t.G2S(c.now()/1e3)+"]<\/span>":t.G2S(c.now()/1e3,1)},t.getNowStr=function(n){return(n===void 0&&(n=0),t.mDate.setTime(c.now()),t.s_HelpTimeVecStrs.length=0,2==n||3==n)?(t.s_HelpTimeVecStrs.push(t.getFullTimeStr(t.mDate.getHours())),t.s_HelpTimeVecStrs.push(t.getFullTimeStr(t.mDate.getMinutes())),3==n&&t.s_HelpTimeVecStrs.push(t.getFullTimeStr(t.mDate.getSeconds())),t.s_HelpTimeVecStrs.join(":")):(t.s_HelpTimeVecStrs.push(t.mDate.getFullYear()+"/"+(1+t.mDate.getMonth())+"/"+t.mDate.getDate()+" "),t.s_HelpTimeVecStrs.push(t.getFullTimeStr(t.mDate.getHours())),t.s_HelpTimeVecStrs.push("."),t.s_HelpTimeVecStrs.push(t.getFullTimeStr(t.mDate.getMinutes())),1==n&&(t.s_HelpTimeVecStrs.push("."),t.s_HelpTimeVecStrs.push(t.getFullTimeStr(t.mDate.getSeconds()))),t.s_HelpTimeVecStrs.join(""))},t.getNowDate=function(n){n===void 0&&(n=!1);var i=c.now();return n?(i=i/1e3/t.s_Day>>0,i*t.s_Day>>0):(t.mDate.setTime(i),t.s_HelpTimeVecStrs.length=0,t.s_HelpTimeVecStrs.push(t.mDate.getFullYear()),t.s_HelpTimeVecStrs.push(t.getFullTimeStr(1+t.mDate.getMonth())),t.s_HelpTimeVecStrs.push(t.getFullTimeStr(t.mDate.getDate())),t.s_HelpTimeVecStrs.join("-"))},t.toTimeS_E=function(n){var o,e;t.mDay.setTime(c.now());var r=t.mDay.getUTCFullYear(),u=t.mDay.getUTCMonth()+1,s=t.mDay.getUTCDate(),i=0,f=0;switch(n){case 1e3:f=FioLibs.core.Fio.D2G(r+"/"+u+"/1");i=FioLibs.core.Fio.D2G(r+"/"+u+"/"+s)+t.s_Day;break;case 1001:o=r;e=u-1;0==e&&(o-=1,e=12);f=FioLibs.core.Fio.D2G(o+"/"+e+"/1");i=FioLibs.core.Fio.D2G(r+"/"+u+"/1");break;default:i=FioLibs.core.Fio.D2G(r+"/"+u+"/"+s);n<0?f=i+n*t.s_Day:(f=i-t.s_Day*n,i+=t.s_Day)}return{s:f,e:i}},t.getDT=function(n,i){var r=FioLibs.core.Fio.D2G(n+"/"+i+"/1"),u,f,e;return t.mDate.setTime(r*1e3),u=t.mDate.getDay(),i+=1,13==i&&(n+=1,i=1),f=FioLibs.core.Fio.D2G(n+"/"+i+"/1"),e=(f-r)/t.s_Day>>0,{w:u,t:e}},t.getResTime=function(n){return n>=t.s_Day?(n/t.s_Day>>0)+t.mVecTimeUnits0[3]:(n/t.s_H>>0)+t.mVecTimeUnits0[2]+(n%t.s_H/60>>0)+t.mVecTimeUnits0[1]},t.getTimeUnits=function(n){return t.s_HelpTimeUnits[0]=n/t.s_Day>>0,t.s_HelpTimeUnits[1]=(n-t.s_Day*t.s_HelpTimeUnits[0])/t.s_H>>0,t.s_HelpTimeUnits[2]=n%t.s_H/60>>0,t.s_HelpTimeUnits[3]=n%60,t.s_HelpTimeUnits},t.FormatTime=function(n,i){var f,s,u,o,c;if(i===void 0&&(i=0),i=i%4,2==i)return n<=60?n+t.mVecTimeUnits0[0]:n<=t.s_H?Math.ceil(n/60)+t.mVecTimeUnits0[1]:n<=t.s_Day?Math.ceil(n/t.s_H)+t.mVecTimeUnits0[2]:(n/t.s_Day>>0)+t.mVecTimeUnits0[3];f=1==i?t.mVecTimeUnits1:t.mVecTimeUnits0;s=f[f.length-1];t.s_HelpTimeVecStrs.length=0;var h=t.getTimeUnits(n),e=0,r=h[0];for(r>0&&(t.s_HelpTimeVecStrs.push(r+f[3]),e=1),u=1,c=4-(3==i?1:0),u;u<c;u++)r=h[u],o=f[3-u],r>0?(e>0?t.s_HelpTimeVecStrs.push((r<10?"0"+r:r)+o):t.s_HelpTimeVecStrs.push(r+o),e+=1):e>0&&(t.s_HelpTimeVecStrs.push("00"+o),e+=1);return t.s_HelpTimeVecStrs.join(s)},t.FormatTime2=function(n){return n>=t.s_Day?(n/t.s_Day>>0)+t.s_FormatTime2_Units[0]+(n!=t.s_Day?(n%t.s_Day/t.s_H>>0)+t.s_FormatTime2_Units[1]:""):n>=t.s_H?(n/t.s_H>>0)+t.s_FormatTime2_Units[1]+(n!=t.s_H?(n%t.s_H/60>>0)+t.s_FormatTime2_Units[2]:""):n>=60?(n/60>>0)+t.s_FormatTime2_Units[2]+(n!=60?(n%60>>0)+t.s_FormatTime2_Units[3]:""):(n%60>>0)+t.s_FormatTime2_Units[3]},t.FormatTime3=function(n){return n>=t.s_Day?(n/t.s_Day>>0)+t.s_FormatTime3_Units[0]+(n!=t.s_Day?(n%t.s_Day/t.s_H>>0)+t.s_FormatTime3_Units[1]:""):n>=t.s_H?(n/t.s_H>>0)+t.s_FormatTime3_Units[1]+(n!=t.s_H?(n%t.s_H/60>>0)+t.s_FormatTime3_Units[2]:""):n>=60?(n/60>>0)+t.s_FormatTime3_Units[2]+(n!=60?(n%60>>0)+t.s_FormatTime3_Units[3]:""):(n%60>>0)+t.s_FormatTime3_Units[3]},t.FormatTime4=function(n){var i,r,u;return t.s_HelpTimeVecStrs.length=0,i=n/t.s_H>>0,i>0&&t.s_HelpTimeVecStrs.push(t.formatValue(i)),r=n%t.s_H/60>>0,t.s_HelpTimeVecStrs.push(t.formatValue(r)),u=n%60>>0,t.s_HelpTimeVecStrs.push(t.formatValue(u)),t.s_HelpTimeVecStrs.join(":")},t.formatValue=function(n){return(n<10?"0":"")+String(n)},t.ToHrefColor=function(n,t){return t===void 0&&(t="ffcc33"),n=n.replace(/(\<a\s*href\s*=)/gmi,"<font color='#"+t+"'><u>$1"),n.replace(/(<\s*\/\s*a\s*>)/gmi,"$1<\/u><\/font>")},t.getClassName=function(n){var t=n.constructor;return i.__isClass(n)&&(t=n),"["+t.replace(/^\[class (.children())\]$/gi,"$1")+"]"},t.replace=function(n){for(var i=[],r=1,u=arguments.length;r<u;r++)i.push(arguments[r]);return n&&n.length?(i.length>0&&(t.mReplaceParams=i[0]instanceof Array?i[0]:i,n=n.replace(/{(\d+)}/gi,t.doReplace),t.mReplaceParams=null),n):""},t.doReplace=function(){return t.mReplaceParams[arguments[1]]},t.getStartCoords=function(n,t,i,r){return n-.5*((t+i)*r-i)>>0},t.stringToColor=function(n){return null!=n&&(n=n.replace(/^(0x){0,1}/gi,""),n=n.replace(/^(#){0,1}/gi,""),1==n.match(/^[0-9a-f]{1,}$/gi).length)?uint("0x"+n):0},t.U2V=function(n,i,r){i>32&&(i=32);r||(r=t.s_HelpVecV,r.length=0);var u=0;for(u;u<i;u++)r[u]=(n&1<<u)>0;return r},t.V2U=function(n){var t;if(n&&(t=n.length,t>0)){t>32&&(t=32);var i=0,u=0,r=0;for(i;i<t;i++)u=!0==n[i]?1:0,r=r|u<<i;return r}return 0},t.getCharLength=function(n){if(n!=null&&n.length>0){var t=n.match(/[\u4e00-\u9fa5]/gmi),i=t?t.length:0;return n.length+i}return 0},t.getRadiusPos=function(n,t,i){return i=i||{},t=t*Math.PI/180,i.x=Math.cos(t)*n>>0,i.y=Math.sin(t)*n>>0,i},t.getAngle=function(n,t,i,r,u){u===void 0&&(u=!0);var e=i-n,o=r-t,f=Math.atan2(o,e),s=f*180/Math.PI>>0;return u?s:f},t.toNumber=function(n,t,i){return(i===void 0&&(i=0),n||(n=0),t)?0==i?Math.round(n):1==i?Math.ceil(n):n>>0:Math.round(n*100)/100},t.getNumber=function(){var t=arguments,n=Number(t[0]);return n||(n=0),n},t.getAreaColor=function(n,t){return(n=Number(n),n||(n=0),n>=t.best.data)?t.best.label:n>=t.great.data?t.great.label:n>=t.normal.data?t.normal.label:t.low.label},t.ToColorStr=function(n,i){return i===void 0&&(i=!0),'<span style="color:'+t.getColor(n)+'">'+t.NumToStr(n,i?9:0)+"<\/span>"},t.getColor=function(n){return(n=t.getNumber(n),n>0)?"#ff5543":n<0?"#4bc65c":"#64ace9"},t.getPassTime=function(){var n=c.now(),i;return 0==t.__lastT&&(t.__lastT=n),i=n-t.__lastT,t.__lastT=n,i},t.getBBStr=function(n,i){i||(i=0);var r;return r=n>0?t.toFixed(i/n,1)+"BB":""+i,t.NumToStr(r)},t.toBackNum=function(n){return n.replace(/(\d{4,4})/gi,"$1 ")},t.toFixed=function(n,t){var o=n.toFixed(t),u=o.split("."),f=u[0],i=u[1],r=0,t=i.length,e=0;for(r;r<t;r++)if(e=t-1-r,"0"==i.substr(t-1-r,1))i=i.substring(0,e);else break;return i?f+"."+i:f},t.StopInsOp=function(n,t){if(t===void 0&&(t=1e3),n){var r=n.hasOwnProperty("disabled");if(t<1){r?n.disabled=!1:n.mouseEnabled=!0;i.systemTimer.clearAll(n);return}t<30&&(t=30);r?n.disabled=!0:n.mouseEnabled=!1;i.systemTimer.once(t,n,function(){r?n.disabled=!1:n.mouseEnabled=!0},null,!1)}},t.AutoTextSize=function(n,t,i){if(n)for(n.fontSize=t,n.typeset();n.width+4>i;)n.fontSize-=1,n.typeset()},t.mNumType=0,t.RATE_DOT=10,t.s_Day=86400,t.s_H=3600,t.s_M=60,t.s_HelpTULen=4,t.mReplaceParams=null,t.mAC_Low="#70c53d",t.mAC_Ava="#a2a2a2",t.mAC_Best="#edcc48",t.COLOR_WIN="#ff5543",t.COLOR_LOW="#4bc65c",t.COLOR_ZERO0="#64ace9",t.__lastT=0,d(t,["s_HelpTimeVecStrs",function(){return this.s_HelpTimeVecStrs=[]},"mRegNum1",function(){return this.mRegNum1=/(\d{1,3})(?=(\d{3})+(\b|\D))/gi},"mRegNum2",function(){return this.mRegNum2=/(\d+)/gi},"mVecNumUnits",function(){return this.mVecNumUnits=["亿","万"]},"mVecNumRates",function(){return this.mVecNumRates=[1e8,1e4]},"mVecDateUnits",function(){return this.mVecDateUnits=["-","-"," "," "]},"mDate",function(){return this.mDate=new Date},"regTime",function(){return this.regTime=/(-)/gi},"mStartTime",function(){return this.mStartTime=(new Date).getTime()},"mDay",function(){return this.mDay=new Date},"mVecTimeUnits0",function(){return this.mVecTimeUnits0=["秒","分","时","天",""]},"mVecTimeUnits1",function(){return this.mVecTimeUnits1=["","","","",":"]},"s_HelpTimeUnits",function(){return this.s_HelpTimeUnits=[]},"s_FormatTime2_Units",function(){return this.s_FormatTime2_Units=["天","时","分","秒"]},"s_FormatTime3_Units",function(){return this.s_FormatTime3_Units=["d","h","m","s"]},"mRegHref1",function(){return this.mRegHref1=/(\<a\s*href\s*=)/gmi},"mRegHref2",function(){return this.mRegHref2=/(<\s*\/\s*a\s*>)/gmi},"mRegClassName",function(){return this.mRegClassName=/^\[class (.*)\]$/gi},"mRegReplace",function(){return this.mRegReplace=/{(\d+)}/gi},"regColor1",function(){return this.regColor1=/^(0x){0,1}/gi},"regColor2",function(){return this.regColor2=/^(#){0,1}/gi},"regColor3",function(){return this.regColor3=/^[0-9a-f]{1,}$/gi},"s_HelpVecV",function(){return this.s_HelpVecV=[]},"reg_Chars",function(){return this.reg_Chars=/[\u4e00-\u9fa5]/gmi},"mRegNum",function(){return this.mRegNum=/(\d{4,4})/gi}]),t}(pr),ufi=function(n){function t(){t.__super.call(this,null)}return r(t,"games.cores.MgrIosShop",n),t.Init=function(){for(t.mInited||(et.regShellFun("oTj_OnOrder",t.oTj_OnOrder),f.Deal.regist(671,t.get671,t),t.mQueues=[],t.mInited=!0);t.mQueues.length>0;)l.recyle(t.mQueues.shift());t.mProcessing=!1;et.iosPayUn()},t.reqBuy=function(n){oi.notify(3,1);et.iosPayReq(n,f.Account.Detail.SID)},t.oTj_OnOrder=function(n){var r=JSON.parse(n),i=l.get(gg);i.state=r.state;i.goodID=r.goodID;i.dealID=r.dealID;i.order=r.receipt;t.mQueues.push(i);t.checkQueues()},t.checkQueues=function(){if(!t.mProcessing&&t.mQueues.length>0){t.mProcessing=!0;var n=t.mQueues.shift();0==n.state?(oi.notify(3,2),f.Deal.reqIosPay(n.dealID,n.order,et.Mac)):(n.state==2?ut.showMessage("shop_pay_err_1"):pt.Alert(u.lang("shop_pay_err_0")),t.get671(0,n.dealID));l.recyle(n)}else t.mProcessing=!1,oi.notify(3,0)},t.get671=function(n,i){n<2&&et.iosPayClose(i);t.checkQueues()},t.mInited=!1,t.mQueues=null,t.mProcessing=!1,t}(pr),fw=function(n){function t(){this.roomID=NaN;this.cType=0;this.gameType=0;this.name=null;this.icon=null;this.creater=null;this.clubName=null;this.tStart=0;this.tTotal=0;this.handNum=0;this.jNum=0;this.score=NaN;t.__super.call(this)}r(t,"games.cores.dataServices.brands.S_Score_Desk",n);var i=t.prototype;return i.recyle=function(){n.prototype.recyle.call(this);this.name=this.icon=this.creater=""},i.parse=function(n,t){this.roomID=n.getUint32();this.cType=n.getByte();this.gameType=n.getByte();this.name=n.getString();this.icon=n.getString();this.creater=n.getString();this.clubName=n.getString();this.tStart=n.getUint32();this.tTotal=n.getUint32();this.littleBB=n.getFloat32();this.ante=n.getFloat32();this.setFlag(n.getUint32());this.handNum=n.getUint32();t&&(this.jNum=n.getUint32());this.score=n.getFloat64()},t.readVec=function(n,i){var u=[],r=0,e=n.getUint16(),f;for(r;r<e;r++)u[r]=f=l.get(t),f.parse(n,i);return u},t}(nl),aot=function(n){function i(){this.ClubID=0;this.numOnline=0;this.numTotal=0;this.Score=NaN;this.Gold=NaN;this.JP=NaN;this.VecMems=null;this.mDicMems=null;this.VecMems=[];this.mDicMems={};i.__super.call(this)}r(i,"games.cores.dataServices.club.S_Club_MemSum",n);var t=i.prototype;return t.recyle=function(){n.prototype.recyle.call(this);this.ClubID=this.numOnline=this.numTotal=this.Score=this.Gold=0;this.clearMems()},t.clearMems=function(){for(var n in this.mDicMems)delete this.mDicMems[n];while(this.VecMems.length>0)l.recyle(this.VecMems.shift())},t.readClubBase=function(n){return this.numOnline=n.getUint32(),this.numTotal=n.getUint32(),this.Score=n.getFloat64(),this.Gold=n.getFloat64(),this.readCredits(n),this.JP=n.getFloat64(),this},t.readMems=function(n){var i=0,r=n.readUint16(),t;for(i;i<r;i++)t=l.get(wl),t.cID=this.ClubID,t.readMemVo(n),this.VecMems.push(t),this.mDicMems[t.sID]=t},t.updateJob=function(n,t){var i=this.mDicMems[n];i&&(i.job=t)},t.updateNote=function(n,t){var i=this.mDicMems[n];i&&(i.note=t)},t.delMem=function(n){var t=this.mDicMems[n],i;t&&(delete this.mDicMems[n],i=this.VecMems.indexOf(t),i>-1&&(this.VecMems.splice(i,1),l.recyle(t)))},t.updateCredit=function(n,t,i){var r=this.mDicMems[t];r&&(0==n?r.creTotal=i:1==n?r.creUsed=i:2==n?r.creZr=i:3==n&&(r.creToday=i))},t.updateGold=function(n,t){var i=this.mDicMems[n];i&&(i.gold=t)},t.updateScore=function(){},i}(bc),ew=function(n){function t(){this.sID=0;this.nick=null;this.note=null;this.icon=null;this.iconStyle=0;this.startState=0;this.isSelf=!1;t.__super.call(this)}r(t,"games.cores.dataServices.matches.S_Player",n);var i=t.prototype;return i.parse=function(t){this.sID=t.getUint32();this.nick=t.getString();this.note=t.getString();this.icon=t.getString();this.iconStyle=t.getUint16();this.startState=t.getByte();n.prototype.parse.call(this,t)},t}(uy),te=function(n){function t(){this._id=0;this._url=null;this._cpuMemory=0;this._gpuMemory=0;this._destroyed=!1;this._referenceCount=0;this.lock=!1;this.name=null;t.__super.call(this);this._id=++t._uniqueIDCounter;this._destroyed=!1;this._referenceCount=0;t._idResourcesMap[this.id]=this;this.lock=!1}r(t,"laya.resource.Resource",n);var u=t.prototype;return i.imps(u,{"laya.resource.ICreateResource":!0,"laya.resource.IDestroy":!0}),u._setCPUMemory=function(n){var i=n-this._cpuMemory;this._cpuMemory=n;t._addCPUMemory(i)},u._setGPUMemory=function(n){var i=n-this._gpuMemory;this._gpuMemory=n;t._addGPUMemory(i)},u._setCreateURL=function(n){if(n=ti.formatURL(n),this._url!==n){var i;this._url&&(i=t._urlResourcesMap[this._url],i.splice(i.indexOf(this),1),i.length===0&&delete t._urlResourcesMap[this._url]);n&&(i=t._urlResourcesMap[n],i||(t._urlResourcesMap[n]=i=[]),i.push(this));this._url=n}},u._addReference=function(n){n===void 0&&(n=1);this._referenceCount+=n},u._removeReference=function(n){n===void 0&&(n=1);this._referenceCount-=n},u._clearReference=function(){this._referenceCount=0},u._recoverResource=function(){},u._disposeResource=function(){},u._activeResource=function(){},u.destroy=function(){var n,i;this._destroyed||(this._destroyed=!0,this.lock=!1,this._disposeResource(),delete t._idResourcesMap[this.id],this._url&&(n=t._urlResourcesMap[this._url],n&&(n.splice(n.indexOf(this),1),n.length===0&&delete t._urlResourcesMap[this._url]),i=dt.getRes(this._url),i==this&&delete dt.loadedMap[this._url]))},e(0,u,"id",function(){return this._id}),e(0,u,"gpuMemory",function(){return this._gpuMemory}),e(0,u,"url",function(){return this._url}),e(0,u,"cpuMemory",function(){return this._cpuMemory}),e(0,u,"destroyed",function(){return this._destroyed}),e(0,u,"referenceCount",function(){return this._referenceCount}),e(1,t,"cpuMemory",function(){return this._cpuMemory},laya.events.EventDispatcher._$SET_cpuMemory),e(1,t,"gpuMemory",function(){return this._gpuMemory},laya.events.EventDispatcher._$SET_gpuMemory),t._addCPUMemory=function(n){this._cpuMemory+=n},t._addGPUMemory=function(n){this._gpuMemory+=n},t._addMemory=function(n,t){this._cpuMemory+=n;this._gpuMemory+=t},t.getResourceByID=function(n){return t._idResourcesMap[n]},t.getResourceByURL=function(n,i){return i===void 0&&(i=0),t._urlResourcesMap[n][i]},t.destroyUnusedResources=function(){var i,n;for(i in t._idResourcesMap)n=t._idResourcesMap[i],n.lock||n._referenceCount!==0||n.destroy()},t._uniqueIDCounter=0,t._idResourcesMap={},t._urlResourcesMap={},t._cpuMemory=0,t._gpuMemory=0,t}(fr),vot=function(n){function i(){this.index=0;this.icon=null;this.name=null;this.isShow=!1;this.DropState=0;this.cardType=0;this.score=NaN;this.safe=0;this.safePeifu=NaN;this.seatType=0;this.times=0;this.hands=[];this.bests=[];i.__super.call(this);this.actors=[]}r(i,"games.cores.dataServices.brands.S_ABrands_Player",n);var t=i.prototype;return t.recyle=function(){while(this.actors.length>0)l.recyle(this.actors.shift());while(this.hands.length>0)this.hands.shift();while(this.bests.length>0)this.bests.shift()},t.parse=function(n){this.index=n.getByte();this.icon=n.getString();this.name=n.getString();this.isShow=n.getByte()>0;this.DropState=n.getByte();this.score=n.getFloat64();this.safe=n.getFloat64();this.safePeifu=n.getFloat64();this.seatType=n.getByte();var t=0,i=n.getUint16(),r;for(t;t<i;t++)this.actors[t]=r=l.get(vtt),r.type=n.getByte(),r.value=n.getFloat64();for(this.cardType=n.getByte(),i=n.getUint16(),t=0;t<i;t++)this.hands[t]=n.getByte();for(i=n.getUint16(),t=0;t<i;t++)this.bests[t]=n.getByte();this.times=n.getByte()},t.getBase=function(){gt.vecStrs.length=0;var n=this.name+" ";return this.DropState>0&&(n+='<span style="color:#909090">('+u.lang("betState"+(5+this.DropState))+")<\/span>"),this.isShow&&(n+="("+u.lang("betState8")+")"),n.length>0&&gt.vecStrs.push(n+" "),this.cardType>0&&gt.vecStrs.push(u.lang("cardType"+this.cardType)),gt.vecStrs.join("  ")},t.getSafe=function(){return gt.vecStrs.length=0,(this.safe>0||this.safePeifu>0)&&(gt.vecStrs.push(gt.getResultStr2("pBrands_SafeUse",-this.safe)),gt.vecStrs.push(gt.getResultStr2("pBrands_SafeScore",this.safePeifu))),gt.vecStrs.join("  ")},t.getLck=function(){return gt.getResultStr(this.score)},i}(gt),wh=function(n){function t(){this.sID=0;this.Nick=null;this.iconID=null;t.__super.call(this)}return r(t,"games.cores.dataServices.login.S_Acc",n),t}(eh),yot=function(n){function t(){this.pot=NaN;this.jackpot=NaN;this.Flops=[];this.Label=null;this.mSafe=NaN;t.__super.call(this);this.Players=[]}r(t,"games.cores.dataServices.brands.S_ABrands_ADeal",n);var i=t.prototype;return i.recyle=function(){},i.getLck=function(){return gt.vecStrs.length=0,gt.vecStrs.push(u.lang("curNum",this.Label)),gt.vecStrs.push(u.lang("pBrands_Pot",gt.getResultStr(this.pot))),0!=this.mSafe&&gt.vecStrs.push(u.lang("pBrands_Safe",gt.getResultStr(this.mSafe))),0!=this.jackpot&&gt.vecStrs.push(u.lang("pBrands_Jack",gt.getResultStr(this.jackpot))),gt.vecStrs.join("  ")},i.parse=function(n,i,r){var u,f,e;for(this.Flops.length=0;this.Players.length>0;)l.recyle(this.Players.shift());for(this.Label=i,this.mSafe=r,this.pot=n.getFloat64(),this.jackpot=n.getFloat64(),u=0,f=0,f=n.getUint16(),u=0;u<f;u++)this.Flops[u]=n.getByte();for(f=n.getUint16(),u=0;u<f;u++)this.Players[u]=e=l.get(vot),e.parse(n);this.Players.sort(t.sortBrands)},t.sortBrands=function(n,t){return n.index<t.index?-1:n.index>t.index?1:0},t}(gt),pot=function(n){function t(){this.worker=null;this._useWorkerLoader=!1;t.__super.call(this);var n=this;this.worker=new Worker(t.workerPath);this.worker.onmessage=function(t){n.workerMessage(t.data)}}r(t,"laya.net.WorkerLoader",n);var i=t.prototype;return i.workerMessage=function(n){if(n)switch(n.type){case"Image":this.imageLoaded(n);break;case"Disable":t.enable=!1}},i.imageLoaded=function(n){var t,u,i,r;if(!n.dataType||n.dataType!="imageBitmap"){this.event(n.url,null);return}t=new uf(!0);u=t.source.getContext("2d");switch(n.dataType){case"imageBitmap":i=n.imageBitmap;t.size(i.width,i.height);u.drawImage(i,0,0)}console.log("load:",n.url);t._setGPUMemory(0);r=new fo;r.loadImageSource(t.source);this.event(n.url,r)},i.loadImage=function(n){this.worker.postMessage(n)},i._loadImage=function(n){function u(){laya.net.WorkerLoader.I.off(n,i,r)}var i=this,r;if(!this._useWorkerLoader||!t._enable){t._preLoadFun.call(i,n);return}n=ti.formatURL(n);r=function(r){if(u(),r)i.onLoaded(r);else t._preLoadFun.call(i,n)};laya.net.WorkerLoader.I.on(n,i,r);laya.net.WorkerLoader.I.loadImage(n)},e(1,t,"enable",function(){return t._enable},function(n){t._enable!=n&&(t._enable=n,n&&t._preLoadFun==null&&(t._enable=t.__init__()))}),t.__init__=function(){return t._preLoadFun!=null?!1:Worker?(t._preLoadFun=dt.prototype._loadImage,dt.prototype._loadImage=t.prototype._loadImage,t.I||(t.I=new t),!0):!1},t.workerSupported=function(){return Worker?!0:!1},t.enableWorkerLoader=function(){t._tryEnabled||(t.enable=!0,t._tryEnabled=!0)},t.I=null,t.workerPath="libs/workerloader.js",t._preLoadFun=null,t._enable=!1,t._tryEnabled=!1,t}(fr),ta=function(n){function i(){this._responseType=null;this._data=null;this._url=null;i.__super.call(this);this._http=new c.window.XMLHttpRequest}r(i,"laya.net.HttpRequest",n);var t=i.prototype;return t.send=function(n,t,i,r,u){var e,f,o;if(i===void 0&&(i="get"),r===void 0&&(r="text"),this._responseType=r,this._data=null,this._url=n,e=this,f=this._http,n=ti.getAdptedFilePath(n),f.open(i,n,!0),u)for(o=0;o<u.length;o++)f.setRequestHeader(u[o++],u[o]);else tt.isConchApp||(t&&typeof t!="string"?f.setRequestHeader("Content-Type","application/json"):f.setRequestHeader("Content-Type","application/x-www-form-urlencoded"));f.responseType=r!=="arraybuffer"?"text":"arraybuffer";f.onerror=function(n){e._onError(n)};f.onabort=function(n){e._onAbort(n)};f.onprogress=function(n){e._onProgress(n)};f.onload=function(n){e._onLoad(n)};f.send(t)},t._onProgress=function(n){n&&n.lengthComputable&&this.event("progress",n.loaded/n.total)},t._onAbort=function(){this.error("Request was aborted by user")},t._onError=function(){this.error("Request failed Status:"+this._http.status+" text:"+this._http.statusText)},t._onLoad=function(){var n=this._http,t=n.status!==undefined?n.status:200;t===200||t===204||t===0?this.complete():this.error("["+n.status+"]"+n.statusText+":"+n.responseURL)},t.error=function(n){this.clear();console.warn(this.url,n);this.event("error",n)},t.complete=function(){this.clear();var n=!0;try{this._data=this._responseType==="json"?JSON.parse(this._http.responseText):this._responseType==="xml"?bt.parseXMLFromString(this._http.responseText):this._http.response||this._http.responseText}catch(t){n=!1;this.error(t.message)}n&&this.event("complete",this._data instanceof Array?[this._data]:this._data)},t.clear=function(){var n=this._http;n.onerror=n.onabort=n.onprogress=n.onload=null},e(0,t,"url",function(){return this._url}),e(0,t,"http",function(){return this._http}),e(0,t,"data",function(){return this._data}),i}(fr),wot=function(n){function u(){this.mX=0;this.mY=0;this.mWidth=0;this.mHeight=0;this.mTex=null;this.mReqed=!1;this.mAutoSize=!1;this.mGrid=null;u.__super.call(this);this.doReset()}r(u,"FioLibs.displays.coms.FioScaleGraphic",n);var t=u.prototype;return t.doReset=function(){this.mAutoSize=!0;this.mTex=null;this.mGrid=null;this.mX=this.mY=this.mWidth=this.mHeight=0},t.syncSize=function(n,t){var i=!1;this.mAutoSize?(n!=this.mWidth&&(this.mWidth=n,i=!0),t!=this.mHeight&&(this.mHeight=t,i=!0)):(0==this.mWidth&&(this.mWidth=n,i=!0),0==this.mHeight&&(this.mHeight=t,i=!0));i&&(this.mReqed=!0)},t.destroy=function(){n.prototype.destroy.call(this);this.doReset()},t.loadImage=function(n,t,r,u,f,e){if(t===void 0&&(t=0),r===void 0&&(r=0),u===void 0&&(u=0),f===void 0&&(f=0),u+f>0&&this.size(u,f),n){this.texture=null;var o=i.loader.getRes(n);if(o||(o=new bi,o.load(n),i.loader.cacheRes(n,o)),o.getIsReady())this.onTexLoaded(o);else o.once("ready",this,this.onTexLoaded,[o]);typeof e=="function"&&(o.getIsReady()?e.call(this._sp):o.once("ready",this._sp,e))}else this.clear(),this.mReqed=!0,e.call(this._sp)},t.onTexLoaded=function(n){this.texture=n},t.size=function(n,t){this.width=n;this.height=t},t.autoSize=function(n){n!=this.mAutoSize&&(this.mAutoSize=n,n&&this.mTex&&(this.mReqed=!0))},t._renderEmpty=function(t,i,r,u){this.extChange();n.prototype._renderEmpty.call(this,t,i,r,u)},t._renderAll=function(t,i,r,u){this.extChange();n.prototype._renderAll.call(this,t,i,r,u)},t._renderOne=function(t,i,r,u){this.extChange();n.prototype._renderOne.call(this,t,i,r,u)},t._renderOneImg=function(t,i,r,u){this.extChange();n.prototype._renderOneImg.call(this,t,i,r,u)},t.extChange=function(n){if(n===void 0&&(n=!1),this.mReqed||n){if(this.mReqed=!1,!this.mTex||!this.mTex.bitmap)return;this.clear();var t=!1,u=this.mTex.sourceWidth>>0,f=this.mTex.sourceHeight>>0;if(this.mGrid){var i=this.mGrid[1]+this.mGrid[3]>>0,r=this.mGrid[0]+this.mGrid[2]>>0,e=i<=u,o=r<=f;t=e&&o;i+r==0&&(t=!1)}t?this.draw9Grid(this.mTex,this.mX,this.mY,this.mWidth,this.mHeight,this.mGrid):this.drawTexture(this.mTex,this.mX,this.mY,this.mWidth,this.mHeight);this._repaint()}},e(0,t,"height",function(){return this.mHeight},function(n){n=n>>0;n<0&&(n=0);(this.mHeight!==n||this.mAutoSize)&&(this.mAutoSize=!1,this.mHeight=n,this.mReqed=!0)}),e(0,t,"scaleGrids",function(){return this.mGrid},function(n){if(this.mGrid=n,this.mGrid){this.mGrid.length=5;var t=0,i=0;for(t;t<5;t++)i=this.mGrid[t],i<0&&(i=0),this.mGrid[t]=i>>0;i>1&&(this.mGrid[4]=1)}this.mTex&&(this.mReqed=!0)}),e(0,t,"width",function(){return this.mWidth},function(n){n=n>>0;n<0&&(n=0);(this.mWidth!==n||this.mAutoSize)&&(this.mAutoSize=!1,this.mWidth=n,this.mReqed=!0)}),e(0,t,"x",null,function(n){n=n>>0;n!=this.mX&&(this.mX=n,this.mReqed=!0)}),e(0,t,"texture",function(){return this.mTex},function(n){n?(this.mTex=n,this.syncSize(n.sourceWidth,n.sourceHeight),this.extChange(!0)):(this.mTex=null,this.clear())}),e(0,t,"y",null,function(n){n=n>>0;n!=this.mY&&(this.mY=n,this.mReqed=!0)}),u.LEN_GRID=5,u}(be),ow=function(n){function i(){this.url=null;this.loops=0;this.startTime=NaN;this.isStopped=!1;this.completeHandler=null;i.__super.call(this)}r(i,"laya.media.SoundChannel",n);var t=i.prototype;return t.play=function(){},t.stop=function(){this.completeHandler&&this.completeHandler.run()},t.pause=function(){},t.resume=function(){},t.__runComplete=function(n){n&&n.run()},e(0,t,"volume",function(){return 1},function(){}),e(0,t,"position",function(){return 0}),e(0,t,"duration",function(){return 0}),i}(fr),ffi=function(n){function t(){t.__super.call(this)}r(t,"laya.media.Sound",n);var i=t.prototype;return i.load=function(){},i.play=function(n,t){return n===void 0&&(n=0),t===void 0&&(t=0),null},i.dispose=function(){},e(0,i,"duration",function(){return 0}),t}(fr),bot=function(n){function t(){this.tStart=0;this.tPass=0;this.isTop=0;this.jjOption=0;this.jjVal=0;this.sitNum=0;this.startNum=0;this.YjsType=0;this.tFusai=0;this.tJuesai=0;this.C_Op=0;t.__super.call(this)}r(t,"games.cores.dataServices.matchSvc.mtt.S_Mtt_Detail_Win",n);var i=t.prototype;return i.read=function(n){this.readBase(n);this.tStart=n.getUint32();this.tPass=n.getInt32();this.isTop=n.getUint8();this.jjOption=n.getUint8();this.jjVal=n.getUint8();n.bytesAvailable&&(this.sitNum=n.getUint8(),this.startNum=n.getUint16(),this.YjsType=n.getUint8(),this.tFusai=n.getInt32(),this.tJuesai=n.getInt32());n.bytesAvailable&&(this.gameType=n.getUint8());this.updateType()},i.updateType=function(){var n=this.Flag.bm,t=this.Flag.yjs_na;switch(this.state){case 0:this.C_Op=t?8:n?this.Flag.yjs_qxbm?1:8:0;break;case 1:this.C_Op=t?n?3:4:n?3:2;break;case 2:this.C_Op=n?3:4}},t}(iy),dt=function(n){function t(){this._data=null;this._cache=!1;this._customParse=!1;this._constructParams=null;this._propertyParams=null;this._createCache=!1;this._url=null;this._type=null;this._http=null;this._useWorkerLoader=!1;this._filePath=null;this._fileType=null;t.__super.call(this)}r(t,"laya.net.Loader",n);var u=t.prototype;return u.load=function(n,i,r,u,f,e){if(r===void 0&&(r=!0),f===void 0&&(f=!1),e===void 0&&(e=!1),this._filePath=n,this._fileType=null,!n){this.onLoaded(null);return}if(this._url=n,n.indexOf("data:image")===0?i="image":n=ti.formatURL(n),this._type=i||(i=t.getTypeFromUrl(this._url)),this._cache=r,this._useWorkerLoader=e,this._data=null,e&&pot.enableWorkerLoader(),!f&&t.loadedMap[n]){this._data=t.loadedMap[n];this.event("progress",1);this.event("complete",this._data);return}if(u&&t.setGroup(n,u),t.parserMap[i]!=null){this._customParse=!0;t.parserMap[i]instanceof laya.utils.Handler?t.parserMap[i].runWith(this):t.parserMap[i].call(null,this);return}if(i==="image"||i==="htmlimage"||i==="nativeimage")return this._loadImage(n);if(i==="sound")return this._loadSound(n);if(i==="ttf")return this._loadTTF(n);switch(i){case"atlas":case"prefab":case"plf":this._fileType="json";break;case"font":this._fileType="xml";break;case"plfb":this._fileType="arraybuffer";break;default:this._fileType=i}var o=t.preLoadedMap[n];if(o){t.preLoadedMap[n]=null;delete t.preLoadedMap[n];this.onLoaded(o)}else{if(!this._http){this._http=new ta;this._http.on("progress",this,this.onProgress);this._http.on("error",this,this.onError);this._http.on("complete",this,this.onLoaded)}this._http.send(n,null,"get",this._fileType)}},u._loadTTF=function(n){n=ti.formatURL(n);var t=new gft;t.complete=h.create(this,this.onLoaded);t.load(n)},u._loadImage=function(n){function e(){var r=i;r&&(r.onload=null,r.onerror=null,delete t._imgCache[n])}var f,i,o,u,s,h,r;if(n=ti.formatURL(n),f=this,o=function(){e();f.event("error","Load image failed")},this._type==="nativeimage")u=function(){e();f.onLoaded(i)},i=new c.window.Image,i.crossOrigin="",i.onload=u,i.onerror=o,i.src=n,t._imgCache[n]=i;else if(s=bt.getFileExtension(n),s==="ktx"||s==="pvr"){u=function(t){var r=0;switch(s){case"ktx":r=5;break;case"pvr":r=12}i=new fo(0,0,r,!1,!1);i.wrapModeU=1;i.wrapModeV=1;i.setCompressData(t);i._setCreateURL(n);e();f.onLoaded(i)};h=new ta;h.on("error",null,o);h.on("complete",null,u);h.send(n,null,"get","arraybuffer")}else r=new c.window.Image,u=function(){var t=new fo(r.width,r.height,1,!1,!1);t.wrapModeU=1;t.wrapModeV=1;t.loadImageSource(r,!0);t._setCreateURL(n);e();f.onLoaded(t)},r.crossOrigin="",r.onload=u,r.onerror=o,r.src=n,t._imgCache[n]=r},u._loadSound=function(n){function u(){r();i.onLoaded(t)}function f(){r();t.dispose();i.event("error","Load sound failed")}function r(){t.offAll()}var t=new vi._soundClass,i=this;t.on("complete",this,u);t.on("error",this,f);t.load(n)},u.onProgress=function(n){this._type==="atlas"?this.event("progress",n*.3):this.event("progress",n)},u.onError=function(n){this.event("error",n)},u.onLoaded=function(n){var r,y,e,it,k,o,s,v,d,et,g;if(this._filePath=null,this._fileType=null,r=this._type,r=="plfb")this.parsePLFBData(n),this.complete(n);else if(r=="plf")this.parsePLFData(n),this.complete(n);else if(r==="image")y=new bi(n),y.url=this._url,this.complete(y);else if(r==="sound"||r==="htmlimage"||r==="nativeimage")this.complete(n);else if(r==="atlas")if(n.url||n._setContext){if(this._data.pics.push(n),this._data.toLoads.length>0)return this.event("progress",.3+1/this._data.toLoads.length*.6),this._loadImage(this._data.toLoads.pop());var l=this._data.frames,rt=this._url.split("?")[0],p=this._data.meta&&this._data.meta.prefix?this._data.meta.prefix:rt.substring(0,rt.lastIndexOf("."))+"/",ut=this._data.pics,ft=ti.formatURL(this._url),b=t.atlasMap[ft]||(t.atlasMap[ft]=[]);if(b.dir=p,k=1,this._data.meta&&this._data.meta.scale&&this._data.meta.scale!=1){k=parseFloat(this._data.meta.scale);for(o in l){var i=l[o],a=ut[i.frame.idx?i.frame.idx:0],f=ti.formatURL(p+o);a.scaleRate=k;s=bi._create(a,i.frame.x,i.frame.y,i.frame.w,i.frame.h,i.spriteSourceSize.x,i.spriteSourceSize.y,i.sourceSize.w,i.sourceSize.h,laya.net.Loader.getRes(f));t.cacheRes(f,s);s.url=f;b.push(f)}}else for(o in l)i=l[o],a=ut[i.frame.idx?i.frame.idx:0],f=ti.formatURL(p+o),s=bi._create(a,i.frame.x,i.frame.y,i.frame.w,i.frame.h,i.spriteSourceSize.x,i.spriteSourceSize.y,i.sourceSize.w,i.sourceSize.h,laya.net.Loader.getRes(f)),t.cacheRes(f,s),s.url=f,b.push(f);delete this._data.pics;this.complete(this._data)}else{if(!this._data){if(this._data=n,n.meta&&n.meta.image){var u=n.meta.image.split(","),ot=this._url.indexOf("/")>=0?"/":"\\",nt=this._url.lastIndexOf(ot),tt=nt>=0?this._url.substr(0,nt+1):"",h;for(c.onAndroid&&n.meta.compressTextureAndroid&&(h=".ktx"),c.onIOS&&n.meta.compressTextureIOS&&(h=".pvr"),e=0,it=u.length;e<it;e++)u[e]=h?tt+u[e].replace(".png",h):tt+u[e]}else u=[this._url.replace(".json",".png")];u.reverse();n.toLoads=u;n.pics=[]}return this.event("progress",.3+1/u.length*.6),this._loadImage(u.pop())}else if(r==="font")if(n._source)v=new set,v.parseFont(this._data,new bi(n)),d=this._url.split(".fnt")[0].split("/"),et=d[d.length-1],w.registerBitmapFont(et,v),this._data=v,this.complete(this._data);else return this._data=n,this.event("progress",.5),this._loadImage(this._url.replace(".fnt",".png"));else r==="prefab"?(g=new aet,g.json=n,this.complete(g)):this.complete(n)},u.parsePLFData=function(n){var u,i,r;for(u in n){r=n[u];switch(u){case"json":case"text":for(i in r)t.preLoadedMap[ti.formatURL(i)]=r[i];break;default:for(i in r)t.preLoadedMap[ti.formatURL(i)]=r[i]}}},u.parsePLFBData=function(n){var i,t,r;for(i=new lu(n),t=0,r=0,r=i.getInt32(),t=0;t<r;t++)this.parseOnePLFBFile(i)},u.parseOnePLFBFile=function(n){var i=0,r,u;r=n.getUTFString();i=n.getInt32();u=n.readArrayBuffer(i);t.preLoadedMap[ti.formatURL(r)]=u},u.complete=function(n){this._data=n;this._customParse?this.event("loaded",n instanceof Array?[n]:n):(t._loaders.push(this),t._isWorking||t.checkNext())},u.endLoad=function(n){n&&(this._data=n);this._cache&&t.cacheRes(this._url,this._data);this.event("progress",1);this.event("complete",this.data instanceof Array?[this.data]:this.data)},e(0,u,"url",function(){return this._url}),e(0,u,"data",function(){return this._data}),e(0,u,"cache",function(){return this._cache}),e(0,u,"type",function(){return this._type}),t.getTypeFromUrl=function(n){var i=bt.getFileExtension(n);return i?t.typeMap[i]:(console.warn("Not recognize the resources suffix",n),"text")},t.clearRes=function(n){var i,u,o,f,e,r;if(n=ti.formatURL(n),i=t.getAtlas(n),i){for(u=0,o=i.length;u<o;u++)f=i[u],e=t.getRes(f),delete t.loadedMap[f],e&&e.destroy();i.length=0;delete t.atlasMap[n];delete t.loadedMap[n]}else r=t.loadedMap[n],r&&(delete t.loadedMap[n],r instanceof laya.resource.Texture&&r.bitmap&&r.destroy())},t.clearTextureRes=function(n){n=ti.formatURL(n);var t=laya.net.Loader.getAtlas(n),i=t&&t.length>0?laya.net.Loader.getRes(t[0]):laya.net.Loader.getRes(n);i instanceof laya.resource.Texture&&i.disposeBitmap()},t.getRes=function(n){return t.loadedMap[ti.formatURL(n)]},t.getAtlas=function(n){return t.atlasMap[ti.formatURL(n)]},t.cacheRes=function(n,i){n=ti.formatURL(n);t.loadedMap[n]!=null?console.warn("Resources already exist,is repeated loading:",n):t.loadedMap[n]=i},t.setGroup=function(n,i){t.groupMap[i]||(t.groupMap[i]=[]);t.groupMap[i].push(n)},t.clearResByGroup=function(n){if(t.groupMap[n]){for(var r=t.groupMap[n],i=0,u=r.length,i=0;i<u;i++)t.clearRes(r[i]);r.length=0}},t.checkNext=function(){t._isWorking=!0;for(var r=c.now(),u=r,n=NaN;t._startIndex<t._loaders.length;)if(u=c.now(),t._loaders[t._startIndex].endLoad(),t._startIndex++,n=c.now()-r,n>t.maxTimeOut){console.warn("loader callback cost a long time:"+n+" url="+t._loaders[t._startIndex-1].url);i.systemTimer.frameOnce(1,null,t.checkNext);return}t._loaders.length=0;t._startIndex=0;t._isWorking=!1},t.TEXT="text",t.JSON="json",t.PREFAB="prefab",t.XML="xml",t.BUFFER="arraybuffer",t.IMAGE="image",t.SOUND="sound",t.ATLAS="atlas",t.FONT="font",t.TTF="ttf",t.PLF="plf",t.PLFB="plfb",t.HIERARCHY="HIERARCHY",t.MESH="MESH",t.MATERIAL="MATERIAL",t.TEXTURE2D="TEXTURE2D",t.TEXTURECUBE="TEXTURECUBE",t.ANIMATIONCLIP="ANIMATIONCLIP",t.AVATAR="AVATAR",t.TERRAINHEIGHTDATA="TERRAINHEIGHTDATA",t.TERRAINRES="TERRAIN",t.typeMap={ttf:"ttf",png:"image",jpg:"image",jpeg:"image",ktx:"image",pvr:"image",txt:"text",json:"json",prefab:"prefab",xml:"xml",als:"atlas",atlas:"atlas",mp3:"sound",ogg:"sound",wav:"sound",part:"json",fnt:"font",plf:"plf",plfb:"plfb",scene:"json",ani:"json",sk:"arraybuffer"},t.parserMap={},t.maxTimeOut=100,t.groupMap={},t.loadedMap={},t.atlasMap={},t._imgCache={},t._loaders=[],t._isWorking=!1,t._startIndex=0,t.preLoadedMap={},t}(fr),kot=function(n){function u(){this._destroyed=!1;this._templet=null;this._currentTime=NaN;this._currentFrameTime=NaN;this._playStart=NaN;this._playEnd=NaN;this._playDuration=NaN;this._overallDuration=NaN;this._stopWhenCircleFinish=!1;this._elapsedPlaybackTime=NaN;this._startUpdateLoopCount=NaN;this._currentAnimationClipIndex=0;this._currentKeyframeIndex=0;this._paused=!1;this._cacheFrameRate=0;this._cacheFrameRateInterval=NaN;this._cachePlayRate=NaN;this.isCache=!0;this.playbackRate=1;this.returnToZeroStopped=!1;u.__super.call(this);this._destroyed=!1;this._currentAnimationClipIndex=-1;this._currentKeyframeIndex=-1;this._currentTime=0;this._overallDuration=Number.MAX_VALUE;this._stopWhenCircleFinish=!1;this._elapsedPlaybackTime=0;this._startUpdateLoopCount=-1;this._cachePlayRate=1;this.cacheFrameRate=60;this.returnToZeroStopped=!1}r(u,"laya.ani.AnimationPlayer",n);var t=u.prototype;return i.imps(t,{"laya.resource.IDestroy":!0}),t._onTempletLoadedComputeFullKeyframeIndices=function(n,t,i){this._templet===i&&this._cachePlayRate===n&&this._cacheFrameRate===t&&this._computeFullKeyframeIndices()},t._computeFullKeyframeIndices=function(){return},t._onAnimationTempletLoaded=function(){this.destroyed||this._calculatePlayDuration()},t._calculatePlayDuration=function(){if(this.state!==0){var n=this._templet.getAniDuration(this._currentAnimationClipIndex);this._playEnd===0&&(this._playEnd=n);this._playEnd>n&&(this._playEnd=n);this._playDuration=this._playEnd-this._playStart}},t._setPlayParams=function(n,t){this._currentTime=n;this._currentKeyframeIndex=Math.floor(this.currentPlayTime/t+.01);this._currentFrameTime=this._currentKeyframeIndex*t},t._setPlayParamsWhenStop=function(n,t){this._currentTime=n;this._currentKeyframeIndex=Math.floor(n/t+.01);this._currentFrameTime=this._currentKeyframeIndex*t;this._currentAnimationClipIndex=-1},t._update=function(n){var r,t,i;if(this._currentAnimationClipIndex!==-1&&!this._paused&&this._templet){if(r=this._cacheFrameRateInterval*this._cachePlayRate,t=0,this._startUpdateLoopCount!==ni.loopCount&&(t=n*this.playbackRate,this._elapsedPlaybackTime+=t),i=this.playDuration,this._overallDuration!==0&&this._elapsedPlaybackTime>=this._overallDuration||this._overallDuration===0&&this._elapsedPlaybackTime>=i){this._setPlayParamsWhenStop(i,r);this.event("stopped");return}if(t+=this._currentTime,i>0){if(t>=i){if(this._stopWhenCircleFinish){this._setPlayParamsWhenStop(i,r);this._stopWhenCircleFinish=!1;this.event("stopped");return}t=t%i;this._setPlayParams(t,r);this.event("complete");return}this._setPlayParams(t,r)}else{if(this._stopWhenCircleFinish){this._setPlayParamsWhenStop(i,r);this._stopWhenCircleFinish=!1;this.event("stopped");return}this._currentTime=this._currentFrameTime=this._currentKeyframeIndex=0;this.event("complete")}}},t._destroy=function(){this.offAll();this._templet=null;this._destroyed=!0},t.play=function(n,t,i,r,u){if(n===void 0&&(n=0),t===void 0&&(t=1),i===void 0&&(i=2147483647),r===void 0&&(r=0),u===void 0&&(u=0),!this._templet)throw new Error("AnimationPlayer:templet must not be null,maybe you need to set url.");if(i<0||r<0||u<0)throw new Error("AnimationPlayer:overallDuration,playStart and playEnd must large than zero.");if(u!==0&&r>u)throw new Error("AnimationPlayer:start must less than end.");this._currentTime=0;this._currentFrameTime=0;this._elapsedPlaybackTime=0;this.playbackRate=t;this._overallDuration=i;this._playStart=r;this._playEnd=u;this._paused=!1;this._currentAnimationClipIndex=n;this._currentKeyframeIndex=0;this._startUpdateLoopCount=ni.loopCount;this.event("played");this._calculatePlayDuration();this._update(0)},t.playByFrame=function(n,t,i,r,u,f){n===void 0&&(n=0);t===void 0&&(t=1);i===void 0&&(i=2147483647);r===void 0&&(r=0);u===void 0&&(u=0);f===void 0&&(f=30);var e=1e3/f;this.play(n,t,i,r*e,u*e)},t.stop=function(n){n===void 0&&(n=!0);n?(this._currentTime=this._currentFrameTime=this._currentKeyframeIndex=0,this._currentAnimationClipIndex=-1,this.event("stopped")):this._stopWhenCircleFinish=!0},t.destroy=function(){},e(0,t,"playEnd",function(){return this._playEnd}),e(0,t,"templet",function(){return this._templet},function(n){this.state===0||this.stop(!0);this._templet!==n&&(this._templet=n,this._computeFullKeyframeIndices())}),e(0,t,"playStart",function(){return this._playStart}),e(0,t,"playDuration",function(){return this._playDuration}),e(0,t,"state",function(){return this._currentAnimationClipIndex===-1?0:this._paused?1:2}),e(0,t,"currentKeyframeIndex",function(){return this._currentKeyframeIndex}),e(0,t,"overallDuration",function(){return this._overallDuration}),e(0,t,"currentFrameTime",function(){return this._currentFrameTime}),e(0,t,"currentAnimationClipIndex",function(){return this._currentAnimationClipIndex}),e(0,t,"currentPlayTime",function(){return this._currentTime+this._playStart}),e(0,t,"cachePlayRate",function(){return this._cachePlayRate},function(n){this._cachePlayRate!==n&&(this._cachePlayRate=n,this._templet&&this._computeFullKeyframeIndices())}),e(0,t,"cacheFrameRate",function(){return this._cacheFrameRate},function(n){this._cacheFrameRate!==n&&(this._cacheFrameRate=n,this._cacheFrameRateInterval=1e3/this._cacheFrameRate,this._templet&&this._computeFullKeyframeIndices())}),e(0,t,"currentTime",null,function(n){if(this._currentAnimationClipIndex!==-1&&this._templet){if(n<this._playStart||n>this._playEnd)throw new Error("AnimationPlayer:value must large than playStartTime,small than playEndTime.");this._startUpdateLoopCount=ni.loopCount;var t=this._cacheFrameRateInterval*this._cachePlayRate;this._currentTime=n;this._currentKeyframeIndex=Math.floor(this.currentPlayTime/t);this._currentFrameTime=this._currentKeyframeIndex*t}}),e(0,t,"paused",function(){return this._paused},function(n){this._paused=n;n&&this.event("paused")}),e(0,t,"cacheFrameRateInterval",function(){return this._cacheFrameRateInterval}),e(0,t,"destroyed",function(){return this._destroyed}),u}(fr),fs=function(n){function u(){this.retryNum=1;this.retryDelay=500;this.maxLoader=5;this._loaders=[];this._loaderCount=0;this._resInfos=[];this._infoPool=[];this._maxPriority=5;this._failRes={};this._statInfo={count:1,loaded:1};u.__super.call(this);for(var n=0;n<this._maxPriority;n++)this._resInfos[n]=[]}var f,t;return r(u,"laya.net.LoaderManager",n),t=u.prototype,t.getProgress=function(){return this._statInfo.loaded/this._statInfo.count},t.resetProgress=function(){this._statInfo.count=this._statInfo.loaded=1},t.create=function(n,t,i,r,u,f,e,o){e===void 0&&(e=1);o===void 0&&(o=!0);this._create(n,!0,t,i,r,u,f,e,o)},t._create=function(n,t,i,r,u,f,e,o,s){var w,l,c,b,k;if(o===void 0&&(o=1),s===void 0&&(s=!0),n instanceof Array){var y=!0,a=n,v=a.length,p=0;for(r&&(w=h.create(r.caller,r.method,r.args,!1)),l=0;l<v;l++)c=a[l],typeof c=="string"&&(c=a[l]={url:c}),c.progress=0;for(l=0;l<v;l++)c=a[l],b=r?h.create(null,g,[c],!1):null,k=r||i?h.create(null,d,[c]):null,this._createOne(c.url,t,k,b,c.type||u,c.constructParams||f,c.propertyParams||e,c.priority||o,s);function d(n,t){p++;n.progress=1;t||(y=!1);p===v&&i&&i.runWith(y)}function g(n,t){var r,i,u,f;for(n.progress=t,r=0,i=0;i<v;i++)u=a[i],r+=u.progress;f=r/v;w.runWith(f)}}else this._createOne(n,t,i,r,u,f,e,o,s)},t._createOne=function(n,t,r,f,e,o,s,c,l){var a,v,y;if(c===void 0&&(c=1),l===void 0&&(l=!0),a=this.getRes(n),a)!t&&a instanceof laya.resource.Resource&&a._addReference(),f&&f.runWith(1),r&&r.runWith(a);else{if(v=bt.getFileExtension(n),e||(e=u.createMap[v]?u.createMap[v][0]:null),!e){this.load(n,r,f,e,c,l);return}if(y=dt.parserMap,!y[e]){this.load(n,r,f,e,c,l);return}this._createLoad(n,h.create(null,p),f,e,o,s,c,l,!0);function p(u){u&&(!t&&u instanceof laya.resource.Resource&&u._addReference(),u._setCreateURL(n));r&&r.runWith(u);i.loader.event(n)}}},t.load=function(n,t,r,e,o,s,h,c,l){var p=this,y,v,a;return(o===void 0&&(o=1),s===void 0&&(s=!0),c===void 0&&(c=!1),l===void 0&&(l=!1),n instanceof Array)?this._loadAssets(n,t,r,e,o,s,h):(y=dt.getRes(n),c||y==null?(v=n,n=cp.getFileLoadPath(n),n!=v&&e!=="nativeimage"?e="atlas":v=null,a=u._resMap[n],a?(t&&(v?t&&a._createListener("complete",this,this._resInfoLoaded,[v,t],!1,!1):t&&a._createListener("complete",t.caller,t.method,t.args,!1,!1)),r&&a._createListener("progress",r.caller,r.method,r.args,!1,!1)):(a=this._infoPool.length?this._infoPool.pop():new f,a.url=n,a.type=e,a.cache=s,a.group=h,a.ignoreCache=c,a.useWorkerLoader=l,a.originalUrl=v,t&&a.on("complete",t.caller,t.method,t.args),r&&a.on("progress",r.caller,r.method,r.args),u._resMap[n]=a,o=o<this._maxPriority?o:this._maxPriority-1,this._resInfos[o].push(a),this._statInfo.count++,this.event("progress",this.getProgress()),this._next())):i.systemTimer.frameOnce(1,null,function(){r&&r.runWith(1);t&&t.runWith(y instanceof Array?[y]:y);p._loaderCount||p.event("complete")}),this)},t._resInfoLoaded=function(n,t){t.runWith(dt.getRes(n))},t._createLoad=function(n,t,r,e,o,s,h,c,l){var y=this,v,a;return(h===void 0&&(h=1),c===void 0&&(c=!0),l===void 0&&(l=!1),n instanceof Array)?this._loadAssets(n,t,r,e,h,c):(v=dt.getRes(n),v!=null?i.systemTimer.frameOnce(1,null,function(){r&&r.runWith(1);t&&t.runWith(v);y._loaderCount||y.event("complete")}):(a=u._resMap[n],a?(t&&a._createListener("complete",t.caller,t.method,t.args,!1,!1),r&&a._createListener("progress",r.caller,r.method,r.args,!1,!1)):(a=this._infoPool.length?this._infoPool.pop():new f,a.url=n,a.type=e,a.cache=!1,a.ignoreCache=l,a.originalUrl=null,a.createCache=c,a.createConstructParams=o,a.createPropertyParams=s,t&&a.on("complete",t.caller,t.method,t.args),r&&a.on("progress",r.caller,r.method,r.args),u._resMap[n]=a,h=h<this._maxPriority?h:this._maxPriority-1,this._resInfos[h].push(a),this._statInfo.count++,this.event("progress",this.getProgress()),this._next())),this)},t._next=function(){var n,t,i;if(!(this._loaderCount>=this.maxLoader)){for(n=0;n<this._maxPriority;n++)for(t=this._resInfos[n];t.length>0;)if(i=t.shift(),i)return this._doLoad(i);this._loaderCount||this.event("complete")}},t._doLoad=function(n){function r(r){t.offAll();t._data=null;t._customParse=!1;i._loaders.push(t);i._endLoad(n,r instanceof Array?[r]:r);i._loaderCount--;i._next()}var t,i;this._loaderCount++;t=this._loaders.length?this._loaders.pop():new dt;t.on("complete",null,r);t.on("progress",null,function(t){n.event("progress",t)});t.on("error",null,function(){r(null)});i=this;t._constructParams=n.createConstructParams;t._propertyParams=n.createPropertyParams;t._createCache=n.createCache;t.load(n.url,n.type,n.cache,n.group,n.ignoreCache,n.useWorkerLoader)},t._endLoad=function(n,t){var r=n.url,f;if(t==null){if(f=this._failRes[r]||0,f<this.retryNum){console.warn("[warn]Retry to load:",r);this._failRes[r]=f+1;i.systemTimer.once(this.retryDelay,this,this._addReTry,[n],!1);return}dt.clearRes(r);console.warn("[error]Failed to load:",r);this.event("error",r)}this._failRes[r]&&(this._failRes[r]=0);delete u._resMap[r];n.originalUrl&&(t=dt.getRes(n.originalUrl));n.event("complete",t);n.offAll();this._infoPool.push(n);this._statInfo.loaded++;this.event("progress",this.getProgress())},t._addReTry=function(n){this._resInfos[this._maxPriority-1].push(n);this._next()},t.clearRes=function(n){dt.clearRes(n)},t.clearTextureRes=function(n){dt.clearTextureRes(n)},t.getRes=function(n){return dt.getRes(n)},t.cacheRes=function(n,t){dt.cacheRes(n,t)},t.setGroup=function(n,t){dt.setGroup(n,t)},t.clearResByGroup=function(n){dt.clearResByGroup(n)},t.clearUnLoaded=function(){for(var t,i,r,n=0;n<this._maxPriority;n++){for(t=this._resInfos[n],i=t.length-1;i>-1;i--)r=t[i],r&&(r.offAll(),this._infoPool.push(r));t.length=0}this._loaderCount=0;u._resMap={}},t.cancelLoadByUrls=function(n){if(n)for(var t=0,i=n.length;t<i;t++)this.cancelLoadByUrl(n[t])},t.cancelLoadByUrl=function(n){for(var f,t,i,r=0;r<this._maxPriority;r++)for(f=this._resInfos[r],t=f.length-1;t>-1;t--)i=f[t],i&&i.url===n&&(f[t]=null,i.offAll(),this._infoPool.push(i));u._resMap[n]&&delete u._resMap[n]},t._loadAssets=function(n,t,i,r,u,f,e){function b(n,i){a++;n.progress=1;i||(y=!1);a===l&&t&&t.runWith(y)}function k(n,t){var u,r,f,e;if(i!=null){for(n.progress=t,u=0,r=0;r<c.length;r++)f=c[r],u+=f.size*f.progress;e=u/v;i.runWith(e)}}var s,o,p,w;u===void 0&&(u=1);f===void 0&&(f=!0);var l=n.length,a=0,v=0,c=[],y=!0;for(s=0;s<l;s++)o=n[s],typeof o=="string"&&(o={url:o,type:r,size:1,priority:u}),o.size||(o.size=1),o.progress=0,v+=o.size,c.push(o),p=i?h.create(null,k,[o],!1):null,w=t||i?h.create(null,b,[o]):null,this.load(o.url,w,p,o.type,o.priority||1,f,o.group||e,!1,o.useWorkerLoader);return this},t.decodeBitmaps=function(n){for(var t=0,f=n.length,u,i,r=tt._context,t=0;t<f;t++)u=dt.getAtlas(n[t]),u?this._decodeTexture(u[0],r):(i=this.getRes(n[t]),i&&i instanceof laya.resource.Texture&&this._decodeTexture(i,r))},t._decodeTexture=function(n,t){var u=n.bitmap,r,f;n&&u&&(r=u.source||u.image,r)&&i.__typeof(r,c.window.HTMLImageElement)&&(t.drawImage(r,0,0,1,1),f=t.getImageData(0,0,1,1))},u.cacheRes=function(n,t){dt.cacheRes(n,t)},u._resMap={},d(u,["createMap",function(){return this.createMap={atlas:[null,"atlas"]}}]),u.__init$=function(){f=function(n){function t(){this.url=null;this.type=null;this.cache=!1;this.group=null;this.ignoreCache=!1;this.useWorkerLoader=!1;this.originalUrl=null;this.createCache=!1;this.createConstructParams=null;this.createPropertyParams=null;t.__super.call(this)}return r(t,"",n),t}(fr)},u}(fr),dot=function(n){function i(n,t,r,u){this._handler=null;this._endian=null;this._socket=null;this._connected=!1;this._addInputPosition=0;this._input=null;this._output=null;this.disableInput=!1;this._byteClass=null;this.protocols=[];i.__super.call(this);t===void 0&&(t=0);this._byteClass=r?r:lu;this.protocols=u;this.endian="bigEndian";n&&t>0&&t<65535&&this.connect(n,t)}r(i,"laya.net.Socket",n);var t=i.prototype;return t.connect=function(n,t){var i="ws://"+n+":"+t;this.connectByUrl(i)},t.connectByUrl=function(n){var t=this;this._socket!=null&&this.close();this._socket&&this.cleanSocket();this._socket=this.protocols&&this.protocols.length!=0?new c.window.WebSocket(n,this.protocols):new c.window.WebSocket(n);this._socket.binaryType="arraybuffer";this._output=new this._byteClass;this._output.endian=this.endian;this._input=new this._byteClass;this._input.endian=this.endian;this._addInputPosition=0;this._socket.onopen=function(n){t._onOpen(n)};this._socket.onmessage=function(n){t._onMessage(n)};this._socket.onclose=function(n){t._onClose(n)};this._socket.onerror=function(n){t._onError(n)}},t.cleanSocket=function(){if(this.close(),this._connected=!1,this._socket){var n=function(){};this._socket.onopen=n;this._socket.onmessage=n;this._socket.onclose=n;this._socket.onerror=n}this._socket=null},t.close=function(){if(this._socket!=null)try{this._socket.close()}catch(n){}},t._onOpen=function(){this._connected=!0;this._handler&&this._handler.runWith(0)},t._onMessage=function(n){var t,i;if(n&&n.data){if(t=n.data,this.disableInput&&t){this.event("message",t);return}this._input.length>0&&this._input.bytesAvailable<1&&(this._input.clear(),this._addInputPosition=0);i=this._input.pos;this._addInputPosition||(this._addInputPosition=0);this._input.pos=this._addInputPosition;t&&(typeof t=="string"?this._input.writeUTFBytes(t):this._input.writeArrayBuffer(t),this._addInputPosition=this._input.pos,this._input.pos=i);this.event("message",t)}},t._onClose=function(){this._connected=!1;this._handler&&this._handler.runWith(1)},t._onError=function(){this._handler&&this._handler.runWith(2)},t.send=function(n){this._socket.send(n)},t.flush=function(){if(this._output&&this._output.length>0){var n;try{this._socket&&this._socket.send(this._output.__getBuffer().slice(0,this._output.length))}catch(t){n=t}this._output.endian=this.endian;this._output.clear();n&&this._handler&&this._handler.runWith(3)}},e(0,t,"input",function(){return this._input}),e(0,t,"output",function(){return this._output}),e(0,t,"connected",function(){return this._connected}),e(0,t,"endian",function(){return this._endian},function(n){this._endian=n;this._input!=null&&(this._input.endian=n);this._output!=null&&(this._output.endian=n)}),e(0,t,"readyState",function(){return tt.isConchApp&&this._socket?this._socket.readyState:-1}),i.LITTLE_ENDIAN="littleEndian",i.BIG_ENDIAN="bigEndian",i}(fr),sw=function(n){function t(){this.totalCount=0;this._completeHandler=null;this._toLoadList=null;this._isLoading=!1;this._curUrl=null;t.__super.call(this);this._completeHandler=new h(this,this.onOneLoadComplete);this.reset()}r(t,"laya.net.SceneLoader",n);var u=t.prototype;return u.reset=function(){this._toLoadList=[];this._isLoading=!1;this.totalCount=0},u.load=function(n,t,i){if(t===void 0&&(t=!1),i===void 0&&(i=!0),n instanceof Array)for(var r=0,u=0,u=n.length,r=0;r<u;r++)this._addToLoadList(n[r],t);else this._addToLoadList(n,t);i&&this._checkNext()},u._addToLoadList=function(n,t){(t===void 0&&(t=!1),this._toLoadList.indexOf(n)>=0)||dt.getRes(n)||(t?this._toLoadList.push({url:n}):this._toLoadList.push(n),this.totalCount++)},u._checkNext=function(){if(!this._isLoading){if(this._toLoadList.length==0){this.event("complete");return}var n;n=this._toLoadList.pop();typeof n=="string"?this.loadOne(n):this.loadOne(n.url,!0)}},u.loadOne=function(n,r){r===void 0&&(r=!1);this._curUrl=n;var u=bt.getFileExtension(this._curUrl);r?i.loader.create(n,this._completeHandler):t.LoadableExtensions[u]?i.loader.load(n,this._completeHandler,null,t.LoadableExtensions[u]):n!=cp.getFileLoadPath(n)||t.No3dLoadTypes[u]||!fs.createMap[u]?i.loader.load(n,this._completeHandler):i.loader.create(n,this._completeHandler)},u.onOneLoadComplete=function(){var i,n;this._isLoading=!1;dt.getRes(this._curUrl)||console.log("Fail to load:",this._curUrl);i=bt.getFileExtension(this._curUrl);t.LoadableExtensions[i]&&(n=dt.getRes(this._curUrl),n&&n instanceof laya.components.Prefab&&(n=n.json),n&&(n.loadList&&this.load(n.loadList,!1,!1),n.loadList3D&&this.load(n.loadList3D,!0,!1)));i=="sk"&&this.load(this._curUrl.replace(".sk",".png"),!1,!1);this.event("progress",this.getProgress());this._checkNext()},u.getProgress=function(){return this.loadedCount/this.totalCount},e(0,u,"loadedCount",function(){return this.totalCount-this.leftCount}),e(0,u,"leftCount",function(){return this._isLoading?this._toLoadList.length+1:this._toLoadList.length}),d(t,["LoadableExtensions",function(){return this.LoadableExtensions={scene:"json",scene3d:"json",ani:"json",ui:"json",prefab:"prefab"}},"No3dLoadTypes",function(){return this.No3dLoadTypes={png:!0,jpg:!0,txt:!0}}]),t}(fr),es=function(n){function t(){this.url=null;this.audio=null;this.loaded=!1;t.__super.call(this)}r(t,"laya.media.h5audio.AudioSound",n);var i=t.prototype;return i.dispose=function(){var n=t._audioCache[this.url];it.clearBySign("audio:"+this.url);n&&(tt.isConchApp||(n.src=""),delete t._audioCache[this.url])},i.load=function(n){function f(){e();r.loaded=!0;r.event("complete")}function u(){i.load=null;e();r.event("error")}function e(){i.removeEventListener("canplaythrough",f);i.removeEventListener("error",u)}var i,r;if(n=ti.formatURL(n),this.url=n,n==vi._bgMusic?(t._initMusicAudio(),i=t._musicAudio,i.src!=n&&(t._audioCache[i.src]=null,i=null)):i=t._audioCache[n],i&&i.readyState>=2){this.event("complete");return}i||(n==vi._bgMusic?(t._initMusicAudio(),i=t._musicAudio):i=c.createElement("audio"),t._audioCache[n]=i,i.src=n);i.addEventListener("canplaythrough",f);i.addEventListener("error",u);r=this;this.audio=i;i.load?i.load():u()},i.play=function(n,i){var f,r,u;return(n===void 0&&(n=0),i===void 0&&(i=0),!this.url)?null:(f=this.url==vi._bgMusic?t._musicAudio:t._audioCache[this.url],!f)?null:(r=it.getItem("audio:"+this.url),tt.isConchApp?r||(r=c.createElement("audio"),r.src=this.url):this.url==vi._bgMusic?(t._initMusicAudio(),r=t._musicAudio,r.src=this.url):r=r?r:f.cloneNode(!0),u=new sht(r),u.url=this.url,u.loops=i,u.startTime=n,u.play(),vi.addChannel(u),u)},e(0,i,"duration",function(){var n;return(n=t._audioCache[this.url],!n)?0:n.duration}),t._initMusicAudio=function(){t._musicAudio||(t._musicAudio||(t._musicAudio=c.createElement("audio")),tt.isConchApp||c.document.addEventListener("mousedown",t._makeMusicOK))},t._makeMusicOK=function(){c.document.removeEventListener("mousedown",t._makeMusicOK);t._musicAudio.src?t._musicAudio.play():(t._musicAudio.src="",t._musicAudio.load())},t._audioCache={},t._musicAudio=null,t}(fr),ie=function(n){function t(){this.url=null;this.loaded=!1;this.data=null;this.audioBuffer=null;this.__toPlays=null;this._disposed=!1;t.__super.call(this)}r(t,"laya.media.webaudio.WebAudioSound",n);var i=t.prototype;return i.load=function(n){var r=this,i;if(this.url=ti.formatURL(n),this.url=this.url,this.audioBuffer=t._dataCache[this.url],this.audioBuffer){this._loaded(this.audioBuffer);return}t.e.on("loaded:"+this.url,this,this._loaded);t.e.on("err:"+this.url,this,this._err);t.__loadingSound[this.url]||(t.__loadingSound[this.url]=!0,i=new c.window.XMLHttpRequest,i.open("GET",this.url,!0),i.responseType="arraybuffer",i.onload=function(){if(r._disposed){r._removeLoadEvents();return}r.data=i.response;t.buffs.push({buffer:r.data,url:r.url});t.decode()},i.onerror=function(){r._err()},i.send())},i._err=function(){this._removeLoadEvents();t.__loadingSound[this.url]=!1;this.event("error")},i._loaded=function(n){(this._removeLoadEvents(),this._disposed)||(this.audioBuffer=n,t._dataCache[this.url]=this.audioBuffer,this.loaded=!0,this.event("complete"))},i._removeLoadEvents=function(){t.e.off("loaded:"+this.url,this,this._loaded);t.e.off("err:"+this.url,this,this._err)},i.__playAfterLoaded=function(){var t,i,r,n;if(this.__toPlays){for(t=0,i=0,r=this.__toPlays,i=r.length,t=0;t<i;t++)n=r[t],n[2]&&!n[2].isStopped&&this.play(n[0],n[1],n[2]);this.__toPlays.length=0}},i.play=function(n,t,i){if(n===void 0&&(n=0),t===void 0&&(t=0),i=i?i:new oht,!this.audioBuffer&&this.url){this.__toPlays||(this.__toPlays=[]);this.__toPlays.push([n,t,i]);this.once("complete",this,this.__playAfterLoaded);this.load(this.url)}return i.url=this.url,i.loops=t,i.audioBuffer=this.audioBuffer,i.startTime=n,i.play(),vi.addChannel(i),i},i.dispose=function(){this._disposed=!0;delete t._dataCache[this.url];delete t.__loadingSound[this.url];this.audioBuffer=null;this.data=null;this.__toPlays=[]},e(0,i,"duration",function(){return this.audioBuffer?this.audioBuffer.duration:0}),t.decode=function(){t.buffs.length<=0||t.isDecoding||(t.isDecoding=!0,t.tInfo=t.buffs.shift(),t.ctx.decodeAudioData(t.tInfo.buffer,t._done,t._fail))},t._done=function(n){t.e.event("loaded:"+t.tInfo.url,n);t.isDecoding=!1;t.decode()},t._fail=function(){t.e.event("err:"+t.tInfo.url,null);t.isDecoding=!1;t.decode()},t._playEmptySound=function(){if(t.ctx!=null){var n=t.ctx.createBufferSource();n.buffer=t._miniBuffer;n.connect(t.ctx.destination);n.start(0,0,0)}},t._unlock=function(){t._unlocked||(t._playEmptySound(),t.ctx.state=="running"&&(c.document.removeEventListener("mousedown",t._unlock,!0),c.document.removeEventListener("touchend",t._unlock,!0),c.document.removeEventListener("touchstart",t._unlock,!0),t._unlocked=!0))},t.IsSupport=function(){return t.webAudioEnabled&&(t.ctx&&(t.ctx.onstatechange=null),t.ctx=new t.AudioClass,t._miniBuffer=t.ctx.createBuffer(1,1,22050),t.initWebAudio()),t.webAudioEnabled},t.initWebAudio=function(){t.ctx.state!="running"&&(t._unlock(),c.document.addEventListener("mousedown",t._unlock,!0),c.document.addEventListener("touchend",t._unlock,!0),c.document.addEventListener("touchstart",t._unlock,!0))},t._dataCache={},t.ctx=null,t.buffs=[],t.isDecoding=!1,t._miniBuffer=null,t._unlocked=!1,t.tInfo=null,t.__loadingSound={},d(t,["window",function(){return this.window=c.window},"AudioClass",function(){return this.AudioClass=t.window.AudioContext||t.window.webkitAudioContext||t.window.mozAudioContext},"webAudioEnabled",function(){return this.webAudioEnabled=t.AudioClass},"e",function(){return this.e=new fr}]),t}(fr),pf=function(n){function t(){t.__super.call(this,24,4,4);this.canReuse=!0;this.setAttributes(laya.webgl.utils.MeshQuadTexture._fixattriInfo);laya.webgl.utils.MeshQuadTexture._fixib?(this._ib=laya.webgl.utils.MeshQuadTexture._fixib,this._quadNum=t._maxIB):(this.createQuadIB(t._maxIB),laya.webgl.utils.MeshQuadTexture._fixib=this._ib)}r(t,"laya.webgl.utils.MeshQuadTexture",n);var i=t.prototype;return i.releaseMesh=function(){this._vb.setByteLength(0);this.vertNum=0;this.indexNum=0;laya.webgl.utils.MeshQuadTexture._POOL.push(this)},i.destroy=function(){this._vb.destroy();this._vb.deleteBuffer()},i.addQuad=function(n,t,i,r){var o=this._vb,h=o._byteLength>>2;o.setByteLength(h+24<<2);var f=o._floatArray32||o.getFloat32Array(),e=o._uint32Array,u=h,s=r?255:0;f[u++]=n[0];f[u++]=n[1];f[u++]=t[0];f[u++]=t[1];e[u++]=i;e[u++]=s;f[u++]=n[2];f[u++]=n[3];f[u++]=t[2];f[u++]=t[3];e[u++]=i;e[u++]=s;f[u++]=n[4];f[u++]=n[5];f[u++]=t[4];f[u++]=t[5];e[u++]=i;e[u++]=s;f[u++]=n[6];f[u++]=n[7];f[u++]=t[6];f[u++]=t[7];e[u++]=i;e[u++]=s;o._upload=!0},t.getAMesh=function(n){var i=null;return i=laya.webgl.utils.MeshQuadTexture._POOL.length?laya.webgl.utils.MeshQuadTexture._POOL.pop():new t,n&&i._vb._resizeBuffer(1572864,!1),i},t.const_stride=24,t._fixib=null,t._maxIB=16384,t._POOL=[],d(t,["_fixattriInfo",function(){return this._fixattriInfo=[5126,4,0,5121,4,16,5121,4,20]}]),t}(hh),got=function(n){function t(){t.__super.call(this)}r(t,"laya.html.dom.HTMLLinkElement",n);var i=t.prototype;return i._creates=function(){},i.drawToGraphic=function(){},i.reset=function(){return this._loader&&this._loader.off("complete",this,this._onload),this._loader=null,this},i._onload=function(n){this._loader&&(this._loader=null);switch(this.type){case"text/css":de.parseCSS(n,this.URI)}this.repaint(!0)},e(0,i,"href",n.prototype._$get_href,function(n){if(n){if(n=this.formatURL(n),this.URI=new ti(n),this._loader&&this._loader.off("complete",this,this._onload),dt.getRes(n)){this.type=="text/css"&&de.parseCSS(dt.getRes(n),this.URI);return}this._loader=new dt;this._loader.once("complete",this,this._onload);this._loader.load(n,"text")}}),t._cuttingStyle=new RegExp("((@keyframes[\\s\\t]+|)(.+))[\\t\\n\\r\\s]*{","g"),t}(ke),ia=function(n){function t(){t.__super.call(this)}r(t,"laya.ani.GraphicsAni",n);var i=t.prototype;return i.drawSkin=function(n,t){this.drawTriangles(n.texture,0,0,n.vertices,n.uvs,n.indexes,n.transform||ht.EMPTY,t)},t.create=function(){var n=t._caches.pop();return n||new t},t.recycle=function(n){n.clear();t._caches.push(n)},t._caches=[],t}(be),bh=function(n){function t(){t.__super.call(this,24,4,4);this.canReuse=!0;this.setAttributes(laya.webgl.utils.MeshTexture._fixattriInfo)}r(t,"laya.webgl.utils.MeshTexture",n);var i=t.prototype;return i.addData=function(n,t,i,r,u){for(var o=this._vb,c=this._ib,l=n.length>>1,g=o.needSize(l*24),f=g>>2,h=o._floatArray32||o.getFloat32Array(),w=o._uint32Array,s=0,nt=r.a,tt=r.b,it=r.c,rt=r.d,ut=r.tx,ft=r.ty,e=0,a,v,d,p,e=0;e<l;e++)a=n[s],v=n[s+1],h[f]=a*nt+v*it+ut,h[f+1]=a*tt+v*rt+ft,h[f+2]=t[s],h[f+3]=t[s+1],w[f+4]=u,w[f+5]=255,f+=6,s+=2;o.setNeedUpload();var b=this.vertNum,et=i.length,ot=c.needSize(i.byteLength),k=c.getUint16Array(),y=ot>>1;if(b>0)for(d=y+et,p=0,e=y;e<d;e++,p++)k[e]=i[p]+b;else k.set(i,y);c.setNeedUpload();this.vertNum+=l;this.indexNum+=i.length},i.releaseMesh=function(){this._vb.setByteLength(0);this._ib.setByteLength(0);this.vertNum=0;this.indexNum=0;laya.webgl.utils.MeshTexture._POOL.push(this)},i.destroy=function(){this._ib.destroy();this._vb.destroy();this._ib.disposeResource();this._vb.deleteBuffer()},t.getAMesh=function(n){var i;return i=laya.webgl.utils.MeshTexture._POOL.length?laya.webgl.utils.MeshTexture._POOL.pop():new t,n&&i._vb._resizeBuffer(1572864,!1),i},t.const_stride=24,t._POOL=[],d(t,["_fixattriInfo",function(){return this._fixattriInfo=[5126,4,0,5121,4,16,5121,4,20]}]),t}(hh),hw=function(n){function t(){this._matrix=new ht;this._matrix4=lf.defaultMatrix4.concat();t.__super.call(this,1e4);this.shaderValue=new ur(0,0)}r(t,"laya.webgl.submit.SubmitCanvas",n);var i=t.prototype;return i.renderSubmit=function(){var u=vt.worldAlpha,f=vt.worldMatrix4,r=vt.worldMatrix,e=vt.worldFilters,o=vt.worldShaderDefines,i=this.shaderValue,s=this._matrix,t=this._matrix4,n=ht.TEMP;return ht.mul(s,r,n),t[0]=n.a,t[1]=n.b,t[4]=n.c,t[5]=n.d,t[12]=n.tx,t[13]=n.ty,vt.worldMatrix=n.clone(),vt.worldMatrix4=t,vt.worldAlpha=vt.worldAlpha*i.alpha,i.filters&&i.filters.length&&(vt.worldFilters=i.filters,vt.worldShaderDefines=i.defines),this.canv.flushsubmit(),vt.worldAlpha=u,vt.worldMatrix4=f,vt.worldMatrix.destroy(),vt.worldMatrix=r,vt.worldFilters=e,vt.worldShaderDefines=o,1},i.releaseRender=function(){if(--this._ref<1){var n=t.POOL;this._mesh=null;n[n._length++]=this}},i.clone=function(){return null},i.getRenderType=function(){return 10003},t.create=function(n,i,r){var u=t.POOL._length?t.POOL[--t.POOL._length]:new t,f;return u.canv=n,u._ref=1,u._numEle=0,f=u.shaderValue,f.alpha=i,f.defines.setValue(0),r&&r.length&&f.setFilters(r),u},t.POOL=[],t.__init$=function(){t.POOL._length=0},t}(si),nst=function(n){function i(n){this._vertices=null;this._mesh=null;this._conchMesh=null;this._floatCountPerVertex=29;this._firstActiveElement=0;this._firstNewElement=0;this._firstFreeElement=0;this._firstRetiredElement=0;this._currentTime=0;this._drawCounter=0;i.__super.call(this);this.settings=n}r(i,"laya.particle.ParticleTemplateWebGL",n);var t=i.prototype;return t.reUse=function(){return 0},t.initialize=function(){var i=0,n,r,f;for(this._vertices=this._mesh._vb.getFloat32Array(),i=this._mesh._stride/4,n=0,r=0,f=0;f<this.settings.maxPartices;f++){for(var e=Math.random(),u=this.settings.textureCount?1/this.settings.textureCount:1,t=NaN,t=0;t<this.settings.textureCount;t+=u)if(e<t+u)break;this._vertices[n++]=-1;this._vertices[n++]=-1;this._vertices[n++]=0;this._vertices[n++]=t;n=r+=i;this._vertices[n++]=1;this._vertices[n++]=-1;this._vertices[n++]=1;this._vertices[n++]=t;n=r+=i;this._vertices[n++]=1;this._vertices[n++]=1;this._vertices[n++]=1;this._vertices[n++]=t+u;n=r+=i;this._vertices[n++]=-1;this._vertices[n++]=1;this._vertices[n++]=0;this._vertices[n++]=t+u;n=r+=i}},t.update=function(n){this._currentTime+=n/1e3;this.retireActiveParticles();this.freeRetiredParticles();this._firstActiveElement==this._firstFreeElement&&(this._currentTime=0);this._firstRetiredElement==this._firstActiveElement&&(this._drawCounter=0)},t.retireActiveParticles=function(){for(var r=this.settings.duration;this._firstActiveElement!=this._firstNewElement;){var n=this._firstActiveElement*this._floatCountPerVertex*4,t=n+28,i=this._currentTime-this._vertices[t];if(i*=1+this._vertices[n+27],i+.0001<r)break;this._vertices[t]=this._drawCounter;this._firstActiveElement++;this._firstActiveElement>=this.settings.maxPartices&&(this._firstActiveElement=0)}},t.freeRetiredParticles=function(){while(this._firstRetiredElement!=this._firstActiveElement){var n=this._drawCounter-this._vertices[this._firstRetiredElement*this._floatCountPerVertex*4+28];if(n<3)break;this._firstRetiredElement++;this._firstRetiredElement>=this.settings.maxPartices&&(this._firstRetiredElement=0)}},t.addNewParticlesToVertexBuffer=function(){},t.addParticleArray=function(n,t){var o=this._firstFreeElement+1,f,e,u,i,r;if(o>=this.settings.maxPartices&&(o=0),o!==this._firstRetiredElement){for(f=dft.Create(this.settings,n,t,this._currentTime),e=this._firstFreeElement*this._floatCountPerVertex*4,u=0;u<4;u++){for(i=0,r=0,i=0,r=4;i<3;i++)this._vertices[e+u*this._floatCountPerVertex+r+i]=f.position[i];for(i=0,r=7;i<3;i++)this._vertices[e+u*this._floatCountPerVertex+r+i]=f.velocity[i];for(i=0,r=10;i<4;i++)this._vertices[e+u*this._floatCountPerVertex+r+i]=f.startColor[i];for(i=0,r=14;i<4;i++)this._vertices[e+u*this._floatCountPerVertex+r+i]=f.endColor[i];for(i=0,r=18;i<3;i++)this._vertices[e+u*this._floatCountPerVertex+r+i]=f.sizeRotation[i];for(i=0,r=21;i<2;i++)this._vertices[e+u*this._floatCountPerVertex+r+i]=f.radius[i];for(i=0,r=23;i<4;i++)this._vertices[e+u*this._floatCountPerVertex+r+i]=f.radian[i];this._vertices[e+u*this._floatCountPerVertex+27]=f.durationAddScale;this._vertices[e+u*this._floatCountPerVertex+28]=f.time}this._firstFreeElement=o}},i}(prt),tst=function(i){function u(i,r,f,e,o){this.ctx=null;this.lastScaleX=1;this.lastScaleY=1;this.needResetScale=!1;this.maxTexW=0;this.maxTexH=0;this.scaleFontSize=!0;this.showDbgInfo=!1;this.supportImageData=!0;u.__super.call(this);f===void 0&&(f=!0);e===void 0&&(e=!0);o===void 0&&(o=!1);this.maxTexW=i;this.maxTexH=r;this.scaleFontSize=f;this.supportImageData=e;this.showDbgInfo=o;u.canvas||(u.canvas=n.document.createElement("canvas"),u.canvas.width=1024,u.canvas.height=512,u.canvas.style.left="-10000px",u.canvas.style.position="absolute",t.body.appendChild(u.canvas),this.ctx=u.canvas.getContext("2d"))}r(u,"laya.webgl.text.CharRender_Canvas",i);var f=u.prototype;return f.getWidth=function(n,t){return this.ctx?(this.ctx._lastFont!=n&&(this.ctx.font=n,this.ctx._lastFont=n),this.ctx.measureText(t).width):0},f.scale=function(n,t){if(!this.supportImageData){this.lastScaleX=n;this.lastScaleY=t;return}(this.lastScaleX!=n||this.lastScaleY!=t)&&(this.ctx.setTransform(n,0,0,t,0,0),this.lastScaleX=n,this.lastScaleY=t)},f.getCharBmp=function(n,t,i,r,u,f,e,o,s,h,c){var l,a,v,y,p,w;return this.supportImageData?(l=this.ctx,l.font!=t&&(l.font=t,l._lastFont=t),f.width=l.measureText(n).width,a=f.width*this.lastScaleX,v=f.height*this.lastScaleY,a+=(e+s)*this.lastScaleX,v+=(o+h)*this.lastScaleY,a=Math.ceil(a),v=Math.ceil(v),a=Math.min(a,laya.webgl.text.CharRender_Canvas.canvas.width),v=Math.min(v,laya.webgl.text.CharRender_Canvas.canvas.height),y=a+i*2+1,p=v+i*2+1,c&&(y=Math.max(y,c[0]+c[2]+1),p=Math.max(p,c[1]+c[3]+1)),l.clearRect(0,0,y,p),l.save(),l.textBaseline="top",i>0&&(l.strokeStyle=u,l.lineWidth=i,l.strokeText(n,e,o)),l.fillStyle=r,l.fillText(n,e,o),this.showDbgInfo&&(l.strokeStyle="#ff0000",l.strokeRect(0,0,a,v),l.strokeStyle="#00ff00",l.strokeRect(e,o,f.width,f.height)),c&&c[2]==-1&&(c[2]=Math.ceil((f.width+i*2)*this.lastScaleX)),w=c?l.getImageData(c[0],c[1],c[2],c[3]):l.getImageData(0,0,a,v),l.restore(),f.bmpWidth=w.width,f.bmpHeight=w.height,w):this.getCharCanvas(n,t,i,r,u,f,e,o,s,h)},f.getCharCanvas=function(n,t,i,r,f,e,o,s,h,c){var l=this.ctx,a,v;return l.font!=t&&(l.font=t,l._lastFont=t),e.width=l.measureText(n).width,a=e.width*this.lastScaleX,v=e.height*this.lastScaleY,a+=(o+h)*this.lastScaleX,v+=(s+c)*this.lastScaleY+1,a=Math.min(a,this.maxTexW),v=Math.min(v,this.maxTexH),u.canvas.width=Math.min(a+1,this.maxTexW),u.canvas.height=Math.min(v+1,this.maxTexH),l.font=t,l.clearRect(0,0,a+1+i,v+1+i),l.setTransform(1,0,0,1,0,0),l.save(),this.scaleFontSize&&l.scale(this.lastScaleX,this.lastScaleY),l.translate(o,s),l.textAlign="left",l.textBaseline="top",i>0?(l.strokeStyle=f,l.fillStyle=r,l.lineWidth=i,l.fillAndStrokeText?l.fillAndStrokeText(n,0,0):(l.strokeText(n,0,0),l.fillText(n,0,0))):(l.fillStyle=r,l.fillText(n,0,0)),this.showDbgInfo&&(l.strokeStyle="#ff0000",l.strokeRect(0,0,a,v),l.strokeStyle="#00ff00",l.strokeRect(0,0,e.width,e.height)),l.restore(),e.bmpWidth=u.canvas.width,e.bmpHeight=u.canvas.height,u.canvas},e(0,f,"canvasWidth",function(){return u.canvas.width},function(n){u.canvas.width!=n&&(u.canvas.width=n,n>2048&&console.warn("画文字设置的宽度太大，超过2048了"),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.scale(this.lastScaleX,this.lastScaleY))}),u.canvas=null,u}(dy),ra=function(n){function i(){this._maxsize=0;this._upload=!0;this._uploadSize=0;this._bufferSize=0;this._u8Array=null;i.__super.call(this)}r(i,"laya.webgl.utils.Buffer2D",n);var t=i.prototype;return t.setByteLength=function(n){this._byteLength!==n&&(n<=this._bufferSize||this._resizeBuffer(n*2+256,!0),this._byteLength=n)},t.needSize=function(n){var i=this._byteLength,t;return n&&(t=this._byteLength+n,t<=this._bufferSize||this._resizeBuffer(t<<1,!0),this._byteLength=t),i},t._bufferData=function(){this._maxsize=Math.max(this._maxsize,this._byteLength);ni.loopCount%30==0&&(this._buffer.byteLength>this._maxsize+64&&(this._buffer=this._buffer.slice(0,this._maxsize+64),this._bufferSize=this._buffer.byteLength,this._checkArrayUse()),this._maxsize=this._byteLength);this._uploadSize<this._buffer.byteLength&&(this._uploadSize=this._buffer.byteLength,yt.instance.bufferData(this._bufferType,this._uploadSize,this._bufferUsage));yt.instance.bufferSubData(this._bufferType,0,new Uint8Array(this._buffer,0,this._byteLength))},t._bufferSubData=function(n,t,i){if(n===void 0&&(n=0),t===void 0&&(t=0),i===void 0&&(i=0),this._maxsize=Math.max(this._maxsize,this._byteLength),ni.loopCount%30==0&&(this._buffer.byteLength>this._maxsize+64&&(this._buffer=this._buffer.slice(0,this._maxsize+64),this._bufferSize=this._buffer.byteLength,this._checkArrayUse()),this._maxsize=this._byteLength),this._uploadSize<this._buffer.byteLength&&(this._uploadSize=this._buffer.byteLength,yt.instance.bufferData(this._bufferType,this._uploadSize,this._bufferUsage)),t||i){var r=this._buffer.slice(t,i);yt.instance.bufferSubData(this._bufferType,n,r)}else yt.instance.bufferSubData(this._bufferType,n,this._buffer)},t._checkArrayUse=function(){},t._bind_uploadForVAO=function(){return this._upload?(this._upload=!1,this._bindForVAO(),this._bufferData(),!0):!1},t._bind_upload=function(){return this._upload?(this._upload=!1,this.bind(),this._bufferData(),!0):!1},t._bind_subUpload=function(n,t,i){return(n===void 0&&(n=0),t===void 0&&(t=0),i===void 0&&(i=0),!this._upload)?!1:(this._upload=!1,this.bind(),this._bufferSubData(n,t,i),!0)},t._resizeBuffer=function(n,t){var i=this._buffer,r,u,f;return n<=i.byteLength?this:(r=this._u8Array,t&&i&&i.byteLength>0?(u=new ArrayBuffer(n),f=r&&r.buffer==i?r:new Uint8Array(i),r=this._u8Array=new Uint8Array(u),r.set(f,0),i=this._buffer=u):(i=this._buffer=new ArrayBuffer(n),this._u8Array=null),this._checkArrayUse(),this._upload=!0,this._bufferSize=i.byteLength,this)},t.append=function(n){this._upload=!0;var t=0,i;t=n.byteLength;n instanceof Uint8Array?(this._resizeBuffer(this._byteLength+t,!0),i=new Uint8Array(this._buffer,this._byteLength)):n instanceof Uint16Array?(this._resizeBuffer(this._byteLength+t,!0),i=new Uint16Array(this._buffer,this._byteLength)):n instanceof Float32Array&&(this._resizeBuffer(this._byteLength+t,!0),i=new Float32Array(this._buffer,this._byteLength));i.set(n,0);this._byteLength+=t;this._checkArrayUse()},t.appendU16Array=function(n,t){var i,r;if(this._resizeBuffer(this._byteLength+t*2,!0),i=new Uint16Array(this._buffer,this._byteLength,t),t==6)i[0]=n[0],i[1]=n[1],i[2]=n[2],i[3]=n[3],i[4]=n[4],i[5]=n[5];else if(t>=100)i.set(new Uint16Array(n.buffer,0,t));else for(r=0;r<t;r++)i[r]=n[r];this._byteLength+=t*2;this._checkArrayUse()},t.appendEx=function(n,t){this._upload=!0;var i=0,r;i=n.byteLength;this._resizeBuffer(this._byteLength+i,!0);r=new t(this._buffer,this._byteLength);r.set(n,0);this._byteLength+=i;this._checkArrayUse()},t.appendEx2=function(n,t,i,r){var f,e,u;for(r===void 0&&(r=1),this._upload=!0,f=0,f=i*r,this._resizeBuffer(this._byteLength+f,!0),e=new t(this._buffer,this._byteLength),u=0,u=0;u<i;u++)e[u]=n[u];this._byteLength+=f;this._checkArrayUse()},t.getBuffer=function(){return this._buffer},t.setNeedUpload=function(){this._upload=!0},t.getNeedUpload=function(){return this._upload},t.upload=function(){var n=this._bind_upload();return yt.instance.bindBuffer(this._bufferType,null),this._bufferType==34962&&(du._bindedVertexBuffer=null),this._bufferType==34963&&(du._bindedIndexBuffer=null),uu.activeShader=null,n},t.subUpload=function(n,t,i){n===void 0&&(n=0);t===void 0&&(t=0);i===void 0&&(i=0);var r=this._bind_subUpload();return yt.instance.bindBuffer(this._bufferType,null),this._bufferType==34962&&(du._bindedVertexBuffer=null),this._bufferType==34963&&(du._bindedIndexBuffer=null),uu.activeShader=null,r},t._disposeResource=function(){this._upload=!0;this._uploadSize=0},t.clear=function(){this._byteLength=0;this._upload=!0},e(0,t,"bufferLength",function(){return this._buffer.byteLength}),e(0,t,"byteLength",null,function(n){this.setByteLength(n)}),i.__int__=function(){},i.FLOAT32=4,i.SHORT=2,i}(du),ist=function(t){function i(){this.lastFont="";i.__super.call(this)}r(i,"laya.webgl.text.CharRender_Native",t);var u=i.prototype;return u.getWidth=function(t,i){return n.conchTextCanvas?(n.conchTextCanvas.font=t,this.lastFont=t,n.conchTextCanvas.measureText(i).width):0},u.scale=function(){},u.getCharBmp=function(t,i,r,u,f,e,o,s,h,c){var a,v;if(!n.conchTextCanvas)return null;n.conchTextCanvas.font=i;this.lastFont=i;a=e.width=n.conchTextCanvas.measureText(t).width;v=e.height;a+=o+h;v+=s+c;var y=er.create(f),p=y.numColor,w=er.create(u),b=w.numColor,l=n.conchTextCanvas.getTextBitmapData(t,b,r>2?2:r,p);return e.bmpWidth=l.width,e.bmpHeight=l.height,l},i}(dy),kh=function(n){function t(){t.__super.call(this,t.__name2int,t.__int2name,t.__int2nameMap)}return r(t,"laya.webgl.shader.d2.ShaderDefines2D",n),t.__init__=function(){t.reg("TEXTURE2D",1);t.reg("PRIMITIVE",4);t.reg("GLOW_FILTER",8);t.reg("BLUR_FILTER",16);t.reg("COLOR_FILTER",32);t.reg("COLOR_ADD",64);t.reg("WORLDMAT",128);t.reg("FILLTEXTURE",256);t.reg("FSHIGHPRECISION",1024);t.reg("MVP3D",2048)},t.reg=function(n,i){lh._reg(n,i,t.__name2int,t.__int2name)},t.toText=function(n,t,i){return lh._toText(n,t,i)},t.toInt=function(n){return lh._toInt(n,t.__name2int)},t.TEXTURE2D=1,t.PRIMITIVE=4,t.FILTERGLOW=8,t.FILTERBLUR=16,t.FILTERCOLOR=32,t.COLORADD=64,t.WORLDMAT=128,t.FILLTEXTURE=256,t.SKINMESH=512,t.SHADERDEFINE_FSHIGHPRECISION=1024,t.MVP3D=2048,t.NOOPTMASK=312,t.__name2int={},t.__int2name=[],t.__int2nameMap=[],t}(lh),rst=function(n){function t(n){t.__super.call(this,116,n*464,4);this.canReuse=!0;this.setAttributes(laya.webgl.utils.MeshParticle2D._fixattriInfo);this.createQuadIB(n);this._quadNum=n}r(t,"laya.webgl.utils.MeshParticle2D",n);var i=t.prototype;return i.setMaxParticleNum=function(n){this._vb._resizeBuffer(n*464,!1);this.createQuadIB(n)},i.releaseMesh=function(){this._vb.setByteLength(0);this.vertNum=0;this.indexNum=0;laya.webgl.utils.MeshParticle2D._POOL.push(this)},i.destroy=function(){this._ib.destroy();this._vb.destroy();this._vb.deleteBuffer()},t.getAMesh=function(n){if(laya.webgl.utils.MeshParticle2D._POOL.length){var i=laya.webgl.utils.MeshParticle2D._POOL.pop();return i.setMaxParticleNum(n),i}return new t(n)},t.const_stride=116,t._POOL=[],d(t,["_fixattriInfo",function(){return this._fixattriInfo=[5126,4,0,5126,3,16,5126,3,28,5126,4,40,5126,4,56,5126,3,72,5126,2,84,5126,4,92,5126,1,108,5126,1,112]}]),t}(hh),re=function(n){function t(n){n===void 0&&(n=1e4);t.__super.call(this,n)}r(t,"laya.webgl.submit.SubmitTexture",n);var i=t.prototype;return i.clone=function(n,i,r){var u=t._poolSize?t.POOL[--t._poolSize]:new t;return this._cloneInit(u,n,i,r),u},i.releaseRender=function(){--this._ref<1&&(t.POOL[t._poolSize++]=this,this.shaderValue.release(),this._mesh=null,this._parent&&(this._parent.releaseRender(),this._parent=null))},i.renderSubmit=function(){var t,i,n,u,r;return this._numEle===0?1:(t=this.shaderValue.textureHost,t&&(i=t?t._getSource():null,!i))?1:(n=at.mainContext,this._mesh.useMesh(n),u=si.preRender,r=si.preRender._key,this._key.blendShader===0&&this._key.submitType===r.submitType&&this._key.blendShader===r.blendShader&&uu.activeShader&&si.preRender.clipInfoID==this.clipInfoID&&u.shaderValue.defines._value===this.shaderValue.defines._value&&(this.shaderValue.defines._value&kh.NOOPTMASK)==0?uu.activeShader.uploadTexture2D(i):(yi.activeBlendFunction!==this._blendFn&&(lt.setBlend(n,!0),this._blendFn(n),yi.activeBlendFunction=this._blendFn),this.shaderValue.texture=i,this.shaderValue.upload()),n.drawElements(4,this._numEle,5123,this._startIdx),ni.renderBatches++,ni.trianglesFaces+=this._numEle/3,1)},t.create=function(n,i,r){var u=t._poolSize?t.POOL[--t._poolSize]:new t(10016),f,e;return u._mesh=i,u._key.clear(),u._key.submitType=2,u._ref=1,u._startIdx=i.indexNum*lf.BYTES_PIDX,u._numEle=0,f=n._nBlendType,u._key.blendShader=f,u._blendFn=n._targets?yi.targetFns[f]:yi.fns[f],u.shaderValue=r,n._colorFiler&&(e=n._colorFiler,r.defines.add(e.type),r.colorMat=e._mat,r.colorAlpha=e._alpha),u},t._poolSize=0,t.POOL=[],t}(si),cw=function(n){function t(n){this.u_colorMatrix=null;this.strength=0;this.blurInfo=null;this.colorMat=null;this.colorAlpha=null;n===void 0&&(n=0);t.__super.call(this,1,n);this._attribLocation=["posuv",0,"attribColor",1,"attribFlags",2]}r(t,"laya.webgl.shader.d2.value.TextureSV",n);var i=t.prototype;return i.clear=function(){this.texture=null;this.shader=null;this.defines._value=this.subID+(at.shaderHighPrecision?1024:0)},t}(ur),efi=function(n){function i(){i.__super.call(this)}r(i,"laya.html.dom.HTMLImageElement",n);var t=i.prototype;return t.reset=function(){return n.prototype.reset.call(this),this._tex&&this._tex.off("loaded",this,this.onloaded),this._tex=null,this._url=null,this},t.onloaded=function(){if(this._style){var n=this._style,t=n.widthed(this)?-1:this._tex.width,i=n.heighted(this)?-1:this._tex.height;n.widthed(this)||this._width==this._tex.width||(this.width=this._tex.width,this.parent&&this.parent._layoutLater());n.heighted(this)||this._height==this._tex.height||(this.height=this._tex.height,this.parent&&this.parent._layoutLater());this.repaint()}},t._addToLayout=function(n){var t=this._style;t.absolute||n.push(this)},t.renderSelfToGraphic=function(n,t,i){this._tex&&n.drawImage(this._tex,t,i,this.width||this._tex.width,this.height||this._tex.height)},e(0,t,"src",null,function(n){if(n=this.formatURL(n),this._url!==n){this._url=n;var t=this._tex=dt.getRes(n);t||(this._tex=t=new bi,t.load(n),dt.cacheRes(n,t));t.getIsReady()?this.onloaded():t.once("ready",this,this.onloaded)}}),i}(ke),ust=function(n){function u(){this.contextHeight=NaN;this.contextWidth=NaN;this._htmlBounds=null;this._boundsRec=null;this.repaintHandler=null;u.__super.call(this)}r(u,"laya.html.dom.HTMLDivParser",n);var t=u.prototype;return t.reset=function(){return est,got,n.prototype.reset.call(this),this._style.block=!0,this._style.setLineElement(!0),this.repaintHandler=null,this.contextHeight=0,this.contextWidth=0,this},t.appendHTML=function(n){ort.parse(this,n,this.URI);this.layout()},t._addChildsToLayout=function(n){var i=this._getWords();if(i==null&&(!this._children||this._children.length==0))return!1;i&&i.forEach(function(t){n.push(t)});var r=!0,t=0,f=this._children.length,u;for(t;t<f;t++)u=this._children[t],r?r=!1:n.push(null),u._addToLayout(n);return!0},t._addToLayout=function(n){this.layout();this.style.absolute||n.push(this)},t.getBounds=function(){return this._htmlBounds?(this._boundsRec||(this._boundsRec=ct.create()),this._boundsRec.copyFrom(this._htmlBounds)):null},t.parentRepaint=function(t){t===void 0&&(t=!1);n.prototype.parentRepaint.call(this);this.repaintHandler&&this.repaintHandler.runWith(t)},t.layout=function(){var t,n;this.style._type|=512;t=vp.layout(this);t&&(this._htmlBounds||(this._htmlBounds=ct.create()),n=this._htmlBounds,n.x=n.y=0,n.width=this.contextWidth=t[0],n.height=this.contextHeight=t[1])},e(0,t,"height",function(){return this._height?this._height:this.contextHeight},n.prototype._$set_height),e(0,t,"innerHTML",null,function(n){this.destroyChildren();this.appendHTML(n)}),e(0,t,"width",function(){return this._width?this._width:this.contextWidth},function(n){var t=!1;t=n===0?n!=this._width:n!=this.width;i.superSet(ke,this,"width",n);t&&this.layout()}),u}(ke),fst=function(n){function t(){t.__super.call(this)}return r(t,"laya.webgl.BufferState2D",n),t}(fut),est=function(n){function t(){t.__super.call(this)}r(t,"laya.html.dom.HTMLStyleElement",n);var i=t.prototype;return i._creates=function(){},i.drawToGraphic=function(){},i.reset=function(){return this},e(0,i,"innerTEXT",n.prototype._$get_innerTEXT,function(n){de.parseCSS(n,null)}),t}(ke),ost=function(n){function t(){this.texcoord=null;this.position=null;this.offsetX=300;this.offsetY=0;t.__super.call(this,512,0);var n=8*lf.BYTES_PE;this.position=[2,5126,!1,n,0];this.texcoord=[2,5126,!1,n,2*lf.BYTES_PE];this.color=[4,5126,!1,n,4*lf.BYTES_PE]}return r(t,"laya.webgl.shader.d2.skinAnishader.SkinSV",n),t}(ur),sst=function(n){function t(){t.__super.call(this,4,0);this._attribLocation=["position",0,"attribColor",1]}return r(t,"laya.webgl.shader.d2.value.PrimitiveSV",n),t}(ur),hst=function(n){function t(){this.u_CurrentTime=NaN;this.u_Duration=NaN;this.u_Gravity=null;this.u_EndVelocity=NaN;this.u_texture=null;t.__super.call(this,0,0)}r(t,"laya.particle.shader.value.ParticleShaderValue",n);var i=t.prototype;return i.upload=function(){var n=this.size;n[0]=vt.width;n[1]=vt.height;this.alpha=this.ALPHA*vt.worldAlpha;t.pShader.upload(this)},d(t,["pShader",function(){return this.pShader=new kvt}]),t}(ur),os=function(n){function t(){t.__super.call(this,12,4,4);this.canReuse=!0;this.setAttributes(laya.webgl.utils.MeshVG._fixattriInfo)}r(t,"laya.webgl.utils.MeshVG",n);var i=t.prototype;return i.addVertAndIBToMesh=function(n,t,i,r){for(var h=this._vb.needSize(t.length*6),u=h>>2,e=this._vb._floatArray32||this._vb.getFloat32Array(),c=this._vb._uint32Array,f=0,o=t.length/2,s=0;s<o;s++)e[u++]=t[f],e[u++]=t[f+1],f+=2,c[u++]=i;this._vb.setNeedUpload();this._ib.append(new Uint16Array(r));this._ib.setNeedUpload();this.vertNum+=o;this.indexNum+=r.length},i.releaseMesh=function(){this._vb.setByteLength(0);this._ib.setByteLength(0);this.vertNum=0;this.indexNum=0;laya.webgl.utils.MeshVG._POOL.push(this)},i.destroy=function(){this._ib.destroy();this._vb.destroy();this._ib.disposeResource();this._vb.deleteBuffer()},t.getAMesh=function(n){var i;return i=laya.webgl.utils.MeshVG._POOL.length?laya.webgl.utils.MeshVG._POOL.pop():new t,n&&i._vb._resizeBuffer(786432,!1),i},t.const_stride=12,t._POOL=[],d(t,["_fixattriInfo",function(){return this._fixattriInfo=[5126,2,0,5121,4,8]}]),t}(hh),cst=function(n){function t(){this.transform=null;t.__super.call(this)}r(t,"laya.ani.bone.canvasmesh.SkinMeshForGraphic",n);var i=t.prototype;return i.init2=function(n,t,i,r){this.transform&&(this.transform=null);var u=t||[0,1,3,3,1,2];this.texture=n;this.indexes=new Uint16Array(u);this.vertices=new Float32Array(i);this.uvs=new Float32Array(r)},t}(aut),ss=function(n){function t(){this.italic=!1;t.__super.call(this)}r(t,"laya.display.css.TextStyle",n);var i=t.prototype;return i.reset=function(){return n.prototype.reset.call(this),this.italic=!1,this.align="left",this.wordWrap=!1,this.leading=0,this.padding=[0,0,0,0],this.bgColor=null,this.borderColor=null,this.asPassword=!1,this.stroke=0,this.strokeColor="#000000",this.bold=!1,this.underline=!1,this.underlineColor=null,this.currBitmapFont=null,this},i.recover=function(){this!==t.EMPTY&&it.recover("TextStyle",this.reset())},i.render=function(n,t,i,r){(this.bgColor||this.borderColor)&&t.drawRect(i,r,n.width,n.height,this.bgColor,this.borderColor,1)},t.create=function(){return it.getItemByClass("TextStyle",t)},t.EMPTY=new t,t}(ah),dh=function(n){function u(n){u.__super.call(this);n||(n=this._copyMatrix(u.IDENTITY_MATRIX));this._mat=new Float32Array(16);this._alpha=new Float32Array(4);this.setByMatrix(n)}r(u,"laya.filters.ColorFilter",n);var t=u.prototype;return i.imps(t,{"laya.filters.IFilter":!0}),t.gray=function(){return this.setByMatrix(u.GRAY_MATRIX)},t.color=function(n,t,i,r){return n===void 0&&(n=0),t===void 0&&(t=0),i===void 0&&(i=0),r===void 0&&(r=1),this.setByMatrix([1,0,0,0,n,0,1,0,0,t,0,0,1,0,i,0,0,0,1,r])},t.setColor=function(n){var t=er.create(n).arrColor,i=[0,0,0,0,256*t[0],0,0,0,0,256*t[1],0,0,0,0,256*t[2],0,0,0,1,0];return this.setByMatrix(i)},t.setByMatrix=function(n){var i,r,t;for(this._matrix!=n&&this._copyMatrix(n),i=0,r=0,t=0;t<20;t++)t%5!=4?this._mat[i++]=n[t]:this._alpha[r++]=n[t];return this},t.adjustColor=function(n,t,i,r){return this.adjustHue(r),this.adjustContrast(t),this.adjustBrightness(n),this.adjustSaturation(i),this},t.adjustBrightness=function(n){return(n=this._clampValue(n,100),n==0||isNaN(n))?this:this._multiplyMatrix([1,0,0,0,n,0,1,0,0,n,0,0,1,0,n,0,0,0,1,0,0,0,0,0,1])},t.adjustContrast=function(n){var t,i,r;return(n=this._clampValue(n,100),n==0||isNaN(n))?this:(t=NaN,n<0?t=127+n/100*127:(t=n%1,t=t==0?u.DELTA_INDEX[n]:u.DELTA_INDEX[n<<0]*(1-t)+u.DELTA_INDEX[(n<<0)+1]*t,t=t*127+127),i=t/127,r=(127-t)*.5,this._multiplyMatrix([i,0,0,0,r,0,i,0,0,r,0,0,i,0,r,0,0,0,1,0,0,0,0,0,1]))},t.adjustSaturation=function(n){if(n=this._clampValue(n,100),n==0||isNaN(n))return this;var t=1+(n>0?3*n/100:n/100),i=1-t,r=.3086*i,u=.6094*i,f=.082*i;return this._multiplyMatrix([r+t,u,f,0,0,r,u+t,f,0,0,r,u,f+t,0,0,0,0,0,1,0,0,0,0,0,1])},t.adjustHue=function(n){if(n=this._clampValue(n,180)/180*Math.PI,n==0||isNaN(n))return this;var t=Math.cos(n),i=Math.sin(n),r=.213,u=.715,f=.072;return this._multiplyMatrix([r+t*(1-r)+i*-r,u+t*-u+i*-u,f+t*-f+i*(1-f),0,0,r+t*-r+i*.143,u+t*(1-u)+i*.14,f+t*-f+i*-.283,0,0,r+t*-r+i*-(1-r),u+t*-u+i*u,f+t*(1-f)+i*f,0,0,0,0,0,1,0,0,0,0,0,1])},t.reset=function(){return this.setByMatrix(this._copyMatrix(u.IDENTITY_MATRIX))},t._multiplyMatrix=function(n){var f=[],i,t,u,r;for(this._matrix=this._fixMatrix(this._matrix),i=0;i<5;i++){for(t=0;t<5;t++)f[t]=this._matrix[t+i*5];for(t=0;t<5;t++){for(u=0,r=0;r<5;r++)u+=n[t+r*5]*f[r];this._matrix[t+i*5]=u}}return this.setByMatrix(this._matrix)},t._clampValue=function(n,t){return Math.min(t,Math.max(-t,n))},t._fixMatrix=function(n){return n==null?u.IDENTITY_MATRIX:(n.length<25?n=n.slice(0,n.length).concat(u.IDENTITY_MATRIX.slice(n.length,25)):n.length>25&&(n=n.slice(0,25)),n)},t._copyMatrix=function(n){var t;for(this._matrix||(this._matrix=[]),t=0;t<25;t++)this._matrix[t]=n[t];return this._matrix},e(0,t,"type",function(){return 32}),u.LENGTH=25,d(u,["DELTA_INDEX",function(){return this.DELTA_INDEX=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10]},"GRAY_MATRIX",function(){return this.GRAY_MATRIX=[.3086,.6094,.082,0,0,.3086,.6094,.082,0,0,.3086,.6094,.082,0,0,0,0,0,1,0]},"IDENTITY_MATRIX",function(){return this.IDENTITY_MATRIX=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1]}]),u}(rp),lst=function(n){function i(n){this.setting=null;this._posRange=null;this._canvasTemplate=null;this._emitFun=null;i.__super.call(this);this.template=n}r(i,"laya.particle.emitter.Emitter2D",n);var t=i.prototype;return t.emit=function(){n.prototype.emit.call(this);this._emitFun!=null&&this._emitFun()},t.getRandom=function(n){return(Math.random()*2-1)*n},t.webGLEmit=function(){var t=new Float32Array(3),n;t[0]=this.getRandom(this._posRange[0]);t[1]=this.getRandom(this._posRange[1]);t[2]=this.getRandom(this._posRange[2]);n=new Float32Array(3);n[0]=0;n[1]=0;n[2]=0;this._particleTemplate.addParticleArray(t,n)},t.canvasEmit=function(){var t=new Float32Array(3),n;t[0]=this.getRandom(this._posRange[0]);t[1]=this.getRandom(this._posRange[1]);t[2]=this.getRandom(this._posRange[2]);n=new Float32Array(3);n[0]=0;n[1]=0;n[2]=0;this._particleTemplate.addParticleArray(t,n)},e(0,t,"template",function(){return this._particleTemplate},function(n){this._particleTemplate=n;n||(this._emitFun=null,this.setting=null,this._posRange=null);this.setting=n.settings;this._posRange=this.setting.positionVariance;this._particleTemplate instanceof laya.particle.ParticleTemplate2D&&(this._emitFun=this.webGLEmit)}),i}(aft),s=function(n){function u(){this._x=0;this._y=0;this._width=0;this._height=0;this._visible=!0;this._mouseState=0;this._zOrder=0;this._renderType=0;this._transform=null;this._tfChanged=!1;this._texture=null;this._boundStyle=null;this._graphics=null;this.mouseThrough=!1;this.autoSize=!1;this.hitTestPrior=!1;this.TmpData=null;u.__super.call(this);this._repaint=0;this._style=ah.EMPTY;this._cacheStyle=al.EMPTY}r(u,"laya.display.Sprite",n);var t=u.prototype;return t.toXCenter=function(n){return n?(n.x=this.width-n.width>>1,n):(this.x=u.MAX_W-this.width>>1,this)},t.destroy=function(t){t===void 0&&(t=!0);n.prototype.destroy.call(this,t);this.TmpData=null;this._style&&this._style.recover();this._cacheStyle&&this._cacheStyle.recover();this._boundStyle&&this._boundStyle.recover();this._style=null;this._cacheStyle=null;this._boundStyle=null;this._transform=null;this._graphics&&this._graphics.autoDestroy&&this._graphics.destroy();this._graphics=null;this.texture=null},t.updateZOrder=function(){bt.updateOrder(this._children)&&this.repaint()},t._getBoundsStyle=function(){return this._boundStyle||(this._boundStyle=fet.create()),this._boundStyle},t._setCustomRender=function(){},t._setCacheAs=function(){},t._checkCanvasEnable=function(){var n=this._cacheStyle.needEnableCanvasRender();this._getCacheStyle().enableCanvasRender=n;n?(this._cacheStyle.cacheAs=this._cacheStyle.needBitmapCache()?"bitmap":this._cacheStyle.userSetCache,this._cacheStyle.reCache=!0,this._renderType|=8):(this._cacheStyle.cacheAs="none",this._cacheStyle.releaseContext(),this._renderType&=-9);this._setCacheAs(this._cacheStyle.cacheAs);this._setRenderType(this._renderType)},t.reCache=function(){this._cacheStyle.reCache=!0;this._repaint|=2},t.getRepaint=function(){return this._repaint},t._setX=function(n){this._x=n>>0},t._setY=function(n){this._y=n>>0},t._setWidth=function(){},t._setHeight=function(){},t.setSelfBounds=function(n){this._getBoundsStyle().userBounds=n},t.getBounds=function(){return this._getBoundsStyle().bounds=ct._getWrapRec(this._boundPointsToParent())},t.getSelfBounds=function(){return this._boundStyle&&this._boundStyle.userBounds?this._boundStyle.userBounds:!this._graphics&&this._children.length===0&&!this._texture?ct.TEMP.setTo(0,0,0,0):this._getBoundsStyle().bounds=ct._getWrapRec(this._getBoundPointsM(!1))},t._boundPointsToParent=function(n){var u,f,t;if(n===void 0&&(n=!1),u=0,f=0,this._style&&(u=this.pivotX,f=this.pivotY,n=n||this._style.rotation!==0,this._style.scrollRect&&(u+=this._style.scrollRect.x,f+=this._style.scrollRect.y)),t=this._getBoundPointsM(n),!t||t.length<1)return t;if(t.length!=8&&(t=n?ap.scanPList(t):ct._getWrapRec(t,ct.TEMP)._getBoundPoints()),!this.transform)return bt.transPointList(t,this._x-u,this._y-f),t;for(var r=kt.TEMP,i=0,e=t.length,i=0;i<e;i+=2)r.x=t[i],r.y=t[i+1],this.toParentPoint(r),t[i]=r.x,t[i+1]=r.y;return t},t.getGraphicBounds=function(n){return(n===void 0&&(n=!1),!this._graphics)?ct.TEMP.setTo(0,0,0,0):this._graphics.getBounds(n)},t._getBoundPointsM=function(n){var e,i,t,r,u,o,f,s;if(n===void 0&&(n=!1),this._boundStyle&&this._boundStyle.userBounds)return this._boundStyle.userBounds._getBoundPoints();if(this._boundStyle||this._getBoundsStyle(),this._boundStyle.temBM||(this._boundStyle.temBM=[]),this._style.scrollRect)return e=bt.clearArray(this._boundStyle.temBM),i=ct.TEMP,i.copyFrom(this._style.scrollRect),bt.concatArray(e,i._getBoundPoints()),e;for(this._graphics?t=this._graphics.getBoundPoints():(t=bt.clearArray(this._boundStyle.temBM),this._texture&&(i=ct.TEMP,i.setTo(0,0,this.width||this._texture.width,this.height||this._texture.height),bt.concatArray(t,i._getBoundPoints()))),o=this._children,f=0,s=o.length;f<s;f++)r=o[f],r instanceof laya.display.Sprite&&r._visible===!0&&(u=r._boundPointsToParent(n),u&&(t=t?bt.concatArray(t,u):u));return t},t._getCacheStyle=function(){return this._cacheStyle===al.EMPTY&&(this._cacheStyle=al.create()),this._cacheStyle},t.getStyle=function(){return this._style===ah.EMPTY&&(this._style=ah.create()),this._style},t.setStyle=function(n){this._style=n},t._setScaleX=function(n){this._style.scaleX=n},t._setScaleY=function(n){this._style.scaleY=n},t._setRotation=function(n){this._style.rotation=n},t._setSkewX=function(n){this._style.skewX=n},t._setSkewY=function(n){this._style.skewY=n},t._createTransform=function(){return ht.create()},t._adjustTransform=function(){this._tfChanged=!1;var t=this._style,i=t.scaleX,r=t.scaleY,f=t.skewX,e=t.skewY,u=t.rotation,n=this._transform||(this._transform=this._createTransform());if(u||i!==1||r!==1||f!==0||e!==0){n._bTransform=!0;var o=(u-f)*.0174532922222222,s=(u+e)*.0174532922222222,h=Math.cos(s),c=Math.sin(s),l=Math.sin(o),a=Math.cos(o);n.a=i*h;n.b=i*c;n.c=-r*l;n.d=r*a;n.tx=n.ty=0}else n.identity(),this._renderType&=-3,this._setRenderType(this._renderType);return n},t._setTransform=function(){},t._setPivotX=function(n){var t=this.getStyle();t.pivotX=n},t._getPivotX=function(){return this._style.pivotX},t._setPivotY=function(n){var t=this.getStyle();t.pivotY=n},t._getPivotY=function(){return this._style.pivotY},t._setAlpha=function(n){if(this._style.alpha!==n){var t=this.getStyle();t.alpha=n;n!==1?this._renderType|=1:this._renderType&=-2;this._setRenderType(this._renderType);this.parentRepaint()}},t._getAlpha=function(){return this._style.alpha},t._setBlendMode=function(){},t._setGraphics=function(){},t._setGraphicsCallBack=function(){},t._setScrollRect=function(){},t.pos=function(n,t,i){if(i===void 0&&(i=!0),this._x!==n||this._y!==t){if(this.destroyed)return this;if(i){this._setX(n);this._setY(t);this.parentRepaint(2);var r=this._cacheStyle.maskParent;r&&r.repaint(2)}else this.x=n,this.y=t}return this},t.pivot=function(n,t){return this.pivotX=n,this.pivotY=t,this},t.size=function(n,t){return this.width=n,this.height=t,this},t.scale=function(n,t,i){i===void 0&&(i=!0);var r=this.getStyle();if(r.scaleX!=n||r.scaleY!=t){if(this.destroyed)return this;i?(this._setScaleX(n),this._setScaleY(t),this._setTranformChange()):(this.scaleX=n,this.scaleY=t)}return this},t.skew=function(n,t){return this.skewX=n,this.skewY=t,this},t.render=function(n,t,i){ge.renders[this._renderType]._fun(this,n,t+this._x,i+this._y);this._repaint=0},t.drawToCanvas=function(n,t,i,r){return ru.drawToCanvas(this,this._renderType,n,t,i,r)},t.drawToTexture=function(n,t,i,r){return ru.drawToTexture(this,this._renderType,n,t,i,r)},t.customRender=function(){this._repaint=3},t._applyFilters=function(){},t._setColorFilter=function(){},t._isHaveGlowFilter=function(){var n=0,t=0;if(this.filters)for(n=0;n<this.filters.length;n++)if(this.filters[n].type==8)return!0;for(n=0,t=this._children.length;n<t;n++)if(this._children[n]._isHaveGlowFilter())return!0;return!1},t.localToGlobal=function(n,t,r){t===void 0&&(t=!1);t===!0&&(n=new kt(n.x,n.y));var u=this;for(r=r||i.stage;u&&!u.destroyed;){if(u==r)break;n=u.toParentPoint(n);u=u.parent}return n},t.globalToLocal=function(n,t,r){var u,f,e;for(t===void 0&&(t=!1),t&&(n=new kt(n.x,n.y)),u=this,f=[],r=r||i.stage;u&&!u.destroyed;){if(u==r)break;f.push(u);u=u.parent}for(e=f.length-1;e>=0;)u=f[e],n=u.fromParentPoint(n),e--;return n},t.toParentPoint=function(n){if(!n)return n;n.x-=this.pivotX;n.y-=this.pivotY;this.transform&&this._transform.transformPoint(n);n.x+=this._x;n.y+=this._y;var t=this._style.scrollRect;return t&&(n.x-=t.x,n.y-=t.y),n},t.fromParentPoint=function(n){if(!n)return n;n.x-=this._x;n.y-=this._y;var t=this._style.scrollRect;return t&&(n.x+=t.x,n.y+=t.y),this.transform&&this._transform.invertTransformPoint(n),n.x+=this.pivotX,n.y+=this.pivotY,n},t.fromStagePoint=function(n){return n},t.on=function(t,i,r,u){return this._mouseState!==1&&this.isMouseEvent(t)?(this.mouseEnabled=!0,this._setBit(64,!0),this._parent&&this._$2__onDisplay(),this._createListener(t,i,r,u,!1)):n.prototype.on.call(this,t,i,r,u)},t.once=function(t,i,r,u){return this._mouseState!==1&&this.isMouseEvent(t)?(this.mouseEnabled=!0,this._setBit(64,!0),this._parent&&this._$2__onDisplay(),this._createListener(t,i,r,u,!0)):n.prototype.once.call(this,t,i,r,u)},t.addListerBy_Create=function(){this.mouseEnabled=!0;this._setBit(64,!0);this._parent&&this._$2__onDisplay()},t._$2__onDisplay=function(){if(this._mouseState!==1)for(var n=this,n=n.parent;n&&n._mouseState!==1;){if(n._getBit(64))break;n.mouseEnabled=!0;n._setBit(64,!0);n=n.parent}},t._setParent=function(t){n.prototype._setParent.call(this,t);t&&this._getBit(64)&&this._$2__onDisplay()},t.loadImage=function(n,t){function r(){u.repaint(3);t&&t.run()}var u=this,i;if(n==null)this.texture=null,r();else if(i=dt.getRes(n),i||(i=new bi,i.load(n),dt.cacheRes(n,i)),this.texture=i,i.getIsReady())r();else i.once("ready",null,r);return this},t.repaint=function(n){n===void 0&&(n=2);this._repaint&n||(this._repaint|=n,this.parentRepaint(n));this._cacheStyle&&this._cacheStyle.maskParent&&this._cacheStyle.maskParent.repaint(n)},t._needRepaint=function(){return this._repaint&2&&this._cacheStyle.enableCanvasRender&&this._cacheStyle.reCache},t._childChanged=function(n){this._children.length?this._renderType|=8192:this._renderType&=-8193;this._setRenderType(this._renderType);n&&this._getBit(32)&&i.systemTimer.callLater(this,this.updateZOrder);this.repaint(3)},t.parentRepaint=function(n){n===void 0&&(n=2);var t=this._parent;!t||t._repaint&n||(t._repaint|=n,t.parentRepaint(n))},t._setMask=function(){},t.startDrag=function(n,t,i,r,u,f,e){t===void 0&&(t=!1);i===void 0&&(i=0);r===void 0&&(r=300);f===void 0&&(f=!1);e===void 0&&(e=.92);this._style.dragging||(this.getStyle().dragging=new vrt);this._style.dragging.start(this,n,t,i,r,u,f,e)},t.stopDrag=function(){this._style.dragging&&this._style.dragging.stop()},t._setDisplay=function(t){t||this._cacheStyle&&(this._cacheStyle.releaseContext(),this._cacheStyle.releaseFilterCache(),this._cacheStyle.hasGlowFilter&&(this._cacheStyle.hasGlowFilter=!1));n.prototype._setDisplay.call(this,t)},t.hitTestPoint=function(n,t){var i=this.globalToLocal(kt.TEMP.setTo(n,t)),r;return n=i.x,t=i.y,r=this._style.hitArea?this._style.hitArea:this._width>0&&this._height>0?ct.TEMP.setTo(0,0,this._width,this._height):this.getSelfBounds(),r.contains(n,t)},t.getMousePoint=function(){return this.globalToLocal(kt.TEMP.setTo(i.stage.mouseX,i.stage.mouseY))},t._setTexture=function(){},t._setRenderType=function(){},t._setTranformChange=function(){this._tfChanged=!0;this._renderType|=2;this.parentRepaint(2)},t._setBgStyleColor=function(){},t._setBorderStyleColor=function(){},t.captureMouseEvent=function(n){vf.instance.setCapture(this,n)},t.releaseMouseEvent=function(){vf.instance.releaseCapture()},e(0,t,"customRenderEnable",null,function(n){n&&(this._renderType|=2048,this._setRenderType(this._renderType),this._setCustomRender())}),e(0,t,"cacheAs",function(){return this._cacheStyle.cacheAs},function(n){n!==this._cacheStyle.userSetCache&&(this.mask&&n==="normal"||(this._setCacheAs(n),this._getCacheStyle().userSetCache=n,this._checkCanvasEnable(),this.repaint()))}),e(0,t,"globalScaleY",function(){for(var t=1,n=this;n;){if(n===i.stage)break;t*=n.scaleY;n=n.parent}return t}),e(0,t,"hitArea",function(){return this._style.hitArea},function(n){this.getStyle().hitArea=n}),e(0,t,"staticCache",function(){return this._cacheStyle.staticCache},function(n){this._getCacheStyle().staticCache=n;n||this.reCache()}),e(0,t,"displayWidth",function(){return this.width*this.scaleX}),e(0,t,"zOrder",function(){return this._zOrder},function(n){this._zOrder!=n&&(this._zOrder=n,this._parent&&(n&&this._parent._setBit(32,!0),i.systemTimer.callLater(this._parent,this.updateZOrder)))}),e(0,t,"rotation",function(){return this._style.rotation},function(n){var t=this.getStyle();t.rotation!==n&&(this._setRotation(n),this._setTranformChange())}),e(0,t,"width",function(){return this.autoSize?this.texture?this.texture.width:!this._graphics&&this._children.length===0?0:this.getSelfBounds().width:this._width||(this.texture?this.texture.width:0)},function(n){this._width!==n&&(this._width=n,this._setWidth(this.texture,n),this._setTranformChange())}),e(0,t,"x",function(){return this._x},function(n){if(!this.destroyed&&this._x!==n){this._setX(n);this.parentRepaint(2);var t=this._cacheStyle.maskParent;t&&t.repaint(2)}}),e(0,t,"drawCallOptimize",function(){return this._getBit(256)},function(n){this._setBit(256,n)}),e(0,t,"texture",function(){return this._texture},function(n){typeof n=="string"?this.loadImage(n):this._texture!=n&&(this._texture&&this._texture._removeReference(),this._texture=n,n&&n._addReference(),this._setTexture(n),this._setWidth(this._texture,this.width),this._setHeight(this._texture,this.height),n?this._renderType|=256:this._renderType&=-257,this._setRenderType(this._renderType),this.repaint())}),e(0,t,"globalRotation",function(){for(var t=0,n=this;n;){if(n===i.stage)break;t+=n.rotation;n=n.parent}return t}),e(0,t,"y",function(){return this._y},function(n){if(!this.destroyed&&this._y!==n){this._setY(n);this.parentRepaint(2);var t=this._cacheStyle.maskParent;t&&t.repaint(2)}}),e(0,t,"displayHeight",function(){return this.height*this.scaleY}),e(0,t,"height",function(){return this.autoSize?this.texture?this.texture.height:!this._graphics&&this._children.length===0?0:this.getSelfBounds().height:this._height||(this.texture?this.texture.height:0)},function(n){this._height!==n&&(this._height=n,this._setHeight(this.texture,n),this._setTranformChange())}),e(0,t,"blendMode",function(){return this._style.blendMode},function(n){this._setBlendMode(n);this.getStyle().blendMode=n;n&&n!="source-over"?this._renderType|=4:this._renderType&=-5;this._setRenderType(this._renderType);this.parentRepaint()}),e(0,t,"scaleX",function(){return this._style.scaleX},function(n){var t=this.getStyle();t.scaleX!==n&&(this._setScaleX(n),this._setTranformChange())}),e(0,t,"scaleY",function(){return this._style.scaleY},function(n){var t=this.getStyle();t.scaleY!==n&&(this._setScaleY(n),this._setTranformChange())}),e(0,t,"stage",function(){return i.stage}),e(0,t,"skewX",function(){return this._style.skewX},function(n){var t=this.getStyle();t.skewX!==n&&(this._setSkewX(n),this._setTranformChange())}),e(0,t,"scrollRect",function(){return this._style.scrollRect},function(n){this.getStyle().scrollRect=n;this._setScrollRect(n);this.repaint();n?this._renderType|=64:this._renderType&=-65;this._setRenderType(this._renderType)}),e(0,t,"skewY",function(){return this._style.skewY},function(n){var t=this.getStyle();t.skewY!==n&&(this._setSkewY(n),this._setTranformChange())}),e(0,t,"transform",function(){return this._tfChanged?this._adjustTransform():this._transform},function(n){this._tfChanged=!1;var t=this._transform||(this._transform=this._createTransform());n.copyTo(t);this._setTransform(t);n&&(this._x=t.tx>>0,this._y=t.ty>>0,t.tx=t.ty=0);n?this._renderType|=2:this._renderType&=-3;this._setRenderType(this._renderType);this.parentRepaint()}),e(0,t,"pivotX",function(){return this._getPivotX()},function(n){this._setPivotX(n);this.repaint()}),e(0,t,"pivotY",function(){return this._getPivotY()},function(n){this._setPivotY(n);this.repaint()}),e(0,t,"alpha",function(){return this._getAlpha()},function(n){n=n<0?0:n>1?1:n;this._setAlpha(n)}),e(0,t,"visible",function(){return this._visible},function(n){this._visible!==n&&(this._visible=n,this.parentRepaint(3))}),e(0,t,"graphics",function(){return this._graphics||(this.graphics=new be,this._graphics.autoDestroy=!0),this._graphics},function(n){this._graphics&&(this._graphics._sp=null);this._graphics=n;n?(this._setGraphics(n),this._renderType|=512,n._sp=this):this._renderType&=-513;this._setRenderType(this._renderType);this.repaint()}),e(0,t,"filters",function(){return this._cacheStyle.filters},function(n){(n&&n.length===0&&(n=null),this._cacheStyle.filters!=n)&&(this._getCacheStyle().filters=n?n.slice():null,n&&n.length?(this._setColorFilter(n[0]),this._renderType|=16):(this._setColorFilter(null),this._renderType&=-17),this._setRenderType(this._renderType),n&&n.length>0?(this._getBit(16)||this._setBitUp(16),n.length==1&&n[0]instanceof laya.filters.ColorFilter||(this._getCacheStyle().cacheForFilters=!0,this._checkCanvasEnable())):this._cacheStyle.cacheForFilters&&(this._cacheStyle.cacheForFilters=!1,this._checkCanvasEnable()),this._getCacheStyle().hasGlowFilter=this._isHaveGlowFilter(),this.repaint())}),e(0,t,"mask",function(){return this._cacheStyle.mask},function(n){n&&this.mask&&this.mask._cacheStyle.maskParent||(this._getCacheStyle().mask=n,this._setMask(n),this._checkCanvasEnable(),n?n._getCacheStyle().maskParent=this:this.mask&&(this.mask._getCacheStyle().maskParent=null),this._renderType|=32,this._setRenderType(this._renderType),this.parentRepaint(3))}),e(0,t,"mouseEnabled",function(){return this._mouseState>1},function(n){this._mouseState=n?2:1}),e(0,t,"globalScaleX",function(){for(var t=1,n=this;n;){if(n===i.stage)break;t*=n.scaleX;n=n.parent}return t}),e(0,t,"mouseX",function(){return this.getMousePoint().x}),e(0,t,"mouseY",function(){return this.getMousePoint().y}),e(0,t,"viewport",function(){return this._style.viewport},function(n){if(typeof n=="string"){var t;t=n.split(",");t.length>3&&(n=new ct(parseFloat(t[0]),parseFloat(t[1]),parseFloat(t[2]),parseFloat(t[3])))}this.getStyle().viewport=n}),e(0,t,"display",function(){return this}),u.fromImage=function(n){return(new u).loadImage(n)},u.LEADING_SIZE=0,u.IS_ON_MOBILE=!1,d(u,["MAX_W",function(){return this.MAX_W=i.stage.width>>0},"MAX_H",function(){return this.MAX_H=i.stage.height>>0}]),u}(wet),ast=function(n){function t(){t.__super.call(this,null,null,0,0)}r(t,"FioLibs.displays.mixTex.FioMixTex",n);var i=t.prototype;return i.destroy=function(i){i===void 0&&(i=!1);this._destroyed||(n.prototype.destroy.call(this,!0),-1==t.sPools.indexOf(this)&&t.sPools.push(this))},t.getIns=function(){var n;return t.sPools.length>6?(n=t.sPools.shift(),n._destroyed=!1):(n=new t,t.sNum+=1),n},t.sNum=0,d(t,["sPools",function(){return this.sPools=[]}]),t}(bi),vst=function(n){function i(){this.mDetial=null;i.__super.call(this,[670,671,673,674,676,677]);this.mDetial=new un}r(i,"games.cores.dataServices.deal.DS6X_Deal",n);var t=i.prototype;return t.reqBuyWithScore=function(n){var t=v.getPack(670);t.sendInt16(n);t.flush()},t.reqBuyWithDaim=function(n){var t=v.getPack(673);t.sendInt16(n);t.flush()},t.reqBuyKC=function(n){var t=v.getPack(674);t.sendInt16(n);t.flush()},t.reqIosPay=function(n,t,i){var r=v.getPack(671);r.sendString(n);r.sendString(t);r.sendString(i);r.flush()},t.reqRmbBuy=function(n,t){var i=v.getPack(676);i.sendInt16(n);i.sendUInt8(t);i.flush()},t.reqRmbResult=function(n,t){var i=v.getPack(677);i.sendString(n);i.sendUInt8(t);i.flush()},t.parsePack=function(n,t){var i=0;switch(n){case 670:case 673:case 674:i=t.getByte();0==i&&y.showError(n,i);this.notify(n,i);break;case 671:i=t.getByte();0==i&&y.showError(n,i);this.notify(n,i,t.getString());break;case 676:i=t.getByte();0==i?this.notify(n,i,t.getByte(),t.getString()):this.notify(n,i)}return i},i}(y),yst=function(n){function i(){this.mVoCD=null;this.mVoCD_Club=null;this.mZjHead=null;this.mgr1=null;this.mgr2=null;this.mgr3=null;i.__super.call(this,[1100,1101,1102,1103,1104,1105,1106,1107,1200,1201,1202,1203,1290,1291,1292,1293,1294,1295,1300,1301,1302,1310,1311,1312]);this.mZjHead=new bv;this.mgr1=new kc;this.mgr2=new kc;this.mgr3=new kc;this.mVoCD=new ly;this.mVoCD_Club=new ly}r(i,"games.cores.dataServices.sql.DS11X_SQL",n);var t=i.prototype;return t.quit=function(){this.mgr1.doReset();this.mgr2.doReset();this.mgr3.doReset()},t.doReqHead=function(n,t,i,r){this.quit();var u=v.getPack(n);u.sendInt32(t);u.sendInt32(i);u.sendInt32(r);u.flush()},t.reqHead_ZjC_P=function(n,t){this.doReqHead(1100,y.ClubID,n,t)},t.reqPcP=function(n,t,i){this.mgr2.doReset();var r=v.getPack(1102);r.sendInt32(y.ClubID);r.sendInt32(t);r.sendInt32(i);r.sendInt32(n);r.flush()},t.reqHead_ZjC_D=function(n,t){this.doReqHead(1104,y.ClubID,n,t)},t.reqPcD=function(n){this.mgr2.doReset();var t=v.getPack(1106);t.sendInt32(y.ClubID);t.sendInt32(n);t.flush()},t.reqHead_ZjL=function(n,t){this.doReqHead(1200,y.LeaID,n,t)},t.reqLcP=function(n,t,i){this.mgr2.doReset();var r=v.getPack(1202);r.sendInt32(y.LeaID);r.sendInt32(t);r.sendInt32(i);r.sendInt32(n);r.flush()},t.reqZj_Head=function(n,t,i){var r=v.getPack(n);r.sendInt32(t);r.sendInt32(i);r.flush()},t.reqZj_Room=function(n){var t=v.getPack(1106);t.sendInt32(n);t.flush()},t.reqZj_Sub=function(n,t,i,r){var u=v.getPack(n);u.sendInt32(t);u.sendInt32(i);u.sendInt32(r);u.flush()},t.reqCreditsDetail=function(n,t){if(this.mVoCD.doReset(),0!=n){var i=v.getPack(n);i.sendInt32(t);i.flush()}},t.req1156=function(n,t){if(git.s_Reset(),0!=n){var i=v.getPack(1156);i.sendInt32(n);i.sendInt32(t);i.flush()}},t.req1256=function(n,t){if(this.mVoCD_Club.doReset(),0!=n){var i=v.getPack(1256);i.sendInt32(n);i.sendInt32(t);i.flush()}},t.req1290=function(n,t){this.quit();var i=v.getPack(1290);i.sendInt32(n);i.sendInt32(t);i.flush()},t.req1292=function(n,t,i){this.mgr2.doReset();this.mgr3.doReset();var r=v.getPack(1292);r.sendInt32(t);r.sendInt32(i);r.sendInt32(n);r.flush()},t.req1294=function(n,t,i){this.mgr3.doReset();var r=v.getPack(1294);r.sendInt32(t);r.sendInt32(i);r.sendInt32(n);r.flush()},t.reqMyDpi=function(n){n===void 0&&(n=0);var t=v.getPack(1300);n==0&&(n=y.MyID);t.sendInt32(n);t.flush()},t.reqDpiRank=function(n,t,i){var r=v.getPack(1301);r.sendUInt8(n);r.sendInt16(t);r.sendInt16(i);r.flush()},t.reqDpiScore=function(n,t,i){var r=v.getPack(1302);r.sendInt32(n);r.sendUInt8(i);r.sendUInt8(10);r.sendInt32(t);r.sendUInt8(1);r.flush()},t.reqDpiClubRank=function(n,t,i){var r=v.getPack(1310);r.sendUInt8(n);r.sendInt16(t);r.sendInt16(i);r.flush()},t.reqDpiClubScore=function(n,t,i,r){var u=v.getPack(1311);u.sendUInt8(t);u.sendInt32(n);u.sendInt16(i);u.sendInt16(r);u.flush()},t.reqClubDpiVal=function(n,t){var i=v.getPack(1312);i.sendUInt8(t);i.sendInt32(n);i.flush()},t.parsePack=function(n,t){var i,r=0,u=0,s=0,h=0;switch(n){case 1100:case 1102:case 1104:r=t.getUint32();r==y.ClubID&&this.notify(n,this.mZjHead.read(t,!1));break;case 1101:case 1105:r=t.getUint32();r==y.ClubID&&(i=this.mgr1.readVec(t,!1),i&&this.notify(n,i),i=null);break;case 1103:case 1107:r=t.getUint32();r==y.ClubID&&(i=this.mgr2.readVec(t,!1),i&&this.notify(n,i,u),i=null);break;case 1106:r=t.getUint32();r==y.ClubID&&(u=t.getUint32(),this.notify(n,this.mZjHead.read(t,!1),u));break;case 1200:case 1202:u=t.getUint32();u==y.LeaID&&this.notify(n,this.mZjHead.read(t,!0));break;case 1201:u=t.getUint32();u==y.LeaID&&(i=this.mgr1.readVec(t,!0),i&&this.notify(n,i),i=null);break;case 1203:u=t.getUint32();u==y.LeaID&&(i=this.mgr2.readVec(t,!1),i&&this.notify(n,i),i=null);break;case 1290:case 1292:case 1294:this.notify(n,this.mZjHead.read(t,!0));break;case 1291:i=this.mgr1.readVec(t,!0);i&&this.notify(n,i);i=null;break;case 1293:i=this.mgr2.readVec(t,!0);i&&this.notify(n,i);i=null;break;case 1295:i=this.mgr3.readVec(t,!1);i&&this.notify(n,i);i=null;break;case 1300:u=t.getUint32();s=t.getUint16();h=t.getUint32();u==y.MyID&&(f.Account.Detail.DPI_Year_Rank=s,f.Account.Detail.DPI_Year_Val=h);this.notify(n,u,s,h);break;case 1301:var e=0,o=0,c=0,a=0,v=f.Account.Detail;e=t.getUint8();o=t.getUint16();v.DPI_Rank=t.getUint16();v.DPI_Val=t.getUint32();this.notify(n,e,o,uh.sRead(t));break;case 1302:u=t.getUint32();i=il.readVec(t,!0);r=t.getUint32();this.notify(n,i,r);break;case 1310:e=t.getUint8();o=t.getUint16();i=uh.sRead(t,!0);this.notify(n,e,o,i);i=null;break;case 1311:e=t.getUint8();r=t.getUint32();o=t.getUint16();i=uh.sRead(t);this.notify(n,e,o,i);i=null;break;case 1312:e=t.getUint8();r=t.getUint32();c=t.getUint16();a=t.getFloat64();this.notify(n,e,r,c,a)}if(i)while(i.length>0)l.recyle(i.shift());return 0},i}(y),pst=function(n){function i(){this.Sgr=null;this.MatchDtl=null;this.mVecDesks=null;this.mVecPlayers=null;this.mDtWin=null;this.mRank=null;this.mZjVo=null;this.mVecIDs=null;this.mMdcg=null;i.__super.call(this,[1401,1402,1403,1404,1420,1421,1422,1423,1430,1431,1432,1433,1434,1440,1441,1442,1444,1445,1446,1447,1450,1451,1452,1453,1454,1455,1456,1460,1461,1462,1470,1471,1480,1481]);this.Sgr=new oit;this.mVecDesks=[];this.mVecPlayers=[];this.mDtWin=new bot;this.MatchDtl=new lot;this.mRank=new ott;this.mZjVo=new ftt;this.mVecIDs=[];this.mMdcg=new sn}r(i,"games.cores.dataServices.matchSvc.mtt.DS14_MTT",n);var t=i.prototype;return t.reqFlagC=function(n,t){var i=v.getPack(1403);i.sendInt32(n);i.sendInt32(t);i.flush()},t.reqMyMttRooms=function(){v.SendCmd(1404)},t.quitLists=function(){this.Sgr.DoReset();df.sDoReset();this.Desk_Reset();this.Players_Reset();v.SendCmd(1420)},t.reqNum=function(){f.Desk.reqMatchRed(-1,1)},t.reqLists=function(n,t){t===void 0&&(t=128);var i=v.getPack(1421);i.sendInt32(n);i.sendUInt8(t);i.flush()},t.reqDetailRoom=function(n,t){var i=v.getPack(1430);i.sendInt32(n);i.sendUInt8(t?1:0);i.flush()},t.reqDetailWin=function(n){var t=v.getPack(1431);t.sendInt32(n);t.flush()},t.reqAwards=function(n){var t=v.getPack(1432);t.sendInt32(n);t.flush()},t.reqDesks=function(n){var t=v.getPack(1433);t.sendInt32(n);t.flush()},t.reqPlayers=function(n){var t=v.getPack(1434);t.sendInt32(n);t.flush()},t.reqBm=function(n,t,i){var r=v.getPack(1440);r.sendInt32(n);r.sendInt32(t);r.sendInt32(i);r.flush()},t.reqBmCle=function(n){var t=v.getPack(1441);t.sendInt32(n);t.flush()},t.reqEntry=function(n,t){f.Match.MatchVo.isSitting()&&f.Match.reqQuit();cr.show(1,u.lang("tip_join"));var i=v.getPack(1442);i.sendInt32(n);i.sendInt32(t);i.flush()},t.reqStart=function(n){var t=v.getPack(1444);t.sendInt32(n);t.flush()},t.reqJiesan=function(n){var t=v.getPack(1445);t.sendInt32(n);t.flush()},t.reqTop=function(n,t){var i=v.getPack(1446);i.sendInt32(n);i.sendUInt8(t?1:0);i.flush()},t.reqPause=function(n,t){var i=v.getPack(1447);i.sendInt32(n);i.sendUInt8(t?1:2);i.flush()},t.reqZcf=function(n,t){var i=1460,r;2==t?i=1461:3==t&&(i=1462);r=v.getPack(i);r.sendInt32(n);r.flush()},t.reqZj=function(n,t){this.mZjVo.DoReset();var i=v.getPack(1480);i.sendInt32(t);i.sendUInt8(n);i.flush()},t.reqMdcgDtl=function(n){this.mMdcg.recyle();var t=v.getPack(1470);t.sendInt32(n);t.flush()},t.reqMdcgDh=function(n){var t=v.getPack(1471);t.sendInt32(n);t.flush()},t.Desk_Reset=function(){while(this.mVecDesks.length>0)l.recyle(this.mVecDesks.shift())},t.Desk_Read=function(n,t){var f=1==n.getUint8(),u,i,r;for(f&&this.Desk_Reset(),u=n.getUint16(),i=0,i;i<u;i++)r=l.get(nn),r.read(n),r.RaceID=t,this.mVecDesks.push(r);return n.getByte()>0?this.mVecDesks:null},t.Players_Reset=function(){while(this.mVecPlayers.length>0)l.recyle(this.mVecPlayers.shift())},t.Players_Read=function(n,t){var f=1==n.getUint8(),u,i,r;for(f&&this.Players_Reset(),u=n.getUint16(),i=0,i;i<u;i++)r=l.get(gtt),r.read(n),r.RaceID=t,this.mVecPlayers.push(r);return n.getByte()>0?this.mVecPlayers:null},t.parsePack=function(n,t){var i=0,r=0,h=!1,u,l,s,e,c,o,a;switch(n){case 1401:case 1402:i=t.getByte();i==0&&y.showError(n,i);this.notify(n,i);break;case 1403:r=t.getUint32();i=t.getByte();i==0&&y.showError(n,i);this.notify(n,r,i);break;case 1404:this.notify(n,wtt.sRead(f.Match.MatchVo.roomID,t));break;case 1421:this.Sgr.ReadLists(t)&&(this.notify(n),this.reqNum());break;case 1422:this.notify(n,this.Sgr.ReadUpdates(t));break;case 1423:this.notify(n,this.Sgr.ReadDels(t));this.reqNum();break;case 1430:this.MatchDtl.read(t);this.notify(n,this.MatchDtl.RaceID,this.MatchDtl);c=v.getPack(1454);c.sendInt32(this.MatchDtl.RaceID);c.flush();break;case 1431:this.mDtWin.read(t);this.notify(n,this.mDtWin.RaceID,this.mDtWin);break;case 1432:r=t.getUint32();u=t.getUint8();l=t.getUint32();s=t.getUint32();e=df.sReadLists(t);e&&(u>0?s+=df.sResName:s=null,this.notify(n,r,e,u,l,s));break;case 1433:r=t.getUint32();e=this.Desk_Read(t,r);e&&this.notify(n,r,e);break;case 1434:r=t.getUint32();e=this.Players_Read(t,r);e&&this.notify(n,r,e);break;case 1440:case 1441:h=n==1440;i=t.getByte();0==i&&(r=t.getUint32(),this.Sgr.updateSignUp(r,h),this.notify(n,i,r,h),y.showError(n,i));break;case 1442:case 1444:case 1445:this.notify(n,i=t.getByte());cr.show(0);break;case 1446:i=t.getUint8();0==i&&(this.mDtWin.isTop=t.getUint8());this.notify(n,i);break;case 1447:i=t.getUint8();0==i&&(u=t.getUint8(),1==u&&y.showError(n,10));this.notify(n,i);break;case 1450:r=t.getUint32();u=t.getString();this.notify(n,r,u);break;case 1451:u=t.getUint8();this.notify(n,u);break;case 1452:this.notify(n,t.getUint32());break;case 1453:r=t.getUint8();u=t.getString();this.notify(n,r,u);break;case 1454:this.notify(n,this.mRank.read(t));break;case 1455:for(this.mVecIDs.length=0,o=0,a=t.getInt16(),o;o<a;o++)this.mVecIDs[o]=t.getUint8();this.notify(n,this.mVecIDs);break;case 1456:this.notify(n,t.getString(),t.getUint32());break;case 1460:case 1461:case 1462:i=t.getByte();0==i&&(y.showError(n,0),u=t.getUint32(),n!=1462&&this.reqDetailRoom(u,!1));this.notify(n,i);break;case 1470:this.mMdcg.read(t);this.notify(n,this.mMdcg);break;case 1471:i=t.getByte();0==i&&y.showError(n,0);this.notify(n,i);break;case 1480:i=t.getByte();i==0&&this.mZjVo.readHead(t);break;case 1481:this.mZjVo.readLists(t);t.getByte()==1&&this.notify(n,this.mZjVo)}return i},i}(y),wst=function(n){function i(){this.mVecGdZdIds=null;this.mVecLogs=null;this.mVecBags=null;this.Faces=new cy;this.Ifs=new cy;i.__super.call(this,[203,204,205,206,293,290,298,299,288,289,291,292,295,296,297]);this.mVecGdZdIds=[];this.mVecLogs=[];this.mVecBags=[]}r(i,"games.cores.dataServices.bag.Ds_Bag",n);var t=i.prototype;return t.reqBase=function(){this.Faces.DoReset();this.Ifs.DoReset();v.SendCmd(203);v.SendCmd(204)},t.reqIfs=function(){this.Ifs.DoReset();v.SendCmd(205)},t.ifsSet=function(n){var t=v.getPack(206);t.sendInt32(n);t.flush()},t.reqBag_Logs=function(n){while(this.mVecLogs.length>0)l.recyle(this.mVecLogs.shift());var t=v.getPack(293);t.sendInt32(n);t.sendUInt8(20);t.sendUInt8(1);t.flush()},t.reqBag_Lists=function(){while(this.mVecBags.length>0)l.recyle(this.mVecBags.shift());v.SendCmd(290)},t.reqBagNum=function(){v.SendCmd(288)},t.req289=function(n){var t=v.getPack(289);t.sendInt32(n);t.flush()},t.send291=function(n,t,i){var r=v.getPack(291);r.sendInt32(n);r.sendInt32(t);r.sendInt32(i);r.flush()},t.reqTicketGet=function(n,t){var i=v.getPack(295);i.sendInt32(n);i.sendString(JSON.stringify(t));i.flush()},t.reqExcTicket=function(n,t,i){var r=v.getPack(296);r.sendUInt8(n);r.sendInt32(t);r.sendInt16(i);r.flush()},t.reqRecyle=function(n,t,i){var r=v.getPack(297);r.sendUInt8(t);r.sendInt32(n);r.sendInt32(i);r.flush()},t.reqPlayerInfo=function(n){var t=v.getPack(292);t.sendInt32(n);t.flush()},t.CanCrt=function(n){return n<1?!1:this.mVecGdZdIds.indexOf(n)>-1},t.readALog=function(n){var t=l.get(ait);return t.read(n),t},t.parsePack=function(n,t){var i=0,f=0,r=0,u=0,e;switch(n){case 203:this.Faces.readFaces(t);this.notify(n);break;case 204:for(this.mVecGdZdIds.length=0,f=t.getUint16(),r;r<f;r++)this.mVecGdZdIds[r]=t.getUint32();break;case 205:this.Ifs.readIfs(t);this.notify(n);break;case 206:i=t.getByte();u=t.getUint32();i==0&&y.showError(n,i);this.notify(n,i,u);break;case 288:this.notify(n,t.getUint16());break;case 293:while(this.mVecLogs.length>0)l.recyle(this.mVecLogs.shift());for(f=t.getUint16(),r;r<f;r++)this.mVecLogs[r]=this.readALog(t);u=t.getInt32();this.notify(n,u,this.mVecLogs);break;case 290:for(f=t.getUint16(),r;r<f;r++)e=l.get(utt),e.read(t),this.mVecBags.push(e);t.getUint8()>0&&this.notify(n,this.mVecBags);break;case 298:u=t.getInt32();f=t.getInt32();this.notify(n,u,f);break;case 299:u=t.getInt32();this.notify(n,u);break;case 289:i=t.getByte();0==i&&(u=t.getInt32(),this.notify(299,u),y.showError(n,0));break;case 291:i=t.getByte();i==0&&(this.notify(n,i,t.getUint32()),y.showError(n,i));break;case 292:i=t.getByte();i==0&&this.notify(n,t.getUint32(),t.getString(),t.getString());break;case 295:i=t.getByte();i==0&&(y.showError(n,i),this.notify(n,i,t.getUint32()));break;case 296:i=t.getByte();i==0&&(y.showError(n,i),this.notify(n,i));break;case 297:i=t.getByte();i==0&&(y.showError(n,i),this.notify(n,i,t.getUint32()))}return i},i}(y),bst=function(n){function i(){this.bankIndex=0;this.roomState=0;this.matchType=0;this.isAdmin=!1;this.mySeat=10;this.invitCode=0;this.HandNum=0;this.potTotal=0;this.potBase=0;this.betType=0;this.wx=null;this.openNum=0;this.mnqNum=0;this.ClubID=0;this.ClubName=null;this.mtt_blindLv=0;this.mtt_deskNum=0;this.HcNum=0;this.mZmTimes=0;this.IsIntBet=!1;this.mStartT=0;i.__super.call(this);this.roomCre=new wit}r(i,"games.cores.dataServices.matches.S_Match",n);var t=i.prototype;return t.updateTime=function(){this.mStartT=c.now()},t.recyle=function(){n.prototype.recyle.call(this);this.mySeat=9},t.getRestTime=function(){var t=(c.now()-this.mStartT)/1e3>>0,n=this.timeRest-t;return n<0&&(n=0),n},t.isMTT=function(){return this.matchType==1||this.matchType==3},t.isSNG=function(){return this.matchType==2},t.isRace=function(){return this.matchType!=0},t.isDp=function(){return this.gameType==2},t.isPause=function(){return this.roomState==1},t.isMatching=function(){return this.roomState==2},t.isSitting=function(){return this.mySeat<9},e(0,t,"nextZmTime",function(){return this.mZmTimes-c.nowSeconds()},function(n){this.mZmTimes=c.nowSeconds()+n}),i}(kl),kst=function(n){function t(){this.state=0;this.job=2;this.name=null;this.vID=0;this.numOnline=0;this.numTotal=0;t.__super.call(this)}r(t,"games.cores.dataServices.league.S_League",n);var i=t.prototype;return i.recyle=function(){n.prototype.recyle.call(this);this.state=this.job=this.vID=0;this.name="";this.numOnline=this.numTotal=0},i.hasLea=function(){return this.state>2},i.isAdmin=function(){return this.hasLea()&&this.job<2},i.read=function(n){this.recyle();this.state=n.getByte();this.job=n.getByte();this.name=n.getString();this.vID=n.getInt32();this.numOnline=n.getInt32();this.numTotal=n.getInt32();this.hasLea()&&this.readUpdate(n)},t}(uot),dst=function(n){function i(){this.mTs=0;this.Detail=new kit;this.Cookie=new ln;this.mVecLogs=[];i.__super.call(this,[200,201,210,212,213,230,240,241,242,248,249,250,260,261,270,271])}r(i,"games.cores.dataServices.acc.DS2X_Account",n);var t=i.prototype;return t.reqDetail=function(){this.Detail.DoReset();v.SendCmd(200)},t.reqBase=function(n,t,i){i===void 0&&(i="");var r=v.getPack(210);r.sendString(n.replace(/[\s|\\|\/|<|&|#]/g,""));r.sendUInt8(t);r.sendString(i);r.flush()},t.reqIconID=function(){v.SendCmd(212)},t.reqIconUpdate=function(n,t){n===void 0&&(n=-1);var i=v.getPack(213);if(t)i.sendString(t);else if(n>-1)i.sendString(n+"");else return;i.flush()},t.reqFundVec=function(n,t){while(this.mVecLogs.length>0)l.recyle(this.mVecLogs.shift());var i=v.getPack(230);i.sendInt32(this.mTs=n);i.sendInt32(t);i.flush()},t.reqSpState=function(){v.SendCmd(240)},t.reqSpSet=function(n,t,i){var r=v.getPack(241);r.sendInt16(n);r.sendString(t||"");r.sendUInt8(i);r.flush()},t.reqVerifySp=function(n){var t=v.getPack(242);t.sendString(n);t.sendInt32(7200);t.flush()},t.req249=function(n,t,i){var r=v.getPack(249);r.sendString(n);r.sendString(t);r.sendString(i);r.flush()},t.req250=function(){v.SendCmd(250)},t.reqCookie=function(){v.SendCmd(260)},t.req270=function(n,t){t===void 0&&(t=10);var i=v.getPack(270);i.sendInt16(t);i.sendInt16(n);i.flush()},t.req271=function(n){var t=v.getPack(271);t.sendInt32(n);t.flush()},t.readLogVec=function(n){var r=n.getInt16(),i,t=0;for(t;t<r;t++)this.mVecLogs[t]=i=l.get(dv),i.read(n,!0)},t.parsePack=function(n,t){var i=0,r=0,u=0,e;switch(n){case 200:y.MyID=this.Detail.SID=t.getUint32();e=1==t.getByte();this.Detail.HasInfo=e;this.Detail.hasSMRZ=0;e?(this.Detail.read(t),f.Login.updateCurAcc(this.Detail)):f.Login.CurAcc.iconID="";this.notify(n,this.Detail);this.reqIconID();break;case 201:this.Detail.update(t);this.notify(n,this.Detail);break;case 210:i=t.getByte();0==i&&(this.Detail.Nick=t.getString(),this.Detail.Sex=t.getUint8(),this.Detail.Sign=t.getString(),f.Login.updateCurAcc(this.Detail));this.notify(n,i);y.showError(n,i);0!=i||this.Detail.HasInfo||this.reqDetail();i=0;break;case 212:this.Detail.nextIcon=t.getString();this.notify(n);break;case 213:this.Detail.iconID=t.getString();this.Detail.nextIcon="";f.Login.updateCurAcc(this.Detail);this.notify(n);this.reqIconID();break;case 230:r=t.getUint32();this.mTs==r&&(this.readLogVec(t),1==t.getByte()&&this.notify(n,r,this.mVecLogs));break;case 240:r=t.getByte();u=t.getUint32();this.notify(n,r,u);break;case 241:i=t.getByte();r=t.getByte();this.notify(n,i,r);i==0&&y.showError(n,0);break;case 242:i=t.getByte();i==0&&this.notify(n,i);break;case 248:this.notify(n);break;case 249:i=t.getByte();i==0&&(y.showError(n,0),this.notify(n,i));break;case 250:this.notify(n,t.getString(),t.getString());break;case 260:this.Cookie.parse(t.getString());this.notify(n);break;case 261:this.notify(n);break;case 270:i=t.getUint32();r=t.getUint16();u=t.getUint16();this.notify(n,i,r,u,ay.readVec(t));break;case 271:i=t.getByte();u=t.getUint32();this.notify(n,i,u)}return i},i}(y),gst=function(n){function i(){this.myDpiOwnClub=0;this.allClubNum=0;this.ReTimes=0;this.StarTime=0;this.ClubState=0;this.ReNameCost=null;this.mSearchVo=null;this.mFundSum=null;this.mViewVo=null;this.ClubVo=new yo;this.Members=new aot;i.__super.call(this,[700,701,702,703,704,705,706,707,708,709,710,711,712,715,716,717,718,719,720,721,722,723,724,728,729,730,731,732,733,734,740,741,742,744,745,746,750,751,752,760,761,765,766,767,770,771,780,781,782,790,791,792,793]);this.mSearchVo=new yo;this.mFundSum=new oy;this.mViewVo=new wl}r(i,"games.cores.dataServices.club.DS7X_Club",n);var t=i.prototype;return t.reqRechargeCfg=function(){v.SendCmd(761)},t.quiteClubModu=function(){y.ClubID=this.ReTimes=this.StarTime=0;this.ReNameCost="20钻石";this.Members.recyle();this.ClubVo.recyle();this.mFundSum.doReset()},t.reqClubInfo=function(n){this.quiteClubModu();var t=v.getPack(700);t.sendInt32(y.ClubID=n);t.flush()},t.reqEdit=function(n,t,i,r){var u,f;r||(r="");n<1?u=v.getPack(701):(f=!t&&!i&&!r,f&&(t||(t=this.ClubVo.name),i||(i=this.ClubVo.wx)),u=v.getPack(702),u.sendInt32(n));u.sendString(t);u.sendString(i);u.sendString(r);u.sendInt16(this.ClubVo.IconVer);u.flush()},t.reqMyClubs=function(){v.SendCmd(703)},t.reqDis=function(n){var t=v.getPack(704);t.sendInt32(y.ClubID);t.sendInt16(n);t.flush()},t.reqBuyStar=function(n){var t=v.getPack(706);t.sendInt32(y.ClubID);t.sendInt16(n);t.flush()},t.reqClubGs=function(n){var t=v.getPack(707);t.sendInt32(n);t.flush()},t.reqClubOpen=function(){var n=v.getPack(708);n.sendInt32(y.ClubID);n.flush()},t.reqOpenLv=function(n,t){var i=v.getPack(709),u,r,f;for(i.sendInt32(y.ClubID),i.sendUInt8(n),u=t.length,i.sendInt16(u),r=0,r;r<u;r++)f=t.shift(),i.sendFloat(f.v),i.sendUInt8(f.b);i.flush()},t.reqSearch=function(n){var t=v.getPack(710);t.sendInt32(n);t.flush()},t.reqJoinClub=function(n){var t=v.getPack(711);t.sendInt32(n);t.flush()},t.reqQuitClub=function(){var n=v.getPack(712);n.sendInt32(y.ClubID);n.flush()},t.reqJp=function(n){n===void 0&&(n=0);var t=v.getPack(715);t.sendInt32(y.ClubID);t.sendUInt8(n);t.flush()},t.reqJpRec=function(n,t,i){i===void 0&&(i=0);var r=v.getPack(716);r.sendInt32(y.ClubID);r.sendUInt8(i);r.sendInt32(n.index);r.sendFloat(n.ltBB);r.sendInt32(t);r.sendUInt8(n.straddle?1:0);r.flush()},t.reqMemVo=function(n,t){this.mViewVo.recyle();var i=v.getPack(717);i.sendInt32(y.ClubID=n);i.sendInt32(t);i.sendUInt8(1);i.flush()},t.reqRc=function(n){var t=v.getPack(718);t.sendInt32(y.ClubID);t.sendUInt8(n);t.flush()},t.req719=function(n,t,i,r){var u=v.getPack(719);u.sendInt32(y.ClubID);u.sendInt32(n);u.sendInt32(t);u.sendUInt8(20);u.sendInt32(i);u.sendInt32(r);u.flush()},t.req720=function(n,t,i,r,u,f){var e=v.getPack(720);e.sendInt32(y.ClubID);e.sendInt32(n);e.sendInt32(t);e.sendUInt8(20);e.sendInt32(i);e.sendUInt8(r);e.sendUInt8(u);e.sendInt32(f);e.sendUInt8(1);e.flush()},t.reqClubMems=function(){this.Members.clearMems();this.Members.ClubID=y.ClubID;var n=v.getPack(721);n.sendInt32(y.ClubID);n.sendUInt8(1);n.flush()},t.reqSetJob=function(n,t){var i=v.getPack(722);i.sendInt32(y.ClubID);i.sendInt32(n);i.sendUInt8(t);i.flush()},t.reqKickOut=function(n){if(n==y.MyID)y.showError(723,9);else{var t=v.getPack(723);t.sendInt32(y.ClubID);t.sendInt32(n);t.flush()}},t.reqNote=function(n,t){var i=v.getPack(724);i.sendInt32(y.ClubID);i.sendInt32(n);i.sendString(t);i.flush()},t.reqGrant=function(n,t,i){var r=v.getPack(n?728:729);r.sendInt32(y.ClubID);r.sendInt32(t);r.sendInt32(i);r.flush()},t.req730=function(){ko.doReset();var n=v.getPack(730);n.sendInt32(y.ClubID);n.flush()},t.reqModifyCre=function(n,t,i,r,u){r===void 0&&(r=0);u===void 0&&(u=0);var f=v.getPack(n);f.sendInt32(u||y.ClubID);f.sendInt32(r);f.sendInt32(t);731==n?f.sendInt32(i):f.send64(i);f.flush()},t.reqFundHead=function(n,t,i,r){r===void 0&&(r=0);this.mFundSum.doReset();var u=v.getPack(n);u.sendInt32(y.ClubID);u.sendInt32(t);u.sendInt32(i);u.sendUInt8(r);u.flush()},t.reqFundPageVec=function(n,t,i,r,u){u===void 0&&(u=0);var f=v.getPack(n);f.sendInt32(y.ClubID);f.sendInt32(t);f.sendInt32(i);f.sendUInt8(u);f.sendUInt8(24);f.sendInt32(r);f.flush()},t.reqFundHz=function(n,t,i){this.mFundSum.doReset();var r=v.getPack(n);r.sendInt32(y.ClubID);r.sendInt32(t);r.sendInt32(i);r.flush()},t.req760=function(n,t){t===void 0&&(t=0);var i=v.getPack(760);i.sendInt32(y.ClubID);i.sendInt32(n);i.sendUInt8(t);i.flush()},t.req765=function(n){var t=v.getPack(765);t.sendInt32(y.ClubID);t.sendInt32(n);t.flush()},t.reqEc=function(n,t,i,r){var u=v.getPack(n);u.sendInt32(y.ClubID);u.sendInt16(t);u.sendInt16(i);u.sendInt32(r);u.flush()},t.reqEcLogs=function(n){var t=v.getPack(n);t.sendInt32(y.ClubID);t.flush()},t.reqAdminReqLists=function(n,t){var i=v.getPack(n);i.sendInt32(t);i.sendUInt8(50);i.flush()},t.reqAdminReqOp=function(n,t,i){var r=v.getPack(n);r.sendUInt8(i);r.sendInt32(t);r.flush()},t.reqRecharge=function(){},t.reqTake=function(){},t.reqFundClubGive=function(){},t.reqMem_Req=function(){},t.reqMem_Logs=function(n,t){var i=v.getPack(n);i.sendInt32(t);i.sendUInt8(50);i.flush()},t.req780=function(){},t.req781=function(){},t.req782=function(){},t.reqSendTicket=function(n,t,i){var r=v.getPack(780);r.sendInt32(n);r.sendInt32(t);r.sendInt32(i);r.sendInt16(1);r.flush()},t.reqTicketCount=function(n){var t=v.getPack(781);t.sendInt32(n);t.flush()},t.reqTicketDT=function(n,t){var i=v.getPack(782);i.sendInt32(n);i.sendInt32(t);i.flush()},t.req790=function(n){n===void 0&&(n=0);var t=v.getPack(790);t.sendInt32(n||y.ClubID);t.flush()},t.req791=function(n,t){t===void 0&&(t=0);var i=v.getPack(791);i.sendInt32(t||y.ClubID);i.sendInt32(n);i.sendUInt8(20);i.flush()},t.send792=function(n,t,i){i===void 0&&(i=0);var r=v.getPack(792);r.sendInt32(i||y.ClubID);r.sendInt32(n);r.sendUInt8(t);r.flush()},t.readAdReqLists=function(n){var u=n.getInt16(),t,i=0,r=[];for(i;i<u;i++)r[i]=t=l.get(sot),t.sID=n.getUint32(),t.state=n.getByte(),t.time=n.getUint32(),t.fund=n.getFloat64(),t.nick=n.getString(),t.uID=n.getUint32();return r},t.getCid=function(n){var t=n.pos,i=n.getUint32();return n.pos=t,i},t.readOpens=function(n){var r=n.getInt16(),t=0,i=[];for(t;t<r;t++)i[t]=n.getFloat32()+"_"+n.getByte();return i},t.parsePack=function(n,t){var i=0,f,r=0,e=0,o=0,h,a,c,v,s;switch(n){case 700:i=t.getByte();i==0&&(r=this.getCid(t),r==y.ClubID&&(this.ClubVo.readBase(t),this.ReTimes=t.getUint16(),this.StarTime=t.getUint32(),this.ClubState=t.getUint8(),t.bytesAvailable&&(this.ReNameCost=t.getUint32()+u.lang("resType_"+t.getByte())),this.notify(n,this.ClubVo)));break;case 701:i=t.getByte();0==i&&y.showError(n,i);this.notify(n,i);break;case 702:i=t.getByte();r=-2;i==0&&(r=t.getUint32(),r==y.ClubID&&(this.ClubVo.updateBase(t),t.bytesAvailable&&(this.ReTimes=t.getUint16()),this.notify(700,this.ClubVo),this.notify(n,0),y.showError(n,i)));break;case 703:yo.dic={};f=yo.s_ReadClubs(t);h=yo.s_ReadClubs(t);this.allClubNum=f.length+h.length;this.notify(n,f,h,t.bytesAvailable?this.myDpiOwnClub=t.readUint32():"");break;case 704:i=t.readByte();r=t.getUint32();r==y.ClubID?(i==0&&(this.quiteClubModu(),y.showError(n,i),this.reqMyClubs()),this.notify(n,i)):i=-1;break;case 705:r=t.getUint32();r==y.ClubID&&(this.Members.readClubBase(t),this.notify(n));break;case 706:i=t.readByte();r=t.getUint32();r==y.ClubID&&(this.ClubVo.level=t.getByte(),this.StarTime=t.getUint32(),this.notify(n,0,this.ClubVo.level,this.StarTime,r),0==i&&y.showError(n,i));break;case 707:i=t.readByte();i==0&&(r=t.getUint32(),this.myDpiOwnClub=r,this.notify(n,i,r));break;case 708:a=t.getByte();this.notify(n,1==a,this.readOpens(t));break;case 709:i=t.readByte();i==0&&y.showError(n,i);this.notify(n,i);break;case 710:i=t.getByte();i==0&&(this.mSearchVo.readBase(t),this.ClubState=t.getUint8(),this.notify(n,this.mSearchVo));break;case 711:case 712:i=t.readByte();this.notify(n,i);712==n&&0==i&&this.reqMyClubs();0==i&&y.showError(n,i);break;case 715:r=t.getUint32();r==y.ClubID&&this.notify(n,f=bo.readVec(t));break;case 716:i=t.getByte();i==0?(r=t.getUint32(),r==y.ClubID&&(y.showError(n,i),this.notify(n,0,bo.readUpdate(t)))):this.notify(n,i);break;case 717:i=t.getByte();i==0?(this.mViewVo.cID=t.getUint32(),this.mViewVo.readMemVo(t),this.notify(n,i,this.mViewVo)):this.notify(n,i);break;case 718:r=t.getUint32();r==y.ClubID&&(e=t.getByte(),this.notify(n,e));break;case 719:r=t.getUint32();r==y.ClubID&&(f=fw.readVec(t,!0),e=t.getUint32(),o=t.getInt32(),this.notify(n,f,e,o));break;case 720:r=t.getUint32();r==y.ClubID&&(f=il.readVec(t,!0),e=t.getUint32(),o=t.getInt32(),this.notify(n,f,e,o));break;case 721:r=t.getUint32();r==y.ClubID&&(this.Members.readMems(t),1==t.getByte()&&this.notify(n));break;case 722:i=t.getByte();c=2;i==0&&(r=t.getUint32(),r==y.ClubID&&(e=t.readUint32(),c=t.getByte(),this.Members.updateJob(e,c),this.notify(n,e),y.showError(n,i)));break;case 723:i=t.getByte();i==0&&(r=t.readUint32(),r==y.ClubID&&(e=t.readUint32(),this.Members.delMem(e),this.notify(n,e),y.showError(n,i)));break;case 724:i=t.getByte();i==0&&(r=t.readUint32(),r==y.ClubID&&(e=t.readUint32(),this.Members.updateNote(e,t.getString()),this.notify(n,e,0),y.showError(n,i)));break;case 728:case 729:i=t.getByte();i==0&&(r=t.readUint32(),r==y.ClubID&&(t.bytesAvailable&&(e=t.readUint32(),728==n?this.Members.updateGold(e,t.getFloat64()):this.Members.updateScore(e,t.getFloat64())),this.notify(n,0,e),y.showError(n,i)));break;case 730:r=t.readUint32();r==y.ClubID&&(f=ko.readVec(t),f&&this.notify(n,f,!0),f=null);break;case 731:case 732:case 733:case 734:if(i=t.getByte(),v=t.getUint32(),i==0&&(r=t.readUint32(),r==y.ClubID||v>0)){if(e=t.readUint32(),n==731)o=t.getUint32(),this.Members.updateCredit(0,e,o);else{o=t.getFloat64();s=0;switch(n){case 732:s=2;break;case 733:s=1;break;case 734:s=3}this.Members.updateCredit(s,e,o)}this.notify(n,e,o);y.showError(n,i)}break;case 740:case 744:case 750:r=t.readUint32();r==y.ClubID&&(this.mFundSum.readSum(t,!0),this.notify(n,this.mFundSum));break;case 741:case 745:case 751:r=t.readUint32();r==y.ClubID&&this.notify(n,f=this.mFundSum.readLogVec(t,n==751),t.getUint32());break;case 742:case 746:case 752:r=t.readUint32();r==y.ClubID&&(this.mFundSum.readSum(t,!0),this.notify(n,this.mFundSum,f=this.mFundSum.readHzVec(t)));break;case 760:case 765:case 766:case 770:i=t.getByte();r=t.readUint32();i==0&&r==y.ClubID&&(y.showError(n,i),this.notify(n,i));break;case 761:el.s_Read(t);this.notify(n);break;case 767:case 771:r=t.readUint32();r==y.ClubID&&this.notify(n,f=kn.readVec(t));break;case 780:i=t.getByte();i==0&&(this.notify(n,i),y.showError(n,i));break;case 781:e=t.getUint32();f=cn.sReadBytes(t);this.notify(n,e,f);break;case 782:e=t.getUint32();r=t.getUint32();f=dtt.sReadBytes(t);this.notify(n,e,r,f);break;case 790:r=t.getUint32();f=fh.sReadUn(t);t.getByte()==1&&this.notify(n,r,f);f=null;break;case 791:r=t.getUint32();f=fh.sReadHst(t);i=t.getUint32();this.notify(n,r,i,f);break;case 792:i=t.getByte();this.notify(n,i);break;case 793:this.notify(n,fh.readUpdate(t))}if(f)while(f.length>0)l.recyle(f.shift());return i},i}(y),nht=function(n){function i(){this.mHandVo3=new iw;this.mHandVo4=new iw;this.mRankVo=new nit;this.mRoomScoreVo=new rot;this.FavSumm=new sit;this.mBrands_MttRoom=new wy(!0);this.mBarnds_FavSettle=new wy(!1);i.__super.call(this,[500,501,502,509,503,504,506,507,508,510,511,515,516,517,518,519,520,521,522,523,524,525,526,527])}r(i,"games.cores.dataServices.brands.DS5X_Rooms",n);var t=i.prototype;return t.reqReview=function(n,t){var i=v.getPack(500);i.sendInt32(n);i.sendInt32(t);i.flush()},t.reqFav=function(n,t,i){var r=v.getPack(501);r.sendUInt8(n);r.sendInt32(t);r.sendInt32(i);r.flush()},t.reqFavClient=function(){this.FavSumm.DoReset();v.SendCmd(511)},t.reqFavDelA=function(n,t){var i=v.getPack(506);i.sendInt32(n);i.sendInt32(t);i.flush()},t.reqFavLists=function(n,t){t===void 0&&(t=0);this.mBarnds_FavSettle.setRoomID(t*10+n);var i=v.getPack(502);i.sendInt8(n);i.sendUInt8(t);i.flush()},t.reqFavNums=function(){v.SendCmd(509)},t.reqBrand=function(n,t,i){var r=v.getPack(n);r.sendInt32(t);r.sendInt32(i);r.flush()},t.reqTousu=function(n,t,i,r){var u=v.getPack(n?507:508),f,e;for(u.sendInt32(t),u.sendInt32(i),f=0,e=r.length,u.sendInt16(e),f;f<e;f++)u.sendUInt8(r[f]);u.flush()},t.reqRank=function(){v.SendCmd(510)},t.reqRoomScore=function(n){var t=v.getPack(515);t.sendInt32(n);t.flush()},t.reqSettleBrands=function(n){this.mBarnds_FavSettle.setRoomID(n);var t=v.getPack(516);t.sendInt32(n);t.sendUInt8(20);t.flush()},t.reqMTTSettleBrands=function(n,t){this.mBarnds_FavSettle.setRoomID(n);var i=v.getPack(517);i.sendInt32(n);i.sendInt32(0);i.sendUInt8(t);i.flush()},t.reqMTTBrandsInRoom=function(n,t){this.mBrands_MttRoom.setRoomID(n);var i=v.getPack(519);i.sendInt32(n);i.sendInt32(this.mBrands_MttRoom.LastID);i.sendUInt8(t);i.flush()},t.reqDzXlsBrands=function(n){this.mBrands_MttRoom.setRoomID(n);var t=v.getPack(518);t.sendInt32(n);t.sendInt32(this.mBrands_MttRoom.LastID);t.flush()},t.req520=function(n,t,i){var r=v.getPack(520);r.sendUInt8(n);r.sendInt8(t);r.sendInt16(i);r.flush()},t.req521=function(n,t,i){var r=v.getPack(521);r.sendUInt8(n);r.sendInt8(t);r.sendUInt8(i);r.flush()},t.req522=function(n,t,i,r){var u=v.getPack(522);u.sendUInt8(n);u.sendInt32(t);u.sendUInt8(16);u.sendInt8(i);u.sendInt32(r);u.flush()},t.req523=function(n,t,i,r){var u=v.getPack(523);u.sendUInt8(n);u.sendInt32(t);u.sendUInt8(16);u.sendInt8(i);u.sendInt32(r);u.sendUInt8(1);u.flush()},t.req524=function(n,t,i,r){var u=v.getPack(524);u.sendUInt8(n);u.sendInt32(t);u.sendUInt8(16);u.sendInt8(i);u.sendInt32(r);u.sendUInt8(1);u.flush()},t.reqNoteVec=function(){fy.doReset();v.SendCmd(525)},t.reqNoteEdit=function(n,t){var i=v.getPack(526);i.sendInt32(n);i.sendString(t);i.flush()},t.reqNoteDel=function(n){var t=v.getPack(527);t.sendInt32(n);t.flush()},t.readInt32s=function(n){for(var t=[];n.bytesAvailable;)t.push(n.getInt32());return t},t.parsePack=function(n,t){var c=0,r=0,u=0,f=0,i,e,o,s;switch(n){case 500:this.notify(n,t.getString());break;case 501:case 506:r=t.getByte();0==r&&(u=t.getUint32(),f=t.getUint32(),this.FavSumm.addDel(n==501,u,f),y.showError(n,r));this.notify(n,r,u,f);break;case 511:this.FavSumm.readVec(t);break;case 502:c=t.getByte();u=t.getByte();i=this.mBarnds_FavSettle.ReadVec(t);i&&this.notify(n,c,u,i);break;case 509:i=[];i[0]=t.getInt16();i[2]=t.getInt16();i[1]=t.getInt16();this.notify(n,i);break;case 503:case 504:r=t.getByte();o=n==503?this.mHandVo3:this.mHandVo4;0==r&&o.parse(t);this.notify(n,o);break;case 507:r=t.getByte();s=0;0==r&&(s=t.getFloat32());this.notify(n,r,s);break;case 508:r=t.getByte();var v=t.getUint32(),p=t.getUint32(),w=t.getInt16(),h=0,a={};for(h;h<w;h++)e=l.get(sy),e.parse508(t),a[e.index]=e;this.notify(n,v,p,a);0==r&&y.showError(n,r);break;case 510:this.mRankVo.parse(t,y.MyID);this.notify(n,this.mRankVo);this.mRankVo.recyle();break;case 515:r=t.getByte();0==r&&(this.mRoomScoreVo.parse(t),this.notify(n,this.mRoomScoreVo));break;case 516:case 517:i=this.mBarnds_FavSettle.ReadVec(t);i&&this.notify(n,i);break;case 518:case 519:i=this.mBrands_MttRoom.ReadVec(t);i&&this.notify(n,i);i=null;break;case 520:case 521:this.notify(n,i=this.readInt32s(t));i=null;break;case 522:i=fw.readVec(t,!1);u=t.getInt32();f=t.getInt32();this.notify(n,u,i,f);break;case 523:case 524:i=il.readVec(t,!1);u=t.getUint32();f=t.getInt32();this.notify(n,u,i,f);i=null;break;case 525:f=t.getInt32();i=fy.readVec(t);i&&this.notify(n,f,i);i=null;break;case 526:r=t.getByte();0==r?this.notify(n,r,t.getUint32(),t.getString()):this.notify(n,r);break;case 527:r=t.getByte();0==r?this.notify(n,r,t.getUint32()):this.notify(n,r)}if(i)while(i.length>0)l.recyle(i.shift());return r},i}(y),tht=function(n){function i(){this.isServer=0;this.AllVo=new ltt;i.__super.call(this,[330,331,332,334,335,336,337])}r(i,"games.cores.dataServices.messages.DS_Message",n);var t=i.prototype;return t.reqNums=function(){this.isServer=0;v.SendCmd(330)},t.reqOp=function(n,t){var i=v.getPack(331);i.sendInt32(n);i.sendUInt8(t);i.flush()},t.reqPageLists=function(n,t){var i=v.getPack(334);i.sendUInt8(n?0:1);i.sendUInt8(24);i.sendUInt8(t);i.flush()},t.reqANums=function(){v.SendCmd(332)},t.reqReadAll=function(n){var t=v.getPack(336);t.sendUInt8(n);t.flush()},t.reqBatDel=function(n){var i=v.getPack(337),r=n.length,t;for(i.sendInt16(r),t=0,t;t<r;t++)i.sendInt32(n.shift());i.flush()},t.readLists=function(n){var u=n.getInt16(),i,t=0,r=[];for(t;t<u;t++)r[t]=i=l.get(vo),i.parse(n);return r},t.parsePack=function(n,t){var i=0,h,u,e,o;switch(n){case 330:this.AllVo.parse(t);this.notify(n,this.AllVo,this.isServer);this.isServer=1;break;case 331:var f=t.getByte(),r=t.getByte(),s=t.getUint32();this.notify(n,f,r,s);f==0&&r>0&&r!=4?ut.showMessage("mgs_opResult_"+r):y.showError(n,f);break;case 332:this.notify(n,t.getUint16(),t.getUint16(),t.getUint16());break;case 334:for(h=t.getByte(),i=t.getByte(),u=this.readLists(t),this.notify(n,i,u);u.length>0;)l.recyle(u.shift());break;case 335:i=t.getByte();e=t.getUint16();o=t.getString();ut.showMessage(vo.getSerStr(e,o),!1,i);break;case 336:i=t.getByte();this.notify(n,i);break;case 337:return i=t.getByte(),this.notify(n,i),i}return 0},i}(y),iht=function(n){function u(){this.DEF_LANG=86;this.KEY_LANG="loginLang";this.KEY_ACC_ALL="loginAccAll";this.KEY_ACC_CUR="loginAccCur";this.Lang=0;this.CodeAcc=null;this.CurAcc=null;this.VecAccs=null;this.mTmpAcc_Cur=null;this.mTmpAcc_Sub=null;this.mStr106=null;this.mType108=0;this.mVer=null;this.regUser=/(\s)+/;u.__super.call(this,[100,101,102,103,105,106,107,108,109,110,120,131,133]);this.mTmpAcc_Cur=new eh;this.mTmpAcc_Sub=new eh;this.mVer=new bg;this.saveLang(sr.getItem(this.KEY_LANG));this.VecAccs=sr.getJSON(this.KEY_ACC_ALL);this.VecAccs||(this.VecAccs=[]);this.CurAcc=sr.getJSON(this.KEY_ACC_CUR);this.CurAcc||(this.CurAcc=new wh,this.CurAcc.country=this.DEF_LANG,this.CurAcc.key="",this.CurAcc.user="",this.saveAllAccs());this.CodeAcc=new eh}r(u,"games.cores.dataServices.login.DS1X_Login",n);var t=u.prototype;return t.isSameAcc=function(n,t){return(t||(t=this.mTmpAcc_Sub),n&&n.country==t.country&&n.user&&n.user==t.user)?!0:!1},t.saveCur=function(){this.CurAcc.country=this.mTmpAcc_Cur.country;this.CurAcc.user=this.mTmpAcc_Cur.user;this.CurAcc.key=this.mTmpAcc_Cur.key;this.saveAllAccs()},t.saveAllAccs=function(){sr.setJSON(this.KEY_ACC_CUR,this.CurAcc);var i=this.VecAccs.length,n=0,t;for(n;n<i;n++)if(t=this.VecAccs[n],this.isSameAcc(t,this.CurAcc)){this.VecAccs.splice(n,1);this.VecAccs.splice(0,0,t);t.key=this.CurAcc.key;break}sr.setJSON(this.KEY_ACC_ALL,this.VecAccs)},t.addSubAcct=function(n){var r=n.readByte();if(r==0){var e=this.VecAccs.length,i=0,t,u=!1,f=!1;for(i;i<e;i++)t=this.VecAccs[i],!u&&this.isSameAcc(t,this.mTmpAcc_Cur)&&(u=!0),!f&&this.isSameAcc(t,this.mTmpAcc_Sub)&&(f=!0);u||(t=new wh,t.country=this.CurAcc.country,t.user=this.CurAcc.user,t.key=this.CurAcc.key,t.sID=this.CurAcc.sID,t.Nick=this.CurAcc.Nick,t.iconID=this.CurAcc.iconID,this.VecAccs.push(t),this.saveCookie(t.user));f||(t=new wh,t.country=this.mTmpAcc_Sub.country,t.user=this.mTmpAcc_Sub.user,t.key=this.mTmpAcc_Sub.key,t.sID=n.getUint32(),t.Nick=n.getString(),t.iconID=n.getString(),this.VecAccs.push(t),this.saveCookie(t.user),this.reqTabAcc(t));this.saveAllAccs();y.showError(103,r)}return r},t.saveCookie=function(n){var t=sr.getJSON("saveSelect");t||(t={});t[n]=!0},t.updateCurAcc=function(n){if(this.CurAcc){this.CurAcc.sID=n.SID;this.CurAcc.Nick=n.Nick;this.CurAcc.iconID=n.iconID;var i=0,u=this.VecAccs.length,r=!1,t;for(i;i<u;i++)if(t=this.VecAccs[i],this.isSameAcc(t,this.mTmpAcc_Cur)){r=!0;t.sID=n.SID;t.Nick=n.Nick;t.iconID=n.iconID;break}r||(t=new wh,t.country=this.CurAcc.country,t.Nick=this.CurAcc.Nick,t.iconID=this.CurAcc.iconID,t.key=this.CurAcc.key,t.user=this.CurAcc.user,t.sID=this.CurAcc.sID,this.VecAccs.push(t));this.saveAllAccs()}},t.autoReqLogin=function(){return this.CurAcc.user&&this.CurAcc.key?(this.reqLogin(this.CurAcc.country,this.CurAcc.user,this.CurAcc.key),!0):!1},t.reqLogin=function(n,t,i){if(!t||0==t.length||t.match(this.regUser)){ut.showMessage("login_err_user_input");return}this.mTmpAcc_Cur.country=n;this.mTmpAcc_Cur.user=t;this.mTmpAcc_Cur.key=i;var r=v.getPack(100);r.sendInt16(n);r.sendString(t);r.sendString(i);r.sendString(et.Mac);r.flush()},t.reqReset=function(n,t,i,r,u){this.mTmpAcc_Cur.country=n;this.mTmpAcc_Cur.user=t;this.mTmpAcc_Cur.key=i;var f=v.getPack(101);f.sendInt16(n);f.sendString(t);f.sendInt16(r);f.sendString(i);f.sendUInt8(u?1:2);f.sendString(et.Mac);f.flush()},t.reqCode=function(n,t,i){var r=v.getPack(102);r.sendInt16(n);r.sendString(t);r.sendUInt8(i);r.sendUInt8(et.getCt4Type());r.flush()},t.sendCt4=function(n){var t=v.getPack(107);t.sendString(this.mStr106);t.sendString(n);t.flush();oi.notify(100)},t.req108=function(){this.reqCode(this.CodeAcc.country,this.CodeAcc.user,this.mType108)},t.send109=function(n){var t=v.getPack(109);t.sendInt16(this.CodeAcc.country);t.sendString(this.CodeAcc.user);t.sendUInt8(this.mType108);t.sendInt16(n);t.sendString(et.Mac);t.flush()},t.reqSubAdd=function(n,t,i){this.mTmpAcc_Sub.country=n;this.mTmpAcc_Sub.user=t;this.mTmpAcc_Sub.key=i;var r=v.getPack(103);r.sendInt16(n);r.sendString(t);r.sendString(i);r.flush()},t.reqTabAcc=function(n){this.mTmpAcc_Sub.country=n.country;this.mTmpAcc_Sub.user=n.user;this.mTmpAcc_Sub.key=n.key;var t=v.getPack(105);t.sendInt16(n.country);t.sendString(n.user);t.sendString(n.key);t.sendString(et.Mac);t.flush()},t.reqQuit=function(){v.SendCmd(104)},t.reqDelAcc=function(n){var t=v.getPack(110);t.sendInt16(n);t.flush()},t.saveLang=function(n){n=a.getNumber(n);n<1&&(n=this.DEF_LANG);sr.setItem(this.KEY_LANG,n+"");n!=this.Lang&&ut.showMessage("lang_ok");this.Lang=n},t.reqVersion=function(){var n=v.getPack(131);n.sendInt32(2);n.sendInt32(et.AppType);n.sendInt32(wt.plat);n.flush()},t.reqGps=function(n,t){var i=v.getPack(132);i.send64(n);i.send64(t);i.flush()},t.reqOs=function(){var t=et.isShell()+", "+c.userAgent+", "+et.AppType+", "+wt.version,n=v.getPack(133);n.sendString(t);n.flush()},t.sendApp=function(){var n=v.getPack(134);n.sendUInt8(et.AppType);n.sendUInt8(wt.plat);n.flush()},t.parsePack=function(n,t){var r=0,f,e,u;switch(n){case 100:case 101:r=t.getByte();0==r&&(this.saveCur(),n==101&&(y.showError(n,0),f=t.getByte(),this.notify(100,r,f)));this.notify(n,r);break;case 102:e=t.getInt16();r=t.getByte();u=0;t.bytesAvailable>0&&(u=t.getByte());u!=1&&0==r&&oi.notify(100);this.notify(n,r);break;case 110:r=t.getByte();this.notify(n,r);r==0&&y.showError(n,r);break;case 120:r=t.getByte();r<2&&i.stage.isActive&&(this.CurAcc.key="",this.saveAllAccs());this.notify(n,r);break;case 103:r=this.addSubAcct(t);this.notify(n,r,this.VecAccs);break;case 105:r=t.getByte();this.notify(n,r);0==r&&(this.mTmpAcc_Cur.country=this.mTmpAcc_Sub.country,this.mTmpAcc_Cur.key=this.mTmpAcc_Sub.key,this.mTmpAcc_Cur.user=this.mTmpAcc_Sub.user,this.saveCur(),this.notify(100,0));break;case 131:this.mVer.parse(t);this.notify(n,this.mVer);break;case 133:r=t.getByte();break;case 106:this.mStr106=t.getString();et.Ct4_Show();break;case 107:case 109:r=t.getByte();this.notify(n,r);break;case 108:this.mType108=t.getByte();this.CodeAcc.country=t.getUint16();this.CodeAcc.user=t.getString();this.notify(n,this.mType108)}return r},u}(y),rht=function(n){function i(){this.JackRates=[];this.JackValue=0;this.Cards=[];this.roomIndex=1;this.mDicOuts=null;this.mOutsRates=null;this.mDstr="";this.mDjstr="";this.mDjreq="";this.MatchVo=new bst;this.UpdateVo=new uy;this.SafeBoxVo=new yg;this.JlsVo=new lit;this.JlsRst=new ett;this.SBSync=new yit;this.ChatVo=new fit;this.playerVo=new trt;this.mHuntPrices=[];i.__super.call(this,[400,401,402,403,404,405,406,407,408,409,410,411,412,413,414,415,416,417,419,420,421,422,423,424,425,426,427,430,431,432,433,434,435,440,441,442,443,444,445,446,447,450,451,452,455,465,466,480,481,482,483,484,485,486,487,488,489,470,471,473,472,474,475,476,477,478,490,491,492,493,494,495])}r(i,"games.cores.dataServices.matches.DS4X_Match",n);var t=i.prototype;return t.reqOuts=function(){this.mDicOuts||v.SendCmd(409)},t.setOutsType=function(n){this.mOutsRates=this.mDicOuts?this.mDicOuts[n]:i._defOuts},t.getOutsRate=function(n){return this.mOutsRates?this.mOutsRates[n]||1:1},t.readOutsCfg=function(n){var i,t,r;if(this.mDicOuts)for(i in this.mDicOuts)this.mDicOuts[i]=null,delete this.mDicOuts[i];else this.mDicOuts={};for(t=0,r=n.getUint16(),t;t<r;t++)this.mDicOuts[t]=this.readOuts(n)},t.readOuts=function(n){var i={},t=0,r=n.getUint16();for(t;t<r;t++)i[n.getByte()]=n.getFloat32();return i},t.reqBase=function(){this.roomIndex+=1;var n=v.getPack(400);n.sendInt32(this.roomIndex);n.flush()},t.reqSetRoom=function(n,t,i){t===void 0&&(t=0);i===void 0&&(i=0);var r=v.getPack(414);r.sendInt32(n);r.sendInt32(t);r.sendUInt8(0);r.sendInt32(i);r.flush()},t.reqOtherUp=function(n){var t=v.getPack(415);t.sendUInt8(n);t.flush()},t.reqTP=function(n,t){var i=v.getPack(416);i.sendInt32(n);i.sendUInt8(t);i.flush()},t.reqOtherOut=function(n){var t=v.getPack(417);t.sendInt32(n);t.flush()},t.reqOtherUnOut=function(n){var t=v.getPack(419);t.sendInt32(n);t.flush()},t.reqJy=function(n,t){t===void 0&&(t=1);var i=v.getPack(418);i.sendInt32(n);i.sendUInt8(t);i.flush()},t.reqBet=function(n,t,i){var r=v.getPack(443);r.sendUInt8(n);r.send64(t);r.sendString(i+" ~~~ "+this.mDstr);r.flush();this.mDstr=""},t.reqAddScore=function(n){var t=v.getPack(441);t.send64(n);t.flush()},t.reqXf=function(){v.SendCmd(445)},t.reqFwf=function(){v.SendCmd(447)},t.reqSit=function(n){var t=v.getPack(420);t.sendUInt8(n);t.flush()},t.reqStand=function(){v.SendCmd(422)},t.reqHolding=function(n){var t=v.getPack(426);t.sendUInt8(n);t.flush()},t.reqQuit=function(){v.SendCmd(412)},t.reqDisband=function(){v.SendCmd(413)},t.reqStart=function(){v.SendCmd(410)},t.reqPause=function(){v.SendCmd(411)},t.reqCurOp=function(){this.mDjreq="[ 请求时间:"+a.getNowStr(3)+" "+c.nowSeconds()+" ]";v.SendCmd(432)},t.reqAddTime=function(){v.SendCmd(442)},t.reqSee=function(){v.SendCmd(444)},t.reqStraddle=function(){v.SendCmd(451)},t.reqForceSee=function(){v.SendCmd(452)},t.reqShow=function(n,t){var i=v.getPack(494);i.sendUInt8(n);i.sendUInt8(t?1:0);i.flush()},t.reqQuickChat=function(n,t,i){var r=v.getPack(470);r.sendUInt8(n);r.sendUInt8(t);r.sendUInt8(i);r.flush()},t.reqChatMsg=function(n){var t=v.getPack(473);t.sendString(n);t.flush()},t.reqMic=function(n,t){var i=v.getPack(471);i.sendString(n);i.sendInt32(t);i.flush()},t.sendChat=function(n){var t=v.getPack(465);t.sendString(n);t.flush()},t.reqChatLists=function(){lo.doReset();v.SendCmd(466)},t.reqViewPlayer=function(n){var t=v.getPack(472);t.sendInt32(n);t.flush()},t.reqViewVip=function(n){var t=v.getPack(474);t.sendInt32(n);t.flush()},t.reqJackConfigs=function(){0==this.JackRates.length&&v.SendCmd(475)},t.reqJackLog=function(){v.SendCmd(477)},t.reqJackLev=function(){v.SendCmd(478)},t.reqZm=function(){v.SendCmd(495)},t.reqsafe_AddTime=function(){v.SendCmd(481)},t.reqSafe=function(n,t,i,r){var f=v.getPack(483),u,e;for(f.send64(n),u=0,e=t.length,f.sendInt16(e),u;u<e;u++)f.sendUInt8(t[u]);for(f.send64(i),e=r.length,f.sendInt16(e),u=0;u<e;u++)f.sendUInt8(r[u]);f.flush()},t.reqsafe_Drop=function(){v.SendCmd(486)},t.sendJls=function(n){var t=v.getPack(488);t.sendUInt8(n);t.flush()},t.readOnSeats=function(n){var r=n.getUint16(),u=[],t,i;if(r>0)for(t=0,t;t<r;t++)i=l.get(ew),i.parse(n),i.isSelf=y.MyID==i.sID,u[t]=i;return u},t.readBlinds=function(n){var r=[],i=0,u=n.getUint16(),t;for(i;i<u;i++)r[i]=t=l.get(tn),t.index=n.getByte(),t.value=n.getFloat64(),t.score=n.getFloat64(),t.startState=n.getByte(),t.betState=n.getByte();return r},t.readPots=function(n){var i=[],t=0,r=n.getUint16();for(t;t<r;t++)i[t]=n.getFloat64();return i},t.readStates=function(n){var r=[],t=0,u=n.getUint16(),i;for(t;t<u;t++)r[t]=i=l.get(rl),i.index=n.getByte(),i.value=n.getByte();return r},t.readRounds=function(n){var r=[],i=0,u=n.getUint16(),t;for(i;i<u;i++)r[i]=t=l.get(dn),t.index=n.getByte(),t.betState=n.getByte(),t.betted=n.getFloat64(),t.pot=n.getFloat64();return r},t.readHandOver=function(n){var r=[],i=0,u=n.getUint16(),t;for(i;i<u;i++)r[i]=t=l.get(dit),t.index=n.getByte(),t.win=n.getFloat64(),t.score=n.getFloat64(),t.type=n.getByte();return r},t.readCards=function(n){this.Cards.length=0;var t=0,i=n.getUint16();for(t;t<i;t++)this.Cards[t]=n.readByte()},t.readJackLog=function(n){var r=[],i=0,u=n.getUint16(),t;for(i;i<u;i++)r[i]=t=l.get(btt),t.name=n.getString(),t.type=n.getByte(),t.value=n.getUint32(),t.time=n.getUint32();return r},t.parsePack=function(n,t){var i=0,r=0,e=0,h=0,v=0,u,p=0,o,s;switch(n){case 400:r=t.getUint32();this.roomIndex==r?(this.MatchVo.mtt_blindLv=0,this.MatchVo.nextZmTime=-1,this.MatchVo.readAll(t),this.MatchVo.bankIndex=t.getByte(),this.MatchVo.roomState=t.getByte(),this.MatchVo.isAdmin=1==t.getByte(),this.MatchVo.mySeat=t.getByte(),this.MatchVo.invitCode=t.getUint32(),this.MatchVo.HandNum=t.getUint32(),this.MatchVo.potBase=t.getFloat64(),this.MatchVo.betType=t.getByte(),pe.read(t),this.MatchVo.wx=t.getString(),this.MatchVo.openNum=t.getByte(),this.MatchVo.mnqNum=t.getByte(),this.MatchVo.ClubID=t.getUint32(),this.MatchVo.ClubName=t.getString(),this.MatchVo.matchType=t.getByte(),this.MatchVo.mtt_blindLv=t.getByte(),this.MatchVo.IsIntBet=t.getByte()>0,this.MatchVo.mtt_deskNum=t.getUint16(),this.MatchVo.HcNum=2,t.bytesAvailable&&(this.MatchVo.HcNum=t.getByte()),this.MatchVo.updateTime(),this.MatchVo.roomCre.doReset(),this.notify(n,1,this.MatchVo),this.reqZm(),this.MatchVo.isMTT()?f.MTT.reqDetailRoom(this.MatchVo.roomID,!0):this.MatchVo.isSNG()&&f.SNG.reqDetail(this.MatchVo.roomID),this.mDjstr="[ 进入房间:"+a.getNowStr(3)+" "+c.nowSeconds()+" ]"):0==r&&this.notify(n,0);break;case 401:this.notify(n,this.readOnSeats(t));break;case 402:e=t.getByte();this.notify(n,0==e,this.readPots(t));break;case 403:this.MatchVo.potTotal=t.getFloat64();this.notify(n,this.MatchVo.potTotal);break;case 404:this.MatchVo.HandNum+=1;this.notify(n);break;case 405:this.MatchVo.roomCre.read(t);this.notify(n,this.MatchVo.roomCre);break;case 406:this.notify(n,t.getByte());break;case 407:this.mOutsRates=this.readOuts(t);break;case 409:this.readOutsCfg(t);break;case 408:while(this.mHuntPrices.length>0)l.recyle(this.mHuntPrices.shift());for(p=t.getUint16(),r=0;r<p;r++)e=t.getUint8(),o=this.mHuntPrices[e],o||(o=l.get(rl),this.mHuntPrices[e]=o),o.index=e,o.value=t.getUint32();this.notify(n,this.mHuntPrices);break;case 412:i=t.getByte();0==i&&this.MatchVo.recyle();this.notify(n,i);break;case 410:case 411:case 413:i=t.getByte();this.notify(n,i);break;case 414:this.MatchVo.roomState=t.getByte();this.MatchVo.setFlag(t.getUint32());this.MatchVo.ante=t.getFloat32();this.MatchVo.timeRest=t.getUint32();this.MatchVo.timeMax=t.getUint32();this.MatchVo.mnqNum=t.getByte();this.MatchVo.littleBB=t.getFloat32();this.MatchVo.mtt_blindLv=t.getUint8();this.MatchVo.suringMax=t.getUint32();this.MatchVo.updateTime();this.notify(n);break;case 415:case 416:i=t.getByte();i==0&&(r=t.getByte(),y.showError(n,i));this.notify(n,i,r);break;case 417:i=t.getByte();i==0&&(r=t.getUint32());this.notify(n,i,r);break;case 418:i=t.getByte();i==0&&(r=t.getUint32(),e=t.getByte(),i=e+8);this.notify(n,i,r);break;case 420:i=t.getByte();this.MatchVo.mySeat=r=t.getByte();this.notify(n,i,r);break;case 421:s=l.get(ew);s.parse(t);s.isSelf=y.MyID==s.sID;this.notify(n,s);break;case 422:i=t.getByte();this.MatchVo.mySeat=r=t.getByte();this.notify(n,i,r);break;case 423:r=t.getByte();this.notify(n,r);break;case 424:r=t.getByte();this.notify(n,r,t.getFloat64());break;case 425:u=this.readStates(t);this.notify(n,u);break;case 426:i=t.getByte();i==0&&(e=t.getByte(),e==0&&y.showError(n,i));this.notify(n,i);break;case 427:r=t.getByte();v=t.getByte();h=t.getInt16();this.notify(n,r,v,h);break;case 430:this.MatchVo.HandNum=t.getUint32();this.MatchVo.roomState=t.getByte();this.MatchVo.bankIndex=t.getByte();u=this.readBlinds(t);this.notify(n,this.MatchVo,u);break;case 431:u=this.readBlinds(t);this.notify(n,u);break;case 432:r=t.getByte();this.MatchVo.potBase=t.getFloat64();h=t.getUint32();this.MatchVo.betType=t.getByte();var w=t.getFloat64(),b=t.getFloat64(),k=this.MatchVo.potBase!=w;this.notify(n,r,h,w,b,k);break;case 433:this.UpdateVo.parse(t);this.notify(n,this.UpdateVo);break;case 434:u=this.readRounds(t);this.notify(n,u);break;case 435:u=this.readHandOver(t);this.notify(n,u);break;case 440:this.notify(n);break;case 443:this.notify(n,t.bytesAvailable?t.getByte():0);break;case 441:case 442:case 444:case 445:i=t.getByte();0==i&&y.showError(n,i);this.notify(n,i);break;case 446:case 447:this.notify(n,t.getFloat64());break;case 450:r=t.getByte();this.notify(n,r);break;case 451:i=t.getByte();this.notify(n,i);0==i&&y.showError(n,i);break;case 452:i=t.getByte();this.notify(n,i);break;case 455:pe.read(t);break;case 465:this.notify(n,lo.sReadOne(t));break;case 466:r=t.getUint32();r==this.MatchVo.roomID?(u=lo.sReadLists(t),u&&this.notify(n,r,u)):lo.doReset();break;case 470:this.ChatVo.type=t.getByte();this.ChatVo.index=t.getUint8();this.ChatVo.IndexSender=t.getByte();this.ChatVo.IndexReceiver=t.getByte();this.ChatVo.sender=t.getString();this.notify(n,this.ChatVo);break;case 471:this.notify(n,itt.read(t));break;case 473:this.notify(n,t.getByte(),t.getString(),t.getString());break;case 472:this.playerVo.readBase(t);this.notify(n,this.playerVo);break;case 474:i=t.getByte();0==i&&(this.playerVo.readVip(t),this.notify(n,this.playerVo));break;case 475:this.JackRates[0]=t.getUint16()/1e4;this.JackRates[1]=t.getUint16()/1e4;this.JackRates[2]=t.getUint16()/1e4;this.JackRates[3]=t.getUint16()/1e4;this.notify(n);break;case 476:this.JackValue=t.getUint32();this.notify(n,this.JackValue);break;case 477:u=this.readJackLog(t);this.notify(n,u);break;case 478:u=bo.readVec(t);this.notify(n,u);break;case 480:this.SafeBoxVo.parse(t);this.notify(n,this.SafeBoxVo);break;case 481:case 483:i=t.getByte();i==0&&y.showError(n,i);this.notify(n,i);break;case 482:r=t.getByte();this.notify(n,t.getUint16());break;case 484:this.SBSync.read(t);this.notify(n,this.SBSync);break;case 485:this.notify(n);break;case 486:i=t.getByte();this.notify(n,i);break;case 487:this.JlsVo.parse(t);this.notify(n,this.JlsVo);break;case 489:this.JlsRst.parse(t);this.notify(n,this.JlsRst);break;case 490:e=t.getByte();this.readCards(t);this.notify(n,1==e,this.Cards);break;case 491:this.readCards(t);this.notify(n,this.Cards);break;case 492:e=t.getByte();u=rit.readHnads(t);this.notify(n,1==e,u);break;case 493:e=t.getByte();this.readCards(t);this.notify(n,e,this.Cards);break;case 494:r=t.getByte();e=t.getByte();this.notify(n,r,e==1);break;case 495:this.MatchVo.nextZmTime=t.getInt32();this.MatchVo.littleBB=t.getFloat32();this.MatchVo.ante=t.getFloat32();this.MatchVo.setFlag(t.getUint32());this.MatchVo.mtt_blindLv=t.getUint16();t.bytesAvailable&&(this.MatchVo.suringMin=t.getUint32());this.notify(n)}if(u)while(u.length>0)l.recyle(u.shift());return i},i._defOuts={},i}(y),uht=function(n){function i(){this.mIndex=0;this.mCID=0;this.mgrYp=null;this.mgrHall=null;this.mgrClub=null;i.__super.call(this,[300,301,302,303,309,310,312,313,314,316,317,320,321,322,323,324,325,370,371,372,373]);this.mgrYp=new wc;this.mgrHall=new wc;this.mgrClub=new wc}r(i,"games.cores.dataServices.matchSvc.desk.DS3X_Desk",n);var t=i.prototype;return t.reqYp=function(){this.mgrYp.doReset();v.SendCmd(300)},t.quitYp=function(){this.mgrYp.doReset()},t.reqJoin=function(n,t,i,r){t===void 0&&(t=0);i===void 0&&(i=0);r===void 0&&(r=0);cr.show(1,u.lang("tip_join"));var f=v.getPack(302);f.sendInt32(n);f.sendInt32(t);f.sendInt32(i);f.sendInt32(r);f.flush()},t.reqJoinByCode=function(n){var t=v.getPack(303);t.sendInt32(n);t.flush()},t.reqDzLists=function(n){var t=v.getPack(309);t.sendInt32(n);t.flush()},t.reqHallLists=function(n,t,i,r,u){u&&this.mgrHall.doReset();this.mIndex=n*10+t;var f=v.getPack(310);f.sendInt8(n);f.sendUInt8(this.mIndex);f.sendFloat(i);f.sendFloat(r);f.sendUInt8(u?1:0);f.sendInt16(32);f.flush()},t.quitHall=function(){this.mgrHall.doReset();v.SendCmd(314)},t.reqClubDesks=function(n,t,i){this.mCID=n;this.mIndex+=1;i&&this.mgrClub.doReset();var r=v.getPack(320);r.sendInt32(this.mCID);r.sendUInt8(i?1:0);r.sendUInt8(32);r.sendInt32(this.mIndex);r.sendInt8(t);r.flush()},t.reqZdMcNums=function(n){var t=v.getPack(325);t.sendInt32(n);t.flush()},t.quitClubDesks=function(){this.mgrClub.doReset();var n=v.getPack(324);n.sendInt32(this.mCID);n.flush()},t.reqMatchRed=function(n,t){var i=v.getPack(316);i.sendInt8(n);i.sendUInt8(t);i.flush()},t.reqIniviteNum=function(){v.SendCmd(317)},t.parsePack=function(n,t){var i=0,r=0,e=0,o=0,u=0,s,h;switch(n){case 300:this.notify(n,this.mgrYp.readVec(t),!0,0);break;case 301:i=t.getByte();i==0&&y.showError(n,i);u=0;h=0;t.bytesAvailable>0&&(u=t.getByte(),h=t.getByte());this.notify(n,i,u,h);break;case 302:i=t.getByte();t.bytesAvailable&&f.Match.setOutsType(t.getByte());this.notify(n,i);break;case 303:i=t.getByte();this.notify(n,i);i=0;break;case 309:r=t.getUint32();this.notify(n,r,t.getString(),on.sRead(t));break;case 310:e=t.getUint32();u=t.getByte();o=t.getByte();this.mIndex==o&&this.notify(n,this.mgrHall.readVec(t),1==u,e);break;case 312:this.notify(n,this.mgrHall.readUpdates(t));break;case 313:this.notify(n,this.mgrHall.readDels(t));break;case 316:this.notify(n,t.getByte(),t.getByte(),t.getUint32());break;case 317:this.notify(n,t.getUint16(),t.getUint16());break;case 320:r=t.getUint32();r==this.mCID&&(e=t.getUint32(),u=t.getByte(),o=t.getInt32(),this.mIndex==o&&this.notify(n,this.mgrClub.readVec(t),1==u,e));break;case 322:r=t.getUint32();r==this.mCID&&this.notify(n,this.mgrClub.readUpdates(t));break;case 323:r=t.getUint32();r==this.mCID&&this.notify(n,this.mgrClub.readDels(t));break;case 325:this.notify(n,t.getUint32(),t.getUint16(),t.getUint16(),t.getUint16());break;case 370:this.notify(n,t.getUint32());break;case 371:this.notify(n,t.getUint8());break;case 372:this.notify(n,t.getString());break;case 373:this.notify(n,df.sReadMatchRwd(t))}if(s)while(s.length)l.recyle(s.shift());return i},i}(y),fht=function(n){function i(){this.MatchDtl=null;this.mSgr=null;this.mVecPlayers=null;i.__super.call(this,[800,801,810,811,812,813,820,821,822]);this.MatchDtl=new eit;this.mSgr=new wg;this.mVecPlayers=[]}r(i,"games.cores.dataServices.matchSvc.sng.DS8_Sng",n);var t=i.prototype;return t.reqNum=function(){f.Desk.reqMatchRed(-1,2)},t.quit=function(){this.mSgr.DoReset();df.sDoReset();this.Players_Reset();v.SendCmd(800)},t.reqPriLists=function(){this.mSgr.DoReset();v.SendCmd(810)},t.reqLists=function(n,t,i){t===void 0&&(t=0);i===void 0&&(i=0);var r=v.getPack(811);r.sendUInt8(200);r.sendUInt8(n?1:0);r.sendUInt8(t);r.sendInt16(16);r.sendInt32(i);r.flush()},t.reqDetail=function(n){var t=v.getPack(820);t.sendInt32(n);t.flush()},t.reqPlayers=function(n){var t=v.getPack(821);t.sendInt32(n);t.flush()},t.reqAwards=function(n){var t=v.getPack(822);t.sendInt32(n);t.flush()},t.Players_Reset=function(){while(this.mVecPlayers.length>0)l.recyle(this.mVecPlayers.shift())},t.Players_Read=function(n){var u=1==n.getUint8(),r,t,i;for(u&&this.Players_Reset(),r=n.getUint16(),t=0,t;t<r;t++)i=l.get(rn),i.read(n),this.mVecPlayers.push(i);return n.getByte()>0?this.mVecPlayers:null},t.parsePack=function(n,t){var r=0,u=!1,e=!1,f=0,i=null;switch(n){case 801:r=t.getByte();r==0&&y.showError(n,r);this.notify(n,r);break;case 810:u=1==t.getByte();this.mSgr.ReadLists(u,t);e=1==t.getUint8();e&&this.notify(n,this.mSgr.getPriLists(),!0);break;case 811:u=1==t.getByte();this.notify(n,this.mSgr.ReadLists(u,t),u);this.reqNum();break;case 812:this.notify(n,this.mSgr.ReadUpdates(t));break;case 813:this.notify(n,this.mSgr.ReadDels(t));this.reqNum();break;case 820:this.notify(n,this.MatchDtl.read(t));break;case 821:f=t.getUint32();i=this.Players_Read(t);i&&this.notify(n,f,i);break;case 822:f=t.getUint32();i=df.sReadLists(t);i&&this.notify(n,f,i)}return r},i}(y),eht=function(n){function i(){this.mFundSum=null;this.League=new kst;this.Members=new stt;i.__super.call(this,[900,901,902,903,904,905,906,907,908,909,914,936,937,915,930,931,932,933,934,935,940,941,942]);this.mFundSum=new oy}r(i,"games.cores.dataServices.league.DS9X_League",n);var t=i.prototype;return t.quitLea=function(){y.LeaID=0;this.Members.clearMems();this.League.recyle();this.mFundSum.doReset()},t.reqBase=function(){this.League.recyle();var n=v.getPack(900);n.sendInt32(y.ClubID);n.flush()},t.reqCrt=function(n){var t=v.getPack(902);t.sendInt32(y.ClubID);t.sendString(n);t.flush()},t.reqUnCrt=function(){var n=v.getPack(903);n.sendInt32(y.ClubID);n.flush()},t.reqJoin=function(n){var t=v.getPack(904);t.sendInt32(y.ClubID);t.sendInt32(n);t.flush()},t.reqUnJoin=function(){var n=v.getPack(905);n.sendInt32(y.ClubID);n.flush()},t.reqQuit=function(){var n=v.getPack(906);n.sendInt32(y.ClubID);n.flush()},t.reqKick=function(n){if(n==y.ClubID)y.showError(907,9);else{var t=v.getPack(907);t.sendInt32(y.ClubID);t.sendInt32(n);t.flush()}},t.reqDis=function(n){var t=v.getPack(909);t.sendInt32(y.ClubID);t.sendInt16(n);t.flush()},t.reqMems=function(){this.Members.clearMems();var n=v.getPack(915);n.sendInt32(y.ClubID);n.flush()},t.reqLogs=function(){ko.doReset();var n=v.getPack(930);n.sendInt32(y.ClubID);n.flush()},t.reqGs=function(n,t){var i=v.getPack(931);i.sendInt32(y.ClubID);i.sendInt32(n);i.sendInt32(t);i.flush()},t.reTotal=function(n,t){var i=v.getPack(932);i.sendInt32(y.ClubID);i.sendInt32(n);i.sendInt32(t);i.flush()},t.reqModifyCre=function(n,t,i){var r=v.getPack(n);r.sendInt32(y.ClubID);r.sendInt32(t);r.send64(i);r.flush()},t.reqFundHead=function(n,t,i,r){r===void 0&&(r=0);this.mFundSum.doReset();var u=v.getPack(n);u.sendInt32(y.ClubID);u.sendInt32(t);u.sendInt32(i);u.sendUInt8(r);u.flush()},t.reqFundPageVec=function(n,t,i,r,u){u===void 0&&(u=0);var f=v.getPack(n);f.sendInt32(y.ClubID);f.sendInt32(t);f.sendInt32(i);f.sendUInt8(u);f.sendUInt8(24);f.sendInt32(r);f.flush()},t.reqFundHz=function(n,t,i){this.mFundSum.doReset();var r=v.getPack(n);r.sendInt32(y.ClubID);r.sendInt32(t);r.sendInt32(i);r.flush()},t.reqFundOp=function(n,t){var i=v.getPack(n?936:937);i.sendInt32(y.ClubID);i.sendInt32(t);i.flush()},t.parsePack=function(n,t){var i=0,s=0,u=0,r=0,f,e=0,o;switch(n){case 900:i=t.getByte();0==i&&(this.League.read(t),y.LeaID=this.League.uID);this.notify(n,i,this.League);break;case 901:s=t.pos;u=t.getUint32();u==y.LeaID&&(t.pos=s,this.League.readUpdate(t),this.notify(n,this.League));break;case 902:case 903:case 904:case 905:case 906:case 907:case 909:i=t.getByte();0==i&&(y.showError(n,i),this.reqBase());this.notify(n,i);break;case 908:r=t.getUint32();u=t.getUint32();u==y.LeaID&&(this.Members.delMem(r),this.notify(n,r));break;case 914:i=t.getByte();this.notify(n,i);break;case 915:r=t.getUint32();r==y.ClubID&&(this.Members.readMems(t),1==t.getByte()&&this.notify(n));break;case 930:r=t.readUint32();r==y.ClubID&&(f=ko.readVec(t),f&&this.notify(n,f,!1),f=null);break;case 931:i=t.getByte();i==0&&(r=t.readUint32(),r==y.ClubID&&(this.notify(n,0),y.showError(n,i)));break;case 932:i=t.getByte();i==0&&(r=t.readUint32(),r==y.ClubID&&(u=t.readUint32(),e=t.getUint32(),this.Members.updateCredit(0,u,e),this.notify(n,u,e),y.showError(n,i)));break;case 933:case 934:case 935:if(i=t.getByte(),i==0&&(r=t.readUint32(),r==y.ClubID)){u=t.readUint32();e=t.getFloat64();o=0;switch(n){case 933:o=1;break;case 934:o=2;break;case 935:o=3}this.Members.updateCredit(o,u,e);this.notify(n,u,e);y.showError(n,i)}break;case 936:case 937:i=t.getByte();this.notify(n,i);break;case 940:r=t.readUint32();r==y.ClubID&&(this.mFundSum.readSum(t,!1),this.notify(n,this.mFundSum));break;case 941:r=t.readUint32();r==y.ClubID&&this.notify(n,f=this.mFundSum.readLogVec(t,!1),t.getUint32());break;case 942:r=t.readUint32();r==y.ClubID&&(this.mFundSum.readSum(t,!1),this.notify(n,this.mFundSum,f=this.mFundSum.readHzVec(t)))}if(f)while(f.length>0)l.recyle(f.shift());return i},i}(y),lw=function(n){function t(){t.__super.call(this);this._width=-1;this._height=-1}r(t,"laya.resource.Bitmap",n);var i=t.prototype;return i._getSource=function(){throw"Bitmap: must override it.";},e(0,i,"width",function(){return this._width}),e(0,i,"height",function(){return this._height}),t}(te),ua=function(n){function t(){this._aniMap={};this.unfixedLastAniIndex=-1;this._fullFrames=null;this._boneCurKeyFrm=[];t.__super.call(this);this._anis=[]}r(t,"laya.ani.AnimationTemplet",n);var i=t.prototype;return i.parse=function(n){var t=new lu(n);this._aniVersion=t.readUTFString();ky.parse(this,t)},i._calculateKeyFrame=function(n,t,i){var u=n.keyFrame,f,e,r;for(u[t]=u[0],f=0;f<t;f++)for(e=u[f],r=0;r<i;r++)e.dData[r]=e.duration===0?0:(u[f+1].data[r]-e.data[r])/e.duration,e.nextData[r]=u[f+1].data[r];u.length--},i._onAsynLoaded=function(n){var t=new lu(n);this._aniVersion=t.readUTFString();switch(this._aniVersion){case"LAYAANIMATION:02":rrt.parse(this,t);break;default:ky.parse(this,t)}},i.getAnimationCount=function(){return this._anis.length},i.getAnimation=function(n){return this._anis[n]},i.getAniDuration=function(n){return this._anis[n].playTime},i.getNodes=function(n){return this._anis[n].nodes},i.getNodeIndexWithName=function(n,t){return this._anis[n].bone3DMap[t]},i.getNodeCount=function(n){return this._anis[n].nodes.length},i.getTotalkeyframesLength=function(n){return this._anis[n].totalKeyframeDatasLength},i.getPublicExtData=function(){return this._publicExtData},i.getAnimationDataWithCache=function(n,t,i,r){var f=t[i],u;return f?(u=f[n],u?u[r]:null):null},i.setAnimationDataWithCache=function(n,t,i,r,u){var f=t[i]||(t[i]={}),e=f[n]||(f[n]=[]);e[r]=u},i.getNodeKeyFrame=function(n,t,i){var f=this._boneCurKeyFrm[t],o=n.length,r;(f==void 0||f>=o)&&(f=this._boneCurKeyFrm[t]=0);var u=n[f],s=u.startTime,e=i-s;if(e==0||e>0&&u.duration>e)return f;if(r=0,e>0){for(i=i+.01,r=f+1;r<o;r++)if(u=n[r],u.startTime<=i&&u.startTime+u.duration>i)return this._boneCurKeyFrm[t]=r,r;return o-1}for(r=0;r<f;r++)if(u=n[r],u.startTime<=i&&u.startTime+u.duration>i)return this._boneCurKeyFrm[t]=r,r;return f},i.getOriginalData=function(n,i,r,u,f){var d=this._anis[n],v=d.nodes,k=this._boneCurKeyFrm,o,s,e,w,l,b,a;k.length<v.length&&(k.length=v.length);o=0;for(var y=0,g=v.length,h=0;y<g;y++){if(s=v[y],w=s.keyFrame,e=w[this.getNodeKeyFrame(w,y,f)],s.dataOffset=h,l=f-e.startTime,b=s.lerpType,b)switch(b){case 0:case 1:for(o=0;o<s.keyframeWidth;)o+=s.interpolationMethod[o](s,o,i,h+o,e.data,l,e.dData,e.duration,e.nextData);break;case 2:var p=e.interpolationData,nt=p.length,c=0;for(o=0;o<nt;){a=p[o];switch(a){case 6:o+=t.interpolation[a](s,c,i,h+c,e.data,l,e.dData,e.duration,e.nextData,p,o+1);break;case 7:o+=t.interpolation[a](s,c,i,h+c,e.data,l,e.dData,e.duration,e.nextData,p,o+1);break;default:o+=t.interpolation[a](s,c,i,h+c,e.data,l,e.dData,e.duration,e.nextData)}c++}}else for(o=0;o<s.keyframeWidth;)o+=s.interpolationMethod[o](s,o,i,h+o,e.data,l,e.dData,e.duration,e.nextData);h+=s.keyframeWidth}},i.getNodesCurrentFrameIndex=function(n,t){var f=this._anis[n],r=f.nodes,u;n!==this.unfixedLastAniIndex&&(this.unfixedCurrentFrameIndexes=new Uint32Array(r.length),this.unfixedCurrentTimes=new Float32Array(r.length),this.unfixedLastAniIndex=n);for(var i=0,e=r.length;i<e;i++){for(u=r[i],t<this.unfixedCurrentTimes[i]&&(this.unfixedCurrentFrameIndexes[i]=0),this.unfixedCurrentTimes[i]=t;this.unfixedCurrentFrameIndexes[i]<u.keyFrame.length;){if(u.keyFrame[this.unfixedCurrentFrameIndexes[i]].startTime>this.unfixedCurrentTimes[i])break;this.unfixedCurrentFrameIndexes[i]++}this.unfixedCurrentFrameIndexes[i]--}return this.unfixedCurrentFrameIndexes},i.getOriginalDataUnfixedRate=function(n,i,r){var p=this._anis[n],l=p.nodes,f,e,u,c,y,a;n!==this.unfixedLastAniIndex&&(this.unfixedCurrentFrameIndexes=new Uint32Array(l.length),this.unfixedCurrentTimes=new Float32Array(l.length),this.unfixedKeyframes=vr(l.length),this.unfixedLastAniIndex=n);f=0;for(var o=0,w=l.length,s=0;o<w;o++){for(e=l[o],r<this.unfixedCurrentTimes[o]&&(this.unfixedCurrentFrameIndexes[o]=0),this.unfixedCurrentTimes[o]=r;this.unfixedCurrentFrameIndexes[o]<e.keyFrame.length;){if(e.keyFrame[this.unfixedCurrentFrameIndexes[o]].startTime>this.unfixedCurrentTimes[o])break;this.unfixedKeyframes[o]=e.keyFrame[this.unfixedCurrentFrameIndexes[o]];this.unfixedCurrentFrameIndexes[o]++}if(u=this.unfixedKeyframes[o],e.dataOffset=s,c=r-u.startTime,y=e.lerpType,y)switch(e.lerpType){case 0:case 1:for(f=0;f<e.keyframeWidth;)f+=e.interpolationMethod[f](e,f,i,s+f,u.data,c,u.dData,u.duration,u.nextData);break;case 2:var v=u.interpolationData,b=v.length,h=0;for(f=0;f<b;){a=v[f];switch(a){case 6:f+=t.interpolation[a](e,h,i,s+h,u.data,c,u.dData,u.duration,u.nextData,v,f+1);break;case 7:f+=t.interpolation[a](e,h,i,s+h,u.data,c,u.dData,u.duration,u.nextData,v,f+1);break;default:f+=t.interpolation[a](e,h,i,s+h,u.data,c,u.dData,u.duration,u.nextData)}h++}}else for(f=0;f<e.keyframeWidth;)f+=e.interpolationMethod[f](e,f,i,s+f,u.data,c,u.dData,u.duration,u.nextData);s+=e.keyframeWidth}},t._LinearInterpolation_0=function(n,t,i,r,u,f,e){return i[r]=u[t]+f*e[t],1},t._QuaternionInterpolation_1=function(n,t,i,r,u,f,e,o,s){var h=o===0?0:f/o;return nr.slerpQuaternionArray(u,t,s,t,h,i,r),4},t._AngleInterpolation_2=function(){return 0},t._RadiansInterpolation_3=function(){return 0},t._Matrix4x4Interpolation_4=function(n,t,i,r,u,f,e){for(var o=0;o<16;o++,t++)i[r+o]=u[t]+f*e[t];return 16},t._NoInterpolation_5=function(n,t,i,r,u){return i[r]=u[t],1},t._BezierInterpolation_6=function(n,t,i,r,u,f,e,o,s,h,c){return c===void 0&&(c=0),i[r]=u[t]+(s[t]-u[t])*pp.getBezierRate(f/o,h[c],h[c+1],h[c+2],h[c+3]),5},t._BezierInterpolation_7=function(n,t,i,r,u,f,e,o,s,h,c){return c===void 0&&(c=0),i[r]=h[c+4]+h[c+5]*pp.getBezierRate((f*.001+h[c+6])/h[c+7],h[c],h[c+1],h[c+2],h[c+3]),9},t.interpolation=[t._LinearInterpolation_0,t._QuaternionInterpolation_1,t._AngleInterpolation_2,t._RadiansInterpolation_3,t._Matrix4x4Interpolation_4,t._NoInterpolation_5,t._BezierInterpolation_6,t._BezierInterpolation_7],t}(te),uu=function(n){function t(){t.__super.call(this)}return r(t,"laya.webgl.shader.BaseShader",n),t.activeShader=null,t.bindShader=null,t}(te),fa=function(n){function t(n,i){this._source=null;this._texW=0;this._texH=0;this.__destroyed=!1;this._discardTm=0;this.genID=0;this.bitmap={id:0,_glTexture:null};this.curUsedCovRate=0;this.curUsedCovRateAtlas=0;this.lastTouchTm=0;this.ri=null;t.__super.call(this);this._texW=n||or.atlasWidth;this._texH=i||or.atlasWidth;this.bitmap.id=this.id;this.lock=!0}r(t,"laya.webgl.text.TextTexture",n);var u=t.prototype;return u.recreateResource=function(){if(!this._source){var n=tt.isConchApp?yt.instance.getDefaultCommandEncoder():at.mainContext,t=this._source=n.createTexture();this.bitmap._glTexture=t;lt.bindTexture(n,3553,t);n.texImage2D(3553,0,6408,this._texW,this._texH,0,6408,5121,null);n.texParameteri(3553,10241,9729);n.texParameteri(3553,10240,9729);n.texParameteri(3553,10242,33071);n.texParameteri(3553,10243,33071);or.debugUV&&this.fillWhite()}},u.addChar=function(n,t,i,r){var u,f;if(or.isWan1Wan)return this.addCharCanvas(n,t,i,r);this._source||this.recreateResource();u=tt.isConchApp?yt.instance.getDefaultCommandEncoder():at.mainContext;lt.bindTexture(u,3553,this._source);tt.isConchApp||u.pixelStorei(37441,!0);f=n.data;n.data instanceof Uint8ClampedArray&&(f=new Uint8Array(f.buffer));u.texSubImage2D(3553,0,t,i,n.width,n.height,6408,5121,f);tt.isConchApp||u.pixelStorei(37441,!1);var e=NaN,o=NaN,s=NaN,h=NaN;return tt.isConchApp?(e=t/this._texW,o=i/this._texH,s=(t+n.width)/this._texW,h=(i+n.height)/this._texH):(e=(t+1)/this._texW,o=i/this._texH,s=(t+n.width-1)/this._texW,h=(i+n.height-1)/this._texH),r=r||new Array(8),r[0]=e,r[1]=o,r[2]=s,r[3]=o,r[4]=s,r[5]=h,r[6]=e,r[7]=h,r},u.addCharCanvas=function(n,t,i,r){var u;this._source||this.recreateResource();u=tt.isConchApp?yt.instance.getDefaultCommandEncoder():at.mainContext;lt.bindTexture(u,3553,this._source);tt.isConchApp||u.pixelStorei(37441,!0);u.texSubImage2D(3553,0,t,i,6408,5121,n);tt.isConchApp||u.pixelStorei(37441,!1);var f=NaN,e=NaN,o=NaN,s=NaN;return tt.isConchApp?(f=t/this._texW,e=i/this._texH,o=(t+n.width)/this._texW,s=(i+n.height)/this._texH):(f=(t+1)/this._texW,e=(i+1)/this._texH,o=(t+n.width-1)/this._texW,s=(i+n.height-1)/this._texH),r=r||new Array(8),r[0]=f,r[1]=e,r[2]=o,r[3]=e,r[4]=o,r[5]=s,r[6]=f,r[7]=s,r},u.fillWhite=function(){this._source||this.recreateResource();var t=tt.isConchApp?yt.instance.getDefaultCommandEncoder():at.mainContext,n=new Uint8Array(this._texW*this._texH*4);n.fill(255);t.texSubImage2D(3553,0,0,0,this._texW,this._texH,6408,5121,n)},u.discard=function(){i.stage.setGlobalRepaint();this.destroy();return},u.destroy=function(){this.__destroyed=!0;var n=tt.isConchApp?yt.instance.getDefaultCommandEncoder():at.mainContext;this._source&&n.deleteTexture(this._source);this._source=null},u.touchRect=function(n,t){this.lastTouchTm!=t&&(this.curUsedCovRate=0,this.curUsedCovRateAtlas=0,this.lastTouchTm=t);var i=or.atlasWidth*or.atlasWidth,r=go.atlasGridW*go.atlasGridW;this.curUsedCovRate+=n.bmpWidth*n.bmpHeight/i;this.curUsedCovRateAtlas+=Math.ceil(n.bmpWidth/go.atlasGridW)*Math.ceil(n.bmpHeight/go.atlasGridW)/(i/r)},u._getSource=function(){return this._source},u.drawOnScreen=function(){},e(0,u,"texture",function(){return this}),t.getTextTexture=function(n,i){return new t(n,i)},t.clean=function(){var r=i.stage.getFrameTm(),n,u;if(t.cleanTm===0&&(t.cleanTm=r),r-t.cleanTm>=or.checkCleanTextureDt){for(n=0;n<t.poolLen;n++)u=t.pool[n],r-u._discardTm>=or.destroyUnusedTextureDt&&(u.destroy(),t.pool[n]=t.pool[t.poolLen-1],t.poolLen--,n--);t.cleanTm=r}},t.poolLen=0,t.cleanTm=0,d(t,["pool",function(){return this.pool=new Array(10)}]),t}(te),oht=function(n){function u(){this.audioBuffer=null;this.gain=null;this.bufferSource=null;this._currentTime=0;this._volume=1;this._startTime=0;this._pauseTime=0;this._onPlayEnd=null;u.__super.call(this);this._onPlayEnd=bt.bind(this.__onPlayEnd,this);var n=ie.ctx;this.gain=n.createGain?n.createGain():n.createGainNode()}r(u,"laya.media.webaudio.WebAudioSoundChannel",n);var t=u.prototype;return t.play=function(){if(vi.addChannel(this),this.isStopped=!1,this._clearBufferSource(),this.audioBuffer){var t=ie.ctx,i=this.gain,n=t.createBufferSource();this.bufferSource=n;n.buffer=this.audioBuffer;n.connect(i);i&&i.disconnect();i.connect(t.destination);n.onended=this._onPlayEnd;this.startTime>=this.duration&&(this.startTime=0);this._startTime=c.now();this.gain.gain.setTargetAtTime?this.gain.gain.setTargetAtTime(this._volume,t.currentTime,.001):this.gain.gain.value=this._volume;this.loops==0&&(n.loop=!0);n.playbackRate.setTargetAtTime?n.playbackRate.setTargetAtTime(vi.playbackRate,t.currentTime,.001):n.playbackRate.value=vi.playbackRate;n.start(0,this.startTime);this._currentTime=0}},t.__onPlayEnd=function(){if(this.loops==1){if(this.completeHandler){i.timer.once(10,this,this.__runComplete,[this.completeHandler],!1);this.completeHandler=null}this.stop();this.event("complete");return}this.loops>0&&this.loops--;this.startTime=0;this.play()},t._clearBufferSource=function(){if(this.bufferSource){var n=this.bufferSource;n.stop?n.stop(0):n.noteOff(0);n.disconnect(0);n.onended=null;u._tryCleanFailed||this._tryClearBuffer(n);this.bufferSource=null}},t._tryClearBuffer=function(n){if(!c.onMac){try{n.buffer=null}catch(t){u._tryCleanFailed=!0}return}try{n.buffer=ie._miniBuffer}catch(t){u._tryCleanFailed=!0}},t.stop=function(){n.prototype.stop.call(this);this._clearBufferSource();this.audioBuffer=null;this.gain&&this.gain.disconnect();this.isStopped=!0;vi.removeChannel(this);this.completeHandler=null;vi.autoReleaseSound&&vi.disposeSoundLater(this.url)},t.pause=function(){this.isStopped||(this._pauseTime=this.position);this._clearBufferSource();this.gain&&this.gain.disconnect();this.isStopped=!0;vi.removeChannel(this);vi.autoReleaseSound&&vi.disposeSoundLater(this.url)},t.resume=function(){this.startTime=this._pauseTime;this.play()},e(0,t,"position",function(){return this.bufferSource?(c.now()-this._startTime)/1e3+this.startTime:0}),e(0,t,"duration",function(){return this.audioBuffer?this.audioBuffer.duration:0}),e(0,t,"volume",function(){return this._volume},function(n){(this._volume=n,this.isStopped)||(this.gain.gain.setTargetAtTime?this.gain.gain.setTargetAtTime(n,ie.ctx.currentTime,.001):this.gain.gain.value=n)}),u._tryCleanFailed=!1,u.SetTargetDelay=.001,u}(ow),sht=function(n){function u(n){this._audio=null;this._onEnd=null;this._resumePlay=null;u.__super.call(this);this._onEnd=bt.bind(this.__onEnd,this);this._resumePlay=bt.bind(this.__resumePlay,this);n.addEventListener("ended",this._onEnd);this._audio=n}r(u,"laya.media.h5audio.AudioSoundChannel",n);var t=u.prototype;return t.__onEnd=function(){if(this.loops==1){if(this.completeHandler){i.systemTimer.once(10,this,this.__runComplete,[this.completeHandler],!1);this.completeHandler=null}this.stop();this.event("complete");return}this.loops>0&&this.loops--;this.startTime=0;this.play()},t.__resumePlay=function(){if(this._audio&&this._audio.removeEventListener("canplay",this._resumePlay),!this.isStopped)try{this._audio.currentTime=this.startTime;c.container.appendChild(this._audio);this._audio.play()}catch(n){this.event("error")}},t.play=function(){this.isStopped=!1;try{this._audio.playbackRate=vi.playbackRate;this._audio.currentTime=this.startTime}catch(n){this._audio.addEventListener("canplay",this._resumePlay);return}vi.addChannel(this);c.container.appendChild(this._audio);"play"in this._audio&&this._audio.play()},t.stop=function(){(n.prototype.stop.call(this),this.isStopped=!0,vi.removeChannel(this),this.completeHandler=null,this._audio)&&("pause"in this._audio&&tt.isConchApp&&this._audio.stop(),this._audio.pause(),this._audio.removeEventListener("ended",this._onEnd),this._audio.removeEventListener("canplay",this._resumePlay),c.onIE||this._audio!=es._musicAudio&&it.recover("audio:"+this.url,this._audio),c.removeElement(this._audio),this._audio=null)},t.pause=function(){this.isStopped=!0;vi.removeChannel(this);"pause"in this._audio&&this._audio.pause()},t.resume=function(){this._audio&&(this.isStopped=!1,vi.addChannel(this),"play"in this._audio&&this._audio.play())},e(0,t,"position",function(){return this._audio?this._audio.currentTime:0}),e(0,t,"duration",function(){return this._audio?this._audio.duration:0}),e(0,t,"volume",function(){return this._audio?this._audio.volume:1},function(n){this._audio&&(this._audio.volume=n)}),u}(ow),hht=function(n){function u(n){this.x=0;this.y=0;this._blendFn=null;this._startTime=0;this._key={};this.sv=new hst;u.__super.call(this,n);var t=this;i.loader.load(this.settings.textureName,h.create(null,function(n){t.texture=n}));this.sv.u_Duration=this.settings.duration;this.sv.u_Gravity=this.settings.gravity;this.sv.u_EndVelocity=this.settings.endVelocity;this._blendFn=yi.fns[n.blendState];this._mesh=rst.getAMesh(this.settings.maxPartices);this.initialize()}r(u,"laya.particle.ParticleTemplate2D",n);var t=u.prototype;return i.imps(t,{"laya.webgl.submit.ISubmit":!0}),t.getRenderType=function(){return-111},t.releaseRender=function(){},t.addParticleArray=function(t,i){t[0]+=this.x;t[1]+=this.y;n.prototype.addParticleArray.call(this,t,i)},t.addNewParticlesToVertexBuffer=function(){var t=this._mesh._vb,n;t.clear();t.append(this._vertices);n=0;this._firstNewElement<this._firstFreeElement?(n=this._firstNewElement*4*this._floatCountPerVertex*4,t.subUpload(n,n,n+(this._firstFreeElement-this._firstNewElement)*4*this._floatCountPerVertex*4)):(n=this._firstNewElement*4*this._floatCountPerVertex*4,t.subUpload(n,n,n+(this.settings.maxPartices-this._firstNewElement)*4*this._floatCountPerVertex*4),this._firstFreeElement>0&&(t.setNeedUpload(),t.subUpload(0,0,this._firstFreeElement*4*this._floatCountPerVertex*4)));this._firstNewElement=this._firstFreeElement},t.renderSubmit=function(){if(this.texture&&this.texture.getIsReady()){if(this.update(i.timer._delta),this.sv.u_CurrentTime=this._currentTime,this._firstNewElement!=this._firstFreeElement&&this.addNewParticlesToVertexBuffer(),this.blend(),this._firstActiveElement!=this._firstFreeElement){var n=at.mainContext;this._mesh.useMesh(n);this.sv.u_texture=this.texture._getSource();this.sv.upload();this._firstActiveElement<this._firstFreeElement?at.mainContext.drawElements(4,(this._firstFreeElement-this._firstActiveElement)*6,5123,this._firstActiveElement*12):(at.mainContext.drawElements(4,(this.settings.maxPartices-this._firstActiveElement)*6,5123,this._firstActiveElement*12),this._firstFreeElement>0&&at.mainContext.drawElements(4,this._firstFreeElement*6,5123,0));ni.renderBatches++}this._drawCounter++}return 1},t.updateParticleForNative=function(){this.texture&&this.texture.getIsReady()&&(this.update(i.timer._delta),this.sv.u_CurrentTime=this._currentTime,this._firstNewElement!=this._firstFreeElement&&(this._firstNewElement=this._firstFreeElement))},t.getMesh=function(){return this._mesh},t.getConchMesh=function(){return this._conchMesh},t.getFirstNewElement=function(){return this._firstNewElement},t.getFirstFreeElement=function(){return this._firstFreeElement},t.getFirstActiveElement=function(){return this._firstActiveElement},t.getFirstRetiredElement=function(){return this._firstRetiredElement},t.setFirstFreeElement=function(n){this._firstFreeElement=n},t.setFirstNewElement=function(n){this._firstNewElement=n},t.addDrawCounter=function(){this._drawCounter++},t.blend=function(){if(yi.activeBlendFunction!==this._blendFn){var n=at.mainContext;n.enable(3042);this._blendFn(n);yi.activeBlendFunction=this._blendFn}},t.dispose=function(){this._mesh.releaseMesh()},u.activeBlendType=-1,u}(nst),aw=function(n){function t(n){this._uint16Array=null;n===void 0&&(n=35044);t.__super.call(this);this._bufferUsage=n;this._bufferType=34963;this._buffer=new ArrayBuffer(8)}r(t,"laya.webgl.utils.IndexBuffer2D",n);var i=t.prototype;return i._checkArrayUse=function(){this._uint16Array&&(this._uint16Array=new Uint16Array(this._buffer))},i.getUint16Array=function(){return this._uint16Array||(this._uint16Array=new Uint16Array(this._buffer))},i._bindForVAO=function(){yt.instance.bindBuffer(34963,this._glBuffer)},i.bind=function(){return du._bindedIndexBuffer!==this._glBuffer?(yt.instance.bindBuffer(34963,this._glBuffer),du._bindedIndexBuffer=this._glBuffer,!0):!1},i.destory=function(){this._uint16Array=null;this._buffer=null},i.disposeResource=function(){this._disposeResource()},t.create=function(n){return n===void 0&&(n=35044),new t(n)},t}(ra),vw=function(n){function i(n,t){this._floatArray32=null;this._uint32Array=null;this._vertexStride=0;i.__super.call(this);this._vertexStride=n;this._bufferUsage=t;this._bufferType=34962;this._buffer=new ArrayBuffer(8);this._floatArray32=new Float32Array(this._buffer);this._uint32Array=new Uint32Array(this._buffer)}r(i,"laya.webgl.utils.VertexBuffer2D",n);var t=i.prototype;return t.getFloat32Array=function(){return this._floatArray32},t.appendArray=function(n){var i=this._byteLength>>2,t;this.setByteLength(this._byteLength+n.length*4);t=this.getFloat32Array();t.set(n,i);this._upload=!0},t._checkArrayUse=function(){this._floatArray32&&(this._floatArray32=new Float32Array(this._buffer));this._uint32Array&&(this._uint32Array=new Uint32Array(this._buffer))},t.deleteBuffer=function(){this._disposeResource()},t._bindForVAO=function(){yt.instance.bindBuffer(34962,this._glBuffer)},t.bind=function(){return du._bindedVertexBuffer!==this._glBuffer?(yt.instance.bindBuffer(34962,this._glBuffer),du._bindedVertexBuffer=this._glBuffer,!0):!1},t.destroy=function(){laya.webgl.utils.Buffer.prototype.destroy.call(this);this._byteLength=0;this._upload=!0;this._buffer=null;this._floatArray32=null},e(0,t,"vertexStride",function(){return this._vertexStride}),i.create=function(n,t){return t===void 0&&(t=35048),new i(n,t)},i}(ra),hs=function(n){function t(n){this.mID=0;this.mName=null;this.mType=0;this.mIcon=null;this.mTxt1=null;this.mTxt2=null;n===void 0&&(n=2);t.__super.call(this);this.mType=n;this.mouseEnabled=!1;this.mTxt1=w.quickCreate(24,"#b2d6fb");this.mTxt1.text="A";this.mTxt1.y=68-this.mTxt1.height>>1;this.addChild(this.mTxt1);this.mTxt2=new g;this.mTxt2.y=this.mTxt1.y;this.addChild(this.mTxt2);switch(this.mType){case 0:this.updatTitle(u.obj("CD_Sub_U_head"));break;case 1:this.updatTitle([u.lang("CD_total"),0]);this.mTxt1.color="#4bc65c";break;case 2:this.mTxt1.x=t.S_Xs[2][0];this.mIcon=new hi(56);this.mIcon.pos(64,70-this.mIcon.height>>1);this.addChild(this.mIcon);var i=new s;i.mouseEnabled=!1;i.loadImage("mainUi/arrow2.png");i.pos(t.s_w-i.width-24,72-i.height>>1);this.addChild(i);this.mouseEnabled=!0;this.size(t.s_w,72);this.on("click",this,this.openCDUser)}this.graphics.drawRect(0,0,t.s_w,72,"#305278")}r(t,"games.windows._sqlSubs.Item_CD_Unions",n);var i=t.prototype;return i.openCDUser=function(){this.mID>0&&b.OpenWin(101,this.mName,t.s_time,this.mID)},i.updatTitle=function(n){this.mTxt1.text=n[0];this.mTxt1.x=t.S_Xs[0][0]-.5*this.mTxt1.width>>0;this.updateValue(n[1])},i.updateValue=function(n){this.mTxt2.innerHTML=a.ToColorStr(n);this.mTxt2.x=t.s_w-t.S_Xs[this.mType][1]-this.mTxt2.contextWidth>>0},i.update=function(n){this.mID=n.sID;this.mName=this.mTxt1.text=n.name;this.updateValue(n.fund);this.mIcon.loadIcon(n.icon,0)},e(0,i,"height",function(){return 72},n.prototype._$set_height),t.s_w=0,t.s_time=0,t.H_MAX=72,d(t,["S_Xs",function(){return this.S_Xs=u.obj("CD_Sub_U_headX")}]),t}(s),p=function(n){function i(){this.mHeight=0;this.mWidth=s.MAX_W;i.__super.call(this)}r(i,"FioLibs.displays.UDSprite",n);var t=i.prototype;return t.toSize=function(n,t){this.mWidth=n;this.mHeight=t},t.fillRect=function(){this.graphics.drawRect(0,0,this.mWidth,this.mHeight,"#00000000")},t.cacheStop=function(){this.cacheAs="none"},t.cacheStart=function(){this.callLater(this.DoCacheStart)},t.DoCacheStart=function(){"none"==this.cacheAs&&(this.cacheAs="bitmap")},e(0,t,"width",function(){return this.mWidth},n.prototype._$set_width),e(0,t,"height",function(){return this.mHeight},n.prototype._$set_height),i}(s),cht=function(n){function t(n){this.mRooter=null;this.mTxt=null;t.__super.call(this);this.mRooter=n;var i=s.MAX_H*.36>>0;this.mTxt=w.quickCreate(24,"#b2d6fb");this.mTxt.stroke=.2;this.mTxt.strokeColor="#000000";this.mTxt.text="啊";this.addChild(this.mTxt);this.graphics.drawRect(0,i,s.MAX_W,64,"#062a2e98");this.mTxt.y=i+.5*(64-this.mTxt.height)>>0;this.mTxt.text=""}r(t,"games.review.PM_Msg",n);var i=t.prototype;return i.doReset=function(){this.removeSelf();this.timer.clearAll(this)},i.showMsg=function(n,t){t===void 0&&(t=0);this.doReset();n&&(this.mTxt.text=n,this.mTxt.x=s.MAX_W-this.mTxt.width>>1,this.mRooter&&this.mRooter.addChild(this),t>15&&this.timerOnce(t,this,this.doReset))},t}(s),yw=function(n){function t(){this.mVal=null;this.mCVal=null;this.mColor=null;t.__super.call(this);this.mouseEnabled=!1}r(t,"FioLibs.displays.coms.slider.Slider_ValItem",n);var u=t.prototype;return i.imps(u,{"FioLibs.interfaces.IFio_Recyle":!0}),u.recyle=function(){this.removeSelf();this.graphics.clear();this.mVal=this.mColor=null},u.setValue=function(n){this.mVal=a.toK(n);this.callLater(this.doUpdate)},u.updateState=function(n){var t=n?"#3da2e4":"#0f192b";t!=this.mColor&&(this.mColor=t,this.mCVal=n?"#b2d6fb":"#6898df",this.callLater(this.doUpdate))},u.doUpdate=function(){this.graphics.clear();this.graphics.drawCircle(0,0,10,this.mColor);this.mVal&&this.graphics.fillText(this.mVal,0,-46,26,this.mCVal,"center")},t.s_SizeH=10,t}(s),lht=function(n){function t(){var r,i,n;this.w_max=600;this.h_max=64;t.__super.call(this);this.mouseEnabled=!0;r=this.w_max>>1;i="#ffcc00";this.graphics.drawRoundRect(8,this.w_max,this.h_max,"#5493a570",0,0,i);n=this.h_max>>1;this.graphics.drawPoly(r,this.h_max,[-n,0,n,0,0,n],i);this.graphics.fillText(u.lang("game_tips3"),r,this.h_max-36>>1,28,i,"center");this.pos(s.MAX_W-this.w_max>>1,s.MAX_H-this.h_max-n-8>>0);this.stage.addChild(this);this.on("click",this,this.doRemove)}r(t,"games.UD_Displays.tips.UD_Tip_Safari",n);var i=t.prototype;return i.doRemove=function(){this.graphics.clear();this.removeSelf();this.off("click",this,this.doRemove)},e(0,i,"width",function(){return this.w_max},n.prototype._$set_width),e(0,i,"height",function(){return this.h_max},n.prototype._$set_height),t}(s),tr=function(n){function u(){this.mGraphics=null;this.mClassName=null;this.mAuto_W=!1;this.mAuto_H=!1;this.mReqed=!1;this.mV_Size=!1;this.mV_Gray=!1;u.__super.call(this);this.mClassName="["+this.constructor.name+"]";this.mReqed=!1;this.mAuto_W=this.mAuto_H=!0}r(u,"FioLibs.displays.coms.FioSp",n);var t=u.prototype;return t.reset=function(){this.TmpData=null;this.mGraphics=null;this.x=this.y=0;this.mAuto_W=this.mAuto_H=!0},t.destroy=function(t){t===void 0&&(t=!0);this.reset();n.prototype.destroy.call(this,t)},t.loadImage=function(n,t){function r(){i.syncSize(i.mGraphics.width,i.mGraphics.height);i.repaint(3);t&&t.run()}var i=this;return this.mGraphics||this.graphics,this.mGraphics.loadImage(n,0,0,0,0,r),this},t.render=function(t,i,r){this.mReqed&&this.extUpdateView();n.prototype.render.call(this,t,i,r)},t.toString=function(){return this.mClassName},t.autoWidth=function(){this.mAuto_W=this.mReqed=!0;this.doSub_Resize()},t.autoHeight=function(){this.mAuto_H=this.mReqed=!0;this.doSub_Resize()},t.syncSize=function(n,t){var i=!1;this.mAuto_W?n!=this._width&&(this._width=n,i=!0):0==this._width&&(this._width=n,i=!0);this.mAuto_H?t!=this._height&&(this._height=t,i=!0):0==this._height&&(this._height=t,i=!0);i&&(this.mReqed=this.mV_Size=!0)},t.reqUDView=function(n){n===void 0&&(n=!1);n?this.extUpdateView():this.mReqed||(this.mReqed=!0)},t.doSub_UDView=function(){},t.doSub_Resize=function(){},t.extUpdateView=function(){this.mV_Size&&(this.mGraphics&&this.mGraphics.size(this._width,this._height),this.doSub_Resize(),this.mV_Size=!1);this.doSub_UDView();this.mReqed=!1},e(0,t,"graphics",function(){return this._graphics||(i.superSet(s,this,"graphics",this.mGraphics=new wot),this._graphics.autoDestroy=!0),this._graphics},function(){throw Error(this.mClassName+"不允许设置graphics.");}),e(0,t,"texture",function(){return this.mGraphics||this.graphics,this.mGraphics.texture},function(n){this.mGraphics||this.graphics;this.mGraphics.texture=n;this.syncSize(this.mGraphics.width,this.mGraphics.height)}),e(0,t,"width",function(){if(!this.mAuto_W)return this._width;if(this._children.length>0)this.getSelfBounds().width;else if(this.mGraphics)return this.mGraphics.width;return 0},function(n){n=n>>0;this.mGraphics&&(this.mGraphics.width=n);(this._width!==n||this.mAuto_W)&&(this.mAuto_W=!1,this.mReqed=this.mV_Size=!0,this._width=n,this._setWidth(this.texture,n),this._setTranformChange())}),e(0,t,"gray",null,function(n){this.mV_Gray!=n&&(this.mV_Gray=n,het.gray(this,this.mV_Gray))}),e(0,t,"scaleGrids",function(){return this.mGraphics||this.graphics,this.mGraphics.scaleGrids},function(n){this.mGraphics||this.graphics;this.mGraphics.scaleGrids=n}),e(0,t,"height",function(){return this.mAuto_H?this._children.length>0?this.getSelfBounds().height:this.mGraphics?this.mGraphics.height:0:this._height},function(n){n=n>>0;this.mGraphics&&(this.mGraphics.height=n);(this._height!==n||this.mAuto_H)&&(this.mAuto_H=!1,this.mReqed=this.mV_Size=!0,this._height=n,this._setHeight(this.texture,n),this._setTranformChange())}),u}(s),gh=function(n){function t(){this.mValue=NaN;this.mVecChips=null;this.mTxt=null;this.mWitdh=0;this.mBx=0;this.mBy=0;this.mType=0;this.mFlip=!1;t.__super.call(this);this.mFlip=!0;this.mWitdh=28;this.mValue=0;this.mVecChips=[];this.mTxt=ui.crtTxt(24,0,"#b2d6fb");this.mTxt.text="0";this.mTxt.y=-this.mTxt.height>>1}r(t,"games.matchCores.desk.eles.DM_Chips",n);var u=t.prototype;return i.imps(u,{"FioLibs.interfaces.IFio_Recyle":!0}),u.doRecyle=function(){l.recyle(this)},u.recyle=function(){this.mFlip=!1;this.mBx=this.mBy=this.mType=0;this.doReset()},u.doReset=function(){for(this.removeSelf(),ri.clearAll(this),ri.clearAll(this.mTxt),this.mValue=0;this.mVecChips.length>0;)l.recyle(this.mVecChips.shift());this.mTxt.removeSelf();this.mTxt.text="0";this.mTxt.alpha=1},u.setTxtPro=function(n,t,i){t===void 0&&(t=24);this.mType=n;this.mFlip=!1;this.mTxt.fontSize=t;this.mTxt.color=i||"#b2d6fb"},u.InitPos=function(n,t,i,r){this.pos(n>>0,t>>0);this.mBx=i-n>>0;this.mBy=r-t>>0},u.tabBB=function(){this.mTxt.text=o.getValueBB(this.mValue);this.repos()},u.updateValue=function(n){var e,f,s,c,u;if(this.mValue!=n){while(this.mVecChips.length>0)l.recyle(this.mVecChips.shift());e=this.mValue>0;this.mValue=n;var o=t.sCreatChips(this.mValue,this.mType),r=0,h=o.length,i;for(e&&h>1&&(this.mVecChips[0]=i=o.shift(),i.pos(0,0),this.addChild(i),r=1),f=this.stage.isActive,s=this.mType>0,this.tabBB(),e||s||!f||(this.mTxt.alpha=0,c=this.mTxt.x>>0,this.mTxt.x=this.mFlip?-14:14-this.mTxt.width>>0,ri.to(this.mTxt,{x:c,alpha:1},200)),this.mTxt.parent||this.addChildAt(this.mTxt,0),0==this.mBx&&0==this.mBy&&(f=!1),u=0,r;r<h;r++)this.mVecChips[r]=i=o.shift(),u=-3*r,f?s?(i.pos(0,0),i.moveTo(0,u,40,20*r)):(i.pos(this.mBx,this.mBy),i.moveTo(0,u,200,20*r)):i.pos(0,u),this.addChild(i)}},u.getValue=function(){return this.mValue},u.FlytoPot=function(n,i){t.sMoveChips(this.mVecChips,this.parent,this.x,this.y,n,i);this.doRecyle()},u.initFlip=function(n){this.mFlip!=n&&(this.mFlip=n,this.repos())},u.repos=function(){var n=20,t=14+n+this.mTxt.width+2>>0;this.mFlip?(this.mTxt.x=-n-this.mTxt.width>>0,this.mWitdh=-t):(this.mTxt.x=n,this.mWitdh=t)},e(0,u,"width",function(){return this.mWitdh},n.prototype._$set_width),e(0,u,"height",function(){return 0},n.prototype._$set_height),t.sCreatChips=function(n){var o=[],i=0,u=0,r=0,f=0,e;for(i;i<t.CHIPS_TOTAL;i++)if(r=t.CHIPS_VEC[i],u=i==t.CHIPS_END?Math.ceil(n/r):n/r>>0,u>0)for(n=n-r*u,f=0;f<u;f++)e=l.get(wht),e.setValue(r),o.push(e);return o},t.sMoveChips=function(n,t,i,r,u,f){var e,o,h,s;if(n&&t&&t.stage.isActive)for(e=Math.sqrt((i-u)*(i-u)+(r-f)*(r-f))>>1,e<=222?e=280:e>400&&(e=400),o=0,h=n.length,o;o<h;o++)s=n.shift(),s&&(s.pos(i,r),t.addChild(s),s.moveTo(u,f,e,20*o,!0));else if(n)while(n.length>0)l.recyle(n.shift())},t.sShowWin=function(n,i,r,u,f,e){n&&n.stage.isActive&&i>0&&t.sMoveChips(t.sCreatChips(i,1),n,r,u,f,e)},d(t,["CHIPS_VEC",function(){return this.CHIPS_VEC=[5e5,2e5,1e5,5e4,2e4,1e4,5e3,2e3,1e3,500,200,100,50,20,10,5,2,1]},"CHIPS_TOTAL",function(){return this.CHIPS_TOTAL=t.CHIPS_VEC.length},"CHIPS_END",function(){return this.CHIPS_END=t.CHIPS_TOTAL-1}]),t}(s),hr=function(n){function t(n,i){this.mSCon=null;t.__super.call(this);n===void 0&&(n=10);i===void 0&&(i=!0);i&&(this.mSCon=new br(s.MAX_W,t.VIEW_HEIGHT,n),this.addChild(this.mSCon),this.mSCon.setCallback(h.create(this,this.doTabRequest,null,!1)))}r(t,"games.scene.modules.Scene_Base",n);var i=t.prototype;return i.Stop=function(n){this.removeSelf();this.doSubStop(n)},i.Start=function(){this.doSubStop(!1);this.doSubStart()},i.updateTopH=function(n){n=n>>0;n>0&&this.mSCon&&(this.mSCon.updateRect(0,t.VIEW_HEIGHT-n),this.mSCon.y=n)},i.doSubStop=function(){},i.doSubStart=function(){},i.doTabRequest=function(){return!1},t.updateNum=function(n,i,r){n.parent&&t.UpdateNumHandler&&t.UpdateNumHandler.runWith([i,r])},t.VIEW_HEIGHT=10,t.MyDetail=null,t.UpdateNumHandler=null,t}(s),aht=function(n){function i(n){this.mW=0;this.mH=0;this.mValue=0;this.mTV1=0;this.mTV2=0;this.mDoEff=!1;this.mNum=null;i.__super.call(this);this.mDoEff=n;this.mTV1=this.mTV2=1;this.mouseEnabled=!1;this.loadImage("mainUi/jack_numBg.png");this.mW=this.texture.width>>0;this.mH=this.texture.height>>0;this.mValue=-1;this.mNum=new s;this.mNum.loadImage("mainUi/jack_num.png");this.addChild(this.mNum)}r(i,"games.UD_Displays.jackpot.JackNum_Item",n);var t=i.prototype;return t.onDisable=function(){this.mTV2<1?this.mNum.y=this.mTV2:this.mTV1<1&&(this.mNum.y=this.mTV1);this.mTV1=this.mTV2=1},t.showValue=function(n){var t,i;this.mValue!=n&&(this.mTV1=this.mTV2=1,t=-this.mH*n>>0,this.mDoEff&&this.stage.isActive?(this.mTV1=t,i=this.mNum.y,n<this.mValue&&(this.mTV2=t,this.mTV1=-this.mH*10>>0)):this.mNum.y=t,this.mValue=n)},t.render=function(t,i,r){this.mTV1<1?(this.mNum.y-=16,this.mNum.y<=this.mTV1&&(this.mNum.y=this.mTV1,this.mTV1=1)):this.mTV2<1&&(this.mNum.y-=16,this.mNum.y<=this.mTV2&&(this.mNum.y=this.mTV2,this.mTV2=1));n.prototype.render.call(this,t,i,r)},e(0,t,"width",function(){return this.mW},n.prototype._$set_width),e(0,t,"height",function(){return this.mH},n.prototype._$set_height),i}(s),nc=function(n){function u(){this.IsBackIns=!1;this.IsSmallBackIns=!1;this.mRealW=0;this.mRealH=0;this.mCardPoint=-2;this.mOx=0;u.__super.call(this);u.sBackTexs||(u.sBackTexs=[],u.sBackTexs[0]=i.loader.getRes("cards/back0.png"),u.sBackTexs[1]=i.loader.getRes("cards/back1.png"),u.sBackTexs[2]=i.loader.getRes("cards/back2.png"))}r(u,"games.pokers.Poker__Base",n);var t=u.prototype;return i.imps(t,{"FioLibs.interfaces.IFio_Recyle":!0}),t.doRecyle=function(){this.removeSelf();l.recyle(this)},t.recyle=function(){this.removeSelf();this.doReset()},t.getCardPoint=function(){return this.mCardPoint},t.moveTo=function(n,t,i,r){i===void 0&&(i=0);r===void 0&&(r=0);i<1&&(i=350);ri.to(this,{x:n,y:t},i,null,null,r,!0)},t.moveAndRemove=function(n,t,i,r,u,f){r===void 0&&(r=0);u===void 0&&(u=1);f===void 0&&(f=0);u<.01&&(u=.01);0==f&&(f=100);var e=null;r>0?this.delayRecyle(i+r+f):r==0&&(e=h.create(this,this.doRecyle));ri.to(this,{x:n,y:t,alpha:u},f,null,e,i,!0)},t.toAppear=function(n,t,i){t===void 0&&(t=0);i===void 0&&(i=0);this.alpha=0;i=i<1?100:i;ri.to(this,u.TWEEN_DISAPP,i,null,null,n,!0);t>0&&this.delayRecyle(n+t+i)},t.delayRecyle=function(n){n>0?this.timerOnce(n,this,this.doRecyle):this.doRecyle()},t.toDelayShow=function(n){n>0?(this.visible=!1,this.timerOnce(n,this,this.doDelayShow)):this.visible=!0},t.doDelayShow=function(){this.visible=!0},t.doReset=function(){this.mCardPoint=-2;this.alpha=this.scaleY=1;ri.clearAll(this);this.clearTimer(this,this.doRecyle);this.clearTimer(this,this.doDelayShow);this.visible=!0;this.onFlipDone();this.doSubStart()},t.doFlip=function(n,t,i,r,u){t===void 0&&(t=0);i===void 0&&(i=1);r===void 0&&(r=0);u===void 0&&(u=!0);0==this.mOx&&(this.mOx=this.x,this.pivotX=this.mRealW>>1,this.x+=this.pivotX);ri.clearAll(this);this.scaleX=i;t=t<10?150:t;var e={scaleX:r},f=null;u?this.delayRecyle(n+t):f=h.create(this,this.onFlipDone);ri.to(this,{scaleX:r},t,null,f,n,!0)},t.onFlipDone=function(){this.pivotX=0;this.mOx!=0&&(this.x=this.mOx);this.mOx=0;this.scaleX=1},t.doSubStart=function(){},t.showSelect=function(){},t.showLow=function(){},t.showNormal=function(){},e(0,t,"width",function(){return this.mRealW},n.prototype._$set_width),e(0,t,"height",function(){return this.mRealH},n.prototype._$set_height),u.sBackTexs=null,d(u,["TWEEN_DISAPP",function(){return this.TWEEN_DISAPP={alpha:1}}]),u}(s),vht=function(n){function t(){this.mSpeed=.1;this.mST=0;this.mGap=0;t.__super.call(this);this.loadImage("matches/mm_mic2.png");this.size(this.texture.width,this.texture.height)}r(t,"games.matchCores.desk.views.chat.DmChat_Eff_Mic",n);var i=t.prototype;return i.onEnable=function(){this.mST=this.timer.currTimer+15e3},i.onDisable=function(){this.alpha=.5;this.mGap=0;this.mSpeed=.1},i.render=function(t,i,r){if(this.mGap<2)this.mGap+=1;else{this.mGap=0;var u=this.alpha;u>=1?this.mSpeed=-.1:u<=.5&&(this.mSpeed=.1);u+=this.mSpeed;this.alpha=u}this.timer.currTimer>=this.mST&&this.callLater(this.removeSelf);n.prototype.render.call(this,t,i,r)},t}(s),yht=function(n){function t(){this.mMasker=null;t.__super.call(this);this.mMasker=new p;this.mMasker.mouseEnabled=!0;this.mMasker.graphics.drawRect(0,0,s.MAX_W,s.MAX_H,"#00000056");this.mMasker.toSize(s.MAX_W,s.MAX_H);this.mMasker.on("click",this,this.doCheckClick);this.addChild(this.mMasker)}r(t,"FioLibs.displays.ClickArea",n);var i=t.prototype;return i.Close=function(){this.removeSelf();this.doSubClose()},i.doCheckClick=function(n){n.stopPropagation();this.doOutCheck()},i.doSubClose=function(){},i.doOutCheck=function(){this.Close()},t}(s),cs=function(n){function t(n){if(this.mID=0,this.mName=null,this.mType=0,this.mIcon=null,this.mTxt1=null,this.mTxt2=null,n===void 0&&(n=2),t.__super.call(this),this.mType=n,this.mouseEnabled=!1,this.size(s.MAX_W,72),this.mTxt1=w.quickCreate(24,"#b2d6fb"),this.mTxt1.text="A",this.mTxt1.y=68-this.mTxt1.height>>1,this.addChild(this.mTxt1),this.mTxt2=new g,this.mTxt2.y=this.mTxt1.y,this.addChild(this.mTxt2),1==this.mType)this.updatTitle([u.lang("CD_total"),0]),this.mTxt1.color="#4bc65c";else if(2==this.mType){this.mouseEnabled=!0;this.mTxt1.x=t.S_Xs[2][0];this.mIcon=new hi(56);this.mIcon.pos(72,70-this.mIcon.height>>1);this.addChild(this.mIcon);this.on("click",this,this.openDetail)}this.graphics.drawRect(0,0,s.MAX_W,72,"#5493a570");this.graphics.drawRect(32,71,s.MAX_W-64,1,"#233a5b")}r(t,"games.windows._sqlSubs.Item_CDetail",n);var i=t.prototype;return i.updatTitle=function(n){this.mTxt1.text=n[0];this.mTxt1.x=t.S_Xs[0][0]-.5*this.mTxt1.width>>0;this.updateValue(n[1])},i.updateValue=function(n){this.mTxt2.innerHTML=a.ToColorStr(n);this.mTxt2.x=s.MAX_W-t.S_Xs[this.mType][1]-this.mTxt2.contextWidth>>0},i.update=function(n){this.mID=n.sID;this.mName=this.mTxt1.text=n.name;this.updateValue(n.fund);this.mIcon.loadIcon(n.icon,n.isClub?0:1)},i.openDetail=function(){this.mID>0&&b.OpenWin(t.s_winID,this.mName,t.s_time,this.mID)},e(0,i,"height",function(){return 72},n.prototype._$set_height),t.s_winID=0,t.s_time=0,t.H_MAX=72,d(t,["S_Xs",function(){return this.S_Xs=u.obj("CD_headX")}]),t}(s),pht=function(n){function t(n,i,r){this.mIn=null;this.mTotal=null;this.mOut=null;this.mIsP=!1;n===void 0&&(n=!1);r===void 0&&(r=2);t.__super.call(this);this.mIsP=n;this.mouseEnabled=!1;this.graphics.drawRect(0,0,s.MAX_W,72,"#5493a570");this.mIn=this.crtRes(r,i+"in");this.mTotal=this.crtRes(r,"total");this.mOut=this.crtRes(r,i+"out");this.updateInout(0,0)}r(t,"games.UD_Displays.views.UD_InOut",n);var i=t.prototype;return i.crtRes=function(n,t){var i=fi.create(n,0,0);return i.pos(32,72-i.height>>1),i.showValue(0),i.showPre(t),this.addChild(i),i},i.updateInout=function(n,t){var i=t-n;this.mIsP&&(i=n+t);i=a.toNumber(i,!1);n=a.toNumber(n,!1);t=a.toNumber(t,!1);this.mIn.showValue(n,!0);this.mOut.showValue(t,!0);this.mOut.x=this.mIn.x+this.mIn.width+32>>0;this.mTotal.showValue(i,!0);this.mTotal.x=s.MAX_W-this.mTotal.width-32>>0},e(0,i,"height",function(){return 72},n.prototype._$set_height),t.H_MAX=72,t}(s),ue=function(n){function u(){this._element=null;this._recList=[];this._innerHTML=null;this._repaintState=0;u.__super.call(this);this._element=new ust;this._element.repaintHandler=new h(this,this._htmlDivRepaint);this.mouseEnabled=!0;this.on("click",this,this._onMouseClick)}r(u,"laya.html.dom.HTMLDivElement",n);var t=u.prototype;return t.destroy=function(t){t===void 0&&(t=!0);this._element&&this._element.reset();this._element=null;this._doClears();n.prototype.destroy.call(this,t)},t._htmlDivRepaint=function(n){n===void 0&&(n=!1);n?this._repaintState<2&&(this._repaintState=2):this._repaintState<1&&(this._repaintState=1);this._repaintState>0&&this._setGraphicDirty()},t._updateGraphicWork=function(){switch(this._repaintState){case 1:this._updateGraphic();break;case 2:this._refresh()}},t._setGraphicDirty=function(){this.callLater(this._updateGraphicWork)},t._doClears=function(){if(this._recList){for(var n=0,i=this._recList.length,t,n=0;n<i;n++)t=this._recList[n],t.recover();this._recList.length=0}},t._updateGraphic=function(){this._doClears();this.graphics.clear(!0);this._repaintState=0;this._element.drawToGraphic(this.graphics,-this._element.x,-this._element.y,this._recList);var n=this._element.getBounds();n&&this.setSelfBounds(n)},t._refresh=function(){this._repaintState=1;this._innerHTML&&(this._element.innerHTML=this._innerHTML);this._setGraphicDirty()},t.setColor=function(n){n!=this._element.style.color&&(this._element.style.color=n,this._refresh())},t.setWordWrap=function(n){this._element.style.wordWrap=n;this._refresh()},t._onMouseClick=function(n){for(var u=this.mouseX,f=this.mouseY,t=0,r=0,i,r=this._recList.length,t=0;t<r;t++)if(i=this._recList[t],i.rec.contains(u,f)){this._eventLink(i.href);n.stopPropagation();return}},t._eventLink=function(n){this.event("link",[n])},e(0,t,"innerHTML",function(){return this._innerHTML},function(n){this._innerHTML!=n&&(this._repaintState=1,this._innerHTML=n,this._element.innerHTML=n,this._setGraphicDirty())}),e(0,t,"height",function(){var n=this._element.contextHeight,t=this._height;return n>t?n:t},function(n){this._height!=n&&(i.superSet(s,this,"height",n),this._element.style.height=n)}),e(0,t,"contextHeight",function(){return this._element.contextHeight}),e(0,t,"width",function(){var n=this._element.contextWidth,t=i.superGet(s,this,"width");return n>t?n:t},function(n){this._width!=n&&(i.superSet(s,this,"width",n),this._element.style.width=n)}),e(0,t,"align",null,function(n){n!=this._element.style.align&&(this._element.style.align=n,this._refresh())}),e(0,t,"style",function(){return this._element.style}),e(0,t,"contextWidth",function(){return this._element.contextWidth}),u}(s),w=function(t){function f(){this._clipPoint=null;this._text=null;this._isChanged=!1;this._textWidth=0;this._textHeight=0;this._lines=[];this._lineWidths=[];this._startX=0;this._startY=0;this._words=null;this._charSize={};this._valign="top";this._singleCharRender=!1;f.__super.call(this);this._fontSize=f.defaultFontSize;this._font=f.defaultFont;this._color="#c3e1e8";this.overflow="visible";this.mouseEnabled=!1;this._style=ss.EMPTY;this.autoSize=!0;this.wordWrap=!1;this.leading=s.LEADING_SIZE}r(f,"laya.display.Text",t);var u=f.prototype;return u.getStyle=function(){return this._style===ss.EMPTY&&(this._style=ss.create()),this._style},u._getTextStyle=function(){return this._style===ss.EMPTY&&(this._style=ss.create()),this._style},u.destroy=function(n){n===void 0&&(n=!0);t.prototype.destroy.call(this,n);this._clipPoint=null;this._lines=null;this._lineWidths=null;this._words&&this._words.forEach(function(n){n.cleanCache()});this._words=null;this._charSize=null},u._getBoundPointsM=function(n){n===void 0&&(n=!1);var t=ct.TEMP;return t.setTo(0,0,this.width,this.height),t._getBoundPoints()},u.getGraphicBounds=function(n){n===void 0&&(n=!1);var t=ct.TEMP;return t.setTo(0,0,this.width,this.height),t},u._getCSSStyle=function(){return this._style},u.lang=function(n){if(n=f.langPacks&&f.langPacks[n]?f.langPacks[n]:n,arguments.length<2)this._text=n;else{for(var t=0,i=arguments.length;t<i;t++)n=n.replace("{"+t+"}",arguments[t+1]);this._text=n}},u.setVh=function(n){this.valign="middle";this.height=n},u._getContextFont=function(){return(this.italic?"italic ":"")+(this.bold?"bold ":"")+this.fontSize+"px "+(c.onIPhone?laya.display.Text.fontFamilyMap[this.font]||this.font:this.font)},u._isPassWordMode=function(){var t=this._style,n=t.asPassword;return"prompt"in this&&this.prompt==this._text&&(n=!1),n},u._getPassWordTxt=function(n){for(var r=n.length,t="",i=r;i>0;i--)t+="●";return t},u._renderText=function(){var n=this.padding,e=this._lines.length,o,i,d,h,g,l,a,b,k,nt,r,u,f,ut,tt,it,rt;this.overflow!="visible"&&(e=Math.min(e,Math.floor((this.height-n[0]-n[2])/(this.leading+this._charSize.height))+1));o=this.scrollY/(this._charSize.height+this.leading)|0;i=this.graphics;i.clear(!0);d=this._getContextFont();c.context.font=d;var p=n[3],s="left",ft=this._lines,w=this.leading+this._charSize.height,t=this._style.currBitmapFont;t&&(w=this.leading+t.getMaxHeight());h=n[0];!t&&this._width>0&&this._textWidth<=this._width&&(this.align=="right"?(s="right",p=this._width-n[1]):this.align=="center"&&(s="center",p=this._width*.5+n[3]-n[1]));this._height>0&&(g=this._textHeight>this._height?"top":this.valign,g==="middle"?h=(this._height-e*w)*.5+n[0]-n[2]:g==="bottom"&&(h=this._height-e*w-n[2]));l=this._style;t&&t.autoScaleSize&&(a=t.fontSize/this.fontSize);this._clipPoint&&(i.save(),t&&t.autoScaleSize?(b=0,k=0,b=this._width?this._width-n[3]-n[1]:this._textWidth,k=this._height?this._height-n[0]-n[2]:this._textHeight,b*=a,k*=a,i.clipRect(n[3],n[0],b,k)):i.clipRect(n[3],n[0],this._width?this._width-n[3]-n[1]:this._textWidth,this._height?this._height-n[0]-n[2]:this._textHeight),this.repaint());nt=l.asPassword;"prompt"in this&&this.prompt==this._text&&(nt=!1);var v=0,y=0,et=Math.min(this._lines.length,e+o)||1;for(r=o;r<et;r++){if(u=ft[r],nt)for(ut=u.length,u="",tt=ut;tt>0;tt--)u+="●";u==null&&(u="");v=p-(this._clipPoint?this._clipPoint.x:0);y=h+w*r-(this._clipPoint?this._clipPoint.y:0);this.underline&&this._drawUnderline(s,v,y,r);t?(it=this.width,t.autoScaleSize&&(it=this.width*a),t._drawText(u,this,v,y,this.align,it)):(this._words||(this._words=[]),this._words.length>r-o?f=this._words[r-o]:(f=new fft,this._words.push(f)),f.setText(u),f.splitRender=this._singleCharRender,l.stroke?i.fillBorderText(f,v,y,d,this.color,l.strokeColor,l.stroke,s):i.fillText(f,v,y,this.fontSize,this.color,s))}t&&t.autoScaleSize&&(rt=1/a,this.scale(rt,rt));this._clipPoint&&i.restore();this._startX=p;this._startY=h},u._drawUnderline=function(n,t,i,r){var u=this._lineWidths[r];switch(n){case"center":t-=u/2;break;case"right":t-=u}i+=this._charSize.height;this._graphics.drawLine(t,i,t+u,i,this.underlineColor||this.color,1)},u.typeset=function(){if(this._isChanged=!1,!this._text){this._clipPoint=null;this._textWidth=this._textHeight=0;this.graphics.clear(!0);return}tt.isConchApp?n.conchTextCanvas.font=this._getContextFont():c.context.font=this._getContextFont();this._lines.length=0;this._lineWidths.length=0;this._isPassWordMode()?this._parseLines(this._getPassWordTxt(this._text)):this._parseLines(this._text);this._evalTextSize();this._checkEnabledViewportOrNot()?this._clipPoint||(this._clipPoint=new kt(0,0)):this._clipPoint=null;this._renderText()},u._evalTextSize=function(){var n=NaN,t=NaN;n=Math.max.apply(this,this._lineWidths);t=this._style.currBitmapFont?this._lines.length*(this._style.currBitmapFont.getMaxHeight()+this.leading)+this.padding[0]+this.padding[2]:this._lines.length*(this._charSize.height+this.leading)+this.padding[0]+this.padding[2];(n!=this._textWidth||t!=this._textHeight)&&(this._textWidth=n,this._textHeight=t)},u._checkEnabledViewportOrNot=function(){return this.overflow=="scroll"&&(this._width>0&&this._textWidth>this._width||this._height>0&&this._textHeight>this._height)},u.changeText=function(n){this._text!==n&&(this.lang(n+""),this._graphics&&this._graphics.replaceText(this._text)||this.typeset())},u._parseLines=function(t){var s=this.wordWrap||this.overflow=="hidden",h,r,i,o,u,l,e;for(s&&(h=this._getWordWrapWidth()),r=this._style.currBitmapFont,r?(this._charSize.width=r.getMaxWidth(),this._charSize.height=r.getMaxHeight()):(i=null,i=tt.isConchApp?n.conchTextCanvas.measureText(this._testWord):c.context.measureText(f._testWord),i||(i={width:100}),this._charSize.width=i.width,this._charSize.height=i.height||this.fontSize),o=t.replace(/\r\n/g,"\n").split("\n"),u=0,l=o.length;u<l;u++)e=o[u],s?this._parseLine(e,h):(this._lineWidths.push(this._getTextWidth(e)),this._lines.push(e))},u._parseLine=function(n,t){var a=c.context,u=this._lines,e=0,l,r=NaN,s=NaN,f=0,i,h,o;if(r=this._getTextWidth(n),r<=t){u.push(n);this._lineWidths.push(r);return}for(r=this._charSize.width,e=Math.floor(t/r),e==0&&(e=1),r=this._getTextWidth(n.substring(0,e)),s=r,i=e,h=n.length;i<h;i++)if(r=this._getTextWidth(n.charAt(i)),s+=r,s>t)if(this.wordWrap)if(o=n.substring(f,i),o.charCodeAt(o.length-1)<255&&(l=/(?:\w|-)+$/.exec(o),l&&(i=l.index+f,l.index==0?i+=o.length:o=n.substring(f,i))),u.push(o),this._lineWidths.push(s-r),f=i,i+e<h)i+=e,r=this._getTextWidth(n.substring(f,i)),s=r,i--;else{u.push(n.substring(f,h));this._lineWidths.push(this._getTextWidth(u[u.length-1]));f=-1;break}else if(this.overflow=="hidden"){u.push(n.substring(0,i));this._lineWidths.push(this._getTextWidth(u[u.length-1]));return}this.wordWrap&&f!=-1&&(u.push(n.substring(f,h)),this._lineWidths.push(this._getTextWidth(u[u.length-1])))},u._getTextWidth=function(t){var i=this._style.currBitmapFont;return i?i.getTextWidth(t):tt.isConchApp?n.conchTextCanvas.measureText(t).width:c.context.measureText(t).width},u._getWordWrapWidth=function(){var i=this.padding,n=NaN,t=this._style.currBitmapFont;return n=t&&t.autoScaleSize?this._width*(t.fontSize/this.fontSize):this._width,n<=0&&(n=this.wordWrap?100:c.width),n<=0&&(n=100),n-i[3]-i[1]},u.getCharPoint=function(n,t){var r,o,s,h,l,a;this._isChanged&&i.systemTimer.runCallLater(this,this.typeset);var u=0,f=this._lines,e=0;for(r=0,o=f.length;r<o;r++){if(u+=f[r].length,n<u){s=r;break}e=u}return h=(this.italic?"italic ":"")+(this.bold?"bold ":"")+this.fontSize+"px "+this.font,c.context.font=h,l=this._getTextWidth(this._text.substring(e,n)),a=t||new kt,a.setTo(this._startX+l-(this._clipPoint?this._clipPoint.x:0),this._startY+s*(this._charSize.height+this.leading)-(this._clipPoint?this._clipPoint.y:0))},e(0,u,"width",function(){return this._width?this._width:this.textWidth+this.padding[1]+this.padding[3]},function(n){n!=this._width&&(i.superSet(s,this,"width",n),this.isChanged=!0,this.borderColor&&this._setBorderStyleColor(0,0,this.width,this.height,this.borderColor,1))}),e(0,u,"textWidth",function(){return this._isChanged&&i.systemTimer.runCallLater(this,this.typeset),this._textWidth+2>>0}),e(0,u,"height",function(){return this._height?this._height:this.textHeight},function(n){n!=this._height&&(i.superSet(s,this,"height",n),this.isChanged=!0,this.borderColor&&this._setBorderStyleColor(0,0,this.width,this.height,this.borderColor,1))}),e(0,u,"textHeight",function(){return this._isChanged&&i.systemTimer.runCallLater(this,this.typeset),this._textHeight>>0}),e(0,u,"padding",function(){return this._style.padding},function(n){var t,i,r;if(typeof n=="string"){for(t=n.split(","),i=0,r=0,r=t.length;t.length<4;)t.push(0);for(i=0;i<r;i++)t[i]=parseFloat(t[i])||0;n=t}this._getTextStyle().padding=n;this.isChanged=!0}),e(0,u,"bold",function(){return this._style.bold},function(n){this._getTextStyle().bold=n;this.isChanged=!0}),e(0,u,"text",function(){return this._text||""},function(n){this._text!==n&&(this.lang(n+""),this.isChanged=!0,this.event("change"),this.borderColor&&this._setBorderStyleColor(0,0,this.width,this.height,this.borderColor,1))}),e(0,u,"color",function(){return this._color},function(n){this._color!=n&&(this._color=n,this.isChanged=!0)}),e(0,u,"font",function(){return this._font},function(n){this._style.currBitmapFont&&(this._getTextStyle().currBitmapFont=null,this.scale(1,1));f._bitmapFonts&&f._bitmapFonts[n]&&(this._getTextStyle().currBitmapFont=f._bitmapFonts[n]);this._font=n;this.isChanged=!0}),e(0,u,"fontSize",function(){return this._fontSize},function(n){this._fontSize!=n&&(this._fontSize=n,this.isChanged=!0)}),e(0,u,"italic",function(){return this._style.italic},function(n){this._getTextStyle().italic=n;this.isChanged=!0}),e(0,u,"align",function(){return this._style.align},function(n){this._getTextStyle().align=n;this.isChanged=!0}),e(0,u,"valign",function(){return this._valign},function(n){this._valign=n;this.isChanged=!0}),e(0,u,"wordWrap",function(){return this._style.wordWrap},function(n){this._getTextStyle().wordWrap=n;this.isChanged=!0}),e(0,u,"singleCharRender",function(){return this._singleCharRender},function(n){this._singleCharRender=n}),e(0,u,"leading",function(){return this._style.leading},function(n){this._getTextStyle().leading=n;this.isChanged=!0}),e(0,u,"bgColor",function(){return this._style.bgColor},function(n){this._getTextStyle().bgColor=n;this._renderType|=128;this._setBgStyleColor(0,0,this.width,this.height,n);this._setRenderType(this._renderType);this.isChanged=!0}),e(0,u,"borderColor",function(){return this._style.borderColor},function(n){this._getTextStyle().borderColor=n;this._renderType|=128;this._setBorderStyleColor(0,0,this.width,this.height,n,1);this._setRenderType(this._renderType);this.isChanged=!0}),e(0,u,"stroke",function(){return this._style.stroke},function(n){this._getTextStyle().stroke=n;this.isChanged=!0}),e(0,u,"strokeColor",function(){return this._style.strokeColor},function(n){this._getTextStyle().strokeColor=n;this.isChanged=!0}),e(0,u,"isChanged",null,function(n){this._isChanged!==n&&(this._isChanged=n,n&&i.systemTimer.callLater(this,this.typeset))}),e(0,u,"scrollX",function(){return this._clipPoint?this._clipPoint.x:0},function(n){if(this.overflow=="scroll"&&!(this.textWidth<this._width)&&this._clipPoint){n=n<this.padding[3]?this.padding[3]:n;var t=this._textWidth-this._width;n=n>t?t:n;this._clipPoint.x=n;this._renderText()}}),e(0,u,"scrollY",function(){return this._clipPoint?this._clipPoint.y:0},function(n){if(this.overflow=="scroll"&&!(this.textHeight<this._height)&&this._clipPoint){n=n<this.padding[0]?this.padding[0]:n;var t=this._textHeight-this._height;n=n>t?t:n;this._clipPoint.y=n;this._renderText()}}),e(0,u,"maxScrollX",function(){return this.textWidth<this._width?0:this._textWidth-this._width}),e(0,u,"maxScrollY",function(){return this.textHeight<this._height?0:this._textHeight-this._height}),e(0,u,"lines",function(){return this._isChanged&&this.typeset(),this._lines}),e(0,u,"underlineColor",function(){return this._style.underlineColor},function(n){this._getTextStyle().underlineColor=n;this._isChanged||this._renderText()}),e(0,u,"underline",function(){return this._style.underline},function(n){this._getTextStyle().underline=n}),f.defaultFontStr=function(){return f.defaultFontSize+"px "+f.defaultFont},f.quickCreate=function(n,t){n===void 0&&(n=20);t===void 0&&(t="#b2d6fb");var i=new f;return i.fontSize=n,i.color=t,i.autoSize=!0,i.wordWrap=!1,(tt.isConchApp||c.onMobile)&&(i.leading=4),i},f.registerBitmapFont=function(n,t){f._bitmapFonts||(f._bitmapFonts={});f._bitmapFonts[n]=t},f.unregisterBitmapFont=function(n,t){if(t===void 0&&(t=!0),f._bitmapFonts&&f._bitmapFonts[n]){var i=f._bitmapFonts[n];t&&i.destroy();delete f._bitmapFonts[n]}},f.VISIBLE="visible",f.SCROLL="scroll",f.HIDDEN="hidden",f.defaultFontSize=24,f.defaultFont="Arial",f.langPacks=null,f.isComplexText=!1,f._testWord="游",f._bitmapFonts=null,f.CharacterCache=!0,f.RightToLeft=!1,d(f,["fontFamilyMap",function(){return this.fontFamilyMap={"报隶":"报隶-简","黑体":"黑体-简","楷体":"楷体-简","兰亭黑":"兰亭黑-简","隶变":"隶变-简","凌慧体":"凌慧体-简","翩翩体":"翩翩体-简","苹方":"苹方-简","手札体":"手札体-简","宋体":"宋体-简","娃娃体":"娃娃体-简","魏碑":"魏碑-简","行楷":"行楷-简","雅痞":"雅痞-简","圆体":"圆体-简"}}]),f}(s),wht=function(n){function u(){this.mValue=0;u.__super.call(this);this.mouseEnabled=!1;this.pivot(14,14);this.mValue=0}r(u,"games.matchCores.desk.eles.DmEle_Chip",n);var t=u.prototype;return i.imps(t,{"FioLibs.interfaces.IFio_Recyle":!0}),t.recyle=function(){this.removeSelf();ri.clearAll(this);this.texture=null;this.x=this.y=0},t.setValue=function(n){n<0&&(n=0);this.mValue!=n&&(this.texture=null,this.loadImage("matches/mm_chip_"+n+".png"))},t.moveTo=function(n,t,i,r,u){i===void 0&&(i=0);r===void 0&&(r=0);u===void 0&&(u=!1);i<1&&(i=200);var f;u&&(f=h.create(this,this.doRecyle));ri.to(this,{x:n,y:t},i,null,f,r,!0)},t.doRecyle=function(){l.recyle(this)},e(0,t,"width",function(){return 28},n.prototype._$set_width),e(0,t,"height",function(){return 28},n.prototype._$set_height),u.ICON_SIZE=28,u.HALF_SIZE=14,u}(s),ea=function(t){function o(){if(this.TIME_TWEEN_IN=150,this.TIME_TWEEN_OUT=100,this.mDicWinClasses=null,this.mDicWinInses=null,this.mParamsTween=null,o.__super.call(this),this.regClasses(),this.mParamsTween={x:0},nt.HdClose=h.create(this,this.toCloseWin,null,!1),oi.regist(2,this.openWin,this),f.Login.regist(105,this.get105,this),f.Login.regist(108,this.get108,this),c.onPC)i.stage.on("keydown",this,this.onPcKeyDown)}r(o,"games.cores.MgrWindows",t);var l=o.prototype;return l.regClasses=function(){var t=this;this.mDicWinClasses={};this.mDicWinInses={};this.mDicWinClasses[181]=syt;this.mDicWinClasses[2]=iti;this.mDicWinClasses[8]=wyt;this.mDicWinClasses[4]=gvt;this.mDicWinClasses[6]=kdt;this.mDicWinClasses[20]=tyt;this.mDicWinClasses[21]=ywt;this.mDicWinClasses[22]=wk;this.mDicWinClasses[5]=apt;this.mDicWinClasses[7]=ant;this.mDicWinClasses[23]=byt;this.mDicWinClasses[32]=npt;this.mDicWinClasses[33]=sbt;this.mDicWinClasses[29]=bbt;this.mDicWinClasses[30]=wnt;this.mDicWinClasses[31]=dnt;this.mDicWinClasses[38]=gbt;this.mDicWinClasses[39]=yyt;this.mDicWinClasses[48]=ubt;this.mDicWinClasses[46]=oyt;this.mDicWinClasses[47]=ept;this.mDicWinClasses[37]=kkt;this.mDicWinClasses[43]=gnt;this.mDicWinClasses[45]=gwt;this.mDicWinClasses[300]=ugt;this.mDicWinClasses[310]=lpt;this.mDicWinClasses[311]=tdt;this.mDicWinClasses[320]=hpt;this.mDicWinClasses[321]=ryt;this.mDicWinClasses[322]=owt;this.mDicWinClasses[180]=gpt;this.mDicWinClasses[3]=ynt;this.mDicWinClasses[182]=vwt;this.mDicWinClasses[186]=dyt;this.mDicWinClasses[187]=ayt;this.mDicWinClasses[184]=cpt;this.mDicWinClasses[185]=ngt;this.mDicWinClasses[183]=bwt;this.mDicWinClasses[190]=awt;this.mDicWinClasses[191]=opt;this.mDicWinClasses[192]=ydt;this.mDicWinClasses[174]=fdt;this.mDicWinClasses[175]=nkt;this.mDicWinClasses[176]=uti;this.mDicWinClasses[171]=lyt;this.mDicWinClasses[172]=lbt;this.mDicWinClasses[173]=vbt;this.mDicWinClasses[178]=hwt;this.mDicWinClasses[179]=lkt;this.mDicWinClasses[212]=iyt;this.mDicWinClasses[210]=pdt;this.mDicWinClasses[211]=pkt;this.mDicWinClasses[200]=lwt;this.mDicWinClasses[201]=ybt;this.mDicWinClasses[202]=bkt;this.mDicWinClasses[50]=wbt;this.mDicWinClasses[51]=ypt;this.mDicWinClasses[52]=ibt;this.mDicWinClasses[53]=pwt;this.mDicWinClasses[54]=nwt;this.mDicWinClasses[56]=rgt;this.mDicWinClasses[57]=unt;this.mDicWinClasses[64]=gyt;this.mDicWinClasses[58]=ent;this.mDicWinClasses[55]=tnt;this.mDicWinClasses[59]=upt;this.mDicWinClasses[60]=cyt;this.mDicWinClasses[63]=ygt;this.mDicWinClasses[61]=nyt;this.mDicWinClasses[62]=ikt;this.mDicWinClasses[70]=bd;this.mDicWinClasses[73]=yii;this.mDicWinClasses[71]=hnt;this.mDicWinClasses[72]=pgt;this.mDicWinClasses[100]=rk;this.mDicWinClasses[101]=akt;this.mDicWinClasses[102]=gkt;this.mDicWinClasses[103]=lnt;this.mDicWinClasses[80]=eyt;this.mDicWinClasses[81]=abt;this.mDicWinClasses[82]=ppt;this.mDicWinClasses[85]=cdt;this.mDicWinClasses[86]=dbt;this.mDicWinClasses[87]=wdt;this.mDicWinClasses[88]=rwt;this.mDicWinClasses[120]=dti;this.mDicWinClasses[121]=lii;this.mDicWinClasses[122]=bti;this.mDicWinClasses[124]=nii;this.mDicWinClasses[123]=oii;this.mDicWinClasses[130]=kwt;this.mDicWinClasses[131]=bpt;this.mDicWinClasses[160]=kbt;this.mDicWinClasses[162]=spt;this.mDicWinClasses[161]=rbt;this.mDicWinClasses[216]=pbt;this.mDicWinClasses[41]=ldt;this.mDicWinClasses[42]=rti;this.mDicWinClasses[44]=dwt;this.mDicWinClasses[140]=fii;this.mDicWinClasses[141]=pti;this.mDicWinClasses[142]=sti;this.mDicWinClasses[220]=fyt;this.mDicWinClasses[221]=rii;this.mDicWinClasses[222]=oti;c.onAndroid&&n.conch&&n.conch.setOnBackPressedFunction&&n.conch.setOnBackPressedFunction(function(){var n=arguments;t.toCloseTop()})},l.toCloseAll=function(){for(this.removeSelf();this.numChildren>0;)this.onCloseWinDone(this.getChildAt(0),!0)},l.onPcKeyDown=function(n){n.keyCode==27&&this.toCloseTop()},l.toCloseTop=function(){var t=this.numChildren-1,n;t>-1&&(n=this.getChildAt(t),n&&n instanceof games.windows._bases.BaseWindow&&n.CanGoBack&&this.onCloseWinDone(n,!0))},l.toCloseWin=function(n){if(n.IsOpen=!1,ei.PlayEff(109),n.IsOpenEff)this.mParamsTween.x=s.MAX_W,ri.to(n,this.mParamsTween,this.TIME_TWEEN_OUT,null,h.create(this,this.onCloseWinDone,[n]),0,!0);else this.onCloseWinDone(n)},l.onCloseWinDone=function(n,t){t===void 0&&(t=!1);n.IsOpen=!1;n.removeSelf();t&&n.onMgrCls();0==this.numChildren&&this.removeSelf()},l.openWin=function(n,t){var i,r,o,e;if(173==n&&0==f.Account.Detail.ClubNum){ut.showMessage("win_err_tj");return}if(i=this.mDicWinInses[n],i==null)if(r=this.mDicWinClasses[n],r)i=this.mDicWinInses[n]=new r;else{ut.showMessage(u.lang("err_wID",n),!1);return}i.IsOpen?(i.start(t),o=this.getChildIndex(i),e=this.numChildren-1,o!=e&&this.setChildIndex(i,e)):(ei.PlayEff(101),i.mouseEnabled=!0,i.IsOpen=!0,i.IsOpenEff?(i.x=s.MAX_W,this.mParamsTween.x=0,ri.to(i,this.mParamsTween,this.TIME_TWEEN_IN,null,null,0,!0)):i.IsLev2||(i.x=0),this.addChild(i),tu.Add(this),i.start(t))},l.get105=function(n){0==n&&this.toCloseAll()},l.get108=function(n){this.openWin(187,[n])},e(1,o,"ins",function(){return null==o.s_ins&&(o.s_locked=!1,o.s_ins=new o,o.s_locked=!0),o.s_ins},laya.display.Sprite._$SET_ins),o.s_ins=null,o.s_locked=!0,o}(s),pw=function(n){function f(n){this.mInsure=null;this.mMsg=null;this.mBg=null;this.mMttRank=null;this.mBackIcon=null;this.mCDIns=null;this.mVecPlayers=null;this.mBtnRate=null;this.mBtnPlay=null;this.mVpause=!1;this.mVover=!1;this.mRoom=null;this.mSteps=null;this.mStepsI=0;this.mPot=NaN;this.tmpPlayer=null;this.tmpBet=null;this.FlopNum=0;this.mVecFlops=null;this.mD2Txts=null;this.mRateMenus=null;this.mRateHandler=null;this.mP=null;this.mW=0;this.mIrate=0;f.__super.call(this);this.mouseEnabled=!0;this.mMsg=new cht(this);this.mInsure=new pat(this);this.addChild(this.mBg=new ekt);this.mMttRank=new td;this.mMttRank.pos(80-.5*this.mMttRank.width>>0,ui.toRealY(960));this.mBackIcon=st.CrtImg("matches/mm_d.png");this.mCDIns=new eb(h.create(this,this.onCDOver,null,!1));this.mCDIns.pos(78-this.mCDIns.width>>1,112-this.mCDIns.height>>1);kd.ICON_PATH=n;this.mVecPlayers=vr(9);for(var t=0,t=0;t<9;t++)this.mVecPlayers[t]=new kd;this.mBtnPlay=new nti;this.mBtnPlay.pos(s.MAX_W-this.mBtnPlay.width>>1,s.MAX_H*.36>>0);this.mBtnPlay.on("click",this,this.rePlay);this._width=this.mBg.width;this._height=this.mBg.height;this.on("click",this,this.onClk);this.mVecFlops=ii.sMakeFlops();this.mD2Txts=ii.sMakeD2Txts();this.initRates()}r(f,"games.review.ReView",n);var t=f.prototype;return t.initRates=function(){this.mBtnRate=k.crt_Btn(null,"dmJzjz");this.mBtnRate.mText.fontSize=22;this.mBtnRate.label="正常速度";this.mBtnRate.x=s.MAX_W-this.mBtnRate.width>>0;this.mBtnRate.mouseEnabled=!0;this.mBtnRate.on("click",this,this.onRateClick);this.mRateMenus=u.obj("review_menus");this.mRateHandler=h.create(this,this.onRateSelect,null,!1);this.mW=this.mBtnRate.width>>0;this.mP=new kt(this.mBtnRate.x,this.mBtnRate.height+12>>0);this.mIrate=0},t.onRateClick=function(){gs.ins.Show(this.mRateHandler,this.mRateMenus,this.mP,this.mIrate)},t.onRateSelect=function(n,t){this.mIrate=n;this.mBtnRate.label=t.label;this.mCDIns.setPlayRate(t.data)},t.onEnable=function(){this.mBtnRate.parent||this.parent.addChild(this.mBtnRate)},t.onDisable=function(){this.mRoom=null;this.mSteps=null;this.mBg.doReset();this.mMttRank.recyle();this.doClear()},t.doClear=function(){var n,t;for(this.mVpause=this.mVover=!1,this.timer.clearAll(this),this.mMsg.doReset(),this.mInsure.doReset(),this.mStepsI=this.mPot=this.FlopNum=0,this.tmpPlayer=null,this.tmpBet=null,this.mBg.clearPots(),this.mBackIcon.removeSelf(),this.mCDIns.removeSelf(),this.mBtnPlay.removeSelf(),n=0,n=0;n<9;n++)this.mVecPlayers[n].doReset(!0);for(this.FlopNum=0,n=0;n<10;n++)this.mVecFlops[n].recyle();for(t=this.mD2Txts.length,n=0;n<t;n++)this.mD2Txts[n]&&this.mD2Txts[n].removeSelf()},t.showMsg=function(n){this.mMsg&&this.mMsg.showMsg(n)},t.showReview=function(n){this.onDisable();n?(this.showMsg(null),this.mRoom=n.room,o.HandCard_Num=this.mRoom.HcNum||2,this.mSteps=n.steps,this.mRoom.rank&&(this.mMttRank.ShowRank(this.mRoom.rank),this.mMttRank.parent||this.addChild(this.mMttRank)),this.rePlay()):this.showMsg(u.lang("tip_review0"))},t.rePlay=function(n){if(n&&this.mVpause){n.stopPropagation();this.onResume();return}this.doClear();this.mBg.setRoom(this.mRoom);this.initPlayers(this.mRoom);this.timer.once(1e3,this,this.doStep)},t.onResume=function(){this.mBtnPlay.removeSelf();this.mVpause=!1;this.doStep()},t.onClk=function(){this.mVover||(this.mBtnPlay.parent?this.onResume():(this.mVpause=!0,this.mMsg.showMsg(u.lang("tip_review2"),1200)))},t.initPlayers=function(n){var e=ui.getSitterCoords(n.maxNum),i=0,r=n.maxNum,t,u,f;for(i;i<r;i++)t=this.mVecPlayers[i],t.setCoordsVo(e[i],!1),this.addChild(t);for(u=n.players,r=u.length,i=0;i<r;i++)f=u[i],t=this.mVecPlayers[f.index],t&&(t.IsJoin=!0,t.setPlayer(f));t=this.mVecPlayers[n.bIndex];this.mBackIcon.pos(t.HandCoords.bankX,t.HandCoords.bankY);this.addChildAt(this.mBackIcon,1)},t.clearBets=function(){var n=0,t,i=!1;for(n;n<9;n++)t=this.mVecPlayers[n],t&&t.flyBet()&&!i&&(i=!0);i&&ei.PlayEff(7)},t.doStep=function(){var i,n,u,t,r;if(this.mVpause){!this.mBtnPlay.parent&&this.parent&&this.parent.addChild(this.mBtnPlay);return}if(this.mStepsI<this.mSteps.length){if(i=this.mSteps[this.mStepsI],n=600,i){this.mCDIns.removeSelf();u=i.n;t=i.v;switch(u){case"ante":this.showAnte(t);break;case"deal":this.dealHands();n=300;break;case"bb":this.showPreBB(t);break;case"bet":n=this.doBet(t);break;case"roundOver":this.clearBets();this.doRound(t);n+=300;break;case"flops":n=this.doFlops(t);break;case"message":r=t;typeof t=="string"?this.mMsg.showMsg(t,n=2e3):this.mMsg.showMsg(vo.getSerStr(r.idx,r.params),n=2e3);n+=500;break;case"d2rst":this.onD2Rst(t);n+=500;break;case"handOver":this.doHandOver(t);this.mBg.clearPots();n=2e3;break;case"insure":this.mInsure.show(t,n=4e3);n+=500}}this.timer.once(n,this,this.doStep);this.mStepsI+=1}else this.parent&&this.parent.addChild(this.mBtnPlay),this.mVover=!0,this.mVpause=!1},t.showAnte=function(n){if(n>0){var i=0,t;for(i;i<9;i++)t=this.mVecPlayers[i],t&&t.parent&&t.IsJoin&&t.updateBet(n);ei.PlayEff(1)}},t.showPreBB=function(n){if(n){var r=0,u=n.length,t,i;for(r;r<u;r++)(t=n[r],i=this.mVecPlayers[t.index],i)&&(i.updateBet(t.bet),i.updateScroe(t.score),i.updateStartState(t.state),this.mPot+=t.bet);this.mBg.updatePotTotal(this.mPot);ei.PlayEff(1)}},t.onD2Rst=function(n){var o=i.stage.isActive,f=n.idx,h,t,e,s,r;if(1==f){for(h=0,t=0,6==this.FlopNum?t=4:7==this.FlopNum&&(t=3),t;t<5;t++)this.moveFlop(this.mVecFlops[t],o);this.moveFlop(this.mVecFlops[4],o)}e=this.mD2Txts[f];r=n.joiner;s=1==r.length?u.lang("d2_1",f,r[0]):u.lang("d2_0",f,r[0],r[1]);e.Show(s);this.addChild(e)},t.moveFlop=function(n,t){if(n&&n.parent){var i=ii.FLOP_Y1;t?n.moveTo(n.x,i):n.y=i}},t.dealHands=function(){var t=0,n,i=this.mRoom.HcNum;for(t;t<9;t++)n=this.mVecPlayers[t],n&&n.parent&&n.IsJoin&&ii.Dhc_Other(n,!0,i);ei.PlayEff(11,0);ei.PlayEff(11,100);this.timer.once(300,this,this.doStep)},t.doBet=function(n){var t=this.mVecPlayers[n.index],i;return t?(this.tmpPlayer=t,this.tmpBet=n,t.addChildAt(this.mCDIns,1),i=this.mCDIns.startCD(n.time,!1)+600,this.mCDIns.startCD(n.time,!1)+600):600},t.onCDOver=function(){var t,i,n;this.tmpPlayer.updateBetState(this.tmpBet.state);this.tmpPlayer.updateScroe(this.tmpBet.score);6!=this.tmpBet.state&&(t=this.tmpPlayer.getBeted(),i=this.tmpBet.bet,t>0&&(i-=t),this.mBg.updatePotTotal(this.mPot+=i));this.tmpPlayer.updateBet(this.tmpBet.bet);n=-1;switch(this.tmpBet.state){case 5:n=4;break;case 6:n=3;break;case 3:n=2;break;case 2:case 4:case 13:n=1}n>-1&&ei.PlayEff(n);this.tmpPlayer=null;this.tmpBet=null},t.updatePot=function(n,t){this.mBg.updatePotTotal(this.mPot=n);this.mBg.getPots(!1,t)},t.doRound=function(n){this.timer.once(500,this,this.updatePot,[n.pot,n.pots]);if(n.cardTypes){var f=i.stage.isActive,r=0,e=n.cardTypes.length,u,t;for(r;r<e;r++)t=n.cardTypes[r],u=this.mVecPlayers[t.index],u&&(u.showCardType(t.type),t.cards&&ii.syncPlayerCards(f,u,null,t.cards))}},t.doFlops=function(n){var s=i.stage.isActive;this.FlopNum=n.length;for(var t=0,u=0,f=0,t=0;t<this.FlopNum;t++){if(u=n[t],u<0)break;f+=1}var r,e=0,h=3==f||8==f,c=ii.getFlopCoords(n),o;for(t=0;t<f;t++)(u=n[t],u<0)||(r=this.mVecFlops[t],o=c[t],r.pos(o.x,o.y),r.parent||(r.showPoint(u),this.addChildAt(r,1+t),s&&(e=h?150*(t%5):30,r.doFlipShow(e+20,!1),t>1&&ei.PlayEff(12,e))));return e+600+100},t.doHandOver=function(n){var o=n.length;if(o){var f=0,i,t,h=ui.COORDS_CURPOT,c=39,r=0,u=0,l=0,e=0,a=this.stage.isActive;for(f;f<o;f++)t=n[f],i=this.mVecPlayers[t.index],i&&(r=i.FinalX+c>>0,e=903,u=i.FinalY-24>>0,l=u-32,a&&(0==t.type?t.win>0&&yf.playDragon(this,r,u,r,u,e):t.type<4&&(e=904+t.type,yf.playDragon(this,s.MAX_W>>1,s.MAX_H>>1,r,u-24,e))),ui.show(this,t.win,r,l),t.get_chip>0&&gh.sShowWin(this,t.get_chip,h.x,h.y,r,i.FinalY+c),i.updateScroe(t.score));ei.PlayEff(8,300)}},f.NUM_FLOP_BASE=3,f.NUM_MAX_PLAYERS=9,f.TIME_STEP=600,f}(s),ww=function(n){function t(){this.mT_name=null;this.mT_time=null;this.mT_fund=null;this.mT_total=null;t.__super.call(this);this.mouseEnabled=!1;this.graphics.drawRect(0,0,t.s_w,104,"#305278");this.mT_name=w.quickCreate(24,"#b2d6fb");this.mT_name.pos(20,16);this.addChild(this.mT_name);this.mT_fund=new g;this.mT_fund.y=this.mT_name.y;this.addChild(this.mT_fund);this.mT_time=w.quickCreate(22,"#5680be");this.mT_time.pos(this.mT_name.x,60);this.addChild(this.mT_time);this.mT_total=w.quickCreate(22,"#5680be");this.mT_total.y=this.mT_time.y;this.addChild(this.mT_total)}r(t,"games.windows._sqlSubs.Item_CD_Club",n);var i=t.prototype;return i.update=function(n){this.mT_name.text=n.name;this.mT_time.text=a.GTos(n.time,!0);this.mT_fund.innerHTML=a.ToColorStr(n.fund);this.mT_fund.x=t.s_w-this.mT_fund.contextWidth-this.mT_name.x>>0;this.mT_total.text=u.lang("CD_rest",a.NumToStr(n.total));this.mT_total.x=t.s_w-this.mT_total.width-this.mT_name.x>>0},e(0,i,"height",function(){return 104},n.prototype._$set_height),t.s_w=0,t.H_MAX=104,t}(s),bht=function(n){function t(){this.mVo=null;t.__super.call(this);this.size(736,160);this.x=s.MAX_W-736>>1;this.on("click",this,this.onClick)}r(t,"games.scene.modules.notices.SceNotice_Item",n);var i=t.prototype;return i.setData=function(n){this.graphics.drawRoundRect(8,736,160,"#386ebf40");this.graphics.fillText(n.label,368,160*.5-12>>0,24,"#b2d6fb","center");kf.NT.load(wt.getActImg(!1,n.data),h.create(this,this.onLoaded));n.data=wt.getActImg(!0,n.data);this.mVo=n},i.onLoaded=function(n){n&&(this.graphics.clear(),this.texture=n)},i.onClick=function(){this.mVo&&b.OpenWin(22,this.mVo)},e(0,i,"width",function(){return 736},n.prototype._$set_width),e(0,i,"height",function(){return 160},n.prototype._$set_height),t.W_MAX=736,t.H_MAX=160,t}(s),ro=function(n){function u(n,t){this._templet=null;this._player=null;this._curOriginalData=null;this._boneMatrixArray=[];this._lastTime=0;this._currAniName=null;this._currAniIndex=-1;this._pause=!0;this._aniClipIndex=-1;this._clipIndex=-1;this._skinIndex=0;this._skinName="default";this._aniMode=0;this._graphicsCache=null;this._boneSlotDic=null;this._bindBoneBoneSlotDic=null;this._boneSlotArray=null;this._index=-1;this._total=-1;this._indexControl=!1;this._aniPath=null;this._texturePath=null;this._complete=null;this._loadAniMode=0;this._yReverseMatrix=null;this._ikArr=null;this._tfArr=null;this._pathDic=null;this._rootBone=null;this._boneList=null;this._aniSectionDic=null;this._eventIndex=0;this._drawOrderIndex=0;this._drawOrder=null;this._lastAniClipIndex=-1;this._lastUpdateAniClipIndex=-1;this.eID=0;this.AutoPlay=!0;u.__super.call(this);t===void 0&&(t=0);n&&this.init(n,t)}r(u,"laya.ani.bone.Skeleton",n);var t=u.prototype;return t.init=function(n,t){var i,r,u,f,e,o;if(t===void 0&&(t=0),i=0,r=0,t==1)for(this._graphicsCache=[],i=0,r=n.getAnimationCount();i<r;i++)this._graphicsCache.push([]);if(this._yReverseMatrix=n.yReverseMatrix,this._aniMode=t,this._templet=n,this._templet._addReference(1),this._player=new kot,this._player.cacheFrameRate=n.rate,this._player.templet=n,this._player.play(),this._parseSrcBoneMatrix(),this._boneList=n.mBoneArr,this._rootBone=n.mRootBone,this._aniSectionDic=n.aniSectionDic,n.ikArr.length>0)for(this._ikArr=[],i=0,r=n.ikArr.length;i<r;i++)this._ikArr.push(new frt(n.ikArr[i],this._boneList));if(n.pathArr.length>0)for(this._pathDic==null&&(this._pathDic={}),i=0,r=n.pathArr.length;i<r;i++)u=n.pathArr[i],f=new bp(u,this._boneList),e=this._boneSlotDic[u.name],e&&(f=new bp(u,this._boneList),f.target=e),this._pathDic[u.name]=f;if(n.tfArr.length>0)for(this._tfArr=[],i=0,r=n.tfArr.length;i<r;i++)this._tfArr.push(new vft(n.tfArr[i],this._boneList));n.skinDataArray.length>0&&(o=this._templet.skinDataArray[this._skinIndex],this._skinName=o.name);this._player.on("played",this,this._onPlay);this._player.on("stopped",this,this._onStop);this._player.on("paused",this,this._onPause)},t.load=function(n,t,r){r===void 0&&(r=0);this._aniPath=n;this._complete=t;this._loadAniMode=r;i.loader.load([{url:n,type:"arraybuffer"}],h.create(this,this._onLoaded))},t._onLoaded=function(){var t=dt.getRes(this._aniPath),n;if(t!=null)if(uo.TEMPLET_DICTIONARY==null&&(uo.TEMPLET_DICTIONARY={}),n=uo.TEMPLET_DICTIONARY[this._aniPath],n)if(n.isParseFail)this._parseFail();else if(n.isParserComplete)this._parseComplete();else{n.on("complete",this,this._parseComplete);n.on("error",this,this._parseFail)}else{n=new uo;n._setCreateURL(this._aniPath);uo.TEMPLET_DICTIONARY[this._aniPath]=n;n.on("complete",this,this._parseComplete);n.on("error",this,this._parseFail);n.isParserComplete=!1;n.parseData(null,t)}},t._parseComplete=function(){var n=uo.TEMPLET_DICTIONARY[this._aniPath];n&&(this.init(n,this._loadAniMode),this.AutoPlay&&this.play(0,this.AutoPlay));this._complete&&this._complete.runWith(this)},t._parseFail=function(){console.log("[Error]:"+this._aniPath+"解析失败")},t._onPlay=function(){this.event("played")},t._onStop=function(){var n,i=this._templet.eventAniArr,t=i[this._aniClipIndex];if(t&&this._eventIndex<t.length)for(;this._eventIndex<t.length;this._eventIndex++)n=t[this._eventIndex],n.time>=this._player.playStart&&n.time<=this._player.playEnd&&this.event("label",n);this._drawOrder=null;this.event("stopped")},t._onPause=function(){this.event("paused")},t._parseSrcBoneMatrix=function(){for(var t=0,i=0,u,n,r,i=this._templet.srcBoneMatrixArr.length,t=0;t<i;t++)this._boneMatrixArray.push(new ht);if(this._aniMode==0)this._boneSlotDic=this._templet.boneSlotDic,this._bindBoneBoneSlotDic=this._templet.bindBoneBoneSlotDic,this._boneSlotArray=this._templet.boneSlotArray;else for(this._boneSlotDic==null&&(this._boneSlotDic={}),this._bindBoneBoneSlotDic==null&&(this._bindBoneBoneSlotDic={}),this._boneSlotArray==null&&(this._boneSlotArray=[]),u=this._templet.boneSlotArray,t=0,i=u.length;t<i;t++)n=u[t],r=this._bindBoneBoneSlotDic[n.parent],r==null&&(this._bindBoneBoneSlotDic[n.parent]=r=[]),this._boneSlotDic[n.name]=n=n.copy(),r.push(n),this._boneSlotArray.push(n)},t._emitMissedEvents=function(n,t,i){var o,u,r,e,f;if(i===void 0&&(i=0),o=this._templet.eventAniArr,u=o[this._player.currentAnimationClipIndex],u)for(r=0,e=0,e=u.length,r=i;r<e;r++)f=u[r],f.time>=this._player.playStart&&f.time<=this._player.playEnd&&this.event("label",f)},t._update=function(n){var r,i,t;if((n===void 0&&(n=!0),!this._pause)&&(!n||!this._indexControl)){var f=this.timer.currTimer,u=this._player.currentKeyframeIndex,e=f-this._lastTime;(n?this._player._update(e):u=-1,this._lastTime=f,this._player)&&((this._index=this._clipIndex=this._player.currentKeyframeIndex,this._index<0)||e>0&&this._clipIndex==u&&this._lastUpdateAniClipIndex==this._aniClipIndex||(this._lastUpdateAniClipIndex=this._aniClipIndex,u>this._clipIndex&&this._eventIndex!=0&&(this._emitMissedEvents(this._player.playStart,this._player.playEnd,this._eventIndex),this._eventIndex=0),r=this._templet.eventAniArr[this._aniClipIndex],r&&this._eventIndex<r.length&&(i=r[this._eventIndex],i.time>=this._player.playStart&&i.time<=this._player.playEnd?this._player.currentPlayTime>=i.time&&(this.event("label",i),this._eventIndex++):this._eventIndex++),this._aniMode==0?(t=this._templet.getGrahicsDataWithCache(this._aniClipIndex,this._clipIndex)||this._createGraphics(),t&&this.graphics!=t&&(this.graphics=t)):this._aniMode==1?(t=this._getGrahicsDataWithCache(this._aniClipIndex,this._clipIndex)||this._createGraphics(),t&&this.graphics!=t&&(this.graphics=t)):this._createGraphics()))}},t._createGraphics=function(n){var h,ft,et,c,ot,st,a,vt,v,yt,pt,y,ct,b,g,lt,e,o,k;n===void 0&&(n=-1);n==-1&&(n=this._clipIndex);var p=n*this._player.cacheFrameRateInterval,nt,wt=this._templet.drawOrderAniArr,d=wt[this._aniClipIndex];if(d&&d.length>0)for(this._drawOrderIndex=0,nt=d[this._drawOrderIndex];p>=nt.time;){if(this._drawOrder=nt.drawOrder,this._drawOrderIndex++,this._drawOrderIndex>=d.length)break;nt=d[this._drawOrderIndex]}this._aniMode==0||this._aniMode==1?this.graphics=ia.create():this.graphics instanceof laya.ani.GraphicsAni?this.graphics.clear():this.graphics=ia.create();var l=this.graphics,at=this._templet.getNodes(this._aniClipIndex),bt=this._player.state==0;this._templet.getOriginalData(this._aniClipIndex,this._curOriginalData,null,n,bt?p+this._player.cacheFrameRateInterval:p);for(var tt=this._aniSectionDic[this._aniClipIndex],r=0,t=0,it=0,rt=0,u=0,i,ut,s,w,kt=this._templet.srcBoneMatrixArr.length,f=this._curOriginalData,t=0,u=tt[0];t<kt;t++)w=this._boneList[t],h=w.resultTransform,s=this._templet.srcBoneMatrixArr[t],h.scX=s.scX*f[r++],h.skX=s.skX+f[r++],h.skY=s.skY+f[r++],h.scY=s.scY*f[r++],h.x=s.x+f[r++],h.y=s.y+f[r++],this._templet.tMatrixDataLen===8&&(h.skewX=s.skewX+f[r++],h.skewY=s.skewY+f[r++]);for(ft={},et={},u+=tt[1];t<u;t++)c=at[t],ft[c.name]=f[r++],et[c.name]=f[r++],r+=4;for(ot={},st={},u+=tt[2];t<u;t++)c=at[t],ot[c.name]=f[r++],st[c.name]=f[r++],r+=4;if(this._pathDic)for(u+=tt[3];t<u;t++)if(c=at[t],a=this._pathDic[c.name],a){vt=new lu(c.extenData);switch(vt.getByte()){case 1:a.position=f[r++];break;case 2:a.spacing=f[r++];break;case 3:a.rotateMix=f[r++];a.translateMix=f[r++]}}if(this._rootBone.update(this._yReverseMatrix||ht.TEMP.identity()),this._ikArr)for(t=0,u=this._ikArr.length;t<u;t++)v=this._ikArr[t],ot.hasOwnProperty(v.name)&&(v.bendDirection=ot[v.name]),st.hasOwnProperty(v.name)&&(v.mix=st[v.name]),v.apply();if(this._pathDic)for(yt in this._pathDic)a=this._pathDic[yt],a.apply(this._boneList,l);if(this._tfArr)for(t=0,rt=this._tfArr.length;t<rt;t++)pt=this._tfArr[t],pt.apply();for(t=0,rt=this._boneList.length;t<rt;t++)if(w=this._boneList[t],ut=this._bindBoneBoneSlotDic[w.name],w.resultMatrix.copyTo(this._boneMatrixArray[t]),ut)for(it=0,u=ut.length;it<u;it++)i=ut[it],i&&i.setParentMatrix(w.resultMatrix);if(y={},ct=this._templet.deformAniArr,ct&&ct.length>0){if(this._lastAniClipIndex!=this._aniClipIndex)for(this._lastAniClipIndex=this._aniClipIndex,t=0,u=this._boneSlotArray.length;t<u;t++)i=this._boneSlotArray[t],i.deformData=null;g=ct[this._aniClipIndex];b=g["default"];this._setDeform(b,y,this._boneSlotArray,p);for(lt in g)lt!="default"&&lt!=this._skinName&&(b=g[lt],this._setDeform(b,y,this._boneSlotArray,p));b=g[this._skinName];this._setDeform(b,y,this._boneSlotArray,p)}if(this._drawOrder)for(t=0,u=this._drawOrder.length;t<u;t++)i=this._boneSlotArray[this._drawOrder[t]],e=ft[i.name],o=et[i.name],!isNaN(o),isNaN(e)||e==-2||(this._templet.attachmentNames?i.showDisplayByName(this._templet.attachmentNames[e]):i.showDisplayByIndex(e)),y[this._drawOrder[t]]?(k=y[this._drawOrder[t]],i.deformData=i.currDisplayData&&k[i.currDisplayData.attachmentName]?k[i.currDisplayData.attachmentName]:null):i.deformData=null,isNaN(o)?i.draw(l,this._boneMatrixArray,this._aniMode==2):i.draw(l,this._boneMatrixArray,this._aniMode==2,o),!isNaN(o);else for(t=0,u=this._boneSlotArray.length;t<u;t++)i=this._boneSlotArray[t],e=ft[i.name],o=et[i.name],!isNaN(o),isNaN(e)||e==-2||(this._templet.attachmentNames?i.showDisplayByName(this._templet.attachmentNames[e]):i.showDisplayByIndex(e)),y[t]?(k=y[t],i.deformData=i.currDisplayData&&k[i.currDisplayData.attachmentName]?k[i.currDisplayData.attachmentName]:null):i.deformData=null,isNaN(o)?i.draw(l,this._boneMatrixArray,this._aniMode==2):i.draw(l,this._boneMatrixArray,this._aniMode==2,o),!isNaN(o);return this._aniMode==0?(this._templet.setGrahicsDataWithCache(this._aniClipIndex,n,l),this._checkIsAllParsed(this._aniClipIndex)):this._aniMode==1&&this._setGrahicsDataWithCache(this._aniClipIndex,n,l),l},t._checkIsAllParsed=function(n){for(var t=0,i=0,i=Math.floor(.01+this._templet.getAniDuration(n)/1e3*this._player.cacheFrameRate),t=0;t<i;t++)if(!this._templet.getGrahicsDataWithCache(n,t))return;if(!this._templet.getGrahicsDataWithCache(n,i)){this._createGraphics(i);return}this._templet.deleteAniData(n)},t._setDeform=function(n,t,i,r){if(n){var o,u,s,f=0,h=0,e=0;if(n)for(f=0,h=n.deformSlotDataList.length;f<h;f++)for(o=n.deformSlotDataList[f],e=0;e<o.deformSlotDisplayList.length;e++)u=o.deformSlotDisplayList[e],s=i[u.slotIndex],u.apply(r,s),t[u.slotIndex]||(t[u.slotIndex]={}),t[u.slotIndex][u.attachment]=u.deformData}},t.getAnimNum=function(){return this._templet.getAnimationCount()},t.getAniNameByIndex=function(n){return this._templet.getAniNameByIndex(n)},t.getSlotByName=function(n){return this._boneSlotDic[n]},t.showSkinByName=function(n,t){t===void 0&&(t=!0);this.showSkinByIndex(this._templet.getSkinIndexByName(n),t)},t.showSkinByIndex=function(n,t){var i,r;for(t===void 0&&(t=!0),i=0;i<this._boneSlotArray.length;i++)this._boneSlotArray[i].showSlotData(null,t);this._templet.showSkinByIndex(this._boneSlotDic,n,t)&&(r=this._templet.skinDataArray[n],this._skinIndex=n,this._skinName=r.name);this._clearCache()},t.showSlotSkinByIndex=function(n,t){if(this._aniMode!=0){var i=this.getSlotByName(n);i&&i.showDisplayByIndex(t);this._clearCache()}},t.showSlotSkinByName=function(n,t){if(this._aniMode!=0){var i=this.getSlotByName(n);i&&i.showDisplayByName(t);this._clearCache()}},t.replaceSlotSkinName=function(n,t,i){if(this._aniMode!=0){var r=this.getSlotByName(n);r&&r.replaceDisplayByName(t,i);this._clearCache()}},t.replaceSlotSkinByIndex=function(n,t,i){if(this._aniMode!=0){var r=this.getSlotByName(n);r&&r.replaceDisplayByIndex(t,i);this._clearCache()}},t.setSlotSkin=function(n,t){if(this._aniMode!=0){var i=this.getSlotByName(n);i&&i.replaceSkin(t);this._clearCache()}},t._clearCache=function(){var n,r,t,u,i;if(this._aniMode==1)for(n=0,r=this._graphicsCache.length;n<r;n++){for(t=0,u=this._graphicsCache[n].length;t<u;t++)i=this._graphicsCache[n][t],i&&i!=this.graphics&&ia.recycle(i);this._graphicsCache[n].length=0}},t.play=function(n,t,i,r,u,f){var e,s,o,l,h;if(i===void 0&&(i=!0),r===void 0&&(r=0),u===void 0&&(u=0),f===void 0&&(f=!0),this._indexControl=!1,e=-1,s=NaN,s=t?2147483647:0,typeof n=="string"){for(o=0,l=this._templet.getAnimationCount();o<l;o++)if(h=this._templet.getAnimation(o),h&&n==h.name){e=o;break}}else e=n;e>-1&&e<this.getAnimNum()&&(this._aniClipIndex=e,(i||this._pause||this._currAniIndex!=e)&&(this._currAniIndex=e,this._curOriginalData=new Float32Array(this._templet.getTotalkeyframesLength(e)),this._drawOrder=null,this._eventIndex=0,this._player.play(e,this._player.playbackRate,s,r,u),f&&this._templet.showSkinByIndex(this._boneSlotDic,this._skinIndex),this._pause&&(this._pause=!1,this._lastTime=c.now(),this.timer.frameLoop(1,this,this._update,null,!0)),this._update()))},t.stop=function(){this._pause||(this._pause=!0,this._player&&this._player.stop(!0),this.timer.clear(this,this._update))},t.playbackRate=function(n){this._player&&(this._player.playbackRate=n)},t.paused=function(){this._pause||(this._pause=!0,this._player&&(this._player.paused=!0),this.timer.clear(this,this._update))},t.resume=function(){this._indexControl=!1;this._pause&&(this._pause=!1,this._player&&(this._player.paused=!1),this._lastTime=c.now(),this.timer.frameLoop(1,this,this._update,null,!0))},t._getGrahicsDataWithCache=function(n,t){return this._graphicsCache[n][t]},t._setGrahicsDataWithCache=function(n,t,i){this._graphicsCache[n][t]=i},t.destroy=function(t){t===void 0&&(t=!0);n.prototype.destroy.call(this,t);this._templet._removeReference(1);this._templet=null;this._player&&this._player.offAll();this._player=null;this._curOriginalData=null;this._boneMatrixArray.length=0;this._lastTime=0;this.timer.clear(this,this._update)},e(0,t,"url",function(){return this._aniPath},function(n){this.load(n)}),e(0,t,"index",function(){return this._index},function(n){this.player&&(this._index=n,this._player.currentTime=this._index*1e3/this._player.cacheFrameRate,this._indexControl=!0,this._update(!1))}),e(0,t,"total",function(){return this._total=this._templet&&this._player?Math.floor(this._templet.getAniDuration(this._player.currentAnimationClipIndex)/1e3*this._player.cacheFrameRate):-1,this._total}),e(0,t,"templet",function(){return this._templet}),e(0,t,"player",function(){return this._player}),u.useSimpleMeshInCanvas=!1,u}(s),kht=function(n){function t(){this.autoDestroyAtClosed=!1;this.url=null;this._timer=null;this._viewCreated=!1;this._idMap=null;this._$componentType="Scene";t.__super.call(this);this._setBit(8,!0);t.unDestroyedScenes.push(this);this._scene=this;this.createChildren()}r(t,"laya.display.Scene",n);var u=t.prototype;return u.createChildren=function(){},u.loadScene=function(n){var t=n.indexOf(".")>-1?n:n+".scene",u=i.loader.getRes(t),r;if(u)this.createView(u);else{i.loader.resetProgress();r=new sw;r.on("complete",this,this._onSceneLoaded,[t]);r.load(t)}},u._onSceneLoaded=function(n){this.createView(dt.getRes(n))},u.createView=function(n){n&&!this._viewCreated&&(this._viewCreated=!0,yl.createByData(this,n))},u.getNodeByID=function(n){return this._idMap?this._idMap[n]:null},u.open=function(n,i){n===void 0&&(n=!0);n&&t.closeAll();t.root.addChild(this);this.onOpened(i)},u.onOpened=function(){},u.close=function(n){this.onClosed(n);this.autoDestroyAtClosed?this.destroy():this.removeSelf()},u.onClosed=function(){},u.destroy=function(t){var r,i;for(t===void 0&&(t=!0),this._idMap=null,n.prototype.destroy.call(this,t),r=laya.display.Scene.unDestroyedScenes,i=r.length-1;i>-1;i--)if(r[i]===this){r.splice(i,1);return}},u._sizeChanged=function(){this.event("resize")},e(0,u,"scaleX",n.prototype._$get_scaleX,function(n){i.superGet(s,this,"scaleX")!=n&&(i.superSet(s,this,"scaleX",n),this.event("resize"))}),e(0,u,"scaleY",n.prototype._$get_scaleY,function(n){i.superGet(s,this,"scaleY")!=n&&(i.superSet(s,this,"scaleY",n),this.event("resize"))}),e(0,u,"width",function(){var t,i,n;if(this._width)return this._width;for(t=0,i=this.numChildren-1;i>-1;i--)n=this.getChildAt(i),n._visible&&(t=Math.max(n._x+n.width*n.scaleX,t));return t},function(n){i.superGet(s,this,"width")!=n&&(i.superSet(s,this,"width",n),this.callLater(this._sizeChanged))}),e(0,u,"timer",function(){return this._timer||i.timer},function(n){this._timer=n}),e(0,u,"height",function(){var t,i,n;if(this._height)return this._height;for(t=0,i=this.numChildren-1;i>-1;i--)n=this.getChildAt(i),n._visible&&(t=Math.max(n._y+n.height*n.scaleY,t));return t},function(n){i.superGet(s,this,"height")!=n&&(i.superSet(s,this,"height",n),this.callLater(this._sizeChanged))}),e(1,t,"root",function(){if(!t._root){t._root=i.stage.addChild(new s);t._root.name="root";i.stage.on("resize",null,n);function n(){t._root.size(i.stage.width,i.stage.height);t._root.event("resize")}n()}return t._root},laya.display.Sprite._$SET_root),t.load=function(n,r,u){function e(n){t._loadPage&&t._loadPage.event("progress",n);u&&u.runWith(n)}function o(){var u,s,o,i;if(f.off("progress",null,e),u=dt.getRes(n),!u)throw"Can not find scene:"+n;if(!u.props)throw"Scene data is error:"+n;if(s=u.props.runtime?u.props.runtime:u.type,o=ne.getClass(s),i=u.props.renderType=="instance"?o.instance||(o.instance=new o):new o,i&&i instanceof laya.display.Node){if(i.url=n,i._getBit(8)){i.on("onViewCreated",null,function(){r&&r.runWith(i)});i.createView(u)}else r&&r.runWith(i);t.hideLoadingPage()}else throw"Can not find scene:"+s;}i.loader.resetProgress();var f=new sw;f.on("progress",null,e);f.once("complete",null,o);f.load(n)},t.open=function(n,i,r,u,f){if(i===void 0&&(i=!0),r instanceof laya.utils.Handler){var e=u;u=r;r=e}t.showLoadingPage();t.load(n,h.create(null,this._onSceneLoaded,[i,u,r]),f)},t._onSceneLoaded=function(n,t,i,r){r.open(n,i);t&&t.runWith(r)},t.close=function(n,t){var u,f,r,e,i;for(t===void 0&&(t=""),u=!1,f=laya.display.Scene.unDestroyedScenes,r=0,e=f.length;r<e;r++)i=f[r],i&&i.parent&&i.url===n&&i.name==t&&(i.close(),u=!0);return u},t.closeAll=function(){for(var n,t=laya.display.Scene.root,i=0,r=t.numChildren;i<r;i++)n=t.getChildAt(0),n instanceof laya.display.Scene?n.close():n.removeSelf()},t.destroy=function(n,t){var u,f,i,e,r;for(t===void 0&&(t=""),u=!1,f=laya.display.Scene.unDestroyedScenes,i=0,e=f.length;i<e;i++)r=f[i],r.url===n&&r.name==t&&(r.destroy(),u=!0);return u},t.gc=function(){te.destroyUnusedResources()},t.setLoadingPage=function(n){t._loadPage!=n&&(t._loadPage=n)},t.showLoadingPage=function(n,r){if(r===void 0&&(r=500),t._loadPage){i.systemTimer.clear(null,t._showLoading);i.systemTimer.clear(null,t._hideLoading);i.systemTimer.once(r,null,t._showLoading,[n],!1)}},t._showLoading=function(n){i.stage.addChild(t._loadPage);t._loadPage.onOpened(n)},t._hideLoading=function(){t._loadPage.close()},t.hideLoadingPage=function(n){if(n===void 0&&(n=500),t._loadPage){i.systemTimer.clear(null,t._showLoading);i.systemTimer.clear(null,t._hideLoading);i.systemTimer.once(n,null,t._hideLoading)}},t.unDestroyedScenes=[],t._root=null,t._loadPage=null,t}(s),dht=function(n){function i(){this.loop=!1;this.wrapMode=0;this._index=0;this._count=0;this._isPlaying=!1;this._labels=null;this._isReverse=!1;this._frameRateChanged=!1;this._actionName=null;this._controlNode=null;i.__super.call(this);this._interval=wu.animationInterval;this._setBitUp(16)}r(i,"laya.display.AnimationBase",n);var t=i.prototype;return t.play=function(n,t,i){n===void 0&&(n=0);t===void 0&&(t=!0);i===void 0&&(i="");this._isPlaying=!0;this._actionName=i;this.index=typeof n=="string"?this._getFrameByLabel(n):n;this.loop=t;this._isReverse=this.wrapMode===1;this.index==0&&this._isReverse&&(this.index=this.count-1);this.interval>0&&this.timerLoop(this.interval,this,this._frameLoop,null,!0,!0)},t._getFrameByLabel=function(n){for(var i,t=0;t<this._count;t++)if(i=this._labels[t],i&&i.indexOf(n)>-1)return t;return 0},t._frameLoop=function(){if(this._isReverse){if(this._index--,this._index<0)if(this.loop)this.wrapMode==2?(this._index=this._count>0?1:0,this._isReverse=!1):this._index=this._count-1,this.event("complete");else{this._index=0;this.stop();this.event("complete");return}}else if(this._index++,this._index>=this._count)if(this.loop)this.wrapMode==2?(this._index=this._count-2>=0?this._count-2:0,this._isReverse=!0):this._index=0,this.event("complete");else{this._index--;this.stop();this.event("complete");return}this.index=this._index},t._setControlNode=function(n){if(this._controlNode&&(this._controlNode.off("display",this,this._resumePlay),this._controlNode.off("undisplay",this,this._resumePlay)),this._controlNode=n,n&&n!=this){n.on("display",this,this._resumePlay);n.on("undisplay",this,this._resumePlay)}},t._setDisplay=function(t){n.prototype._setDisplay.call(this,t);this._resumePlay()},t._resumePlay=function(){this._isPlaying&&(this._controlNode.displayedInStage?this.play(this._index,this.loop,this._actionName):this.clearTimer(this,this._frameLoop))},t.stop=function(){this._isPlaying=!1;this.clearTimer(this,this._frameLoop)},t.addLabel=function(n,t){this._labels||(this._labels={});this._labels[t]||(this._labels[t]=[]);this._labels[t].push(n)},t.removeLabel=function(n){if(n){if(this._labels)for(var t in this._labels)this._removeLabelFromList(this._labels[t],n)}else this._labels=null},t._removeLabelFromList=function(n,t){if(n)for(var i=n.length-1;i>=0;i--)n[i]==t&&n.splice(i,1)},t.gotoAndStop=function(n){this.index=typeof n=="string"?this._getFrameByLabel(n):n;this.stop()},t._displayToIndex=function(){},t.clear=function(){return this.stop(),this._labels=null,this},e(0,t,"interval",function(){return this._interval},function(n){this._interval!=n&&(this._frameRateChanged=!0,this._interval=n,this._isPlaying&&n>0&&this.timerLoop(n,this,this._frameLoop,null,!0,!0))}),e(0,t,"isPlaying",function(){return this._isPlaying}),e(0,t,"index",function(){return this._index},function(n){var i,t,r;if(this._index=n,this._displayToIndex(n),this._labels&&this._labels[n])for(i=this._labels[n],t=0,r=i.length;t<r;t++)this.event("label",i[t])}),e(0,t,"count",function(){return this._count}),i.WRAP_POSITIVE=0,i.WRAP_REVERSE=1,i.WRAP_PINGPONG=2,i}(s),bw=function(t){function f(){function o(){c.document[r]=="hidden"?(t._isVisibility=!1,n._isInputting()&&(ci.inputElement.target.focus=!1),c.document.body.scrollTop=0):t._isVisibility=!0;t.isActive=t._isVisibility}var t,i,n;this.focus=null;this._frameRate="fast";this.designWidth=0;this.designHeight=0;this.canvasRotation=!1;this.canvasDegree=0;this.renderingEnabled=!0;this.screenAdaptationEnabled=!0;this._screenMode="none";this._scaleMode="noscale";this._alignV="top";this._alignH="left";this._bgColor="black";this._mouseMoveTime=0;this._renderCount=0;this._safariOffsetY=0;this._frameStartTime=0;this._isFocused=!1;this._isVisibility=!1;this._wgColor=[0,0,0,1];this._scene3Ds=[];this._globalRepaintSet=!1;this._globalRepaintGet=!1;this._curUIBase=null;this.useRetinalCanvas=!1;f.__super.call(this);this.offset=new kt;this._canvasTransform=new ht;this._previousOrientation=c.window.orientation;this._3dUI=[];this.mOnPc=c.onPC;t=this;this.transform=this._createTransform();this.mouseEnabled=!0;this.hitTestPrior=!0;this.autoSize=!1;this._setBit(128,!0);this._setBit(2,!0);this._isFocused=!0;this._isVisibility=!0;this.useRetinalCanvas=wu.useRetinalCanvas;i=c.window;n=this;i.addEventListener("focus",function(){t._isFocused=!0;n.event("focus");n.event("focuschange")});i.addEventListener("blur",function(){t._isFocused=!1;n.event("blur");n.event("focuschange");n._isInputting()&&(ci.inputElement.target.focus=!1);c.document.body.scrollTop=0});var r="visibilityState",u="visibilitychange",e=i.document;typeof e.hidden!="undefined"?(u="visibilitychange",r="visibilityState"):typeof e.mozHidden!="undefined"?(u="mozvisibilitychange",r="mozVisibilityState"):typeof e.msHidden!="undefined"?(u="msvisibilitychange",r="msVisibilityState"):typeof e.webkitHidden!="undefined"&&(u="webkitvisibilitychange",r="webkitVisibilityState");i.document.addEventListener(u,o);i.addEventListener("resize",function(){var i=c.window.orientation;(i!=null&&i!=t._previousOrientation&&n._isInputting()&&(ci.inputElement.target.focus=!1),t._previousOrientation=i,n._isInputting())||(c.onSafari&&(n._safariOffsetY=(c.window.__innerHeight||c.document.body.clientHeight||c.document.documentElement.clientHeight)-c.window.innerHeight),n._resetCanvas())});i.addEventListener("orientationchange",function(){n._resetCanvas()});this.on("mousemove",this,this._onmouseMove);if(c.onMobile)this.on("mousedown",this,this._onmouseMove)}r(f,"laya.display.Stage",t);var u=f.prototype;return u._isInputting=function(){return c.onMobile&&ci.isInputting},u._changeCanvasSize=function(){this.setScreenSize(c.clientWidth*c.pixelRatio,c.clientHeight*c.pixelRatio)},u._resetCanvas=function(){this.screenAdaptationEnabled&&this._changeCanvasSize()},u.setScreenSize=function(n,t){var a=!1,v,y;this._screenMode!=="none"&&(v=n/t<1?"vertical":"horizontal",a=v!==this._screenMode,a&&(y=t,t=n,n=y));this.canvasRotation=a;var p=tt._mainCanvas,f=p.source.style,i=this._canvasTransform.identity(),w=this._scaleMode,r=n/this.designWidth,u=t/this.designHeight,e=this.useRetinalCanvas?n:this.designWidth,o=this.useRetinalCanvas?t:this.designHeight,s=n,h=t,l=c.pixelRatio;this._width=this.designWidth;this._height=this.designHeight;switch(w){case"noscale":r=u=1;s=this.designWidth;h=this.designHeight;break;case"showall":r=u=Math.min(r,u);e=s=Math.round(this.designWidth*r);o=h=Math.round(this.designHeight*u);break;case"noborder":r=u=Math.max(r,u);s=Math.round(this.designWidth*r);h=Math.round(this.designHeight*u);break;case"full":r=u=1;this._width=e=n;this._height=o=t;break;case"fixedwidth":u=r;this._height=o=Math.round(t/r);break;case"fixedheight":r=u;this._width=e=Math.round(n/u);break;case"fixedauto":n/t<this.designWidth/this.designHeight?(u=r,this._height=o=Math.round(t/r)):(r=u,this._width=e=Math.round(n/u))}this.useRetinalCanvas&&(e=n,o=t);r*=this.scaleX;u*=this.scaleY;r===1&&u===1?this.transform.identity():(this.transform.a=this._formatData(r/(s/e)),this.transform.d=this._formatData(u/(h/o)));p.size(e,o);ru.changeWebGLSize(e,o);i.scale(s/e/l,h/o/l);this.offset.x=this._alignH==="left"?0:this._alignH==="right"?n-s:(n-s)*.5/l;this.offset.y=this._alignV==="top"?0:this._alignV==="bottom"?t-h:(t-h)*.5/l;this.offset.y+=wr.DevVo.Notch_Th;this.offset.x=Math.round(this.offset.x);this.offset.y=Math.round(this.offset.y);i.translate(this.offset.x,this.offset.y);this._safariOffsetY&&i.translate(0,this._safariOffsetY);this.canvasDegree=0;a&&(this._screenMode==="horizontal"?(i.rotate(Math.PI/2),i.translate(t/l,0),this.canvasDegree=90):(i.rotate(-Math.PI/2),i.translate(0,n/l),this.canvasDegree=-90));i.a=this._formatData(i.a);i.d=this._formatData(i.d);i.tx=this._formatData(i.tx);i.ty=this._formatData(i.ty);this.transform=this.transform;f.transformOrigin=f.webkitTransformOrigin=f.msTransformOrigin=f.mozTransformOrigin=f.oTransformOrigin="0px 0px 0px";f.transform=f.webkitTransform=f.msTransform=f.mozTransform=f.oTransform="matrix("+i.toString()+")";this._safariOffsetY&&i.translate(0,-this._safariOffsetY);i.translate(parseInt(f.left)||0,parseInt(f.top)||0);this.visible=!0;this._repaint|=2;this.event("resize")},u._formatData=function(n){return Math.abs(n)<1e-6?0:Math.abs(1-n)<.001?n>0?1:-1:n},u.getMousePoint=function(){return kt.TEMP.setTo(this.mouseX,this.mouseY)},u.repaint=function(n){n===void 0&&(n=2);this._repaint|=n},u.parentRepaint=function(n){n===void 0&&(n=2)},u._loop=function(){return this._globalRepaintGet=this._globalRepaintSet,this._globalRepaintSet=!1,this.render(tt._context,0,0),!0},u.getFrameTm=function(){return this._frameStartTime},u._onmouseMove=function(){this._mouseMoveTime=c.now()},u.getTimeFromFrameStart=function(){return c.now()-this._frameStartTime},u.render=function(n,i,r){var e,u,h;if(f._dbgSprite.graphics.clear(),this._frameRate==="sleep")if(e=c.now(),e-this._frameStartTime>=1e3)this._frameStartTime=e;else return;else{if(!this._visible){this._renderCount++;this._renderCount%5==0&&(gf.I._update(),ni.loopCount++,this._updateTimers());return}this._frameStartTime=c.now()}this._renderCount++;var l=this._frameRate==="mouse"?this._frameStartTime-this._mouseMoveTime<2e3?"fast":"slow":this._frameRate,o=l!=="slow",s=this._renderCount%2==0;if(ni.renderSlow=!o,(o||s)&&(gf.I._update(),ni.loopCount++,this.renderingEnabled)){for(u=0,h=this._scene3Ds.length;u<h;u++)this._scene3Ds[u]._update();n.clear();t.prototype.render.call(this,n,i,r);ni._show&&ni._sp&&ni._sp.render(n,i,r)}f._dbgSprite.render(n,0,0);(o||!s)&&(this.renderingEnabled&&(ru.clear(this._bgColor),n.flush(),rs.instance&&rs.getInstance().endDispose()),this._updateTimers())},u.renderToNative=function(n,i,r){if(this._renderCount++,!this._visible){this._renderCount%5==0&&(gf.I._update(),ni.loopCount++,this._updateTimers());return}if(gf.I._update(),ni.loopCount++,this.renderingEnabled){for(var u=0,f=this._scene3Ds.length;u<f;u++)this._scene3Ds[u]._update();n.clear();t.prototype.render.call(this,n,i,r);ni._show&&ni._sp&&ni._sp.render(n,i,r)}this.renderingEnabled&&(ru.clear(this._bgColor),n.flush(),rs.instance&&rs.getInstance().endDispose());this._updateTimers()},u._updateTimers=function(){i.systemTimer._update();i.startTimer._update();i.physicsTimer._update();i.updateTimer._update();i.lateTimer._update();i.timer._update()},u._requestFullscreen=function(){var n=c.document.documentElement;n.requestFullscreen?n.requestFullscreen():n.mozRequestFullScreen?n.mozRequestFullScreen():n.webkitRequestFullscreen?n.webkitRequestFullscreen():n.msRequestFullscreen&&n.msRequestFullscreen()},u._fullScreenChanged=function(){i.stage.event("fullscreenchange")},u.exitFullscreen=function(){var n=c.document;n.exitFullscreen?n.exitFullscreen():n.mozCancelFullScreen?n.mozCancelFullScreen():n.webkitExitFullscreen&&n.webkitExitFullscreen()},u.isGlobalRepaint=function(){return this._globalRepaintGet},u.setGlobalRepaint=function(){this._globalRepaintSet=!0},u.add3DUI=function(n){var t=n.rootView;this._3dUI.indexOf(t)>=0||this._3dUI.push(t)},u.remove3DUI=function(n){var i=n.rootView,t=this._3dUI.indexOf(i);return t>=0?(this._3dUI.splice(t,1),!0):!1},e(0,u,"isActive",function(){return this.mOnPc?this.renderingEnabled:this._isFocused},function(n){this.renderingEnabled=this._isFocused=this._isVisibility=n;this.event("visibilitychange")}),e(0,u,"clientScaleY",function(){return this._transform?this._transform.getScaleY():1}),e(0,u,"width",t.prototype._$get_width,function(n){this.designWidth=n;i.superSet(s,this,"width",n);i.systemTimer.callLater(this,this._changeCanvasSize)}),e(0,u,"isFocused",function(){return this._isFocused}),e(0,u,"alignH",function(){return this._alignH},function(n){this._alignH=n;i.systemTimer.callLater(this,this._changeCanvasSize)}),e(0,u,"height",t.prototype._$get_height,function(n){this.designHeight=n;i.superSet(s,this,"height",n);i.systemTimer.callLater(this,this._changeCanvasSize)}),e(0,u,"transform",function(){return this._tfChanged&&this._adjustTransform(),this._transform=this._transform||this._createTransform()},t.prototype._$set_transform),e(0,u,"isVisibility",function(){return this._isVisibility}),e(0,u,"scaleMode",function(){return this._scaleMode},function(n){this._scaleMode=n;i.systemTimer.callLater(this,this._changeCanvasSize)}),e(0,u,"alignV",function(){return this._alignV},function(n){this._alignV=n;i.systemTimer.callLater(this,this._changeCanvasSize)}),e(0,u,"bgColor",function(){return this._bgColor},function(n){this._bgColor=n;this._wgColor=n?er.create(n).arrColor:null;c.onLimixiu?this._wgColor=er.create(n).arrColor:tt.canvas.style.background=n?n:"none"}),e(0,u,"mouseX",function(){return Math.round(vf.instance.mouseX/this.clientScaleX)}),e(0,u,"mouseY",function(){return Math.round(vf.instance.mouseY/this.clientScaleY)}),e(0,u,"clientScaleX",function(){return this._transform?this._transform.getScaleX():1}),e(0,u,"screenMode",function(){return this._screenMode},function(n){this._screenMode=n}),e(0,u,"visible",t.prototype._$get_visible,function(n){if(this.visible!==n){i.superSet(s,this,"visible",n);var t=tt._mainCanvas.source.style;t.visibility=n?"visible":"hidden"}}),e(0,u,"fullScreenEnabled",null,function(n){var t=c.document,i=tt.canvas;n?(i.addEventListener("mousedown",this._requestFullscreen),i.addEventListener("touchstart",this._requestFullscreen),t.addEventListener("fullscreenchange",this._fullScreenChanged),t.addEventListener("mozfullscreenchange",this._fullScreenChanged),t.addEventListener("webkitfullscreenchange",this._fullScreenChanged),t.addEventListener("msfullscreenchange",this._fullScreenChanged)):(i.removeEventListener("mousedown",this._requestFullscreen),i.removeEventListener("touchstart",this._requestFullscreen),t.removeEventListener("fullscreenchange",this._fullScreenChanged),t.removeEventListener("mozfullscreenchange",this._fullScreenChanged),t.removeEventListener("webkitfullscreenchange",this._fullScreenChanged),t.removeEventListener("msfullscreenchange",this._fullScreenChanged))}),e(0,u,"frameRate",function(){return tt.isConchApp?this._frameRateNative:this._frameRate},function(t){if(tt.isConchApp){switch(t){case"fast":n.conch.config.setLimitFPS(60);break;case"mouse":n.conch.config.setMouseFrame(2e3);break;case"slow":n.conch.config.setSlowFrame(!0);break;case"sleep":n.conch.config.setLimitFPS(1)}this._frameRateNative=t}else this._frameRate=t}),f.SCALE_NOSCALE="noscale",f.SCALE_EXACTFIT="exactfit",f.SCALE_SHOWALL="showall",f.SCALE_NOBORDER="noborder",f.SCALE_FULL="full",f.SCALE_FIXED_WIDTH="fixedwidth",f.SCALE_FIXED_HEIGHT="fixedheight",f.SCALE_FIXED_AUTO="fixedauto",f.ALIGN_LEFT="left",f.ALIGN_RIGHT="right",f.ALIGN_CENTER="center",f.ALIGN_TOP="top",f.ALIGN_MIDDLE="middle",f.ALIGN_BOTTOM="bottom",f.SCREEN_NONE="none",f.SCREEN_HORIZONTAL="horizontal",f.SCREEN_VERTICAL="vertical",f.FRAME_FAST="fast",f.FRAME_SLOW="slow",f.FRAME_MOUSE="mouse",f.FRAME_SLEEP="sleep",d(f,["_dbgSprite",function(){return this._dbgSprite=new s}]),f}(s),ght=function(n){function u(n){this._particleTemplate=null;this._emitter=null;this.autoPlay=!0;this.tempCmd=null;u.__super.call(this);this._matrix4=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);this.customRenderEnable=!0;n&&this.setParticleSetting(n)}r(u,"laya.particle.Particle2D",n);var t=u.prototype;return t.load=function(n){i.loader.load(n,h.create(this,this.setParticleSetting),null,"json")},t.setParticleSetting=function(n){if(!n)return this.stop();nut.checkSetting(n);this.customRenderEnable=!0;this._particleTemplate=new hht(n);this.graphics._saveToCmd(null,lrt.create(this._particleTemplate));this._emitter?this._emitter.template=this._particleTemplate:this._emitter=new lst(this._particleTemplate);this.emitter.start();this.autoPlay&&this.play()},t.play=function(){i.timer.frameLoop(1,this,this._loop)},t.stop=function(){i.timer.clear(this,this._loop)},t._loop=function(){this.advanceTime(1/60)},t.advanceTime=function(n){n===void 0&&(n=1);this._emitter&&this._emitter.advanceTime(n)},t.customRender=function(n){if(this._emitter){this._matrix4[0]=n._curMat.a;this._matrix4[1]=n._curMat.b;this._matrix4[4]=n._curMat.c;this._matrix4[5]=n._curMat.d;this._matrix4[12]=n._curMat.tx;this._matrix4[13]=n._curMat.ty;var t=this._particleTemplate.sv;t.u_mmat=this._matrix4}},t.destroy=function(t){t===void 0&&(t=!0);this._particleTemplate instanceof laya.particle.ParticleTemplate2D&&this._particleTemplate.dispose();n.prototype.destroy.call(this,t)},e(0,t,"url",null,function(n){this.load(n)}),e(0,t,"emitter",function(){return this._emitter}),u}(s),kw=function(n){function t(n,i){t.__super.call(this);this._wrapModeU=0;this._wrapModeV=0;this._filterMode=1;this._readyed=!1;this._width=-1;this._height=-1;this._format=n;this._mipmap=i;this._anisoLevel=1;this._glTexture=yt.instance.createTexture()}r(t,"laya.resource.BaseTexture",n);var i=t.prototype;return i._isPot=function(n){return(n&n-1)==0},i._getGLFormat=function(){var n=0;switch(this._format){case 0:n=6407;break;case 1:n=6408;break;case 2:n=6406;break;case 3:if(lt._compressedTextureS3tc)n=lt._compressedTextureS3tc.COMPRESSED_RGB_S3TC_DXT1_EXT;else throw"BaseTexture: not support DXT1 format.";break;case 4:if(lt._compressedTextureS3tc)n=lt._compressedTextureS3tc.COMPRESSED_RGBA_S3TC_DXT5_EXT;else throw"BaseTexture: not support DXT5 format.";break;case 5:if(lt._compressedTextureEtc1)n=lt._compressedTextureEtc1.COMPRESSED_RGB_ETC1_WEBGL;else throw"BaseTexture: not support ETC1RGB format.";break;case 9:if(lt._compressedTexturePvrtc)n=lt._compressedTexturePvrtc.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;else throw"BaseTexture: not support PVRTCRGB_2BPPV format.";break;case 10:if(lt._compressedTexturePvrtc)n=lt._compressedTexturePvrtc.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG;else throw"BaseTexture: not support PVRTCRGBA_2BPPV format.";break;case 11:if(lt._compressedTexturePvrtc)n=lt._compressedTexturePvrtc.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;else throw"BaseTexture: not support PVRTCRGB_4BPPV format.";break;case 12:if(lt._compressedTexturePvrtc)n=lt._compressedTexturePvrtc.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;else throw"BaseTexture: not support PVRTCRGBA_4BPPV format.";break;default:throw"BaseTexture: unknown texture format.";}return n},i._setFilterMode=function(n){var t=yt.instance;lt.bindTexture(t,this._glTextureType,this._glTexture);switch(n){case 0:this._mipmap?t.texParameteri(this._glTextureType,10241,9984):t.texParameteri(this._glTextureType,10241,9728);t.texParameteri(this._glTextureType,10240,9728);break;case 1:this._mipmap?t.texParameteri(this._glTextureType,10241,9985):t.texParameteri(this._glTextureType,10241,9729);t.texParameteri(this._glTextureType,10240,9729);break;case 2:this._mipmap?t.texParameteri(this._glTextureType,10241,9987):t.texParameteri(this._glTextureType,10241,9729);t.texParameteri(this._glTextureType,10240,9729);break;default:throw new Error("BaseTexture:unknown filterMode value.");}},i._setWarpMode=function(n,t){var i=yt.instance;if(lt.bindTexture(i,this._glTextureType,this._glTexture),this._isPot(this._width)&&this._isPot(this._height))switch(t){case 0:i.texParameteri(this._glTextureType,n,10497);break;case 1:i.texParameteri(this._glTextureType,n,33071)}else i.texParameteri(this._glTextureType,n,33071)},i._setAnisotropy=function(n){var i=lt._extTextureFilterAnisotropic,t;i&&!c.onLimixiu&&(n=Math.max(n,1),t=yt.instance,lt.bindTexture(t,this._glTextureType,this._glTexture),n=Math.min(t.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT),n),t.texParameterf(this._glTextureType,i.TEXTURE_MAX_ANISOTROPY_EXT,n))},i._disposeResource=function(){this._glTexture&&(yt.instance.deleteTexture(this._glTexture),this._glTexture=null,this._setGPUMemory(0))},i._getSource=function(){return this._readyed?this._glTexture:null},i.generateMipmap=function(){this._isPot(this.width)&&this._isPot(this.height)&&yt.instance.generateMipmap(this._glTextureType)},e(0,i,"wrapModeU",function(){return this._wrapModeU},function(n){this._wrapModeU!==n&&(this._wrapModeU=n,this._width!==-1&&this._setWarpMode(10242,n))}),e(0,i,"mipmap",function(){return this._mipmap}),e(0,i,"format",function(){return this._format}),e(0,i,"wrapModeV",function(){return this._wrapModeV},function(n){this._wrapModeV!==n&&(this._wrapModeV=n,this._height!==-1&&this._setWarpMode(10243,n))}),e(0,i,"defaulteTexture",function(){throw"BaseTexture:must override it.";}),e(0,i,"filterMode",function(){return this._filterMode},function(n){n!==this._filterMode&&(this._filterMode=n,this._width!==-1&&this._height!==-1&&this._setFilterMode(n))}),e(0,i,"anisoLevel",function(){return this._anisoLevel},function(n){n!==this._anisoLevel&&(this._anisoLevel=Math.max(1,Math.min(16,n)),this._width!==-1&&this._height!==-1&&this._setAnisotropy(n))}),t.WARPMODE_REPEAT=0,t.WARPMODE_CLAMP=1,t.FILTERMODE_POINT=0,t.FILTERMODE_BILINEAR=1,t.FILTERMODE_TRILINEAR=2,t.FORMAT_R8G8B8=0,t.FORMAT_R8G8B8A8=1,t.FORMAT_ALPHA8=2,t.FORMAT_DXT1=3,t.FORMAT_DXT5=4,t.FORMAT_ETC1RGB=5,t.FORMAT_PVRTCRGB_2BPPV=9,t.FORMAT_PVRTCRGBA_2BPPV=10,t.FORMAT_PVRTCRGB_4BPPV=11,t.FORMAT_PVRTCRGBA_4BPPV=12,t.FORMAT_DEPTH_16=0,t.FORMAT_STENCIL_8=1,t.FORMAT_DEPTHSTENCIL_16_8=2,t.FORMAT_DEPTHSTENCIL_NONE=3,t}(lw),rf=function(n){function i(n,t,r,u,f){if(this._attribInfo=null,this.customCompile=!1,this._curActTexIndex=0,this.tag={},this._program=null,this._params=null,this._paramsMap={},i.__super.call(this),!n||!t)throw"Shader Error";this._attribInfo=f;this._id=++i._count;this._vs=n;this._ps=t;this._nameMap=u?u:{};r!=null&&(i.sharders[r]=this);this.recreateResource();this.lock=!0}r(i,"laya.webgl.shader.Shader",n);var t=i.prototype;return t.recreateResource=function(){this._compile();this._setGPUMemory(0)},t._disposeResource=function(){at.mainContext.deleteShader(this._vshader);at.mainContext.deleteShader(this._pshader);at.mainContext.deleteProgram(this._program);this._vshader=this._pshader=this._program=null;this._params=null;this._paramsMap={};this._setGPUMemory(0);this._curActTexIndex=0},t._compile=function(){var f,t,s,u;if(this._vs&&this._ps&&!this._params){this._reCompile=!0;this._params=[];this.customCompile&&(f=us.preGetParams(this._vs,this._ps));t=at.mainContext;this._program=t.createProgram();this._vshader=i._createShader(t,this._vs,35633);this._pshader=i._createShader(t,this._ps,35632);t.attachShader(this._program,this._vshader);t.attachShader(this._program,this._pshader);for(var n,r=0,e=0,o,h=this._attribInfo?this._attribInfo.length:0,r=0;r<h;r+=2)t.bindAttribLocation(this._program,this._attribInfo[r+1],this._attribInfo[r]);if(t.linkProgram(this._program),!this.customCompile&&!t.getProgramParameter(this._program,35714))throw t.getProgramInfoLog(this._program);for(s=this.customCompile?f.uniforms.length:t.getProgramParameter(this._program,35718),r=0;r<s;r++)u=this.customCompile?f.uniforms[r]:t.getActiveUniform(this._program,r),o=t.getUniformLocation(this._program,u.name),n={vartype:"uniform",glfun:null,ivartype:1,location:o,name:u.name,type:u.type,isArray:!1,isSame:!1,preValue:null,indexOfParams:0},n.name.indexOf("[0]")>0&&(n.name=n.name.substr(0,n.name.length-3),n.isArray=!0,n.location=t.getUniformLocation(this._program,n.name)),this._params.push(n);for(r=0,e=this._params.length;r<e;r++){n=this._params[r];n.indexOfParams=r;n.index=1;n.value=[n.location,null];n.codename=n.name;n.name=this._nameMap[n.codename]?this._nameMap[n.codename]:n.codename;this._paramsMap[n.name]=n;n._this=this;n.uploadedValue=[];switch(n.type){case 5124:n.fun=n.isArray?this._uniform1iv:this._uniform1i;break;case 5126:n.fun=n.isArray?this._uniform1fv:this._uniform1f;break;case 35664:n.fun=n.isArray?this._uniform_vec2v:this._uniform_vec2;break;case 35665:n.fun=n.isArray?this._uniform_vec3v:this._uniform_vec3;break;case 35666:n.fun=n.isArray?this._uniform_vec4v:this._uniform_vec4;break;case 35678:n.fun=this._uniform_sampler2D;break;case 35680:n.fun=this._uniform_samplerCube;break;case 35676:n.glfun=t.uniformMatrix4fv;n.fun=this._uniformMatrix4fv;break;case 35670:n.fun=this._uniform1i;break;case 35674:case 35675:throw new Error("compile shader err!");default:throw new Error("compile shader err!");}}}},t.getUniform=function(n){return this._paramsMap[n]},t._uniform1f=function(n,t){var i=n.uploadedValue;return i[0]!==t?(at.mainContext.uniform1f(n.location,i[0]=t),1):0},t._uniform1fv=function(n,t){if(t.length<4){var i=n.uploadedValue;return i[0]!==t[0]||i[1]!==t[1]||i[2]!==t[2]||i[3]!==t[3]?(at.mainContext.uniform1fv(n.location,t),i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[3],1):0}return at.mainContext.uniform1fv(n.location,t),1},t._uniform_vec2=function(n,t){var i=n.uploadedValue;return i[0]!==t[0]||i[1]!==t[1]?(at.mainContext.uniform2f(n.location,i[0]=t[0],i[1]=t[1]),1):0},t._uniform_vec2v=function(n,t){if(t.length<2){var i=n.uploadedValue;return i[0]!==t[0]||i[1]!==t[1]||i[2]!==t[2]||i[3]!==t[3]?(at.mainContext.uniform2fv(n.location,t),i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[3],1):0}return at.mainContext.uniform2fv(n.location,t),1},t._uniform_vec3=function(n,t){var i=n.uploadedValue;return i[0]!==t[0]||i[1]!==t[1]||i[2]!==t[2]?(at.mainContext.uniform3f(n.location,i[0]=t[0],i[1]=t[1],i[2]=t[2]),1):0},t._uniform_vec3v=function(n,t){return at.mainContext.uniform3fv(n.location,t),1},t._uniform_vec4=function(n,t){var i=n.uploadedValue;return i[0]!==t[0]||i[1]!==t[1]||i[2]!==t[2]||i[3]!==t[3]?(at.mainContext.uniform4f(n.location,i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[3]),1):0},t._uniform_vec4v=function(n,t){return at.mainContext.uniform4fv(n.location,t),1},t._uniformMatrix2fv=function(n,t){return at.mainContext.uniformMatrix2fv(n.location,!1,t),1},t._uniformMatrix3fv=function(n,t){return at.mainContext.uniformMatrix3fv(n.location,!1,t),1},t._uniformMatrix4fv=function(n,t){return at.mainContext.uniformMatrix4fv(n.location,!1,t),1},t._uniform1i=function(n,t){var i=n.uploadedValue;return i[0]!==t?(at.mainContext.uniform1i(n.location,i[0]=t),1):0},t._uniform1iv=function(n,t){return at.mainContext.uniform1iv(n.location,t),1},t._uniform_ivec2=function(n,t){var i=n.uploadedValue;return i[0]!==t[0]||i[1]!==t[1]?(at.mainContext.uniform2i(n.location,i[0]=t[0],i[1]=t[1]),1):0},t._uniform_ivec2v=function(n,t){return at.mainContext.uniform2iv(n.location,t),1},t._uniform_vec3i=function(n,t){var i=n.uploadedValue;return i[0]!==t[0]||i[1]!==t[1]||i[2]!==t[2]?(at.mainContext.uniform3i(n.location,i[0]=t[0],i[1]=t[1],i[2]=t[2]),1):0},t._uniform_vec3vi=function(n,t){return at.mainContext.uniform3iv(n.location,t),1},t._uniform_vec4i=function(n,t){var i=n.uploadedValue;return i[0]!==t[0]||i[1]!==t[1]||i[2]!==t[2]||i[3]!==t[3]?(at.mainContext.uniform4i(n.location,i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[3]),1):0},t._uniform_vec4vi=function(n,t){return at.mainContext.uniform4iv(n.location,t),1},t._uniform_sampler2D=function(n,t){var i=at.mainContext,r=n.uploadedValue;return r[0]==null?(r[0]=this._curActTexIndex,i.uniform1i(n.location,this._curActTexIndex),lt.activeTexture(i,33984+this._curActTexIndex),lt.bindTexture(i,3553,t),this._curActTexIndex++,1):(lt.activeTexture(i,33984+r[0]),lt.bindTexture(i,3553,t),0)},t._uniform_samplerCube=function(n,t){var i=at.mainContext,r=n.uploadedValue;return r[0]==null?(r[0]=this._curActTexIndex,i.uniform1i(n.location,this._curActTexIndex),lt.activeTexture(i,33984+this._curActTexIndex),lt.bindTexture(i,34067,t),this._curActTexIndex++,1):(lt.activeTexture(i,33984+r[0]),lt.bindTexture(i,34067,t),0)},t._noSetValue=function(n){console.log("no....:"+n.name)},t.uploadOne=function(n,t){lt.useProgram(at.mainContext,this._program);var i=this._paramsMap[n];i.fun.call(this,i,t)},t.uploadTexture2D=function(n){var t=lt;t._activeTextures[0]!==n&&(t.bindTexture(at.mainContext,t.TEXTURE_2D,n),t._activeTextures[0]=n)},t.upload=function(n,t){var f,i,e,o,u,r;for(uu.activeShader=uu.bindShader=this,f=at.mainContext,lt.useProgram(f,this._program),this._reCompile?(t=this._params,this._reCompile=!1):t=t||this._params,o=t.length,u=0,r=0;r<o;r++)i=t[r],(e=n[i.name])!==null&&(u+=i.fun.call(this,i,e));ni.shaderCall+=u},t.uploadArray=function(n,t,i){var o,f,r,e,u;for(uu.activeShader=this,uu.bindShader=this,lt.useProgram(at.mainContext,this._program),o=this._params,e=0,u=t-2;u>=0;u-=2)(r=this._paramsMap[n[u]],r)&&(f=n[u+1],f!=null&&(i&&i[r.name]&&i[r.name].bind(),e+=r.fun.call(this,r,f)));ni.shaderCall+=e},t.getParams=function(){return this._params},t.setAttributesLocation=function(n){this._attribInfo=n},i.getShader=function(n){return i.sharders[n]},i.create=function(n,t,r,u,f){return new i(n,t,r,u,f)},i.withCompile=function(n,t,r,u){if(r&&i.sharders[r])return i.sharders[r];var f=i._preCompileShader[.0002*n];if(!f)throw new Error("withCompile shader err!"+n);return f.createShader(t,r,u,null)},i.withCompile2D=function(n,t,r,u,f,e){if(u&&i.sharders[u])return i.sharders[u];var o=i._preCompileShader[.0002*n+t];if(!o)throw new Error("withCompile shader err!"+n+" "+t);return o.createShader(r,u,f,e)},i.addInclude=function(n,t){us.addInclude(n,t)},i.preCompile=function(n,t,r,u){var f=.0002*n;i._preCompileShader[f]=new us(t,r,u)},i.preCompile2D=function(n,t,r,u,f){var e=.0002*n+t;i._preCompileShader[e]=new us(r,u,f)},i._createShader=function(n,t,i){var r=n.createShader(i);return n.shaderSource(r,t),n.compileShader(r),n.getShaderParameter(r,35713)?r:(console.log(n.getShaderInfoLog(r)),null)},i._count=0,i._preCompileShader={},i.SHADERNAME2ID=.0002,i.sharders=new Array(32),d(i,["nameKey",function(){return this.nameKey=new but}]),i}(uu),uf=function(n){function i(n){i.__super.call(this);n===void 0&&(n=!1);this._source=n?c.createElement("canvas"):this;this.lock=!0}r(i,"laya.resource.HTMLCanvas",n);var t=i.prototype;return t._getSource=function(){return this._source},t.clear=function(){this._ctx&&this._ctx.clear&&this._ctx.clear();this._texture&&(this._texture.destroy(),this._texture=null)},t.destroy=function(){laya.resource.Resource.prototype.destroy.call(this);this._setCPUMemory(0);this._ctx&&this._ctx.destroy();this._ctx=null},t.release=function(){},t._setContext=function(n){this._ctx=n},t.getContext=function(){return this.context},t.getMemSize=function(){return 0},t.size=function(n,t){(this._width!=n||this._height!=t||this._source&&(this._source.width!=n||this._source.height!=t))&&(this._width=n,this._height=t,this._setCPUMemory(n*t*4),this._ctx&&this._ctx.size&&this._ctx.size(n,t),this._source&&(this._source.height=t,this._source.width=n),this._texture&&(this._texture.destroy(),this._texture=null))},t.getTexture=function(){if(!this._texture){var n=new fo;n.loadImageSource(this.source);this._texture=new bi(n)}return this._texture},t.toBase64=function(n,t){if(n===void 0&&(n=.8),t===void 0&&(t="image/png"),this._source){if(tt.isConchApp){if(conchConfig.threadMode==2)throw"native 2 thread mode use toBase64Async";var i=this._ctx._targets.sourceWidth,r=this._ctx._targets.sourceHeight,u=this._ctx._targets.getData(0,0,i,r);return conchToBase64FlipY?conchToBase64FlipY(t,n,u.buffer,i,r):conchToBase64(t,n,u.buffer,i,r)}return this._source.toDataURL(t,n)}return null},t.toBase64Async=function(n,t,i){var r=this._ctx._targets.sourceWidth,u=this._ctx._targets.sourceHeight;this._ctx._targets.getDataAsync(0,0,r,u,function(f){var e=conchToBase64FlipY?conchToBase64FlipY(n,t,f.buffer,r,u):conchToBase64(n,t,f.buffer,r,u);i(e)})},e(0,t,"source",function(){return this._source}),e(0,t,"context",function(){return this._ctx?this._ctx:(this._ctx=this._source==this?new gu:this._source.getContext(tt.isConchApp?"layagl":"2d"),this._ctx._canvas=this,this._ctx)}),i}(lw),uo=function(n){function u(){this._mainTexture=null;this._textureJson=null;this._graphicsCache=[];this.srcBoneMatrixArr=[];this.ikArr=[];this.tfArr=[];this.pathArr=[];this.boneSlotDic={};this.bindBoneBoneSlotDic={};this.boneSlotArray=[];this.skinDataArray=[];this.skinDic={};this.subTextureDic={};this.isParseFail=!1;this.yReverseMatrix=null;this.drawOrderAniArr=[];this.eventAniArr=[];this.attachmentNames=null;this.deformAniArr=[];this._isDestroyed=!1;this._rate=30;this.isParserComplete=!1;this.aniSectionDic={};this._skBufferUrl=null;this._textureDic={};this._loadList=null;this._path=null;this._relativeUrl=null;this.tMatrixDataLen=0;this.mRootBone=null;u.__super.call(this);this.skinSlotDisplayDataArr=[];this.mBoneArr=[]}r(u,"laya.ani.bone.Templet",n);var t=u.prototype;return t.loadAni=function(n){this._skBufferUrl=n;i.loader.load(n,h.create(this,this.onComplete),null,"arraybuffer")},t.onComplete=function(){if(this._isDestroyed){this.destroy();return}var n=dt.getRes(this._skBufferUrl);if(!n){this.event("error","load failed:"+this._skBufferUrl);return}this._path=this._skBufferUrl.slice(0,this._skBufferUrl.lastIndexOf("/"))+"/";this.parseData(null,n)},t.parseData=function(n,t,i){var r,u;i===void 0&&(i=30);this._path||(r=this._relativeUrl||this.url,r&&(u=r.lastIndexOf("/"),this._path=u>0?r.slice(0,u)+"/":""));this._mainTexture=n;this._rate=i;this.parse(t)},t.buildArmature=function(n){return n===void 0&&(n=0),new ro(this,n)},t.parse=function(t){n.prototype.parse.call(this,t);this.event("loaded",this);this._aniVersion!=u.LAYA_ANIMATION_VISION&&console.log("[Error] 版本不一致，请使用IDE版本配套的重新导出"+this._aniVersion+"->"+u.LAYA_ANIMATION_VISION);this._mainTexture?this._parsePublicExtData():this._parseTexturePath()},t._parseTexturePath=function(){var r;if(this._isDestroyed){this.destroy();return}r=0;this._loadList=[];var t=new lu(this.getPublicExtData()),c=0,l=0,f=0,e=0,a=0,v=0,y=0,p=0,n=0,w=t.getInt32(),o=t.readUTFString(),s=o.split("\n"),u;for(r=0;r<w;r++)u=this._path+s[r*2],o=s[r*2+1],c=t.getFloat32(),l=t.getFloat32(),f=t.getFloat32(),e=t.getFloat32(),n=t.getFloat32(),a=isNaN(n)?0:n,n=t.getFloat32(),v=isNaN(n)?0:n,n=t.getFloat32(),y=isNaN(n)?f:n,n=t.getFloat32(),p=isNaN(n)?e:n,this._loadList.indexOf(u)==-1&&this._loadList.push(u);i.loader.load(this._loadList,h.create(this,this._textureComplete))},t._textureComplete=function(){for(var i,n,t=0,r=this._loadList.length;t<r;t++)n=this._loadList[t],i=this._textureDic[n]=dt.getRes(n);this._parsePublicExtData()},t._parsePublicExtData=function(){for(var t=0,r=0,a=0,u=0,k=0,it,di,p,e,lt,at,vt,g,yt,w,l,gi,pt,f,nr,wt,s,tr,bt,or,gt,ni,ii,cr,ri,y,ui,lr,o,ut,yr,pr,t=0,k=this.getAnimationCount();t<k;t++)this._graphicsCache.push([]);it=!1;it=this._aniClassName!="Dragon";var n=new lu(this.getPublicExtData()),ci=0,li=0,ot=0,st=0,ai=0,vi=0,yi=0,pi=0,h=0,wr=n.getInt32(),ct=n.readUTFString(),wi=ct.split("\n"),d,ki;for(t=0;t<wr;t++){if(d=this._mainTexture,ki=this._path+wi[t*2],ct=wi[t*2+1],this._mainTexture==null&&(d=this._textureDic[ki]),!d){this.event("error",this);this.isParseFail=!0;return}ci=n.getFloat32();li=n.getFloat32();ot=n.getFloat32();st=n.getFloat32();h=n.getFloat32();ai=isNaN(h)?0:h;h=n.getFloat32();vi=isNaN(h)?0:h;h=n.getFloat32();yi=isNaN(h)?ot:h;h=n.getFloat32();pi=isNaN(h)?st:h;this.subTextureDic[ct]=bi.create(d,ci,li,ot,st,-ai,-vi,yi,pi)}for(this._mainTexture=d,di=n.getUint16(),t=0;t<di;t++)p=[],p.push(n.getUint16()),p.push(n.getUint16()),p.push(n.getUint16()),p.push(n.getUint16()),this.aniSectionDic[t]=p;for(g=n.getInt16(),yt={},t=0;t<g;t++)e=new hrt,t==0?w=e:e.root=w,e.d=it?-1:1,at=n.readUTFString(),vt=n.readUTFString(),e.length=n.getFloat32(),n.getByte()==1&&(e.inheritRotation=!1),n.getByte()==1&&(e.inheritScale=!1),e.name=at,vt&&(lt=yt[vt],lt?lt.addChild(e):this.mRootBone=e),yt[at]=e,this.mBoneArr.push(e);this.tMatrixDataLen=n.getUint16();var br=n.getUint16(),kr=Math.floor(br/this.tMatrixDataLen),c,dr=this.srcBoneMatrixArr;for(t=0;t<kr;t++)c=new hl,c.scX=n.getFloat32(),c.skX=n.getFloat32(),c.skY=n.getFloat32(),c.scY=n.getFloat32(),c.x=n.getFloat32(),c.y=n.getFloat32(),this.tMatrixDataLen===8&&(c.skewX=n.getFloat32(),c.skewY=n.getFloat32()),dr.push(c),e=this.mBoneArr[t],e.transform=c;for(gi=n.getUint16(),pt=0,t=0;t<gi;t++){for(l=new yut,pt=n.getUint16(),r=0;r<pt;r++)l.boneNames.push(n.readUTFString()),l.boneIndexs.push(n.getInt16());l.name=n.readUTFString();l.targetBoneName=n.readUTFString();l.targetBoneIndex=n.getInt16();l.bendDirection=n.getFloat32();l.mix=n.getFloat32();l.isSpine=it;this.ikArr.push(l)}for(nr=n.getUint16(),wt=0,t=0;t<nr;t++){for(f=new irt,wt=n.getUint16(),r=0;r<wt;r++)f.boneIndexs.push(n.getInt16());f.name=n.getUTFString();f.targetIndex=n.getInt16();f.rotateMix=n.getFloat32();f.translateMix=n.getFloat32();f.scaleMix=n.getFloat32();f.shearMix=n.getFloat32();f.offsetRotation=n.getFloat32();f.offsetX=n.getFloat32();f.offsetY=n.getFloat32();f.offsetScaleX=n.getFloat32();f.offsetScaleY=n.getFloat32();f.offsetShearY=n.getFloat32();this.tfArr.push(f)}for(tr=n.getUint16(),bt=0,t=0;t<tr;t++){for(s=new srt,s.name=n.readUTFString(),bt=n.getUint16(),r=0;r<bt;r++)s.bones.push(n.getInt16());s.target=n.readUTFString();s.positionMode=n.readUTFString();s.spacingMode=n.readUTFString();s.rotateMode=n.readUTFString();s.offsetRotation=n.getFloat32();s.position=n.getFloat32();s.spacing=n.getFloat32();s.rotateMix=n.getFloat32();s.translateMix=n.getFloat32();this.pathArr.push(s)}var ir=0,rr=0,gr=0,nu,ur=0,fr=NaN,er=0,nt,kt,v,dt,tu=n.getInt16();for(t=0;t<tu;t++)for(or=n.getUint8(),gt={},this.deformAniArr.push(gt),ni=0;ni<or;ni++)for(nt=new iet,nt.skinName=n.getUTFString(),gt[nt.skinName]=nt,ir=n.getInt16(),r=0;r<ir;r++)for(kt=new cut,nt.deformSlotDataList.push(kt),rr=n.getInt16(),a=0;a<rr;a++)for(v=new vet,kt.deformSlotDisplayList.push(v),v.slotIndex=gr=n.getInt16(),v.attachment=nu=n.getUTFString(),ur=n.getInt16(),u=0;u<ur;u++)for(n.getByte()==1?v.tweenKeyList.push(!0):v.tweenKeyList.push(!1),fr=n.getFloat32(),v.timeList.push(fr),dt=[],v.vectices.push(dt),er=n.getInt16(),k=0;k<er;k++)dt.push(n.getFloat32());var ti,iu=n.getInt16(),sr=0,rt,hr=0;for(t=0;t<iu;t++){for(sr=n.getInt16(),ti=[],r=0;r<sr;r++){for(rt=new ert,rt.time=n.getFloat32(),hr=n.getInt16(),a=0;a<hr;a++)rt.drawOrder.push(n.getInt16());ti.push(rt)}this.drawOrderAniArr.push(ti)}for(cr=n.getInt16(),ri=0,t=0;t<cr;t++){for(ri=n.getInt16(),ii=[],r=0;r<ri;r++)y=new tut,y.name=n.getUTFString(),y.intValue=n.getInt32(),y.floatValue=n.getFloat32(),y.stringValue=n.getUTFString(),y.time=n.getFloat32(),ii.push(y);this.eventAniArr.push(ii)}if(ui=n.getInt16(),ui>0)for(this.attachmentNames=[],t=0;t<ui;t++)this.attachmentNames.push(n.getUTFString());for(lr=n.getInt16(),t=0;t<lr;t++)o=new cet,o.name=n.readUTFString(),o.parent=n.readUTFString(),o.attachmentName=n.readUTFString(),o.srcDisplayIndex=o.displayIndex=n.getInt16(),o.templet=this,this.boneSlotDic[o.name]=o,ut=this.bindBoneBoneSlotDic[o.parent],ut==null&&(this.bindBoneBoneSlotDic[o.parent]=ut=[]),ut.push(o),this.boneSlotArray.push(o);var ru=n.readUTFString(),ft=ru.split("\n"),et=0,uu=n.getUint8(),b,tt,i,ar=0,vr=0,fi=0,ei=0,oi=0,si=0,hi=0;for(t=0;t<uu;t++){for(b=new sft,b.name=ft[et++],ar=n.getUint8(),r=0;r<ar;r++){for(tt=new drt,tt.name=ft[et++],o=this.boneSlotDic[tt.name],vr=n.getUint8(),a=0;a<vr;a++){if(i=new uet,this.skinSlotDisplayDataArr.push(i),i.name=ft[et++],i.attachmentName=ft[et++],i.transform=new hl,i.transform.scX=n.getFloat32(),i.transform.skX=n.getFloat32(),i.transform.skY=n.getFloat32(),i.transform.scY=n.getFloat32(),i.transform.x=n.getFloat32(),i.transform.y=n.getFloat32(),tt.displayArr.push(i),i.width=n.getFloat32(),i.height=n.getFloat32(),i.type=n.getUint8(),i.verLen=n.getUint16(),g=n.getUint16(),g>0)for(i.bones=[],u=0;u<g;u++)yr=n.getUint16(),i.bones.push(yr);if(fi=n.getUint16(),fi>0)for(i.uvs=[],u=0;u<fi;u++)i.uvs.push(n.getFloat32());if(ei=n.getUint16(),ei>0)for(i.weights=[],u=0;u<ei;u++)i.weights.push(n.getFloat32());if(oi=n.getUint16(),oi>0)for(i.triangles=[],u=0;u<oi;u++)i.triangles.push(n.getUint16());if(si=n.getUint16(),si>0)for(i.vertices=[],u=0;u<si;u++)i.vertices.push(n.getFloat32());if(hi=n.getUint16(),hi>0)for(i.lengths=[],u=0;u<hi;u++)i.lengths.push(n.getFloat32())}b.slotArr.push(tt)}this.skinDic[b.name]=b;this.skinDataArray.push(b)}pr=n.getUint8();pr==1?(this.yReverseMatrix=new ht(1,0,0,-1,0,0),w&&w.setTempMatrix(this.yReverseMatrix)):w&&w.setTempMatrix(new ht);this.showSkinByIndex(this.boneSlotDic,0);this.isParserComplete=!0;this.event("complete",this)},t.getTexture=function(n){var t=this.subTextureDic[n];return(t||(t=this.subTextureDic[n.substr(0,n.length-1)]),t==null)?this._mainTexture:t},t.showSkinByIndex=function(n,t,i){if(i===void 0&&(i=!0),t<0&&t>=this.skinDataArray.length)return!1;var u=0,o=0,r,f,e=this.skinDataArray[t];if(e){for(u=0,o=e.slotArr.length;u<o;u++)f=e.slotArr[u],f&&(r=n[f.name],r&&(r.showSlotData(f,i),i&&r.attachmentName!="undefined"&&r.attachmentName!="null"?r.showDisplayByName(r.attachmentName):r.showDisplayByIndex(r.displayIndex)));return!0}return!1},t.getSkinIndexByName=function(n){for(var i,t=0,r=this.skinDataArray.length;t<r;t++)if(i=this.skinDataArray[t],i.name==n)return t;return-1},t.getGrahicsDataWithCache=function(n,t){return this._graphicsCache[n]&&this._graphicsCache[n][t]?this._graphicsCache[n][t]:null},t._setCreateURL=function(n){this._relativeUrl=n;laya.resource.Resource.prototype._setCreateURL.call(this,n)},t.setGrahicsDataWithCache=function(n,t,i){this._graphicsCache[n][t]=i},t.deleteAniData=function(n){if(this._anis[n]){var t=this._anis[n];t.bone3DMap=null;t.nodes=null}},t.destroy=function(){var n,t,r,i,f;this._isDestroyed=!0;for(t in this.subTextureDic)n=this.subTextureDic[t],n&&n.destroy();for(t in this._textureDic)n=this._textureDic[t],n&&n.destroy();for(i=0,f=this.skinSlotDisplayDataArr.length;i<f;i++)r=this.skinSlotDisplayDataArr[i],r.destory();this.skinSlotDisplayDataArr.length=0;this.url&&delete u.TEMPLET_DICTIONARY[this.url];laya.resource.Resource.prototype.destroy.call(this)},t.getAniNameByIndex=function(n){var t=this.getAnimation(n);return t?t.name:null},e(0,t,"rate",function(){return this._rate},function(n){this._rate=n}),u.LAYA_ANIMATION_VISION="LAYAANIMATION:1.6.0",u.TEMPLET_DICTIONARY=null,u}(ua),nct=function(n){function t(){this.mImg=null;this.mIns=null;this.mHtm=null;t.__super.call(this);this.mouseEnabled=!1;this.mHeight=s.MAX_H;this.graphics.drawRect(0,0,this.mWidth,this.mHeight,"#00000088");this.mImg=st.CrtImg("matches/mtt_rewardshow.png");this.mIns=new li(this.mImg.width,this.mImg.height);this.mIns.MixCon.addChild(this.mImg);this.mHtm=new g;this.mHtm.y=this.mIns.height;this.mHtm.style.fontSize=24;this.mIns.MixCon.addChild(this.mHtm);this.mIns.toSize(this.mIns.width,this.mIns.height+32);this.toXCenter(this.mIns);this.TmpData=this.mHeight-this.mIns.height-80>>1}r(t,"games.matchCores.desk.views.DmView_Eff_Jlq",n);var i=t.prototype;return i.DoReset=function(){this.removeSelf();this.mIns.recyle();this.mIns.y=-this.mIns.height;this.timer.clear(this,this.DoReset);ri.clearAll(this.mIns)},i.ShowJlq=function(n,t){if(!this.parent){this.mIns.y=-this.mIns.height;this.mImg.setRes(3==n?"matches/mtt_mdcgShow.png":"matches/mtt_rewardshow.png");this.mHtm.innerHTML=2==n?u.lang("mtt_pm_notify",t):"";this.mHtm._updateGraphic();this.mIns.toXCenter(this.mHtm);ri.to(this.mIns,{y:this.TmpData,ease:nf.backInOut},300);this.timer.once(3e3,this,this.DoReset);this.mIns.update();this.mIns.parent||this.addChild(this.mIns)}},t}(p),fu=function(n){function u(){u.__super.call(this);this.mouseEnabled=!0}r(u,"FioLibs.displays.mixTex.Fio_MixIns_Base",n);var t=u.prototype;return i.imps(t,{"FioLibs.interfaces.IFio_Recyle":!0}),t.recyle=function(){this.removeSelf();this.Tex_Clear()},t.Tex_Clear=function(){this.texture&&this.texture.destroy(!0);this.texture=null},t.DoReset=function(){},t.crtTitle=function(n,t,i,r){t===void 0&&(t=0);i===void 0&&(i=0);r===void 0&&(r=8);this.mouseEnabled=!1;this.Tex_Clear();this.texture=cf.getHtmTex(n,t,r);this.mWidth=this.texture.width;this.mHeight=this.texture.height+i},u}(p),nt=function(n){function t(n,i,r,u){this.IsOpen=!1;this.IsOpenEff=!0;this.IsLev2=!1;this.CanGoBack=!0;this.mBtnBack=null;this.Container=null;this.FeetGap=0;this.mTitleIns=null;r===void 0&&(r=10);u===void 0&&(u=!0);t.__super.call(this);this.mouseEnabled=!0;this.size(this.mWidth=s.MAX_W,this.mHeight=s.MAX_H);this.loadImage(i||"lunch/winBg.png");this.mTitleIns=w.quickCreate(38,"#b2d6fb");this.mTitleIns.mouseEnabled=!1;this.mTitleIns.width=this.mWidth;this.mTitleIns.setVh(98);this.mTitleIns.y=2;this.mTitleIns.align="center";this.addChild(this.mTitleIns);n&&this.updateTitle(n,!0);0==t.BASE_Y&&(t.BASE_Y=this.mTitleIns.height+4>>0,t.WIN_HEIGHT_VIEW=s.MAX_H-t.BASE_Y);this.mBtnBack=k.crt_Btn(null,"main","mainUi/coms_btn_back.png",16,0);this.mBtnBack.y=this.mTitleIns.height-this.mBtnBack.height>>1;this.mBtnBack.on("click",this,this.doClose);this.addChild(this.mBtnBack);this.FeetGap=8;this.Container=new br(s.MAX_W,t.WIN_HEIGHT_VIEW-this.FeetGap,r);this.Container.y=t.BASE_Y;u?this.addChildAt(this.Container,0):this.Container.removeSelf()}r(t,"games.windows._bases.BaseWindow",n);var i=t.prototype;return i.updateTitle=function(n,t){t&&(n=u.lang(n));this.mTitleIns.text=n;this.toXCenter(this.mTitleIns)},i.updateClosePos=function(n,t){this.mBtnBack.pos(n,t)},i.doClose=function(){t.HdClose&&t.HdClose.runWith(this);this.onSubClose()},i.onMgrCls=function(){this.onSubClose()},i.onSubClose=function(){},i.updateTopH=function(n){n=n>>0;this.Container&&n>0&&(this.Container.updateRect(0,this.mHeight-n-this.FeetGap),this.Container.y=n)},i.start=function(){},t.HdClose=null,t.BASE_Y=0,t.H_SroCon=8,d(t,["WIN_HEIGHT_VIEW",function(){return this.WIN_HEIGHT_VIEW=s.MAX_H-t.BASE_Y},"MyDetail",function(){return this.MyDetail=f.Account.Detail}]),t}(p),ls=function(n){function t(n,r,f,e,o){var h,c;this.iInput=null;e===void 0&&(e=0);o===void 0&&(o=!1);t.__super.call(this);this.mWidth=o?540:560;this.mHeight=o?120:140;this.mouseEnabled=!0;h=i.loader.getRes("mainUi/loginImg_"+n+".png");this.graphics.drawImage(h,o?0:8);this.graphics.fillText(u.lang(r),56,6-s.LEADING_SIZE,34,n>9?"#444444":"#b2d6fb");o?(c="#3b4f62",this.graphics.drawRoundRect(10,this.mWidth,68,"#c9d5e1",0,52)):(c="#6391d5",h=i.loader.getRes("mainUi/loginInputBg.png"),this.graphics.drawImage(h,0,52));this.iInput=new ci;this.iInput.type=ci.T_NUMBER;this.iInput.setVh(o?68:h.height>>0);this.iInput.width=e>0?e:this.mWidth-2*this.iInput.x>>0;this.iInput.multiline=this.iInput.wordWrap=!1;this.iInput.fontSize=34;this.iInput.color=this.iInput.promptColor=c;this.iInput.prompt=u.lang(f);this.iInput.pos(o?14:48,52);this.addChild(this.iInput)}r(t,"games.windows.accounts.utils.AccInput_Base",n);var f=t.prototype;return f.setValue=function(n){this.iInput.text=n||""},f.getValue=function(n){n===void 0&&(n=!1);var t=this.iInput.text;return(0==t.length||"0"==t)&&(t="",n&&(ut.showMessage(this.iInput.prompt,!1),this.iInput.focus=!0)),t},t}(p),tct=function(n){function t(n){this.mTstar=null;this.mStar=null;this.mTxtBase=null;this.mBtn=null;t.__super.call(this);this.mWidth=710;this.mHeight=118;this.x=s.MAX_W-this.mWidth>>1;this.graphics.drawRoundRect(20,this.mWidth,this.mHeight,"#386ebf40");var i=24;this.mTstar=w.quickCreate(32,"#b2d6fb");this.mTstar.pos(i,20);this.addChild(this.mTstar);this.mStar=new bf;this.mStar.pos(108,22);this.addChild(this.mStar);this.mTxtBase=new g;this.mTxtBase.style.color="#6391d5";this.mTxtBase.pos(i,72);this.addChild(this.mTxtBase);this.mBtn=new bgt(2);this.mBtn.pos(this.mWidth-this.mBtn.width-22,this.mHeight-this.mBtn.height>>1);this.mBtn.setClick(n);this.addChild(this.mBtn)}r(t,"games.windows._club.setting.stars.Item_Star",n);var i=t.prototype;return i.setVo=function(n){this.mTstar.text=u.lang("star_"+n.lev);this.mStar.showStar(n.lev);this.mTxtBase.innerHTML=u.lang("clubST_star_5",n.aNum)+"  "+u.lang("clubST_star_3",n.mNum)+"  "+u.lang("clubST_star_7",n.day);this.mBtn.showValue(n.price);this.mBtn.TmpData=n.lev},i.doCompare=function(n){this.mBtn.disabled=this.mBtn.TmpData<n},t}(p),dw=function(n){function t(n){this.mPath=null;this.mTipPath=null;this.mTip=null;t.__super.call(this);n===void 0&&(n=!1);this.size(s.MAX_W,s.MAX_H);this.mouseEnabled=!1;var r="",u="lunch/login.jpg",f="lunch/loginTip.png";n&&(u="lunch/load.jpg",f="lunch/loadTip.png",this.mPath=u+r,this.mTipPath=f+r);u+=r;f+=r;i.loader.load(f,h.create(this,this.onTip));!c.onPC&&"showall"!=i.stage.scaleMode&&c.height>1330&&(this.scaleGrids=[1330,0,2,0,0]);this.loadImage(u)}r(t,"games.UD_Displays.imgs.UD_ImgLunch",n);var u=t.prototype;return u.destroy=function(t){t===void 0&&(t=!0);this.mPath&&(this.texture&&this.texture.destroy(!0),i.loader.clearTextureRes(this.mPath));this.mTipPath&&(this.mTip.texture&&this.mTip.texture.destroy(!0),i.loader.clearTextureRes(this.mTipPath));this.mPath=null;this.mTipPath=null;n.prototype.destroy.call(this,t)},u.onTip=function(n){this.mTip||(this.mTip=st.CrtImg(n.url),this.mTip.pos(s.MAX_W-this.mTip.width>>1,rt.toRealY(1174)),this.addChild(this.mTip))},t}(tr),ict=function(n){function t(n){this.mConfigs=null;this.mCallback=null;t.__super.call(this);this.mCallback=n;this.mWidth=710;this.toXCenter();this.mConfigs={};var u=rt.GameConfigs.shop,f,i,r;for(f in u)i=u[f],i&&(r=this.mConfigs[i.page],r||(r=this.mConfigs[i.page]=[]),r.push(i));this.on("click",this,this.onClk)}r(t,"games.windows.me.shop.Shop_Lists",n);var i=t.prototype;return i.SetPage=function(n){var r;if(this.doClear(),r=this.mConfigs[n],r){var u=20,e=2==n,i=0,o=r.length,f=0,t;for(i;i<o;i++)e?(t=l.get(uwt),t.pos(this.mWidth-t.width>>1,this.mHeight),this.mHeight+=t.height+u):(f=i%2,t=l.get(dpt),t.pos(f*(t.width+u),this.mHeight),1==f&&(this.mHeight+=t.height+u)),t.setVo(r[i]),this.addChild(t);return this.mHeight}return 0},i.doClear=function(){for(this.mHeight=0;this.numChildren>0;)l.recyle(this.removeChildAt(0))},i.onClk=function(n){var t=n.target;t!=this&&this.mCallback&&this.mCallback.runWith(t.TmpData)},t}(p),st=function(n){function t(n){this.mPath=null;t.__super.call(this);this.mWidth=this.mHeight=0;this.setRes(n)}r(t,"games.UD_Displays.imgs.UD_Img",n);var u=t.prototype;return u.setRes=function(n){if(this.mPath!=n){if(this.texture&&this.texture._removeReference(),this.texture=null,this.mWidth=this.mHeight=0,this.mPath=n,n){var t=i.loader.getRes(n);t?this.texture=t:this.loadImage(n)}this.texture&&(this.mWidth=this.texture.width>>0,this.mHeight=this.texture.height>>0)}},t.sCrtImg=function(n){var i=new t(n);return i.mouseEnabled=!1,i},t.CrtImg=function(n,i,r){i===void 0&&(i=0);r===void 0&&(r=0);var u=t.sCrtImg(n);return u.pos(i,r),u},t.CrtEdit=function(n){return n===void 0&&(n=!1),t.sCrtImg(n?"mainUi/btn_edit_s.png":"mainUi/btn_edit.png")},t.CrtGG=function(n){return n===void 0&&(n=!1),t.sCrtImg(n?"mainUi/btn_gg_new.png":"mainUi/icon_eff_select.png")},t.CrtUsing=function(){return t.sCrtImg("mainUi/img_using.png")},t.CrtLogo=function(){return t.sCrtImg("matches/logo.png")},t.CrtHunt=function(){return t.sCrtImg("mainUi/mtt_hunt.png")},t.CrtArrow=function(){return t.sCrtImg("mainUi/arrow1.png")},t.CrtArrowLeft=function(){return t.sCrtImg("matches/mmArrow.png")},t}(p),o=function(n){function t(){t.__super.call(this);0==t.PlayerScale&&(t.AutoFollow=!1,t.PlayerScale=c.onPC?1:1.13)}return r(t,"games.matchCores.BaseMatchIns",n),t.PrintPlayer=function(){},t.setShowBB=function(n){t.IsShowBB=n;t.Cookie.Show_BB=n;t.Cookie.save();t.bbHandler&&t.bbHandler.run()},t.getValueBB=function(n){var i=0;return t.IsShowBB&&(i=t.MatchVo.littleBB*2,t.MatchVo.isDp()&&(i=t.MatchVo.ante)),a.getBBStr(i,n)},t.PlayerScale=0,t.MyPlayer=null,t.IsIntBet=!1,t.NUM_FLOPS_MAX=10,t.NUM_FLOP_MIN=3,t.NUM_FLOP_ROW_MAX=5,t.FlopNum=0,t.ValidPlayers=0,t.RoundOver=!1,t.HandOver=!1,t.IsShowBB=!1,t.bbHandler=null,t.AutoFollow=!1,t.HandCard_Num=2,t.IsAmh=!1,t.Show_BestPoker=!0,d(t,["DsDesk",function(){return this.DsDesk=f.Desk},"DsMatch",function(){return this.DsMatch=f.Match},"MatchVo",function(){return this.MatchVo=t.DsMatch.MatchVo},"MyDetail",function(){return this.MyDetail=f.Account.Detail},"Cookie",function(){return this.Cookie=f.Account.Cookie},"FlopCards",function(){return this.FlopCards=vr(10)},"FLOP_DEAL_COORDS",function(){return this.FLOP_DEAL_COORDS=new kt(s.MAX_W>>1,ui.toRealY(460))},"VecPlayers",function(){return this.VecPlayers=[]}]),t}(p),ir=function(n){function t(n,i,r,u){this.mSCon=null;i===void 0&&(i=0);r===void 0&&(r=0);u===void 0&&(u=!0);t.__super.call(this);this.mWidth=r||s.MAX_W;this.mHeight=n;u&&(this.mSCon=new br(this.mWidth,this.mHeight-8,i),this.mSCon.setCallback(h.create(this,this.doScroll,null,!1)),this.addChild(this.mSCon))}r(t,"games.windows._bases.ModuBase",n);var i=t.prototype;return i.updateTopH=function(n){n=n>>0;this.mSCon&&n>0&&(this.mSCon.updateRect(0,this.mHeight-n-8),this.mSCon.y=n)},i.doScroll=function(){return!1},i.doSubStop=function(){},i.start=function(){},i.stop=function(){this.removeSelf();this.doSubStop()},t.H_SroCon=8,t}(p),gw=function(n){function u(n,t,r){this.mVecItems=null;this.mRect=null;this.mGap=0;this.mV_Max=0;this.mHitRect=null;this.mV_Down=0;this.mOff=0;this.mDir=0;this.mState=0;this.mT_End=0;this.mReqed=!1;r===void 0&&(r=16);u.__super.call(this);this.mWidth=0;this.mHeight=t;this._mouseState=2;this.mGap=r;this.mVecItems=[];this.mHitRect=new ct(0,0,n,this.mHeight);this.mRect=new ct;this.updateRect(n,this.mHeight);i.superSet(p,this,"scrollRect",this.mRect);this.hitArea=this.mHitRect;this.on("mousedown",this,this.onSelfMouseDown)}r(u,"FioLibs.displays.FioScrollCX",n);var t=u.prototype;return t.getItems=function(){return this.mVecItems},t.getIndex=function(n){return n?this.mVecItems.indexOf(n):-1},t.updateRect=function(n,t){n===void 0&&(n=0);t===void 0&&(t=0);n>0&&n!=this.mRect.width&&(this.mRect.width=this.mHitRect.width=n);t>0&&t!=this.mRect.height&&(this.mRect.height=this.mHitRect.height=t)},t.addGap=function(n){this.mWidth+=n>>0;this.mReqed=!0},t.updateWdith=function(n){this.mWidth=n>>0;this.mReqed=!0},t.toMin=function(n){n===void 0&&(n=!1);this.clearSlider();this.mState=-1;n?ri.to(this.mRect,{x:0},200,null,null,0,!0):this.mRect.x=0},t.toMax=function(n){n===void 0&&(n=!1);this.clearSlider();n?ri.to(this.mRect,{x:this.mV_Max},200,null,null,0,!0):this.mRect.x=this.mV_Max},t.ItemAdd=function(n,t){t===void 0&&(t=0);n&&-1==this.mVecItems.indexOf(n)&&(this.mVecItems.push(n),n.x=this.mWidth,this.addChild(n),this.mWidth+=n.width+this.mGap+t>>0,this.mReqed=!0)},t.ItemClean=function(n){n===void 0&&(n=!1);var i=0,r=this.mVecItems.length,t;for(i;i<r;i++)t=this.mVecItems.shift(),t&&(t.removeSelf(),n&&l.recyle(t));this.mWidth=this.mRect.x=0;this.mReqed=!0},t.render=function(n,t,i){laya.display.Sprite.prototype.render.call(this,n,t,i);this.mReqed&&(this.mV_Max=this.mWidth-this.mRect.width,this.mV_Max<0&&(this.mV_Max=0),this.mReqed=!1)},t.clearSlider=function(){this._mouseState=2;ri.clearAll(this);this.mState=this.mT_End=0;this.clearTimer(this,this.doSlider)},t.clearWatching=function(){this._mouseState=2;this.stage.off("mousemove",this,this.onSelfMouseMoving);this.stage.off("mouseup",this,this.onSelfMouseUp);this.stage.off("mouseout",this,this.onSelfMouseUp)},t.onSelfMouseDown=function(){this.mV_Down=this.stage.mouseX>>0;this.mOff=0;this.clearSlider();this.stage.on("mousemove",this,this.onSelfMouseMoving);this.stage.once("mouseup",this,this.onSelfMouseUp);this.stage.once("mouseout",this,this.onSelfMouseUp)},t.onSelfMouseMoving=function(){var n=this.stage.mouseX>>0;(this.mOff=n-this.mV_Down>>0,Math.abs(this.mOff)<6)||(this.mV_Down=n,0==this.mT_End&&(this._mouseState=1,this.mT_End=this.timer.currTimer+300),this.mRect.x-=this.mOff,this.mState=this.mRect.x<0?-1:this.mRect.x>this.mV_Max?1:0)},t.onSelfMouseUp=function(n){this.clearWatching();n.stopPropagation();0==this.mState?this.mT_End-this.timer.currTimer>0&&(this.mDir=this.mOff>0?1:-1,this.frameLoop(1,this,this.doSlider)):-1==this.mState?this.toMin(!0):1==this.mState&&this.toMax(!0)},t.doSlider=function(){var t=this.timer.currTimer-this.mT_End,n;this.mOff-=this.mOff*this.timer.delta*.006;n=this.mRect.x-this.mOff>>0;n<0?(this.clearSlider(),this.toMin()):n>this.mV_Max?(this.clearSlider(),this.toMax()):this.mOff*this.mDir>.1?this.mRect.x=n:this.clearSlider()},e(0,t,"width",function(){return this.mRect.width},n.prototype._$set_width),e(0,t,"scrollRect",n.prototype._$get_scrollRect,function(){}),e(0,t,"height",function(){return this.mRect.height},n.prototype._$set_height),e(0,t,"mouseEnabled",n.prototype._$get_mouseEnabled,function(){}),u.TWEEN_TIME=200,u.TIMER_SLIDER=300,u}(p),rct=function(n){function i(){this.mDs=null;this.mTab=null;this.mVecRed=null;this.mVecMod=null;this.mCurMod=null;this.mCookie=null;this.mCookieData=null;i.__super.call(this,10,!1);this.initModus(this.initTop()+20);this.mDs=f.Desk;this.mDs.regist(316,this.showRed,this)}r(i,"games.scene.modules.hall.Scene_Hall",n);var t=i.prototype;return t.initTop=function(){return this.mCookie=new nu("hallSelect_main"),this.mCookieData=this.mCookie.getCookie(),this.mCookieData&&this.mCookieData.hasOwnProperty("idx")||(this.mCookieData={idx:0},this.mCookie.Save(this.mCookieData)),this.mTab=new ka,this.mTab.setClick(h.create(this,this.onTab,null,!1)),this.mTab.creat(u.obj("matchType_hall"),100),this.mTab.pos(0,0),this.mTab.x=s.MAX_W-this.mTab.width>>1,this.addChild(this.mTab),this.mTab.height>>0},t.initModus=function(n){var r=hr.VIEW_HEIGHT-n,t,u,f,i,o,e;for(this.mVecMod=[],this.mVecMod[0]=new wwt(r),this.mVecMod[1]=new nbt(r),this.mVecMod[2]=new cwt(r,!0),t=0,u=this.mVecMod.length,t;t<u;t++)f=this.mVecMod[t],f&&(f.y=n);for(this.mVecRed=[],o=this.mTab.getDisplays(),t=0;t<u;t++)i=o[t],e=new bu(i,"redPoint1",20),e.pos(i.width,0),this.mVecRed[i.TmpData]=e},t.doSubStart=function(){this.mTab.select(this.mCookieData.idx);this.mDs.reqMatchRed(-1,0);this.mDs.reqMatchRed(-1,1);this.mDs.reqMatchRed(-1,2)},t.doSubStop=function(){this.mCurMod&&this.mCurMod.stop();this.mCurMod=null},t.onTab=function(n){var i=this.mTab._children.indexOf(n),t;this.mCookieData.idx=i>-1?i:0;this.mCookie.Save(this.mCookieData);t=this.mVecMod[n.TmpData];t&&(this.mCurMod&&this.mCurMod.stop(),this.mCurMod=null,this.addChild(this.mCurMod=t),this.mCurMod.start())},t.doUpdateNum=function(n){rt.IS_SUPER&&hr.updateNum(this,n)},t.showRed=function(n,t,i){var r=0;switch(t){case 0:r=2;break;case 1:r=0;break;case 2:r=1}this.mVecRed[r]&&this.mVecRed[r].showValue(i)},i}(hr),uct=function(n){function t(){this.mType=0;this.mTxt=null;t.__super.call(this);this.mouseEnabled=!1;this.mTxt=w.quickCreate(20,"#b2d6fb");this.mTxt.x=26;this.mTxt.valign="middle";this.addChild(this.mTxt)}r(t,"games.windows.matches.brands.aBrand.Brand_Actor",n);var u=t.prototype;return i.imps(u,{"FioLibs.interfaces.IFio_Recyle":!0}),u.recyle=function(){this.removeSelf()},u.showValue=function(n,t){if(0==n){this.removeSelf();return}n!=this.mType&&(this.mType=n,this.loadImage("matches/mm_icon_act_"+this.mType+".png"));this.mTxt.x=this.texture.sourceWidth+6>>0;this.mTxt.height=this.texture.sourceHeight>>0;this.mTxt.text=a.NumToStr(t);this.mWidth=this.mTxt.x+this.mTxt.width+4>>0},e(0,u,"width",n.prototype._$get_width,function(){}),t}(p),hi=function(n){function t(n,i,r,u){this.ComHd=null;this.mLabel=null;this.mFullPath=null;this.mIns=null;this.mRes=null;this.mTarSize=0;this.mFrame=null;t.__super.call(this);n===void 0&&(n=200);i===void 0&&(i=!1);r===void 0&&(r=0);u===void 0&&(u=!0);this.mFrame=new p;this.mTarSize=this.mWidth=this.mHeight=n;0==r&&(r=12);var e=n+"_"+r,f=t.S_Maskers[e];f||(t.S_Maskers[e]=f=new s,f.graphics.drawRoundRect(r,n,n,"#000000"));i&&(this.mLabel=w.quickCreate(),this.mLabel.y=this.mWidth+16>>0);this.mIns=new s;this.mIns.mask=f;this.mIns.size(this.mWidth,this.mWidth);this.addChild(this.mIns);u&&this.graphics.drawRoundRect(r,this.mWidth,this.mHeight,"#eab96a",0,0,"#eab96a",4)}r(t,"games.UD_Displays.icons.UD_Icon",n);var u=t.prototype;return u.loadIcon=function(n,r,u){var f,e;if(r===void 0&&(r=0),u===void 0&&(u=-1),this.mFullPath!=n||n==null){if(this.resetFrame(),this.mFullPath=n,n&&r<3){if(this.mRes=0==r?this.setFrame(wt.getUserIcon(n)):wt.getClubIcon(n),f=i.loader.getRes(this.mRes),f){this.onLoaded(this.mRes,f);return}kf.Icon.load(this.mRes,h.create(this,this.onLoaded,[this.mRes]))}e=t.DEF_ICONS[u<0?r:u];f=i.loader.getRes(e);this.onLoaded(this.mRes,f)}},u.resetFrame=function(){this.toSize(this.mTarSize,this.mTarSize);this.mFrame.removeSelf();this.mFrame.graphics.clear();this.mFrame.pos(0,0)},u.setFrame=function(n){var f=/(.*)-(\d+)(?=\.png)(.*)/gi,e=n.replace(f,"$2").match(/^\d+$/i),u,r,t;return e&&(u=Number(e.shift()),u>0&&(r=i.loader.getRes(wt.getIfImg(u)),r&&(t=this.mTarSize/160*r.width>>0,t>this.mTarSize&&this.toSize(t,t),this.mFrame.graphics.drawImage(r,0,0,t,t),this.mFrame.pos(this.mTarSize-t>>1,this.mTarSize-t>>1),this.addChildAt(this.mFrame,1)))),n.replace(f,"$1$3")},u.sitter_Reset=function(){this.mFullPath=this.mRes=null;this.mIns.texture=null;this.resetFrame()},u.sitter_Load=function(n){var r,u;if(this.sitter_Reset(),this.mRes=this.setFrame(this.mFullPath=n),n){if(r=i.loader.getRes(this.mRes),r){this.onLoaded(this.mRes,r);return}kf.Icon.load(this.mRes,h.create(this,this.onLoaded,[this.mRes]));u=t.DEF_ICONS[3];r=i.loader.getRes(u);this.onLoaded(this.mRes,r)}},u.setLabel=function(n,t,i){t===void 0&&(t=0);this.mLabel&&(n?(t>0&&(this.mLabel.fontSize=t),i&&(this.mLabel.color=i),this.mLabel.text=n,this.mLabel.x=this.mTarSize-this.mLabel.width>>1,this.mLabel.parent||this.addChild(this.mLabel)):this.mLabel.removeSelf())},u.onLoaded=function(n,t){t&&n==this.mRes&&(this.mIns.texture=t);this.timer.frameOnce(1,this,this.doCallBack)},u.doCallBack=function(){this.ComHd&&this.ComHd.run()},e(0,u,"fx",function(){var n=this.mFrame.x;return n>0?0:n}),e(0,u,"x",function(){return this._x+this.fx},n.prototype._$set_x),e(0,u,"y",function(){return this._y+this.fx},n.prototype._$set_y),t.S_Maskers={},t.SIZE_MAX=200,t.TYPE_USER=0,t.TYPE_CLUB=1,t.TYPE_SYS=2,t.DEF_USER=0,t.DEF_CLUB=1,t.DEF_SYS=2,t.DEF_PLAYER=3,t.DEF_DESK=2,t.DEF_UNION=5,d(t,["DEF_ICONS",function(){return this.DEF_ICONS=["matches/mm_player_def.png","mainUi/iconBg_Club.png","mainUi/iconBg_Sys.png","matches/mm_player_def.png","mainUi/iconBg_Desk.png","mainUi/club_icon_union_def.png"]},"sRegNum",function(){return this.sRegNum=/^\d+$/i}]),t}(p),nb=function(n){function t(){var i,n,r;this.sVo=null;this.mIcon=null;this.mTname=null;this.mStar=null;this.mRnum=null;this.mTid=null;this.mTvalue=null;t.__super.call(this);this.mHeight=132;i=86;this.mIcon=new hi(i,!1,8);this.mIcon.mouseEnabled=!1;this.mIcon.pos(40,this.mHeight-i>>1);this.addChild(this.mIcon);n=this.mIcon.x+i+36;this.mTname=w.quickCreate(30,"#b2d6fb");this.mTname.pos(n,30);this.addChild(this.mTname);this.mStar=new bf;this.mStar.pos(n,32);this.addChild(this.mStar);r=80;this.addChild(this.mRnum=fi.create(31,n,r));this.mRnum.setFont(null,22);this.mTid=w.quickCreate(22,"#6391d5");this.mTid.pos(n,r);this.addChild(this.mTid);this.mTvalue=new g;this.mTvalue.style.fontSize=22;this.mTvalue.style.color="#6391d5";this.mTvalue.y=r;this.addChild(this.mTvalue);this.graphics.drawRect(36,0,s.MAX_W-72,2,"#233a5b");this.on("click",this,this.onClick)}r(t,"games.windows._leagues.memAndCre.Item_LeaMem",n);var f=t.prototype;return i.imps(f,{"FioLibs.interfaces.IFio_Recyle":!0}),f.onClick=function(){t.s_handler&&t.s_handler.runWith(this)},f.recyle=function(){this.removeSelf();this.sVo=null},f.setVo=function(n){this.sVo=n;this.update()},f.update=function(){this.sVo&&(this.mIcon.loadIcon(this.sVo.icon,1),this.mTname.text=this.sVo.name,this.mStar.x=this.mTname.x+this.mTname.width+32>>0,this.mStar.showStar(this.sVo.cLev),this.mRnum.showValue(this.sVo.numOnline+"/"+this.sVo.numTotal),this.mTid.text="ID:"+this.sVo.vID,this.mTid.x=this.mRnum.x+this.mRnum.width+32>>0,this.mTvalue.innerHTML=u.lang("league_mgr_02",this.sVo.getHtml()),this.mTvalue.x=this.mWidth-this.mTvalue.contextWidth-36>>0)},t.s_handler=null,t}(p),fct=function(n){function i(n,t){var e,n,y,c,a,o;this.mVecItems=null;this.mVecSws=null;this.mDicIndexs=null;this.mIndexs=null;this.mColX=null;this.mNoOps=null;this.mHandler=null;this.mBtns=null;this.mTip=null;i.__super.call(this);this.toSize(n,100);this.mHandler=t;this.mNoOps=ot.CFG_DZ.KG_NoOps;this.mVecSws=[];e=16;n=this.mWidth-e-e-80>>1;this.mColX=[];this.mColX[0]=e;this.mColX[1]=e+72+n;var v=ot.CFG_DZ.VecKgs,s,r=0,l=v.length,f;for(this.mVecItems=[],y=h.create(this,this.onClkFlag,null,!1),r;r<l;r++)(this.mVecItems[r]=f=k.crt_Switch(null,"s2"),f.setRealWidth(n),s=v[r],s)&&(f.TmpData=s.idx,f.label=s.title,f.setClick(y),this.mNoOps.indexOf(r)>-1&&(f.disabled=!0));for(c=0,this.mDicIndexs=[],a=u.obj("pSet_flagIdxs"),l=a.length,o=0,r=0;r<l;r++)o=a.shift(),this.mDicIndexs[o]=u.obj("pSet_flags"+o),c=Math.max(c,this.mDicIndexs[o].length);this.mHeight=60*Math.ceil(c/2)+20;this.mBtns=new fe(this.mWidth,"pSet_21",h.create(this,this.onClkMenu,null,!1));this.mBtns.y=this.mHeight;this.mTip=ai.CrtIns(0,u.lang("pSet_20"));this.mTip.pos(this.mWidth-this.mTip.width>>1,this.mHeight+.5*(this.mBtns.height-this.mTip.height)>>0);this.mHeight+=this.mBtns.height+8}r(i,"games.matchCores.panels.settings.dzdp.MpStDzdp_Flags",n);var t=i.prototype;return t.setType=function(n,t){var i,r,u,f,e;for(this.mouseEnabled=t,t?(this.mTip.removeSelf(),this.mBtns.parent||this.addChild(this.mBtns)):(this.mBtns.removeSelf(),this.mTip.parent||this.addChild(this.mTip)),i=0,i=0;i<32;i++)this.mVecSws[i]=!1;for(r=this.mVecItems.length,i=0;i<r;i++)this.mVecItems[i].removeSelf();for(this.mIndexs=this.mDicIndexs[n],r=this.mIndexs.length,u=0,e=0,i=0;i<r;i++)e=u/2>>0,f=this.mVecItems[this.mIndexs[i]],f.pos(this.mColX[u%2],4+e*60>>0),this.addChild(f),u+=1},t.updateValues=function(n){for(var t=0,i,r,u,t=0;t<32;t++)this.mVecSws[t]=n[t]||!1;for(r=this.mVecItems.length,t=0;t<r;t++)i=this.mVecItems[t],i&&(i.selected=n[t]);for(r=this.mIndexs.length,u=0,t=0;t<r;t++)u=this.mIndexs[t],i=this.mVecItems[u],i&&(i.selected=n[u])},t.getValue=function(){for(var i=[],n=0,t,r=this.mVecItems.length,n=0;n<r;n++)t=this.mVecItems[n],i[n]=t?t.selected:this.mVecSws[n];return a.V2U(i)},t.onClkMenu=function(n){switch(n.TmpData){case 1:f.Match.reqPause();break;case 2:pt.Alert(u.lang("pSet_22"),null,null,[f.Match.reqDisband,null])}},t.onClkFlag=function(n){var t=n.TmpData;-1==this.mNoOps.indexOf(t)&&this.mHandler&&this.mHandler.runWith(n)},i}(p),tc=function(n){function t(n){this.toggle=!1;this.mHandleClick=null;this.mState=0;this.mV_Seleted=!1;this.mV_State=!1;this.mV_Disabled=!1;t.__super.call(this);this.graphics;this.mState=0;this.mAuto_W=this.mAuto_H=!1;this.mV_State=!0;n&&(this.addListerBy_Create(),this._createListener("mouseout",this,this.onMouseEve,null,!1,!1),this._createListener("mousedown",this,this.onMouseEve,null,!1,!1),this._createListener("mouseup",this,this.onMouseEve,null,!1,!1),this._createListener("click",this,this.onMouseEve,null,!1,!1))}r(t,"FioLibs.displays.coms.BaseCom",n);var u=t.prototype;return i.imps(u,{"FioLibs.interfaces.IFio_Recyle":!0}),u.onMouseEve=function(n){if(!this.mV_Disabled&&(!this.mV_Seleted||this.toggle))switch(n.type){case"click":this.toggle&&(this.selected=!this.mV_Seleted);this.forceClick();this.doSubClick();break;case"mouseup":case"mouseout":this.mV_Seleted||this.changeState(0);break;case"mousedown":this.changeState(1)}},u.reset=function(){n.prototype.reset.call(this);this.setClick(null);this.mAuto_W=this.mAuto_H=!1;this.mState=0;this.disabled=this.mV_Seleted=this.toggle=!1;this.mV_State=!0},u.recyle=function(){this.reset()},u.setClick=function(n){this.mHandleClick&&this.mHandleClick.recover();this.mHandleClick=n},u.forceClick=function(){this.mHandleClick&&this.mHandleClick.runWith(this)},u.doSub_UDView=function(){this.mV_State&&(this.doSub_UDState(t.STATE_INDEXES[this.mState]),this.mV_State=!1)},u.doSub_UDState=function(){},u.doSubClick=function(){},u.changeState=function(n){this.mState!=n&&(this.mState=n,this.mV_State=!0,this.reqUDView())},e(0,u,"disabled",function(){return this.mV_Disabled},function(n){this.mV_Disabled!==n&&(this.mV_Disabled=this.gray=n,this.mouseEnabled=!n,this.changeState(n?3:this.mV_Seleted?1:0))}),e(0,u,"selected",function(){return this.mV_Seleted},function(n){this.mV_Seleted!=n&&(this.mV_Seleted=n,this.changeState(n?1:this.mV_Disabled?3:0))}),t.STATE_NORMAL=0,t.STATE_DOWN_SELECT=1,t.STATE_DISABLED=3,t.NUM_STATE=2,t.GAP_RECT=8,t.s_Locked=!0,d(t,["STATE_INDEXES",function(){return this.STATE_INDEXES=[0,1,0,0]}]),t}(tr),fe=function(n){function t(n,i,r,f){f===void 0&&(f=150);t.__super.call(this);var c=u.obj(i||"btnGroup_nml"),o=0,h=c.length,s,e,l=(n-f*h)/(h+1)>>0;for(o;o<h;o++)s=c.shift(),e=k.crt_Btn(this,s.res||"btnAlert11",null,0,0,f),e.x=l+(f+l)*o>>0,e.label=s.label,e.TmpData=s.data,e.setClick(r);this.toSize(n,e.height)}r(t,"games.UD_Displays.btns.UD_Btn_Group",n);var i=t.prototype;return i.getBtn=function(n){var t=0,r=this.numChildren,i;for(t;t<r;t++)if(i=this.getChildAt(t),i.TmpData==n)return i;return null},e(0,i,"disabled",null,function(n){this.mouseEnabled=!n;this.alpha=n?.3:1}),t}(p),oa=function(n){function t(){this.REG_NUM=/^(\d)$/i;this.SIZE_W=230;this.SIZE_H=90;this.ROUND=8;this.mValues=[];this.SEND_PARAN=[this.mValues];this.mHandle=null;this.mMaxChars=0;this.mVecKeys=null;this.SIZE_FONT=this.SIZE_H-36;this.Y_S=c.onPC?4+.5*(this.SIZE_H-this.SIZE_FONT)>>0:.5*(this.SIZE_H-this.SIZE_FONT)-4>>0;t.__super.call(this);this.mWidth=s.MAX_W;this.mHeight=416;this.y=s.MAX_H-this.mHeight;this.mouseEnabled=!0;this.graphics.drawRoundRect(20,this.mWidth,this.mHeight+50,"#dde4eedd");this.initKeys()}r(t,"FioLibs.displays.Fio_NumKeyboard",n);var u=t.prototype;return u.initKeys=function(){var e=h.create(this,this.onClkBtn,null,!1),u=[1,2,3,4,5,6,7,8,9,0,-1],i=0,o=u.length,c=[21,263,504],l=[18,116,214,312],f=465,t,r=0,n;for(i;i<o;i++)r=u.shift(),t=k.crt_Btn(this,"numkeyBtn",null,c[i%3],l[i/3>>0],224,90),t.TmpData=r,r<0?(n=new s,n.mouseEnabled=!1,n.loadImage("mainUi/del_img.png"),n.pos(f-n.texture.width>>1,90-n.texture.height>>1),t.addChild(n),t.width=f):t.label=""+r,t.setClick(e)},u.Close=function(){this.removeSelf();this.mHandle&&this.mHandle.recover();this.mHandle=null;this.mMaxChars=0;this.mValues.length=0;c.onPC&&i.stage.off("keydown",this,this.onKeyDown)},u.Show=function(n,t){this.mHandle&&this.mHandle.recover();this.mHandle=n;this.mValues.length=0;this.mMaxChars=t;this.mMaxChars>0&&this.mHandle&&(tu.Add(this),c.onPC&&i.stage.on("keydown",this,this.onKeyDown))},u.onClkBtn=function(n){et.shake(50);this.checkInput(n.TmpData)},u.checkInput=function(n){var t=this.mValues.length;if(n>=0){if(t>=this.mMaxChars)return;this.mValues.push(n)}else{if(0==t)return;this.mValues.pop()}this.mHandle&&this.mHandle.runWith(this.SEND_PARAN)},u.onKeyDown=function(n){switch(n.keyCode){case 48:case 96:this.checkInput(0);break;case 49:case 97:this.checkInput(1);break;case 50:case 98:this.checkInput(2);break;case 51:case 99:this.checkInput(3);break;case 52:case 100:this.checkInput(4);break;case 53:case 101:this.checkInput(5);break;case 54:case 102:this.checkInput(6);break;case 55:case 103:this.checkInput(7);break;case 56:case 104:this.checkInput(8);break;case 57:case 105:this.checkInput(9);break;case 8:this.checkInput(-1)}},e(1,t,"ins",function(){return t.s_Ins||(t.s_locked=!1,t.s_Ins=new t,t.s_locked=!0),t.s_Ins},FioLibs.displays.UDSprite._$SET_ins),t.s_locked=!0,t.s_Ins=null,t}(p),ect=function(n){function t(n){this.Type=0;this.I_User=null;this.I_Code=null;this.I_Psw=null;this.I_Psw2=null;this.BtnSubmit=null;this.mTip=null;t.__super.call(this);this.mWidth=710;this.mHeight=1120;this.toXCenter();var i=st.CrtImg("mainUi/img_folder.png");this.toXCenter(i);i.y=26;this.addChild(i);this.I_User=new eo(!0);this.I_User.pos(this.mWidth-this.I_User.width>>1,216);this.addChild(this.I_User);this.I_Code=new hc(n);this.I_Code.pos(this.mWidth-this.I_User.width>>1,380);this.addChild(this.I_Code);this.I_Psw=new oo(!0,0,"ejmmSet_0");this.I_Psw.setIsCzmm();this.I_Psw.pos(this.mWidth-this.I_Psw.width>>1,546);this.I_Psw2=new oo(!0,0,"ejmmSet_2","ejmmSet_1");this.I_Psw2.setIsCzmm();this.I_Psw2.pos(this.mWidth-this.I_Psw2.width>>1,712);this.addChild(this.I_Psw2);this.mTip=new g;this.mTip.style.fontSize=24;this.mTip.style.color="#6391d5";this.BtnSubmit=k.crt_Btn(this,"login",null,0,966);this.toXCenter(this.BtnSubmit);this.BtnSubmit.setClick(n);this.BtnSubmit.label=u.lang("submit")}r(t,"games.windows.accounts.ejmm.AccEjmmSet_View",n);var i=t.prototype;return i.setType=function(n){var t,i;this.Type!=n&&(this.Type=n,this.graphics.clear(),this.I_Psw.removeSelf(),this.I_Psw2.removeSelf(),this.mTip.removeSelf(),t=this.I_Psw.y,n!=3&&(this.addChild(this.I_Psw),t+=this.I_Psw.height+24,this.I_Psw2.y=t,t+=this.I_Psw2.height,this.addChild(this.I_Psw2)),t+=64,i=u.lang("ejmmSet_tip_"+n),i&&(this.mTip.innerHTML=i,this.mTip.pos(this.mWidth-this.mTip.contextWidth>>1,t),this.addChild(this.mTip),t+=this.mTip.height+24),this.BtnSubmit.y=t,this.mHeight=t+this.BtnSubmit.height+44,this.graphics.drawRoundRect(20,this.mWidth,this.mHeight,"#386ebf40"));a.StopInsOp(this.BtnSubmit,500)},i.ShowUser=function(n,t){this.I_User.setValue(n);this.I_User.updateCountry(t)},t}(p),oct=function(n){function t(n,i,r){var o,s,f,e;for(this.mTitle=null,this.mSlider=null,this.mHandler=null,this.mVal=0,this.mMin=0,t.__super.call(this),this.toSize(n,i),this.mHandler=r,this.mTitle=w.quickCreate(26,"#b2d6fb"),this.mTitle.text=u.lang("pDesk_5","200%"),this.mTitle.pos(this.mWidth-this.mTitle.width>>1,16),this.addChild(this.mTitle),o=[],this.mMin=u.obj("pDesk_6"),s=u.obj("pDesk_7"),f=this.mMin;f<=s;)o.push({label:f+"%",data:f}),f+=5;r=h.create(this,this.onSlider,null,!1);this.mSlider=vs.create(this,!0,r,36,90,this.mWidth-72);this.mSlider.setIntervals(o,0);this.mSlider.showInterval(!0);r=h.create(this,this.onClick,null,!1);e=new fe(this.mWidth,null,r);e.y=this.mHeight-e.height-12>>0;this.addChild(e)}r(t,"games.matchCores.panels.styles.MpStyle_Slider",n);var i=t.prototype;return i.start=function(n){this.mSlider.setSelect((n-this.mMin)/5>>0)},i.onSlider=function(n){this.mVal=n.data;this.mTitle.text=u.lang("pDesk_5",n.label)},i.onClick=function(n){var t=n.TmpData;this.mHandler&&this.mHandler.runWith(1==t?this.mVal:0)},t}(p),sct=function(t){function i(){this.PRO_SIZE=6;this.mPro=null;this.mLabel=null;this.mTpro=null;this.PRO_ROUND=this.PRO_SIZE>>1;i.__super.call(this);this.mouseEnabled=!1;this.mWidth=540;this.mHeight=46;this.mPro=new s;this.mPro.mouseEnabled=!1;this.addChild(this.mPro);this.graphics.drawRoundRect(this.PRO_ROUND,this.mWidth,this.PRO_SIZE,"#e1e1e1",0,this.mPro.y=36,"#00000088",1);this.addChild(this.mLabel=w.quickCreate(24,"#ffffff"));this.addChild(this.mTpro=w.quickCreate(18,"#ffffff"));this.mTpro.y=4;this.showLabel("Initialize Game")}r(i,"games.preLoads.LoadingProgress",t);var u=i.prototype;return u.destroy=function(t){t===void 0&&(t=!0);this.graphics.clear();this.mLabel.destroy(!0);this.mLabel=null;n.showDivLoading=null;this.mPro&&this.mPro.destroy();this.mPro=null;laya.display.Sprite.prototype.destroy.call(this,t)},u.showLabel=function(n,t){t||(t="#ffffff");this.mLabel.color=t;this.mLabel.text=n;var i=this.mWidth-this.mLabel.textWidth-56>>1;this.mLabel.x=i;this.mTpro.x=i+this.mLabel.width+16>>0},u.showPro=function(n){n||(n=0);n>1&&(n=1);this.mPro.graphics.clear();this.mPro.graphics.drawRoundRect(this.PRO_ROUND,this.mWidth*n>>0,this.PRO_SIZE,"#57c2ff");n=n*100>>0;this.mTpro.text="("+n+"%)"},i}(p),as=function(n){function t(){this.Vo=null;this.mTno=null;this.mTval=null;this.mLock=null;this.mEdit=null;t.__super.call(this);this.mWidth=710;this.mHeight=56;this.Vo=new iu;this.mTno=w.quickCreate(26,"#b2d6fb");this.mTno.setVh(this.mHeight);this.mTno.text=u.lang("mttRwd_0");this.addChild(this.mTno);this.mLock=k.crt_Btn(null,null,"mainUi/comsBtn_lock.png");this.mLock.pos(140,this.mHeight-this.mLock.height-6>>1);this.mLock.on("click",this,this.onAsk);this.mTval=w.quickCreate(26,"#b2d6fb");this.mTval.setVh(this.mHeight);this.mTval.text=u.lang("mttRwd_1");this.addChild(this.mTval);this.mEdit=st.CrtEdit();this.mEdit.pos(this.mWidth-this.mEdit.width-40,this.mHeight-this.mEdit.height-6>>1);this.mEdit.mouseEnabled=!0;this.mEdit.on("click",this,this.openZdy);this.addChild(this.mEdit)}r(t,"games.windows.matches.creators.mtt.rewards.MttRwd_1_Item",n);var f=t.prototype;return i.imps(f,{"FioLibs.interfaces.IFio_Recyle":!0}),f.onAsk=function(){pt.Alert(u.lang("mttRwd_10",this.Vo.order),this,null,[this.doConfirm,null])},f.doConfirm=function(){this.Vo.DoReset();t.sCaller.run()},f.openZdy=function(){b.OpenWin(311,this.Vo,t.sCaller,!t.sIsRate)},f.recyle=function(){this.removeSelf();this.Vo.DoReset();this.mLock.removeSelf()},f.update=function(){t.sIsRate?this.mLock.removeSelf():this.Vo.locked?(this.addChild(this.mLock),this.mEdit.removeSelf()):(this.addChild(this.mEdit),this.mLock.removeSelf());this.mTno.text=""+this.Vo.order;this.mTno.x=96-.5*this.mTno.width>>0;this.mTval.text=this.Vo.getStr();this.mTval.x=this.mWidth-this.mTval.width-80>>0},t.sIsRate=!1,t.sCaller=null,t}(p),hct=function(n){function t(n){this.I_User=null;this.I_Code=null;this.BtnSubmit=null;this.mHtm=null;t.__super.call(this);this.mWidth=710;this.mHeight=760;this.toXCenter();this.graphics.drawRoundRect(20,this.mWidth,this.mHeight,"#386ebf40");this.I_User=new eo(!0);this.I_User.pos(this.mWidth-this.I_User.width>>1,50);this.I_User.mouseEnabled=!1;this.addChild(this.I_User);this.I_Code=new hc(n);this.I_Code.pos(this.mWidth-this.I_Code.width>>1,250);this.addChild(this.I_Code);this.mHtm=new g("center",!0);this.mHtm.style.leading=12;this.mHtm.width=.75*this.mWidth>>0;this.mHtm.y=this.I_Code.y+this.I_Code.height+64;this.addChild(this.mHtm);this.BtnSubmit=k.crt_Btn(this,"login");this.BtnSubmit.setClick(n);this.BtnSubmit.label=u.lang("reqCode_2");this.toXCenter(this.BtnSubmit);this.BtnSubmit.y=this.mHeight-this.BtnSubmit.height-48>>0}r(t,"games.windows.accounts.reqCodes.ReqCodes_View",n);var i=t.prototype;return i.ShowUser=function(n,t){this.I_User.setValue(n);this.I_User.updateCountry(t)},i.setType=function(n){this.mHtm.innerHTML=u.lang("reqCode_tip_"+n);this.toXCenter(this.mHtm)},t}(p),tb=function(n){function t(n,i){this.mRes=null;n===void 0&&(n=0);i===void 0&&(i=0);t.__super.call(this);i>0&&(this.mWidth=i);this.mHeight=72;this.graphics.drawRect(0,0,this.mWidth,this.mHeight,"#5493a570");this.mRes=new fi(n);this.mRes.pos(32,this.mHeight-this.mRes.height>>1);this.addChild(this.mRes)}r(t,"games.UD_Displays.views.UD_ResWidthBg",n);var i=t.prototype;return i.updateLabel=function(n,t,i,r){t===void 0&&(t=!0);r===void 0&&(r=0);this.mRes.showPre(n,t,i,r)},i.updateValue=function(n,t){t===void 0&&(t=!1);this.mRes.showValue(n,t)},t}(p),sa=function(n){function t(n){this.mIcon=null;this.mTname=null;this.mStar=null;this.mTother=null;t.__super.call(this);this.mWidth=710;this.x=s.MAX_W-this.mWidth>>1;this.mHeight=n?394:320;this.graphics.drawRoundRect(20,this.mWidth,this.mHeight,"#386ebf40");this.mIcon=new hi(126);this.mIcon.mouseEnabled=!1;this.mIcon.pos(this.mWidth-this.mIcon.width>>1,24);this.addChild(this.mIcon);this.mTname=new g;this.mTname.y=this.mIcon.y+this.mIcon.height+24>>0;this.mTname.style.fontSize=36;this.mTname.style.color="#b2d6fb";this.addChild(this.mTname);this.mStar=new bf;this.mStar.pos(270,222);this.addChild(this.mStar);this.mTother=new g;this.mTother.y=270;this.mTother.style.fontSize=26;this.mTother.style.color="#b2d6fb";this.addChild(this.mTother)}r(t,"games.windows._club.clubHead.Club_Head_Base",n);var i=t.prototype;return i.updateLev=function(n){this.mStar.showStar(n)},i.showClub=function(n,t){this.mIcon.loadIcon(n.icon,1);this.mTname.innerHTML=u.lang("clubInfo_top",n.name);this.mTname.x=this.mWidth-this.mTname.contextWidth>>1;this.updateLev(n.level);t||this.showOther(u.lang("clubWx",n.wx||u.lang("clubWx_null"),n.vID))},i.showOther=function(n){this.mTother.innerHTML=n;this.mTother.x=this.mWidth-this.mTother.contextWidth>>1},t}(p),vs=function(n){function i(n,t,r){this.mEle_Pro=null;this.mBtnCur=null;this.mSize=0;this.mHandleUpdate=null;this.mVecLtvs=null;this.mStep=NaN;this.mAreas=null;this.mTotal=NaN;this.mMin=NaN;this.mMax=NaN;this.mMinValue=0;this.mMinX=0;this.mMaxValue=0;this.mMaxX=0;this.mLastMp=0;this.mV_showItv=!1;this.mV_showItvTxt=!1;this.mV_Number=!1;this.mRate=NaN;this.mIndex=NaN;this.mIsC_Set=!1;n===void 0&&(n=618);t===void 0&&(t=!0);i.__super.call(this);this.setClick(r);this.width=this.mSize=n;this.graphics.drawRect(0,-2,this.mSize,4,"#0f192b");this.mEle_Pro=new s;this.mEle_Pro.mouseEnabled=!1;this.mEle_Pro.graphics.drawRect(0,-2,1,4,"#3da2e4");this.addChild(this.mEle_Pro);this.mBtnCur=k.crt_Btn(this,null,"mainUi/coms_slider_btn.png");this.mBtnCur.on("mousedown",this,this.onBtnDown);this.mBtnCur.name=wi.DRAG_BTN_NAME;this.mBtnCur.hitArea=new ct(-10,-10,40,40);this.on("click",this,this.onClick);this.name=this.mBtnCur.name=wi.DRAG_BTN_NAME;this.mBtnCur.pivot(this.mBtnCur.width>>1,this.mBtnCur.height>>1);this.mEle_Pro.width=0;this.mVecLtvs=[];var u=10;this.hitArea=new ct(-u,-16,this.mSize+2*u>>0,32);this.resetParams()}r(i,"FioLibs.displays.coms.slider.FioSlider",n);var t=i.prototype;return t.resetParams=function(){this.mBtnCur.TmpData=null;this.mStep=0;this.mAreas=null;this.mV_Number=!1;this.mRate=1;this.mIndex=-1;this.mMin=this.mMax=this.mMinValue=this.mMinX=this.mMaxValue=this.mMaxX=0},t.getValue=function(){var n=this.mBtnCur.TmpData;return this.mV_Number?n*this.mRate:n},t.getIndex=function(){return this.mIndex},t.setClick=function(n){this.mHandleUpdate&&this.mHandleUpdate.recover();this.mHandleUpdate=n},t.setArea=function(n,t,i){if(i===void 0&&(i=-999999),this.resetParams(),n>t)throw Error("✖✖✖ "+this.mClassName+" setArea():设置的区间值中，最小值不合法");this.mMin=this.mMinValue=n;this.mMax=this.mMaxValue=t;this.mTotal=this.mMax-this.mMin;this.mMinX=0;this.setValue(i);this.mMaxX=this.getX(this.mMaxValue);this.mReqed=this.mIsC_Set=!0},t.setValue=function(n){n=this.formatValue(n);this.mBtnCur.TmpData=n;return this.doJump(n)},t.setMin=function(n){this.mMinValue=this.formatValue(n);this.mMinX=this.getValue()!=this.mMinValue?this.setValue(this.mMinValue):this.getX(this.mMinValue)},t.setMax=function(n){this.mMaxValue=this.formatValue(n);this.mMaxX=this.getValue()>this.mMaxValue?this.setValue(this.mMaxValue):this.getX(this.mMaxValue)},t.formatValue=function(n){return n<this.mMin?n=this.mMin:n>=this.mMax&&(n=this.mMax),n},t.setIntervals=function(n,t,i){if(t===void 0&&(t=-1),i===void 0&&(i=!0),this.resetParams(),!n)throw Error("✖✖✖ "+this.mClassName+" setIntervals():设置的区间值不能为null");if(n.length<2)throw Error("✖✖✖ "+this.mClassName+" setIntervals():设置的区间值至少要2个区间");typeof n[0]=="number"&&(this.mV_Number=!0);this.mAreas=n;this.setSelect(t,i);this.mReqed=this.mIsC_Set=!0},t.setSelect=function(n,t){if(t===void 0&&(t=!0),this.mAreas){var r=this.mAreas.length,i=r-1;this.mStep=this.mSize/i;n>=0&&n<=i&&(this.mIndex=n,this.mBtnCur.TmpData=this.mAreas[n],this.doJump(n,t))}},t.doJump=function(n,t){t===void 0&&(t=!0);var i=this.getX(n);return this.mBtnCur.x=this.mEle_Pro.scaleX=i,t&&this.doCallback(),i},t.getX=function(n){var t=0;return t=0==this.mStep?n/this.mTotal*this.mSize>>0:n*this.mStep>>0,t>this.mSize&&(t=this.mSize),t},t.setRate=function(n){this.mV_Number&&(n<0&&(n=0),n!=this.mRate&&(this.mRate=n,this.mReqed=this.mIsC_Set=!0))},t.showInterval=function(n,t){t===void 0&&(t=!0);this.mV_showItvTxt=t;this.mV_showItv!=n&&(this.mV_showItv=n,this.mReqed=this.mIsC_Set=!0)},t.doSub_Resize=function(){this.mGraphics.width=this.mSize;this.mIsC_Set=!0},t.doSub_UDView=function(){if(this.mIsC_Set){while(this.mVecLtvs.length>0)l.recyle(this.mVecLtvs.shift());if(this.mV_showItv&&this.mStep>0){var n=0,t=this.mAreas.length,i=t-1,r,u=!1;for(n;n<t;n++)t>15&&n>0&&n<i||(r=this.mV_Number?this.mAreas[n]*this.mRate:this.mAreas[n].label,this.mVecLtvs[n]=this.addLtv(this.mStep*n>>0),u=this.mV_showItvTxt?!0:0==n||i==n?!0:10==t&&n%3==0?!0:9==t&&n%2==0?!0:8==t&&(2==n||5==n)?!0:!1,u&&this.mVecLtvs[n].setValue(r));this.checkPass()}else this.mVecLtvs[0]=this.addLtv(0),this.mVecLtvs[0].updateState(!0),this.mVecLtvs[1]=this.addLtv(this.mSize),this.mVecLtvs[1].updateState(!1);this.mIsC_Set=!1}},t.addLtv=function(n){var t=l.get(yw);return t.x=n,this.addChildAt(t,1),t},t.cleartME=function(){this.stage.off("mousemove",this,this.onMoving);this.stage.off("mouseup",this,this.onMoveEnd);this.stage.off("mouseout",this,this.onMoveEnd)},t.onBtnDown=function(){this.mLastMp=-1;this.mBtnCur.selected=!0;this.stage.on("mousemove",this,this.onMoving);this.stage.once("mouseup",this,this.onMoveEnd);this.stage.once("mouseout",this,this.onMoveEnd)},t.onMoving=function(){var n=this.mouseX,t,r,i;if(n<0?n=0:n>this.mSize&&(n=this.mSize),n!=this.mLastMp){if(this.mLastMp=n,this.mStep>0){if(t=Math.round(n/this.mStep),r=this.mAreas[t],r==this.mBtnCur.TmpData)return;this.mBtnCur.TmpData=r;this.mIndex=t;n=t*this.mStep>>0}else i=this.mTotal*(n/this.mSize),n<this.mMinX?(i=this.mMinValue,n=this.mMinX):n>this.mMaxX&&(i=this.mMaxValue,n=this.mMaxX),this.mBtnCur.TmpData=i;this.mEle_Pro.scaleX=this.mBtnCur.x=n;this.doCallback()}},t.onMoveEnd=function(){this.mBtnCur.selected=!1;this.cleartME()},t.doCallback=function(){var n=this.mBtnCur.TmpData;this.mV_Number&&(n=n*this.mRate);this.mHandleUpdate&&this.mHandleUpdate.runWith([n,this]);this.checkPass()},t.onClick=function(n){n.target!=this.mBtnCur&&(this.mLastMp=-1,this.onMoving())},t.checkPass=function(){if(this.mV_showItv&&this.mStep>0){var i=this.mBtnCur.x,n=0,r=this.mVecLtvs.length,t;for(n;n<r;n++)t=this.mVecLtvs[n],t&&t.updateState(t.x<=i)}},e(0,t,"height",n.prototype._$get_height,function(){}),i.create=function(n,t,r,u,f,e){t===void 0&&(t=!0);u===void 0&&(u=0);f===void 0&&(f=0);e===void 0&&(e=618);var o=new i(e,t,r);return o.pos(u,f),n&&n.addChild(o),o},i.H_LINE=4,i}(tr),ib=function(n){function u(){this.MixCon=null;u.__super.call(this);this.mouseEnabled=!0;this.MixCon=new p}r(u,"games.windows.me.shop.ShopGood_Base",n);var t=u.prototype;return i.imps(t,{"FioLibs.interfaces.IFio_Recyle":!0}),t.recyle=function(){this.removeSelf();this.dtyTex();this.TmpData=null},t.setVo=function(n){this.dtyTex();this.doSetVo(this.TmpData=n);this.callLater(this.reTex)},t.doSetVo=function(){},t.reTex=function(){this.texture=cf.getTex(this.MixCon,this.mWidth,this.mHeight,0,0)},t.dtyTex=function(){this.texture&&this.texture.destroy(!0);this.texture=null},u}(p),rb=function(n){function t(n){var e,o;this.mCtrl=null;this.mSltEff=null;t.__super.call(this);this.mWidth=536;e="matches/mm_bg";o="pDesk_0";this.TmpData=!1;n&&(e="matches/mm_poker",o="pDesk_1",this.TmpData=!0);this.graphics.fillText(u.lang(o),0,0,28,"#3b4f62");this.mHeight=40;var s=4,f=0,c=0,l=0,a=[],r=1,i;for(r;r<=s;r++)i=new st(e+r+".png"),0==l&&(f=i.width,c=i.height,l=f+(this.mWidth-s*f)/(s-1)>>0),i.TmpData=r,i.pos(l*(r-1),this.mHeight),a.push(i),this.addChild(i);this.mCtrl=new we(h.create(this,this.onClick,null,!1),a);this.mSltEff=new tr;this.mSltEff.pos(0,this.mHeight);this.mSltEff.mouseEnabled=!1;k.loadImgBg(this.mSltEff,"mmSelect1",null,f,c-32);this.mHeight+=c}r(t,"games.matchCores.panels.styles.MpStyle_Style",n);var i=t.prototype;return i.onClick=function(n,t){if(n&&t){this.mSltEff.pos(n.x,n.y);this.mSltEff.parent||this.addChild(this.mSltEff);var i=n.TmpData,r=f.Account.Cookie;this.TmpData?i!=r.Style_Poker&&(r.Style_Poker=i,r.save(),oi.notify(411,i)):i!=r.Style_Bg&&(r.Style_Bg=i,r.save(),oi.notify(410,i))}},i.select=function(n){this.onClick(this.mCtrl.getElements()[n-1],!0)},t}(p),ys=function(n){function t(n,i,r){var c;this.mCallback=null;this.mItems=null;r===void 0&&(r=10);t.__super.call(this);this.mCallback=i;c=h.create(this,this.onClick,null,!1);this.mItems=[];var l=u.obj(n),e=0,a=l.length,f,o;for(this.mHeight=2,e;e<a;e++){if(o=l.shift(),!o){this.mHeight+=r;continue}f=this.creatIns(o);f.setClick(c);this.mItems[e]=f;f.y=this.mHeight;this.mHeight+=f.height+r;this.addChild(f)}this.mWidth=f.width>>0;this.x=s.MAX_W-this.mWidth>>1}r(t,"games.UD_Displays.menus.UD_Menus_Base",n);var i=t.prototype;return i.creatIns=function(n){return new iv("udList2",n,!0)},i.onClick=function(n){this.mCallback&&this.mCallback.runWith(n.TmpData)},i.getMenuIns=function(n){if(this.mItems){var t=0,r=this.mItems.length,i;for(t;t<r;t++)if(i=this.mItems[t],i&&i.TmpData==n)return i}return null},t}(p),cct=function(n){function t(n,i){var r,e;this.mJackNum=null;this.mScon=null;this.mJpLists=null;t.__super.call(this);this.toSize(n,i);r=ai.CrtIns(0,u.lang("jack_0_0"));this.toXCenter(r);this.addChild(r);this.mJackNum=new bs(!1,4);this.mJackNum.pos(this.mWidth-this.mJackNum.width>>1,44);this.addChild(this.mJackNum);r=ai.CrtIns(0,u.lang("jack_0_1"));r.pos(this.mWidth-r.width>>1,152);this.addChild(r);e=190;this.mScon=new br(this.mWidth,this.mHeight-e,0);this.mScon.y=e;this.mScon.ItemAdd(this.mJpLists=new gb(256,24,!1));this.mJpLists.JpNum=this.mJackNum;this.addChild(this.mScon);f.Match.regist(478,this.mJpLists.updateAll,this.mJpLists)}r(t,"games.matchCores.panels.dzdp.jackpot.MpJkpot_View",n);var i=t.prototype;return i.onEnable=function(){this.mScon.toTop();f.Match.reqJackLev();this.mJackNum.showValue(0)},t}(p),fi=function(n){function t(n,i){this.AutoCx=!1;this.mIconGap=0;this.mGap=0;this.mType=-1;this.mIcon=null;this.mTxt=null;this.mTxtPre=null;i===void 0&&(i=8);t.__super.call(this);this.mouseEnabled=!1;this.mGap=i;this.mIcon=new st(null);this.addChild(this.mIcon);this.setType(n);this.mTxt=w.quickCreate();this.mTxt.padding=t.sPadding;this.mTxt.x=this.mIconGap;this.addChild(this.mTxt);this.setFont("#6391d5",22)}r(t,"games.UD_Displays.res.UD_Res",n);var i=t.prototype;return i.setType=function(n){n!=this.mType&&(this.mType=n,this.texture=null,6==n?(this.mIcon.setRes(null),this.mIconGap=this.mGap,this.mHeight=24):(this.mIcon.setRes("mainUi/resIcon_"+this.mType+".png"),this.mIconGap=this.mIcon.width+this.mGap>>0,this.mHeight=this.mIcon.height>>0),this.mTxt&&(this.showPre(null,!1),this.setFont(null,this.mTxt.fontSize)),this.checkCx())},i.showValue=function(n,t,i){t===void 0&&(t=!1);i===void 0&&(i=!0);var r;r=i?a.NumToStr(n):n;t&&(this.mTxt.color=a.getColor(n));this.mTxt.text=r;this.mWidth=this.mTxt.x+this.mTxt.width+2>>0;this.checkCx()},i.setFont=function(n,t){if(t===void 0&&(t=0),n&&(this.mTxt.color=n),t>0){this.mTxt.fontSize=t;var i=this.mTxt.text;this.mTxt.text="啊";this.mTxt.y=this.mHeight-this.mTxt.height+4>>1;this.mTxt.text=i;this.mWidth=this.mTxt.x+this.mTxt.width+2>>0;this.checkCx()}},i.showPre=function(n,i,r,f){var e,o;i===void 0&&(i=!0);f===void 0&&(f=0);e=i?u.lang(n):n;e?(this.mTxtPre||(this.mTxtPre=w.quickCreate(this.mTxt.fontSize,this.mTxt.color),this.mTxtPre.padding=t.sPadding),r&&(this.mTxtPre.color=r),f>0&&(this.mTxtPre.fontSize=f),this.mTxtPre.text=e+" ",this.mTxtPre.y=this.mHeight-this.mTxtPre.height>>1,this.addChild(this.mTxtPre),o=this.mTxtPre.textWidth+4>>0,this.mIcon.x=o,this.mTxt.x=o+this.mIconGap):this.mTxtPre&&(this.mIcon.x=0,this.mTxtPre.removeSelf(),this.mTxt.x=this.mIconGap);this.mWidth=this.mTxt.x+this.mTxt.width+2>>0;this.checkCx()},i.checkCx=function(){this.AutoCx&&this.callLater(this.toCx)},i.toCx=function(){this.pivotX=this.mWidth>>1},i.getText=function(){return this.mTxt.text},e(0,i,"width",n.prototype._$get_width,function(){}),e(0,i,"height",n.prototype._$get_height,function(){}),t.create=function(n,i,r,u){u===void 0&&(u=8);var f=new t(n,u);return f.pos(i,r),f},t.T_NULL=6,t.T_GOLD=0,t.T_SCORE=1,t.T_DIAMOND=2,t.T_SCORESHOP=8,t.T_JFP=10,t.T_RMB=11,t.T_GOLD_20=20,t.T_SCORE_21=21,t.T_DIAMOND_22=22,t.T_GOLD_120=120,t.T_SCORE_121=121,t.T_DIAMOND_122=122,t.T_JFP_123=123,t.TYPE_DESK_GOLD=30,t.TYPE_DESK_PNUM=31,t.TYPE_DESK_TIME=32,t.TYPE_DESK_TIME00=3200,t.TYPE_PAIPU_TIME=33,t.TYPE_DESK_SCORE=35,t.TYPE_DESK_NUM=36,t.TYPE_MTT_GOLD=37,t.TYPE_MTT_SCORE=38,t.TYPE_SNG_SPESCORE=39,t.TYPE_MATCH_BB=41,t.TYPE_MATCH_TIME=42,t.TYPE_JP=43,t.TYPE_CLUB_MONEY=50,t.T_VIP_0=60,t.T_VIP_1=61,t.T_VIP_2=62,t.T_VIP_3=63,t.T_VIP_4=64,t.T_ME_GOLD=70,t.T_ME_SCORE=71,t.T_ME_DIM=72,t.T_ME_VIP=79,t.T_SHOP_GOLD=110,t.T_SHOP_SCORE=111,t.T_SHOP_DIM=112,t.T_SHOP_VIP=119,t.TYPE_MTT_REWARD_GOLD=91,t.TYPE_MTT_REWARD_SCORE=94,t.TYPE_MTT_TICKET=93,t.TYPE_GAME_TYPE=199,t.TYPE_MTT_EB_P=300,t.TYPE_MTT_EB=301,t.TYPE_MTT_PM=302,t.TYPE_MTT_MDGC=303,t.TYPE_MTT_TB=304,t.GT_GJPK=330,t.GT_DP=331,t.GT_AMH=332,d(t,["sPadding",function(){return this.sPadding=[wr.IsApp?-2:1,0,0,0]}]),t}(p),ofi=function(n){function t(){this.mIcon=null;this.mDesc=null;this.mRes=null;t.__super.call(this);var n=80,i=this.mHeight-n>>1;this.mIcon=new s;this.mIcon.mouseEnabled=!1;this.mIcon.size(n,n);this.mIcon.pos(16,i);this.addChild(this.mIcon);this.mDesc=w.quickCreate(24,"#5680be");this.mDesc.text="啊";this.addChild(this.mDesc);this.mRes=new fi(1);this.mRes.y=this.mHeight-this.mRes.height>>1;this.addChild(this.mRes)}r(t,"games.windows._club.funds.mgr.Item_Ec",n);var i=t.prototype;return i.setVo=function(n){this.TmpData=n;this.mDesc.text=n.desc;this.mIcon.loadImage(wt.getShopIcon(n.icon));this.mRes.showValue(n.price);this.mRes.x=this.mWidth-this.mRes.width-32},t}(p),ub=function(n){function t(n,r,u,f){if(this.BtnHelp=null,this.mTttl=null,this.mTval=null,r===void 0&&(r=!0),f===void 0&&(f=!0),t.__super.call(this),this.mouseEnabled=!0,this.toSize(710,88),this.toXCenter(),f&&this.graphics.drawRoundRect(20,this.mWidth,this.mHeight,"#386ebf40"),this.mTttl=w.quickCreate(28,"#b2d6fb"),this.mTttl.setVh(this.mHeight),this.mTttl.x=28,this.mTttl.text=n,this.addChild(this.mTttl),r){var e=i.loader.getRes("mainUi/arrow1.png");e&&this.graphics.drawImage(e,this.mWidth-20-e.width>>0,this.mHeight-e.height>>1)}this.BtnHelp=new ve(null);u&&(this.BtnHelp.setTips(u),this.BtnHelp.pos(this.mWidth-this.BtnHelp.width-40,this.mTttl.y),this.addChild(this.BtnHelp));this.mTval=w.quickCreate(24,"#64ace9");this.mTval.setVh(this.mHeight);this.mTval.leading=10;this.mTval.x=this.mTttl.x+this.mTttl.width+24>>0;this.mTval.TmpData=this.mTttl.y+.5*(this.mTttl.height+this.mTval.leading)+1>>0;this.addChild(this.mTval)}r(t,"games.windows.matches.creators.utils.CrtMatch_Menu",n);var u=t.prototype;return u.updateText=function(n){this.mTval.text=n||"";this.mTval.y=this.mTval.TmpData-.5*this.mTval.height>>0},t}(p),lct=function(n){function t(){this.mVecMessages=null;this.mTxt=null;this.mWorking=!1;this.mTW=0;this.mScrolling=!1;this.mGap=0;t.__super.call(this);this.mouseEnabled=!1;this.mHeight=50;this.graphics.drawRect(0,0,this.mWidth,this.mHeight,"#052023a0");this.mGap=c.onPC?6:10;this.mVecMessages=[];this.addChild(this.mTxt=new fu)}r(t,"FioLibs.displays.flyMessage._MsgMarquee",n);var f=t.prototype;return f.clear=function(){this.removeSelf();this.mTxt.Tex_Clear();this.mWorking=!1;this.mVecMessages.length=0;i.timer.clearAll(this)},f.showMessage=function(n){n&&n.length>0&&(this.mVecMessages.push(n),this.mWorking||(this.mWorking=!0,this.stage.addChild(this),i.timer.frameLoop(1,this,this.doMarqueue)))},f.doMarqueue=function(){this.mScrolling?this.mTxt.x>this.mTW?this.mTxt.x-=1:this.mScrolling=!1:this.mVecMessages.length>0?(this.mTxt.crtTitle(u.lang("flyMsg_style_0",this.mVecMessages.shift())),this.mTxt.pos(this.mWidth,this.mHeight-this.mTxt.height-this.mGap>>1),this.mTW=-this.mTxt.width>>0,this.mScrolling=!0):this.clear()},t}(p),act=function(n){function t(n,i){this.mTitle=null;this.mJackNum=null;t.__super.call(this);this.toSize(n,i);this.mTitle=new g;this.addChild(this.mTitle);this.mJackNum=new bs(!1,4);this.mJackNum.pos(this.mWidth-this.mJackNum.width>>1,44);this.addChild(this.mJackNum);var r=st.CrtImg("mainUi/jack_pot.png");r.pos(this.mWidth-r.width+8>>1,152);this.addChild(r)}r(t,"games.matchCores.panels.dzdp.jackpot.MpJkpot_Intro",n);var i=t.prototype;return i.onEnable=function(){this.mTitle.innerHTML=u.lang("jack_1_0",f.Match.MatchVo.getBetStr());this.toXCenter(this.mTitle);this.mJackNum.showValue(f.Match.JackValue)},t}(p),ff=function(n){function t(n,i){this.mHitArea=null;n===void 0&&(n=!1);i===void 0&&(i=!1);t.__super.call(this);this.mouseEnabled=!0;this.hitArea=this.mHitArea=new ct(0,0,s.MAX_W,s.MAX_H);n&&this.on("mousedown",this,this.onClkThis);i&&this.on("click",this,this.onClickCheck)}r(t,"FioLibs.displays.Mask_Area",n);var i=t.prototype;return i.Close=function(){this.removeSelf()},i.onClickCheck=function(){var n=this.mouseX,t=this.mouseY;(n<0||t<0||n>this.mWidth||t>this.mHeight)&&this.Close()},i.updateMask=function(n){this.mHitArea.x=-this.x;this.mHitArea.y=-this.y;this.graphics.clear();this.graphics.drawRect(-this.x,-this.y,this.mHitArea.width,this.mHitArea.height,n||"#00000066")},i.onClkThis=function(){var n=this.mouseX,t=this.mouseY;(n<0||t<0||n>this.mWidth||t>this.mHeight)&&et.shake(200,!0)},t}(p),vct=function(n){function i(n){this.mClsHd=null;this.mIndex=0;this.mSID=0;this.mNick=null;this.mDicBtns=null;this.mIdxsRace=null;this.mIdxsOth=null;i.__super.call(this);this.mClsHd=n;this.mDicBtns={};this.mIdxsRace=u.obj("pvp_menuIdx_race");this.mIdxsOth=u.obj("pvp_menuIdx_normal");var o=h.create(this,this.onClkBtn,null,!1),f=u.obj("pvp_menuAll"),r,e,t;for(r in f)e=f[r],delete f[r],t=k.crt_Btn(null,r>9?"btnAlert21":"btnAlert11",null,0,0,138),t.label=e.label,t.TmpData=e.data,t.setClick(o),this.mDicBtns[r]=t;this.toSize(606,t.height+2>>0)}r(i,"games.matchCores.panels.lookPlayer.MpLkPlayer_Menu",n);var t=i.prototype;return t.DoReset=function(){for(this.removeSelf();this.numChildren>0;)this.removeChildAt(0);this.mIndex=this.mSID=0;this.mNick=""},t.setBase=function(n,t){this.mSID=n;this.mIndex=t},t.Start=function(n,t,i){var o,h;this.mNick=n;var s=t?this.mIdxsRace:this.mIdxsOth,r=0,f=s.length,u,e=0;for(r;r<f;r++)e=s[r],!0==i[e]&&(e+=10),u=this.mDicBtns[e],u&&this.addChild(u);for(f=this.numChildren,o=this.mWidth/f>>0,h=o-u.width>>1,r=0;r<f;r++)u=this.getChildAt(r),u.x=h+o*r},t.onClkBtn=function(n){switch(n.TmpData){case 1100:f.Match.reqJy(this.mSID,1);break;case 1200:f.Match.reqJy(this.mSID,0);break;case 1101:pt.Alert(u.lang("pvp_tp_alert",this.mNick),this,null,[this.toTp,null]);return;case 1201:f.Match.reqTP(this.mSID,0);break;case 1102:f.Match.reqOtherOut(this.mSID);break;case 1202:f.Match.reqOtherUnOut(this.mSID);break;case 1109:f.Match.reqOtherUp(this.mIndex)}this.mClsHd&&this.mClsHd.run()},t.toTp=function(){this.mSID>0&&f.Match.reqTP(this.mSID,1);this.mClsHd&&this.mClsHd.run()},i}(p),cr=function(n){function t(){this.mEff=null;this.mTip=null;t.__super.call(this);this.mouseEnabled=!0;t.s_ins||(t.s_ins=this);this.mEff=new ro;this.mEff.mouseEnabled=!1;this.mEff.load("res/dragons/980.sk");this.addChild(this.mEff);this.mTip=new ue;this.mTip.mouseEnabled=!1;this.mTip.style.fontSize=24;this.mTip.style.color="#00cc00";this.mTip.style.align="#center";this.mTip.style.lineHeight=36;this.mTip.style.leading=0;this.mTip.style.wordWrap=!1;this.addChild(this.mTip);rw.addIns(this)}r(t,"FioLibs.displays.Fio_EffMsg",n);var u=t.prototype;return i.imps(u,{"FioLibs.interfaces.IFio_Resize":!0}),u.onStageResize=function(n,t){this.mWidth=n;this.mHeight=t;this.graphics.clear();this.graphics.drawRect(0,0,this.mWidth,this.mHeight,"#00000050");this.mEff.pos(this.mWidth>>1,this.mHeight>>1);this.mTip.pos(this.mWidth-this.mTip.contextWidth>>1,this.mEff.y+48)},u.show=function(n,t){n>0?(this.parent||this.mEff.player&&this.mEff.play(0,!0),this.stage.addChild(this),this.mTip.innerHTML=t||"",t&&this.mTip.pos(this.mWidth-this.mTip.contextWidth>>1,this.mEff.y+48)):(this.removeSelf(),this.mEff.stop())},t.show=function(n,i){t.s_ins||new t;t.s_ins.show(n,i)},t.s_ins=null,t}(p),yct=function(n){function i(){var n,t;this.mMsg=null;this.mModules=null;this.mCurModu=null;this.mType=0;this.mDs_User=null;this.mTitleStr=null;this.mCore=null;i.__super.call(this);this.mouseEnabled=!0;this.size(this.mWidth=s.MAX_W,this.mHeight=s.MAX_H);this.loadImage("lunch/sceneBg.png");ui.InitConfigs(rt.GameConfigs.playerCoords);this.mMsg=new tg(null);this.mMsg.pos(s.MAX_W-this.mMsg.width-24>>0,20);this.addChild(this.mMsg);n=80;this.addChild(i.mMainUI=new vat(h.create(this,this.onTypeChange,null,!1)));this.mDs_User=f.Account;hr.MyDetail=this.mDs_User.Detail;hr.UpdateNumHandler=h.create(this,this.updateNum,null,!1);hr.VIEW_HEIGHT=s.MAX_H-n-i.mMainUI.height-6>>0;this.mModules={};this.mModules[0]=new hvt;this.mModules[1]=new eat;this.mModules[2]=new rct;this.mModules[3]=new blt;this.mModules[4]=new bat;for(t in this.mModules)this.mModules[t].y=n;this.mDs_User.regist(200,this.get200,this);f.Desk.regist(302,this.startMatch,this);f.Match.regist(412,this.stopMatch,this);f.Match.regist(443,this.get443,this)}r(i,"games.scene.GameScene",n);var t=i.prototype;return t.toCloseAll=function(){this.removeSelf();this.StopCore();this.mCurModu&&this.mCurModu.Stop(!0);this.mCurModu=null},t.Start=function(){this.StopCore();f.reqFirst()},t.get200=function(n){cr.show(0);tf.ins.maskRemove();wt.updateLog(n.SID);rt.IS_SUPER=2==n.Lev;et.sInitGme();et.reqRecordStop(!0);eu.sSetStyle(this.mDs_User.Cookie.Style_Poker);n.HasInfo?n.RoomID>0?this.startMatch(0):this.stopMatch(0):b.OpenWin(4,!0)},t.startMatch=function(n){if(n===void 0&&(n=0),cr.show(0),0==n){this.StopCore();tf.ins.maskShow();this.removeSelf();this.mCurModu&&this.mCurModu.Stop(!0);this.timer.once(50,this,this.StartCore)}else this.stopMatch(0)},t.stopMatch=function(n){0==n&&(this.StopCore(),this.mCurModu?(this!=this.mCurModu.parent&&this.addChildAt(this.mCurModu,0),this.mCurModu.Start(this)):i.mMainUI.Start(this.mDs_User.Detail.InviteNum>0?1:2),this.parent||tu.Add(this,!0))},t.get443=function(n){if(1==n){cr.show(1,u.lang("syncData"));this.timer.once(1100,this,this.startMatch)}},t.get301=function(n,t,r){0==n&&r>0&&t>0&&(this.StopCore(),i.mMainUI.Start(2))},t.onTypeChange=function(n){this.mTitleStr=n.label;var t=this.mModules[this.mType=n.TmpData];t!=this.mCurModu&&(this.mCurModu&&this.mCurModu.Stop(!1),this.mCurModu=t,this.mCurModu&&(this.addChildAt(this.mCurModu,0),this.mCurModu.Start(this)),ei.PlayEff(100),this.mMsg.visible=this.mType!=0)},t.updateNum=function(){},t.StartCore=function(){ki.Close();ea.ins.toCloseAll();this.mCore||(this.mCore=new igt);this.mCore.parent||tu.Add(this.mCore,!0);this.mCore.start()},t.StopCore=function(){ki.Close();this.mCore&&this.mCore.stop()},i.mMainUI=null,i}(p),pct=function(n){function i(n,t){var f,r;this.mTime_htm=null;this.mTime_sld=null;this.mMaxBring_htm=null;this.mMaxBring_sld=null;this.mBringMax=null;i.__super.call(this);this.mWidth=n;f=h.create(this,this.onItemChange,null,!1);this.addChild(this.mTime_htm=new g);this.mTime_sld=new ps(this.mWidth,f);this.mTime_sld.y=40;this.mTime_sld.Slider.setIntervals(u.obj("pSet_11"));this.mTime_sld.Slider.showInterval(!0);this.addChild(this.mTime_sld);this.mMaxBring_htm=new g;this.mMaxBring_htm.y=this.mTime_sld.y+this.mTime_sld.height+28>>0;this.addChild(this.mMaxBring_htm);this.mBringMax=ot.CFG_DZ.VecSliders[9].data;this.mMaxBring_sld=new ps(this.mWidth,f);this.mMaxBring_sld.y=this.mMaxBring_htm.y+40;this.addChild(this.mMaxBring_sld);this.onItemChange();r=k.crt_Btn(this,"btnAlert11",null,0,this.mMaxBring_sld.y+this.mMaxBring_sld.height+16>>0);r.label=u.lang("sure");this.toXCenter(r);r.TmpData=-999;r.setClick(t);this.mHeight=r.y+r.height+8>>0}r(i,"games.matchCores.panels.settings.dzdp.MpStDzdp_Admin",n);var t=i.prototype;return t.onItemChange=function(){this.mTime_htm.innerHTML=u.lang("pSet_10",this.mTime_sld.Slider.getValue());var n=this.mMaxBring_sld.Slider.getValue();n||(n=this.mBringMax[0]);this.mMaxBring_htm.innerHTML=u.lang("pSet_12",a.NumToStr(n.label))},t.syncBringMax=function(n,t){var i=0,e=this.mBringMax.length,r,f=0,u=0;for(i;i<e;i++)(r=this.mBringMax[i],r.data>1999e4)||(u=n*r.data,r.label=u+"",u==t&&(f=i));this.mMaxBring_sld.Slider.setIntervals(this.mBringMax,f);this.mMaxBring_sld.Slider.showInterval(!0)},t.onEnable=function(){this.mTime_sld.Slider.setSelect(0);this.syncBringMax(f.Match.MatchVo.littleBB,f.Match.MatchVo.suringMax)},t.getTime=function(){return this.mTime_sld.Slider.getValue()*60},t.getMaxBring=function(){var t=this.mMaxBring_sld.Slider.getValue(),n;return t||(t=this.mBringMax[0]),n=parseInt(t.label)||0,n<1&&(n=2e7),n},i}(p),wct=function(n){function t(){this.Num=0;t.__super.call(this);this.mouseEnabled=!1;this.mWidth=96;this.mHeight=126;this.setNum(-1)}r(t,"games.windows.matches.invite.UD_NumRect",n);var i=t.prototype;return i.setNum=function(n){this.Num=Number(n)>>0;this.graphics.clear();n>-1?(this.graphics.drawRoundRect(16,96,126,null,0,0,"#b2d6fb"),this.graphics.fillText(""+this.Num,48,t.Y_S,t.SIZE_FONT,"#b2d6fb","center")):this.graphics.drawRoundRect(16,96,126,"#386ebf40")},t.SIZE_W=96,t.SIZE_H=126,t.ROUND=16,t.SIZE_FONT=72,d(t,["Y_S",function(){return this.Y_S=c.onPC?4+.5*(126-t.SIZE_FONT)>>0:.5*(126-t.SIZE_FONT)-4>>0}]),t}(p),fb=function(n){function t(){if(t.__super.call(this),this.mouseEnabled=!1,0==t.sH){t.sDic={};var r,n=function(n){r=i.loader.getRes("mainUi/resIcon_"+n+".png");t.sDic[n]=r};n(330);n(331);n(332);n(303);n(302);n(301);n(300);t.sH=r.height}this.mHeight=t.sH}r(t,"games.windows.matches.matchLists.MatchList_Flag",n);var u=t.prototype;return u.DoReset=function(){this.mWidth=0;this.graphics.clear()},u.setGt=function(n){this.DoReset();this.addIns(330+n)},u.setMttFlag=function(n){n&&(n.paomo&&this.addIns(302),n.zntehui?this.addIns(301):n.znpuhui&&this.addIns(300),n.timeBank&&this.addIns(304),n.madaocg&&this.addIns(303))},u.addIns=function(n){var i=t.sDic[n];i&&(this.mWidth>0&&(this.mWidth+=8),this.graphics.drawImage(i,this.mWidth),this.mWidth+=i.width)},t.sDic=null,t.sH=0,t}(p),bct=function(n){function i(n){var t,r;this.Cost=0;this.mCost=null;this.mRest=null;this.mIcon=null;this.mMenus=null;this.mMenuHandler=null;this.mI_Nick=null;this.mBtnSex1=null;this.mBtnSex2=null;this.mI_Sign=null;this.mSex=0;this.mBtnSubmit=null;i.__super.call(this);this.mWidth=710;this.mHeight=960;this.toXCenter();this.graphics.drawRoundRect(20,this.mWidth,this.mHeight,"#386ebf40");this.Cost=Number(u.lang("userinfo_tip_cost"));t=160;this.mIcon=new hi(t,!0);this.mIcon.loadIcon(null);this.mIcon.pos(this.mWidth-t>>1,40);this.mIcon.on("click",this,this.onClkIcon);this.addChild(this.mIcon);this.mIcon.mLabel.y=t+28;this.mIcon.setLabel(u.lang("userinfo_icon_tip"),28,"#5680be");r=k.crt_Btn(this,null,"iconFrames/res_btn.png");r.pos(this.mIcon.x+t+60,this.mIcon.y+.5*(t-r.height)>>0);r.on("click",this,this.onClkIfs);this.mMenus=u.obj("userinfo_menus");this.mMenuHandler=h.create(this,this.onMenu,null,!1);this.mI_Nick=new ls(4,"userinfo_nick","userinfo_tip_nick",320);this.mI_Nick.pos(this.mWidth-this.mI_Nick.width>>1,298);this.addChild(this.mI_Nick);this.mI_Nick.iInput.maxChars=12;this.mI_Nick.iInput.restrict="^ \\/><&#";this.mI_Nick.iInput.type="text";this.mRest=new g;this.mRest.style.valign="top";this.mRest.innerHTML=u.lang("userinfo_rest",1);this.mRest.pos(this.mI_Nick.x+352,this.mI_Nick.y+this.mI_Nick.iInput.y+.5*(this.mI_Nick.iInput.height-this.mRest.height)>>0);this.addChild(this.mRest);this.mRest.innerHTML="";this.mI_Sign=new ls(3,"userinfo_sign","userinfo_tip_sign");this.mI_Sign.pos(this.mWidth-this.mI_Sign.width>>1,552);this.addChild(this.mI_Sign);this.mI_Sign.iInput.maxChars=36;this.mI_Sign.iInput.restrict="^ <>";this.mI_Sign.iInput.type="text";this.mBtnSex1=k.crt_Btn(this,"sex",null,106,456);this.mBtnSex1.TmpData=1;this.mBtnSex1.label=u.lang("sex_1");this.mBtnSex1.setClick(n);this.mBtnSex2=k.crt_Btn(this,"sex","mainUi/coms_btn_Sex_2.png",476,456);this.mBtnSex2.TmpData=2;this.mBtnSex2.label=u.lang("sex_2");this.mBtnSex2.setClick(n);this.mBtnSubmit=k.crt_Btn(this,"login",null,0,808);this.mBtnSubmit.TmpData=11;this.toXCenter(this.mBtnSubmit);this.mBtnSubmit.setClick(n);this.mBtnSubmit.label=u.lang("reg_2")}r(i,"games.windows.accounts.user.UserInfo_View",n);var t=i.prototype;return t.onClkIcon=function(){dr.ins.pop(this.mMenus,this.mMenuHandler)},t.onClkIfs=function(){b.OpenWin(212)},t.onMenu=function(n){switch(n){case 1:b.OpenWin(7);break;case 2:f.Account.Detail.nextIcon&&ph.openUpload(0)}},t.onDisable=function(){dr.ins.Close()},t.setBase=function(n,t,i,r){this.mI_Nick.setValue(n);this.mI_Sign.setValue(t);this.mI_Sign.visible=r;this.mRest.innerHTML=i<1?u.lang("userinfo_need",this.Cost):u.lang("userinfo_rest",i)},t.updateIcon=function(n){this.mIcon.loadIcon(n)},t.setSex=function(n,t){var i,r;this.mSex=n;i=1==n;this.mBtnSex1.selected=i;this.mBtnSex2.selected=!i;t&&(r=i?this.mBtnSex1:this.mBtnSex2,r.forceClick())},t.getSex=function(){return this.mSex},t.getNick=function(){return this.mI_Nick.getValue(!1)},t.getSign=function(){return this.mI_Sign.getValue(!1)},i}(p),kct=function(n){function t(n){var f,r;this.COLORS=["#5680be","#b2d6fb"];this.AREAS=[.1,.3,.5,.7,.9];this.NUM_MAX=5;this.BASE_W=16;this.BASE_H=8;this.RADIUS=222;this.mTxt=null;this.mWave=null;this.mBcc=null;this.mSx=null;this.mSp=null;this.mBindBtn=null;this.mIng=!1;this.mDution=0;this.BASE_GAP=this.BASE_H+10;t.__super.call(this);t.ins=this;this.mouseEnabled=!1;this.size(334,314);f=this._height-64>>0;this.pos(s.MAX_W-this._width>>1,s.MAX_H-f>>1);k.loadImgBg(this,"dp1");r=new s;r.mouseEnabled=!1;r.graphics.drawTexture(i.loader.getRes("matches/mm_mic.png"),50,44);r.graphics.fillText(u.lang("mm_micTip"),this._width>>1,f,28,"#5680be","center");this.addChild(r);this.mTxt=w.quickCreate(64,"#5d7fbf");this.mTxt.text="";this.mTxt.pos(180,50);this.addChild(this.mTxt);this.mWave=new s;this.mWave.mouseEnabled=!1;this.mWave.pos(this.mTxt.x+8>>0,f-32);this.mWave.scaleY=-1;this.addChild(this.mWave);this.mSx=new s;this.mSx.graphics.drawPie(0,0,this.RADIUS,180,270,"#233a5b");this.mSx.pos(s.MAX_W,s.MAX_H);this.mBcc=st.CrtImg("mainUi/micCancel.png",-this.RADIUS-42);this.mBcc.y=-this.RADIUS-.35*this.mBcc.height>>0;this.mSx.addChild(this.mBcc);this.mSp=new kt(s.MAX_W,s.MAX_H);this.mBindBtn=n;this.mBindBtn.setClick(null);this.mBindBtn.on("mousedown",this,this.doStart);et.regShellFun("oTj_OnMic",t.oTj_OnMic);tf.ins.addIns(this);this.doReset()}r(t,"games.matchCores.desk.views.DmView_Recorder",n);var e=t.prototype;return i.imps(e,{"FioLibs.interfaces.IFio_BackFront":!0}),e.doReset=function(){this.removeSelf();this.mSx.removeSelf();this.mBcc.alpha=.4;this.stage.off("mouseup",this,this.onUp);this.stage.off("mousemove",this,this.onMove);this.stage.off("mouseout",this,this.onOut);this.showVolume(0,0);this.mIng&&et.reqRecordStop(!0);this.mIng=!1},e.doStart=function(){if(!this.mIng)if(et.IsMnq)ut.showMessage("mm_micMnq");else if(et.isShell()){this.doReset();this.mIng=!0;et.reqRecord();tu.Add(this);this.onMove();tu.Add(this.mSx);this.stage.on("mouseup",this,this.onUp);this.stage.on("mousemove",this,this.onMove);this.stage.on("mouseout",this,this.onOut)}else ut.showMessage("mm_micError2")},e.onBackFront=function(n){n||this.onOut()},e.onOut=function(){this.mIng&&(ut.showMessage("mm_micCancle"),this.doReset())},e.onUp=function(){if(this.mIng){var n=this.mSp.distance(this.stage.mouseX,this.stage.mouseY)>>0;n>this.RADIUS?this.onOut():(et.reqRecordStop(!1),this.mIng=!1,this.doReset())}},e.onMove=function(){var n=this.mSp.distance(this.stage.mouseX,this.stage.mouseY)>>0;this.mBcc.alpha=n>this.RADIUS?1:.6},e.onMicChanged=function(n,t,i){switch(n){case 0:this.doReset();ut.showMessage("mm_micError");break;case 1:t||(t=0);i||(i=0);this.showVolume(t,i);break;case 2:t&&f.Match.reqMic(t,this.mDution);i&&f.Match.sendChat("[mic]"+i);this.doReset()}},e.showVolume=function(n,t){this.mWave.graphics.clear();var i=0;for(i;i<this.NUM_MAX;i++)this.mWave.graphics.drawRoundRect(4,30+this.BASE_W*i,this.BASE_H,this.COLORS[n>this.AREAS[i]?1:0],0,this.BASE_GAP*i);this.mDution=t;this.mTxt.text=t+"S"},t.oTj_OnMic=function(n){var i=JSON.parse(n);t.ins&&t.ins.onMicChanged(i.state,i.v1,i.v2)},t.ins=null,t}(tr),dct=function(n){function u(n,t){this.Vo=null;this.mTno=null;this.mTval=null;this.mEdit=null;u.__super.call(this);this.toSize(710,60);this.Vo=new iu;this.mTno=w.quickCreate(26,"#b2d6fb");this.mTno.setVh(this.mHeight);this.mTno.text=""+n;this.mTno.x=108-.5*this.mTno.width>>0;this.addChild(this.mTno);this.mTval=w.quickCreate(26,"#b2d6fb");this.mTval.setVh(this.mHeight);this.addChild(this.mTval);this.mEdit=st.CrtEdit();this.mEdit.pos(this.mWidth-this.mEdit.width-42,this.mHeight-this.mEdit.height>>1);this.mEdit.mouseEnabled=!0;this.mEdit.TmpData=t;this.mEdit.on("click",this,this.openZdy);this.addChild(this.mEdit)}r(u,"games.windows.matches.creators.sng.rewards.SngRwd_Item",n);var t=u.prototype;return i.imps(t,{"FioLibs.interfaces.IFio_Recyle":!0}),t.openZdy=function(){b.OpenWin(311,this.Vo,h.create(this,this.onCallback),!0)},t.onCallback=function(){this.mEdit.TmpData.run()},t.recyle=function(){this.removeSelf()},t.update=function(){this.mTval.text=this.Vo.getStr();this.mTval.x=this.mEdit.x-24-this.mTval.width>>0},u}(p),eb=function(n){function t(n){this.mIsSelf=!1;this.mCdR=null;this.mCdG=null;this.mMasker=null;this.mTxt=null;this.mParticle=null;this.mHw=0;this.mHh=0;this.mRo=0;this.mTe=NaN;this.mTotal=NaN;this.mTnear=NaN;this.mSpeed=NaN;this.mIsNear=!1;this.mIsOver=!1;this.mFrm=0;this.mRev_call=null;this.mRev_rate=NaN;this.mTs=0;t.__super.call(this);this.mouseEnabled=!1;this.mRev_call=n;this.setPlayRate(1);this.mCdR=st.CrtImg("matches/mm_cdRed.png");this.mCdG=st.CrtImg("matches/mm_cd.png");this.addChild(this.mCdG);this.toSize(this.mCdR.width,this.mCdR.height);this.mHw=this.mWidth>>1;this.mHh=this.mHeight>>1;this.mRo=Math.sqrt(this.mHw*this.mHw+this.mHh*this.mHh)>>0;this.mMasker=new p;this.mMasker.pos(this.mHw,this.mHh);this.mCdG.mask=this.mMasker;this.mTxt=new w;this.mTxt.mouseEnabled=!1;this.mTxt.fontSize=28;this.mTxt.color="#b2d6fb";this.mTxt.stroke=c.onPC?2:1;this.mTxt.strokeColor="#00000088";this.mTxt.width=78;this.mTxt.align="center";this.mTxt.setVh(78);this.mTxt.singleCharRender=!0;var i=this.mWidth-78>>1;this.mTxt.pos(i,i);this.mParticle=new ght(null);this.mParticle.autoPlay=!1;this.mParticle.pos(this.mHw,-this.mHh);this.mParticle.load("res/Particles/cd.part");this.graphics.drawRoundRect(8,78,78,"#00000088",i,i)}r(t,"games.matchCores.desk.eles.DM_CD",n);var i=t.prototype;return i.onDisable=function(){this.mFrm=2;this.mParticle.stop();this.mParticle.removeSelf();this.mParticle.pos(this.mHw,-this.mHw);this.mTxt.removeSelf();this.mCdG.removeSelf();this.mCdR.removeSelf();this.mIsSelf=this.mIsNear=this.mIsOver=!1},i.setPlayRate=function(n){this.mTnear=t.NEAR_CD*n>>0;this.mRev_rate=n},i.startCD=function(n,i){this.onDisable();this.mIsSelf=i;this.mTxt.text=n+"S";var r=n*1e3>>0;return this.mTotal=r<t.MIN_CD?t.MIN_CD:r,this.mTotal=this.mTotal*this.mRev_rate>>0,this.mTs=c.now(),r=r*this.mRev_rate>>0,this.mTe=this.mTs+r,this.addChild(this.mCdG),this.addChild(this.mTxt),r},i.render=function(n,t,i){if(this.mFrm+=1,this.mFrm%4==3){this.mFrm=0;var r=c.now();r<this.mTe?this.mRev_call?this.doStep(this.mTotal-(r-this.mTs)):this.doStep(this.mTe-r):this.doStep(0)}laya.display.Sprite.prototype.render.call(this,n,t,i)},i.doStep=function(n){var u,i,r;n>0?(this.mTxt.text=Math.ceil(n/(1e3*this.mRev_rate))+"S",u=360*(1-n/this.mTotal)-90>>0,this.mMasker.graphics.clear(),this.mMasker.graphics.drawPie(0,0,this.mRo,u,270,"#000000"),i=0,r=0,a.getRadiusPos(this.mRo,u,t.s_HelpP),i=t.s_HelpP.x>>0,r=t.s_HelpP.y>>0,i<-this.mHw?i=-this.mHw:i>this.mHw&&(i=this.mHw),r<-this.mHh?r=-this.mHh:r>this.mHh&&(r=this.mHh),this.mParticle.pos(this.mHw+i,this.mHh+r),this.mParticle.parent||(this.addChild(this.mParticle),this.mParticle.play()),this.mIsNear||n<=this.mTnear&&(this.mIsNear=!0,this.mIsSelf&&(ei.PlayEff(22),et.shake()),this.addRed())):this.mIsOver||(this.mIsOver=!0,this.mTxt.removeSelf(),this.mCdG.removeSelf(),this.mIsNear||(this.mIsNear=!0,this.addRed()),this.mRev_call&&(this.mCdR.removeSelf(),this.mRev_call.run()));this.mIsNear&&(this.mCdR.alpha+=this.mSpeed,this.mCdR.alpha<.11?this.mSpeed=.092:this.mCdR.alpha>.91&&(this.mSpeed=-.092))},i.addRed=function(){this.mCdR.alpha=0;this.mSpeed=.092;this.mCdR.parent||this.addChildAt(this.mCdR,0)},t.MIN_CD=15e3,t.NEAR_CD=3e3,t.SPEED=.092,t.s_HelpP={},t}(p),ha=function(n){function t(){if(this.mType=9,t.__super.call(this),t.s_locked)throw Error("✖ [Poker_Hand] 只能通过 PokerUtil 来实例化");this.IsBackIns=!0}r(t,"games.pokers.Poker_Back",n);var i=t.prototype;return i.showBack=function(n,t,i){if(t===void 0&&(t=0),i===void 0&&(i=0),n=n>>0,2==n&&(n=1),this.IsSmallBackIns=n>0,n!=this.mType){this.mType=n;var r=nc.sBackTexs[this.mType];this.texture=r;this.mRealW=r.width;this.mRealH=r.height}t>0&&(this.scaleX=t/this.mRealW);i>0&&(this.scaleY=i/this.mRealH)},t.getBack=function(n,i,r){t.s_locked=!1;var u=l.get(t);return n>-1&&u.showBack(n%3),u.pos(i,r),t.s_locked=!0,u},t.s_locked=!0,t}(nc),gct=function(n){function t(n){this.mHtml=null;this.mVecPokers=null;this.mIndex=0;t.__super.call(this);this.mWidth=n;this.mouseEnabled=!1;this.mHtml=new ue;this.mHtml.style.fontSize=22;this.mHtml.style.color="#b2d6fb";this.mHtml.style.align="left";this.mHtml.style.leading=0;this.mHtml.style.wordWrap=!1;this.mHtml.y=12;this.addChild(this.mHtml);this.mVecPokers=[]}r(t,"games.review.Item_Insure",n);var i=t.prototype;return i.doReset=function(){this.removeSelf();this.mIndex=0;this.mHtml.innerHTML="";var n=0,t=this.mVecPokers.length;for(n;n<t;n++)this.mVecPokers[n].removeSelf(),this.mVecPokers[n].doReset()},i.show=function(n){var r=u.lang("review_sb"+n.type),t,i;r+=u.lang("review_sb",n.nick,n.tb,n.pf);this.mHtml.innerHTML=r;this.mHtml.x=this.mWidth-this.mHtml.contextWidth>>1;this.mHeight=48;this.mIndex=0;t=n.sel?n.sel.slice():[];i=t.concat(n.uns?n.uns:[]);ii.doSort(i);this.addCards(i,t)},i.addCards=function(n,t){var r=0,h=n.length,u=0,i,f=0,e=0,o=0,s=48;for(r;r<h;r++)i=this.mVecPokers[this.mIndex],i||(this.mVecPokers[this.mIndex]=i=new eu,i.toSize(58,80),f=this.mIndex/8>>0,e=this.mIndex%8,o=16+66*e>>0,s=48+88*f>>0,i.pos(o,s)),i.showPoint(u=n[r]),i.showGG(t.indexOf(u)>-1),this.addChild(i),this.mIndex+=1;i&&(this.mHeight=i.y+80+16>>0)},t.POKER_W=58,t.POKER_H=80,t}(p),nlt=function(n){function t(n,i,r){if(this.mHtm=null,this.mLang=null,t.__super.call(this),this.mWidth=710,this.mHeight=98,this.x=s.MAX_W-this.mWidth>>1,this.graphics.drawRoundRect(24,this.mWidth,this.mHeight,"#386ebf40"),this.mLang=n+"pre",this.mHtm=new g,this.mHtm.x=40,this.addChild(this.mHtm),r){var f=k.crt_Btn(this,"edit",null,0,0,160);f.pos(this.mWidth-f.width-12>>0,this.mHeight-f.height-2>>1);f.label=u.lang(n+"btn");f.setClick(r)}}r(t,"games.windows._commons.funds.Funds_Head",n);var i=t.prototype;return i.doReset=function(){this.showValue(0,0,0)},i.showTime=function(){},i.showValue=function(){},i.updateHas=function(n){this.mHtm.innerHTML=u.lang(this.mLang,a.NumToStr(n));this.mHtm.y=this.mHeight-this.mHtm.contextHeight>>1},t}(p),tlt=function(n){function t(n,i){var r,u,f;t.__super.call(this);this.mWidth=342;this.mHeight=180;this.graphics.drawRoundRect(24,this.mWidth,this.mHeight,"#386ebf40");r=new s;r.mouseEnabled=!1;r.loadImage(n+i.data+".png");r.pos(72-.5*r.texture.width>>0,this.mHeight-r.texture.height+16>>1);this.addChild(r);this.TmpData=i.data;u=w.quickCreate(32,"#d3e6f9");u.mouseEnabled=!1;u.text=i.label;u.pos(148,48);this.addChild(u);f=w.quickCreate(22,"#6391d5");f.leading=10;f.pos(152,104);f.text=i.tips.replace(/<br[\/]*>/gi,"\n");this.addChild(f)}return r(t,"games.UD_Displays.btns.big.Item_UD_Btn_Big",n),t}(p),br=function(n){function f(n,t,r){this.CanScroll=!0;this.AutoToBottom=!1;this.ShowNoTip=!0;this.mVecItems=null;this.mGap=0;this.mHeight=0;this.mIndex=0;this.mRect=null;this.mHitRect=null;this.mY_Down=0;this.mY_Bottom=0;this.mOff=0;this.mDir=0;this.mState=0;this.mT_End=0;this.mHandle=null;this.mV_Sort=!1;this.mSortY=0;this.mV_Waitting=!1;this.mTipTxt=null;this.mTipNoData=null;this.mTipTop=0;r===void 0&&(r=16);f.__super.call(this);this._mouseState=2;this.mGap=r;this.mTipTop=0;this.mVecItems=[];this.mHitRect=new ct(0,0,n,t);this.mRect=new ct;this.updateRect(n,t);i.superSet(tr,this,"scrollRect",this.viewport=this.mRect);this.hitArea=this.mHitRect;this.on("mousedown",this,this.onSelfMouseDown)}r(f,"FioLibs.displays.FioScrollCon",n);var t=f.prototype;return t.onDisable=function(){this.mV_Waitting=!1;this.mReqed=!0},t.updateRect=function(n,t){n===void 0&&(n=0);t===void 0&&(t=0);n>0&&n!=this.mRect.width&&(this.mRect.width=this.mHitRect.width=n);t>0&&t!=this.mRect.height&&(this.mRect.height=this.mHitRect.height=t)},t.setCallback=function(n){this.mHandle&&this.mHandle.recover();this.mHandle=n},t.showNoData=function(n){n&&this.ShowNoTip?(this.mTipNoData||(this.mTipNoData=new w,this.mTipNoData.width=this.mRect.width,this.mTipNoData.color="#40608e",this.mTipNoData.align="center",this.mTipNoData.setVh(64),this.mTipNoData.text=u.lang("tip_nodata"),this.mTipNoData.wordWrap=!1,this.mTipNoData.y=0),this.mTipNoData.parent||this.addChild(this.mTipNoData)):this.mTipNoData&&this.mTipNoData.removeSelf()},t.doWaitComplete=function(n){n===void 0&&(n=40);n<30?this.onWaitComplete():this.timerOnce(n,this,this.onWaitComplete)},t.onWaitComplete=function(){this.mV_Waitting=!1;switch(this.mState){case-1:this.toTop(!0);break;case 1:this.mY_Bottom<this.mRect.y&&this.toBottom(!0)}this.clearSlider();this.showNoData(0==this.mVecItems.length)},t.setTipTop=function(n){this.mTipTop=n>>0},t.toTween=function(n,t){t?(f.TWEEN_PARAM.y=n,ri.to(this.mRect,f.TWEEN_PARAM,200,null,null,0,!0)):this.mRect.y=n},t.toTop=function(n){n===void 0&&(n=!1);this.clearSlider();this.mState=-1;this.toTween(0,n)},t.toBottom=function(n){n===void 0&&(n=!1);this.clearSlider();this.toTween(this.mY_Bottom,n)},t.pushLineGap=function(n){n>0&&(this.mHeight+=n,this.mReqed=!0)},t.updateRealHeight=function(n){this.mHeight=n+this.mGap>>0;this.mReqed=!0},t.getIndex=function(n){return n?this.mVecItems.indexOf(n):-1},t.selectItem=function(n,t){if(t===void 0&&(t=!0),n&&this.mVecItems.indexOf(n)>-1){var i=this.mRect.y,f=this.mRect.bottom,r=n.y,e=r+n.height+this.mGap>>0,u=i;e>=f?u=e-f+i:r<i&&(u=r);this.toTween(u,t)}},t.ItemAdd=function(n,t,i){var u;if(t===void 0&&(t=0),i===void 0&&(i=-1),n&&-1==this.mVecItems.indexOf(n)){var f=this.mVecItems.length,r=this.mHeight,e=n.height+this.mGap+t>>0;i>-1&&i<f?i==f-1?(n.y=r,this.mVecItems.push(n),this.AutoToBottom&&(u=r+e-this.mRect.height,u>0&&(this.mY_Bottom=u,this.toBottom(!0)))):(this.mIndex=i,this.mSortY=this.mVecItems[i].y,this.mVecItems.splice(i+1,0,n),this.doSort(),this.selectItem(n)):(this.mVecItems.push(n),n.y=r);this.addChild(n);this.mHeight=r+e;this.mReqed=!0}},t.ItemRemove=function(n,t){var i,r;return t===void 0&&(t=!1),n&&(i=this.mVecItems.indexOf(n),i>-1&&(n.removeSelf(),this.mVecItems.splice(i,1),this.mVecItems[i]?(this.mIndex=i,this.mSortY=n.y,this.doSort()):(this.mHeight=n.y,r=this.mHeight-this.mRect.height,r>0?(this.mY_Bottom=r,this.toBottom(!0)):this.toTop(!0)),this.mReqed=!0),t&&l.recyle(n)),n},t.ItemClean=function(n){n===void 0&&(n=!1);var i=0,r=this.mVecItems.length,t;for(i;i<r;i++)t=this.mVecItems.shift(),t&&(0==i&&(this.mY_Bottom=this.mHeight=t.y),t.removeSelf(),n&&l.recyle(t));this.mIndex=0;this.toTop()},t.getItems=function(){return this.mVecItems},t.findItem=function(n,t){if(n){var i,r=0,u=this.mVecItems.length;for(r;r<u;r++)if(i=this.mVecItems[r],i.hasOwnProperty(n)&&t==i[n])return i}return null},t.showWating=function(n){n===void 0&&(n=!1);this._mouseState=1;this.mV_Waitting=!0;this.showTips(n);this.showNoData(!1)},t.doSort=function(){var t=this.mSortY,n=this.mIndex,i=this.mVecItems.length;for(n;n<i;n++)this.mVecItems[n].y=t,t+=this.mVecItems[n].height+this.mGap;this.mHeight=t;this.mV_Sort=this.mReqed=!0},t.doSub_UDView=function(){var n=this.mV_Sort;this.mV_Sort=!1;this.mY_Bottom=this.mHeight-this.mRect.height;this.mY_Bottom<0&&(this.mY_Bottom=0,n&&this.toBottom(!0))},t.onSelfMouseDown=function(n){if(!this.mV_Waitting&&(this.mY_Down=this.stage.mouseY>>0,this.mOff=0,this.clearSlider(),this.CanScroll)&&(n.target==this||n.target.name!=wi.DRAG_BTN_NAME)){this.stage.on("mousemove",this,this.onSelfMouseMoving);this.stage.once("mouseup",this,this.onSelfMouseUp);this.stage.once("mouseout",this,this.onSelfMouseUp)}},t.onSelfMouseMoving=function(n){var i=this.stage.mouseY>>0,t;if(this.mOff=i-this.mY_Down>>0,!(Math.abs(this.mOff)<6)){if(this.mY_Down=i,0==this.mT_End){if(t=n.target,t!=this&&t.name==wi.DRAG_BTN_NAME){this.clearWatching();return}this._mouseState=1;this.mT_End=this.timer.currTimer+300}this.mRect.y-=this.mOff;this.mState=this.mRect.y<0?-1:this.mRect.y>this.mY_Bottom?1:0}},t.onSelfMouseUp=function(n){if(this.clearWatching(),n.stopPropagation(),0==this.mState)this.mT_End-this.timer.currTimer>0&&(this.mDir=this.mOff>0?1:-1,this.frameLoop(1,this,this.doSlider));else{var t=-1==this.mState;this.mHandle&&this.mHandle.runWith(t)?(-1==this.mState?this.mRect.y+64>0&&(this.mRect.y=-64):this.mHeight+64>this.mRect.height&&this.mRect.y<64+this.mY_Bottom&&(this.mRect.y=this.mY_Bottom+64),this.showTips(t),this.mV_Waitting=!0):(et.shake(50),-1==this.mState?this.toTop(!0):1==this.mState&&this.toBottom(!0))}},t.clearWatching=function(){this._mouseState=2;this.stage.off("mousemove",this,this.onSelfMouseMoving);this.stage.off("mouseup",this,this.onSelfMouseUp);this.stage.off("mouseout",this,this.onSelfMouseUp)},t.clearSlider=function(){this._mouseState=2;ri.clearAll(this);this.mState=this.mT_End=0;this.clearTimer(this,this.doSlider);this.mTipTxt&&this.mTipTxt.removeSelf()},t.doSlider=function(){var t=this.timer.currTimer-this.mT_End,n;this.mOff-=this.mOff*this.timer.delta*.006;n=this.mRect.y-this.mOff>>0;n<0?(this.clearSlider(),this.toTop()):n>this.mY_Bottom?(this.clearSlider(),this.toBottom()):this.mOff*this.mDir>.1?this.mRect.y=n:this.clearSlider()},t.showTips=function(n){this.mTipTxt||(this.mTipTxt=new w,this.mTipTxt.setVh(64),this.mTipTxt.width=this.mRect.width,this.mTipTxt.x=this.x,this.mTipTxt.color="#43679c",this.mTipTxt.bgColor="#6aa0ee16",this.mTipTxt.align="center",this.mTipTxt.wordWrap=!1);this.mTipTxt.text=u.lang(n?"tip_fresh":"tip_load");this.mTipTxt.y=n?this.mTipTop?this.mTipTop:this.y:this.mRect.height-64+this.y;!this.mTipTxt.parent&&this.parent&&this.parent.addChild(this.mTipTxt)},e(0,t,"width",function(){return this.mRect.width},n.prototype._$set_width),e(0,t,"scrollRect",n.prototype._$get_scrollRect,function(){}),e(0,t,"height",function(){return this.mRect.height},n.prototype._$set_height),e(0,t,"mouseEnabled",n.prototype._$get_mouseEnabled,function(){}),f.TWEEN_TIME=200,f.TIMER_SLIDER=300,f.H_TIPS=64,f.COLOR_NO_DATA="#40608e",f.COLOR_LOADING="#43679c",f.COLOR_LOADING_BG="#6aa0ee16",d(f,["TWEEN_PARAM",function(){return this.TWEEN_PARAM={y:0}}]),f}(tr),ilt=function(n){function i(){this.mCtrl=null;this.mFlag=null;this.mGd=null;this.mSlider=null;this.mCookie=null;this.mSize=0;i.__super.call(this);this.toSize(536,40);this.graphics.fillText(u.lang("pDesk_2"),0,0,28,"#3b4f62");this.mCookie=f.Account.Cookie;this.initQuicks();this.initOthers()}r(i,"games.matchCores.panels.styles.MpStyle_Quick",n);var t=i.prototype;return t.initQuicks=function(){var i=30,r=5,u=0,e=0,f=0,o=[],t=0,n;for(t;t<r;t++)n=new lc,n.TmpData=t,0==f&&(u=n.width,e=n.height,f=u+(this.mWidth-i-i-r*u)/(r-1)>>0),n.pos(i+f*t,this.mHeight),this.addChild(n),o[t]=n;this.mSize=n.mText.fontSize;this.mCtrl=new we(h.create(this,this.onClkQuick,null,!1),o);this.mHeight+=e+16>>0},t.initOthers=function(){var n=186;this.graphics.drawRoundRect(10,this.mWidth,n,"#3a5373",0,this.mHeight);this.mFlag=new p;this.mFlag.mouseEnabled=!1;this.mFlag.graphics.drawPoly(0,0,[16,0,-16,0,0,-16],"#3a5373");this.mFlag.y=this.mHeight;this.addChild(this.mFlag);this.mGd=new plt(this.mWidth,n,h.create(this,this.onClkOrg,null,!1));this.mGd.y=this.mHeight;this.mSlider=new oct(this.mWidth,n,h.create(this,this.onSlider,null,!1));this.mSlider.y=this.mHeight;this.mHeight+=n+4},t.onEnable=function(){var t=this.mCookie.BetVals,r=t.length,n=0,u=this.mCtrl.getElements(),i=0;for(n;n<r;n++)i=t[n],this.udQuick(u[n],i);this.mCtrl.select(0)},t.udQuick=function(n,t){n&&(0==t?n.ShowAdd():n.ShowStr(t+"%",u.lang("pot")))},t.onClkQuick=function(n){this.mFlag.x=n.x+.5*n.width>>0;this.mSlider.removeSelf();this.addChild(this.mGd)},t.onClkOrg=function(n){var t=n.TmpData,i;-1==t?(this.mGd.removeSelf(),i=this.mCtrl.getSelected(),this.mSlider.start(this.mCookie.BetVals[i.TmpData]),this.addChild(this.mSlider)):this.setValue(t)},t.onSlider=function(n){this.mSlider.removeSelf();this.addChild(this.mGd);n>0&&this.setValue(n)},t.setValue=function(n){if(0!=n||this.isValid()){var t=this.mCtrl.getSelected();this.udQuick(t,n);this.mCookie.BetVals[t.TmpData]=n;this.mCookie.save();oi.notify(412)}},t.isValid=function(){var i=this.mCookie.BetVals.length,n=0,t=0;for(n;n<i;n++)this.mCookie.BetVals[n]>0&&(t+=1);return t<4?(ut.showMessage("pDesk_err"),!1):!0},i}(p),rlt=function(n){function i(n){this.mVecCfgs=null;i.__super.call(this);this.toSize(710,230);this.toXCenter();this.mVecCfgs=u.obj(n)}r(i,"games.windows.matches.settler.Settler_Head",n);var t=i.prototype;return t.DoReset=function(){this.graphics.clear()},t.ShowDz=function(n){this.fillBase(n);this.fillName(n.name+(n.clubName?" - "+n.clubName:""));this.fillData(0,n.gameType==2?n.getDPBetStr():n.getBetStr());this.fillData(1,n.handNum);this.fillData(2,n.creater)},t.ShowMatch=function(n){this.fillBase(n);this.fillName(n.name);this.fillData(0,n.personNum);this.fillData(1,n.rewardNum);this.fillData(2,n.creater);this.fillData(3,n.myRank)},t.fillBase=function(n){this.graphics.clear();this.graphics.drawRoundRect(20,this.mWidth,this.mHeight,"#386ebf40");this.graphics.drawRect(24,168,this.mWidth-48,2,"#233a5b");var t=u.lang("settle_0",u.lang("matchType_"+n.matchType)+" | "+u.lang("gameType_"+n.gameType),a.GTos(n.st),a.GTos(n.et),a.getStrSeconds(n.et-n.st,1));this.graphics.fillText(t,this.mWidth>>1,186,24,"#6391d5","center")},t.fillName=function(n){this.graphics.fillText(n,this.mWidth>>1,24,30,"#b2d6fb","center")},t.fillData=function(n,t){var i=this.mVecCfgs[n];this.graphics.fillText(i.label,i.x,i.y,26,"#6391d5","center");this.graphics.fillText(""+t,i.x,i.index,26,"#b2d6fb","center")},i}(p),ps=function(n){function t(n,i){this.Slider=null;t.__super.call(this);this.mWidth=n;this.mHeight=106;this.mouseEnabled=!0;this.graphics.drawRoundRect(10,this.mWidth,this.mHeight,"#c7d3df");this.Slider=llt.create(this,!0,i,32,72,n-64)}r(t,"games.UD_Displays.lev2.UD_Lev2_Slider",n);var i=t.prototype;return i.toSize=function(){},t}(p),ob=function(n){function t(n,i,r){if(this.mHcall=null,r===void 0&&(r=0),t.__super.call(this),!t.sColors){t.sColors=u.obj("alert_btn_colors");t.sSize=parseInt(u.lang("alert_btn_size"));t.sLineColor=u.lang("alert_line");t.sMenus={};var f=u.obj("sureCancels");t.sMenus[1]=u.obj("iosGroup_close");t.sMenus[2]=[f[1]];t.sMenus[4]=f}this.mouseEnabled=!0;this.mWidth=n;this.mHeight=r||98;this.mHcall=i;this.on("click",this,this.onClk)}r(t,"games.UD_Displays.btns.UD_Btn_IosGroup",n);var i=t.prototype;return i.CrtDef=function(n,i){n===void 0&&(n=2);i===void 0&&(i=24);var r=t.sMenus[n]||t.sMenus[4];this.creat(r,i)},i.creat=function(n,i){var u,f,r,e,o;if(i===void 0&&(i=24),this.DoReset(),n){for(u=0,f=n.length,u=0;u<f;u++)e=n[u],e&&(t.sVecTxts.length>0?r=t.sVecTxts.shift():(r=w.quickCreate(t.sSize),r.y=1,r.align="center",r.valign="middle",r.mouseEnabled=!0),r.height=this.mHeight-1,r.color=t.sColors[u]||t.sColors[0],r.text=e.label,r.TmpData=e.data,t.sVecHelps.push(r));for(f=t.sVecHelps.length,o=(this.mWidth-i-i)/f>>0,u=0;u<f;u++)r=t.sVecHelps.shift(),r.width=o,r.x=i+o*u,this.addChild(r),u>0&&this.graphics.drawRect(r.x,1,1,this.mHeight-1,t.sLineColor);this.graphics.drawRect(0,0,this.mWidth,1,t.sLineColor)}},i.DoReset=function(){for(t.sVecHelps.length=0,this.graphics.clear();this.numChildren>0;)t.sVecTxts.push(this.removeChildAt(0))},i.onClk=function(n){var t=n.target;t!=this&&this.mHcall&&this.mHcall.runWith(t.TmpData)},e(0,i,"disabled",null,function(n){this.mouseEnabled=!n;this.alpha=n?.3:1}),t.QuickCrt=function(n,i,r,u){u===void 0&&(u=0);var f=new t(n,i,u);return r&&f.CrtDef(4),f},t.sMenus=null,t.sColors=null,t.sSize=0,t.sLineColor=null,d(t,["sVecTxts",function(){return this.sVecTxts=[]},"sVecHelps",function(){return this.sVecHelps=[]}]),t}(p),ult=function(n){function t(){t.__super.call(this);this.mouseEnabled=!1}r(t,"FioLibs.displays.coms.slider.Slider_ValItem_Lev2",n);var i=t.prototype;return i.updateState=function(n){var t=n?"#1e86e6":"#677077";t!=this.mColor&&(this.mColor=t,this.mCVal=n?"#3b4f62":"#3b4f62",this.callLater(this.doUpdate))},t}(yw),flt=function(n){function t(){this.mVecIns=null;this.mVip=null;t.__super.call(this);this.toSize(606,60);this.mouseEnabled=!1;this.graphics.drawRoundRect(8,this.mWidth,this.mHeight,"#3ca2e4");var u=[0,2,8],i=0,f=u.length,r=0,n;for(this.mVecIns=[],i;i<f;i++)r=u.shift(),n=-1==r?this.mVip=new tpt:new fi(r),n.setFont("#ffffff",28),n.y=this.mHeight-n.height>>1,this.mVecIns[i]=n,this.addChild(n);this.update(0,0,0,0,0)}r(t,"games.matchCores.panels.lookPlayer.MpLkPlayer_Res",n);var i=t.prototype;return i.update=function(n,t,i,r,u){var o;u===void 0&&(u=0);this.mVecIns[0].showValue(n);this.mVecIns[1].showValue(t);this.mVecIns[2].showValue(u);this.mVip&&this.mVip.showVip(i,r);for(var e=0,f=0,s=this.mVecIns.length,f=0;f<s;f++)e+=this.mVecIns[f].width,f>0&&(e+=16);for(e=this.mWidth-e>>1,f=0;f<s;f++)o=this.mVecIns[f],o.x=e,e+=o.width+24},t}(p),sb=function(n){function t(n){n===void 0&&(n=0);t.__super.call(this);this.y=n;this.mHeight=s.MAX_H-this.y;this.mouseEnabled=!0;this.graphics.drawRect(0,0,this.mWidth,this.mHeight,"#00000088");i.loader.load(wt.getAssImg("club_block.png"),h.create(this,this.onTex))}r(t,"games.UD_Displays.imgs.UD_ImgBlocker",n);var u=t.prototype;return u.onTex=function(n){this.graphics.drawImage(n,this.mWidth-n.width>>1,this.mHeight-n.height>>1)},t}(p),elt=function(n){function t(){this.Idx=0;this.Rate=0;this.mTno=null;this.mTval=null;t.__super.call(this);this.mWidth=710;this.mHeight=56;this.mTno=w.quickCreate(26,"#b2d6fb");this.mTno.setVh(this.mHeight);this.mTno.text=u.lang("mttRwd_0");this.addChild(this.mTno);this.mTval=w.quickCreate(26,"#b2d6fb");this.mTval.setVh(this.mHeight);this.mTval.text=u.lang("mttRwd_1");this.addChild(this.mTval)}r(t,"games.windows.matches.creators.mtt.rewards.MttRwd_0_Item",n);var f=t.prototype;return i.imps(f,{"FioLibs.interfaces.IFio_Recyle":!0}),f.recyle=function(){this.removeSelf();this.Idx=this.Rate=0},f.update=function(n,t){this.Idx=n;this.mTno.text=""+n;this.mTno.x=96-.5*this.mTno.width>>0;this.Rate=t;this.mTval.text=t+"%";this.mTval.x=this.mWidth-this.mTval.width-80>>0},t}(p),hb=function(n){function t(n){var r,i;this.mBtnStart=null;this.mBtnEnd=null;this.mBtnQuery=null;this.mHd=null;this.mParams=null;t.__super.call(this);this.mWidth=710;this.toXCenter();this.mHd=n;this.mParams=[];r=230;this.mBtnStart=new vd;this.mBtnStart.width=r;this.addChild(this.mBtnStart);this.mHeight=this.mBtnStart.height;i=r+8;this.graphics.drawRoundRect(2,36,6,"#64ace9",i,this.mBtnStart.height-6>>1);i+=46;this.mBtnEnd=new vd;this.mBtnEnd.width=r;this.mBtnEnd.x=i;this.addChild(this.mBtnEnd);this.mBtnQuery=k.crt_Btn(this,"edit",null,i,0,160);this.mBtnQuery.pos(this.mWidth-this.mBtnQuery.width-12>>0,this.mHeight-this.mBtnQuery.height>>1);this.mBtnQuery.label=u.lang("query");this.mBtnQuery.on("click",this,this.onQuery)}r(t,"games.UD_Displays.search.UD_DayQuery",n);var i=t.prototype;return i.onDayChange=function(n){var t=a.toTimeS_E(n);this.mBtnStart.setDate(a.getStrDate(t.s,!0),!1);this.mBtnEnd.setDate(a.getStrDate(t.e,!0),!1);this.mBtnEnd.TmpData-=86400;this.sendQuery(t.s,t.e,!1)},i.onQuery=function(){var n=this.mBtnStart.TmpData,t=this.mBtnEnd.TmpData+86400;n>=t?ut.showMessage("search_err"):this.sendQuery(n,t,!0)},i.sendQuery=function(n,t,i){this.mParams.length=0;this.mParams[0]=n;this.mParams[1]=t;this.mParams[2]=i;this.mHd&&this.mHd.runWith(this.mParams)},t}(p),ic=function(n){function t(n,i,r,f){this.mTname=null;this.mTval=null;t.__super.call(this);this.mouseEnabled=!0;this.TmpData=i;var e=st.CrtImg("mainUi/resIcon_"+n+".png");e.mouseEnabled=!0;this.addChild(e);this.mWidth=e.width>>0;this.mHeight=e.height+4>>0;this.mTname=w.quickCreate(30,r);this.mTname.y=this.mHeight;this.showName(u.lang("resType_"+n));this.addChild(this.mTname);this.mHeight+=50;this.mTval=w.quickCreate(26,f);this.mTval.y=this.mHeight;this.addChild(this.mTval);this.mHeight+=30;this.on("click",this,this.onClik)}r(t,"games.UD_Displays.res.mainRes.MyMainRes_Item",n);var i=t.prototype;return i.showValue=function(n){this.mTval.text=a.NumToStr(n);this.mTval.x=this.mWidth-this.mTval.width+2>>1},i.showVip=function(n,t){this.showName(u.lang("vip_"+n));0==n&&(t=0);var i;i=t>0?a.G2S(t):u.lang("vip_null");this.mTval.text=i;this.mTval.x=this.mWidth-this.mTval.width+2>>1},i.showName=function(n){this.mTname.text=n;this.mTname.x=this.mWidth-this.mTname.width+2>>1},i.onClik=function(){b.OpenWin(171,this.TmpData)},t}(p),cb=function(n){function t(n){this.mIpt=null;t.__super.call(this);this.mWidth=710;this.mHeight=160;this.toXCenter();this.mouseEnabled=!0;this.mIpt=new yr(this.mWidth,null,!1);this.mIpt.initLeft(32,28,"#b2d6fb");this.mIpt.updateLeft(u.lang("yjsJjjl_"+n));this.mIpt.initRight(!0,320,28,28,"#6391d5",null,"center",-16);this.mIpt.maxChars=8;this.mIpt.restrict="0-9";this.mIpt.pos(this.mWidth-this.mIpt.width>>0,0);this.mIpt.mInput.prompt=u.lang("yjsJjjl_1"+n+"_pro");this.addChild(this.mIpt);var i=ai.CrtIns(this.mWidth-48,u.lang("yjsJjjl_"+n+"_desc"),24,"#5680be",12);i.pos(28,this.mIpt.y+this.mIpt.height+16>>0);this.addChild(i);this.mHeight=i.y+i.height+10>>0;this.graphics.drawRoundRect(20,this.mWidth,this.mHeight,"#386ebf40")}r(t,"games.windows.matches.creators.yujuesai.jjjl.YjsJJJl_Item",n);var i=t.prototype;return i.setNumber=function(n){this.mIpt.text=""+n},i.getNumber=function(){return Number(this.mIpt.text)||0},t}(p),olt=function(n){function t(){var r,u,n,i;for(this.mTname=null,this.mVecCards=null,this.mTop=null,t.__super.call(this),r=ye.CARD_W,u=ye.CARD_H,this.mWidth=r+r+8,this.addChild(this.mTname=new g),this.mVecCards=[],n=0,n;n<2;n++)this.mVecCards[n]=i=new eu,i.toSize(r,u),i.y=32,i.x=0==n?-r-4:4,this.addChild(i);this.mTop=new g;this.mTop.y=i.y+u+10;this.addChild(this.mTop);this.mHeight=this.mTop.y+30}r(t,"games.matchCores.panels.dzdp.bxJls.MpBx_TopJoiner",n);var i=t.prototype;return i.doReset=function(){this.removeSelf();var n=0;for(n;n<2;n++)this.mVecCards[n].doReset()},i.showPlayer=function(n,t){var i,r,f;for(this.mTname.innerHTML=u.lang("pbx_join_name",n.nick),this.mTname.x=-this.mTname.contextWidth>>1,this.mTop.innerHTML=u.lang(t?"pbx_join_1":"pbx_join_0",n.outsNum),this.mTop.x=-this.mTop.contextWidth>>1,i=0,r=n.cards.length,r>2&&(r=2),i;i<r;i++)f=this.mVecCards[i],f.showPoint(n.cards.shift()),f.parent||this.addChild(f)},t.MAX_NUM=2,t}(p),wf=function(n){function t(){this.ComHd=null;this.mOld=-1;t.__super.call(this);this.mouseEnabled=!1}r(t,"games.UD_Displays.icons.UD_Icon_Item",n);var u=t.prototype;return u.toSize=function(t,i){n.prototype.toSize.call(this,t,i);this.size(t,i)},u.load=function(n,t){if(t===void 0&&(t=!1),this.mOld!=n){this.mOld=n;this.texture=null;var r=wt.getBagsIcon(n,t),u=i.loader.getRes(r);if(u)this.onLoaded(u);else kf.Icon.load(r,h.create(this,this.onLoaded))}else this.onLoaded(this.texture);return this},u.onLoaded=function(n){n&&(this.texture=n);this.timer.frameOnce(1,this,this.doCallBack)},u.doCallBack=function(){this.ComHd&&this.ComHd.run()},t}(p),slt=function(n){function t(n){t.__super.call(this);this.mWidth=this.mHeight=68;this.TmpData=n+1;var i=this.mWidth>>1,r=this.mHeight>>1;this.graphics.fillText(this.TmpData+"",i,r-16,32,"#444444","center")}return r(t,"FioLibs.displays.coms.extendComs.dates.Date_Item",n),t}(p),hlt=function(n){function t(n){this.mLayer=null;this.mEff=null;this.mTip=null;t.__super.call(this);this.y=88;this.mWidth=s.MAX_W;this.mHeight=s.MAX_H-this.y;this.mouseEnabled=!0;this.mLayer=n;this.graphics.drawRect(0,0,this.mWidth,this.mHeight,"#00000060");this.mEff=new ro;this.mEff.mouseEnabled=!1;this.mEff.load("res/dragons/980.sk");this.addChild(this.mEff);this.mTip=new ue;this.mTip.mouseEnabled=!1;this.mTip.style.fontSize=24;this.mTip.style.color="#b2d6fb";this.mTip.style.align="center";this.mTip.style.lineHeight=36;this.mTip.style.leading=0;this.mTip.style.wordWrap=!1;this.addChild(this.mTip);this.mEff.pos(this.mWidth>>1,this.mHeight>>1);this.mTip.pos(this.mWidth-this.mTip.contextWidth>>1,this.mEff.y+48)}r(t,"games.windows.me.shop.Shop_Statu",n);var i=t.prototype;return i.updateState=function(n,t){this.timer.clearAll(this);n>0?(this.parent||this.mEff.player&&this.mEff.play(0,!0),this.mLayer.addChild(this),this.mTip.innerHTML=t||"",t&&this.mTip.pos(this.mWidth-this.mTip.contextWidth>>1,this.mEff.y+48),n==21&&this.timer.once(6e3,this,this.updateState,[0])):(this.removeSelf(),this.mEff.stop())},t}(p),clt=function(n){function i(){var r;this.IsValid=!1;this.mVecBtns=null;i.__super.call(this);this.mWidth=710;r=u.obj("mtt_winDtl_flagBtns");this.mVecBtns=[];var f=0,e=r.length,n,t=0,o=h.create(this,this.onClkBtn,null,!1);for(f;f<e;f++)t=r.shift(),n=k.crt_Btn(this,null,"mainUi/mmFlagBtn_"+t+".png",0,8),n.TmpData=t,n.setClick(o),this.mVecBtns[t]=n;this.mouseEnabled=!0}r(i,"games.windows.matches.mttWins.details.WinMttDtl_FlagBtns",n);var t=i.prototype;return t.onClkBtn=function(n){wo.show(u.lang("mtt_winDtl_flagTip_"+n.TmpData))},t.DoReset=function(){for(this.IsValid=!1;this.numChildren>0;)this.removeChildAt(0)},t.updateDetail=function(n){this.DoReset();this.resetBtns(n.Flag)},t.resetBtns=function(n){var i=[],t=0,r=48,e,f,u,o;if(t=this.culcW(i,t,r,6,n.paomo),t=this.culcW(i,t,r,30,n.lierensai),t=this.culcW(i,t,r,8,n.zntehui),t=this.culcW(i,t,r,9,n.znpuhui),t=this.culcW(i,t,r,11,n.timeBank),t=this.culcW(i,t,r,12,n.madaocg),t=this.culcW(i,t,r,19,n.amhXz),e=i.length,e>0){for(f=0,o=this.mWidth-t>>1,f;f<e;f++)u=this.mVecBtns[i.shift()],u.x=o,o+=u.width+r,this.addChild(u);this.IsValid=!0;this.mHeight=u.y+u.height+2>>0}},t.culcW=function(n,t,i,r,u){return u&&(n.push(r),t>0&&(t+=i),t+=this.mVecBtns[r].width),t},i}(p),ca=function(n){function i(n,t,r){var s;this.UnShowFlags=null;this.mConfig=null;this.mVecItems=null;this.mVecBtns=null;this.mType=9;this.mIsMttWin=!1;r===void 0&&(r=!1);i.__super.call(this);this.mConfig=n;this.mIsMttWin=r;s=this.mIsMttWin?"s2":null;this.mIsMttWin?this.mWidth=560:(this.mWidth=710,this.toXCenter());this.mVecItems=[];this.mVecBtns=[];var c=this.mConfig.KG_NoOps||[],h=this.mConfig.VecKgs,u=0,l=h.length,f,e,o;for(u;u<l;u++)(f=h[u],f)&&(this.mVecItems[u]=e=k.crt_Switch(null,s),e.label=f.title,e.TmpData=u,e.setClick(t),f.def>0&&(e.visible=!1),this.mIsMttWin&&c.indexOf(u)>-1&&(e.mouseEnabled=!1),f.help&&(o=new ve(null,"2"),o.setTips(f.help),this.mVecBtns[u]=o));this.UnShowFlags=[]}r(i,"games.windows.matches.creators.utils.CrtMatch_Flags",n);var t=i.prototype;return t.setLev=function(n){var i,f,t,r,u,e,s;if(this.mType!=n){for(this.mType=n,this.graphics.clear(),i=0,f=this.mVecItems.length,i=0;i<f;i++)t=this.mVecItems[i],t&&t.removeSelf(),r=this.mVecBtns[i],r&&r.removeSelf();u=this.mConfig.KG_SJ;1==n?u=this.mConfig.KG_ZD:2==n&&(u=this.mConfig.KG_GM);e=32;s=[this.mIsMttWin?146:200,this.mIsMttWin?472:576];f=u.length;var c=e,l=0,h=0,o=0;for(i=0;i<f;i++)(h=u[i],this.UnShowFlags.indexOf(h)>-1)||(t=this.mVecItems[h],t&&t.visible)&&(o=l%2,l+=1,t.pos(s[o],c),this.addChild(t),1==o&&(c+=t.height+e),r=this.mVecBtns[t.TmpData],r)&&(r.pos(s[o]+t.width+12>>0,t.y+.5*(t.height-r.height)>>0),this.addChildAt(r,0));this.mHeight=t.y+t.height+e;this.mIsMttWin||this.graphics.drawRoundRect(20,this.mWidth,this.mHeight,"#386ebf40")}},t.getVal=function(){var t=0,r=0,n=0,u=this.mVecItems.length,i;for(n;n<u;n++)(i=this.mVecItems[n],i)&&(r=i.selected?1:0,t=t|r<<n);return t},t.setVal=function(n){var t=0,r=this.mVecItems.length,u=a.U2V(n,r),i;for(t;t<r;t++)(i=this.mVecItems[t],i)&&(i.selected=i.parent?u[t]:!1)},t.getIns=function(n){return this.mVecItems[n]},t.IsDzModel=function(){var n=this.mVecItems[15];return n&&n.parent&&n.selected?!0:!1},i}(p),llt=function(n){function i(n,t,r){this.mEle_Pro=null;this.mBtnCur=null;this.mSize=0;this.mHandleUpdate=null;this.mVecLtvs=null;this.mStep=NaN;this.mAreas=null;this.mTotal=NaN;this.mMin=NaN;this.mMax=NaN;this.mMinValue=0;this.mMinX=0;this.mMaxValue=0;this.mMaxX=0;this.mLastMp=0;this.mV_showItv=!1;this.mV_showItvTxt=!1;this.mV_Number=!1;this.mRate=NaN;this.mIndex=NaN;this.mIsC_Set=!1;n===void 0&&(n=618);t===void 0&&(t=!0);i.__super.call(this);this.setClick(r);this.width=this.mSize=n;this.graphics.drawRect(0,-2,this.mSize,4,"#677077");this.mEle_Pro=new s;this.mEle_Pro.mouseEnabled=!1;this.mEle_Pro.graphics.drawRect(0,-2,1,4,"#1e86e6");this.addChild(this.mEle_Pro);this.mBtnCur=k.crt_Btn(this,null,"mainUi/coms_slider_btn2.png");this.mBtnCur.on("mousedown",this,this.onBtnDown);this.mBtnCur.name=wi.DRAG_BTN_NAME;this.mBtnCur.hitArea=new ct(-10,-10,40,40);this.on("click",this,this.onClick);this.name=this.mBtnCur.name=wi.DRAG_BTN_NAME;this.mBtnCur.pivot(this.mBtnCur.width>>1,this.mBtnCur.height>>1);this.mEle_Pro.width=0;this.mVecLtvs=[];var u=10;this.hitArea=new ct(-u,-16,this.mSize+2*u>>0,32);this.resetParams()}r(i,"FioLibs.displays.coms.slider.FioSlider_Lev2",n);var t=i.prototype;return t.resetParams=function(){this.mBtnCur.TmpData=null;this.mStep=0;this.mAreas=null;this.mV_Number=!1;this.mRate=1;this.mIndex=-1;this.mMin=this.mMax=this.mMinValue=this.mMinX=this.mMaxValue=this.mMaxX=0},t.getValue=function(){var n=this.mBtnCur.TmpData;return this.mV_Number?n*this.mRate:n},t.getIndex=function(){return this.mIndex},t.setClick=function(n){this.mHandleUpdate&&this.mHandleUpdate.recover();this.mHandleUpdate=n},t.setArea=function(n,t,i){if(i===void 0&&(i=-999999),this.resetParams(),n>t)throw Error("✖✖✖ "+this.mClassName+" setArea():设置的区间值中，最小值不合法");this.mMin=this.mMinValue=n;this.mMax=this.mMaxValue=t;this.mTotal=this.mMax-this.mMin;this.mMinX=0;this.setValue(i);this.mMaxX=this.getX(this.mMaxValue);this.mReqed=this.mIsC_Set=!0},t.setValue=function(n){n=this.formatValue(n);this.mBtnCur.TmpData=n;return this.doJump(n)},t.setMin=function(n){this.mMinValue=this.formatValue(n);this.mMinX=this.getValue()!=this.mMinValue?this.setValue(this.mMinValue):this.getX(this.mMinValue)},t.setMax=function(n){this.mMaxValue=this.formatValue(n);this.mMaxX=this.getValue()>this.mMaxValue?this.setValue(this.mMaxValue):this.getX(this.mMaxValue)},t.formatValue=function(n){return n<this.mMin?n=this.mMin:n>=this.mMax&&(n=this.mMax),n},t.setIntervals=function(n,t,i){if(t===void 0&&(t=-1),i===void 0&&(i=!0),this.resetParams(),!n)throw Error("✖✖✖ "+this.mClassName+" setIntervals():设置的区间值不能为null");if(n.length<2)throw Error("✖✖✖ "+this.mClassName+" setIntervals():设置的区间值至少要2个区间");typeof n[0]=="number"&&(this.mV_Number=!0);this.mAreas=n;this.setSelect(t,i);this.mReqed=this.mIsC_Set=!0},t.setSelect=function(n,t){if(t===void 0&&(t=!0),this.mAreas){var r=this.mAreas.length,i=r-1;this.mStep=this.mSize/i;n>=0&&n<=i&&(this.mIndex=n,this.mBtnCur.TmpData=this.mAreas[n],this.doJump(n,t))}},t.doJump=function(n,t){t===void 0&&(t=!0);var i=this.getX(n);return this.mBtnCur.x=this.mEle_Pro.scaleX=i,t&&this.doCallback(),i},t.getX=function(n){var t=0;return t=0==this.mStep?n/this.mTotal*this.mSize>>0:n*this.mStep>>0,t>this.mSize&&(t=this.mSize),t},t.setRate=function(n){this.mV_Number&&(n<0&&(n=0),n!=this.mRate&&(this.mRate=n,this.mReqed=this.mIsC_Set=!0))},t.showInterval=function(n,t){t===void 0&&(t=!0);this.mV_showItvTxt=t;this.mV_showItv!=n&&(this.mV_showItv=n,this.mReqed=this.mIsC_Set=!0)},t.doSub_Resize=function(){this.mGraphics.width=this.mSize;this.mIsC_Set=!0},t.doSub_UDView=function(){if(this.mIsC_Set){while(this.mVecLtvs.length>0)l.recyle(this.mVecLtvs.shift());if(this.mV_showItv&&this.mStep>0){var n=0,t=this.mAreas.length,i=t-1,r,u=!1;for(n;n<t;n++)t>15&&n>0&&n<i||(r=this.mV_Number?this.mAreas[n]*this.mRate:this.mAreas[n].label,this.mVecLtvs[n]=this.addLtv(this.mStep*n>>0),u=this.mV_showItvTxt?!0:0==n||i==n?!0:10==t&&n%3==0?!0:9==t&&n%2==0?!0:8==t&&(2==n||5==n)?!0:!1,u&&this.mVecLtvs[n].setValue(r));this.checkPass()}else this.mVecLtvs[0]=this.addLtv(0),this.mVecLtvs[0].updateState(!0),this.mVecLtvs[1]=this.addLtv(this.mSize),this.mVecLtvs[1].updateState(!1);this.mIsC_Set=!1}},t.addLtv=function(n){var t=l.get(ult);return t.x=n,this.addChildAt(t,1),t},t.cleartME=function(){this.stage.off("mousemove",this,this.onMoving);this.stage.off("mouseup",this,this.onMoveEnd);this.stage.off("mouseout",this,this.onMoveEnd)},t.onBtnDown=function(){this.mLastMp=-1;this.mBtnCur.selected=!0;this.stage.on("mousemove",this,this.onMoving);this.stage.once("mouseup",this,this.onMoveEnd);this.stage.once("mouseout",this,this.onMoveEnd)},t.onMoving=function(){var n=this.mouseX,t,r,i;if(n<0?n=0:n>this.mSize&&(n=this.mSize),n!=this.mLastMp){if(this.mLastMp=n,this.mStep>0){if(t=Math.round(n/this.mStep),r=this.mAreas[t],r==this.mBtnCur.TmpData)return;this.mBtnCur.TmpData=r;this.mIndex=t;n=t*this.mStep>>0}else i=this.mTotal*(n/this.mSize),n<this.mMinX?(i=this.mMinValue,n=this.mMinX):n>this.mMaxX&&(i=this.mMaxValue,n=this.mMaxX),this.mBtnCur.TmpData=i;this.mEle_Pro.scaleX=this.mBtnCur.x=n;this.doCallback()}},t.onMoveEnd=function(){this.mBtnCur.selected=!1;this.cleartME()},t.doCallback=function(){var n=this.mBtnCur.TmpData;this.mV_Number&&(n=n*this.mRate);this.mHandleUpdate&&this.mHandleUpdate.runWith([n,this]);this.checkPass()},t.onClick=function(n){n.target!=this.mBtnCur&&(this.mLastMp=-1,this.onMoving())},t.checkPass=function(){if(this.mV_showItv&&this.mStep>0){var i=this.mBtnCur.x,n=0,r=this.mVecLtvs.length,t;for(n;n<r;n++)t=this.mVecLtvs[n],t&&t.updateState(t.x<=i)}},e(0,t,"height",n.prototype._$get_height,function(){}),i.create=function(n,t,r,u,f,e){t===void 0&&(t=!0);u===void 0&&(u=0);f===void 0&&(f=0);e===void 0&&(e=618);var o=new i(e,t,r);return o.pos(u,f),n&&n.addChild(o),o},i.H_LINE=4,i}(tr),alt=function(n){function i(n){var r,t;this.mIcon=null;this.mHtm=null;this.mBtnSubmit=null;this.mCon=null;this.mDicIns=null;this.mImg_Use=null;this.mImg_Slt=null;this.mHelpVec=null;this.mBag=null;this.mIdx=0;i.__super.call(this);this.toSize(710,n);n-=20;this.mBtnSubmit=new di("ifs_submit",null);this.mBtnSubmit.y=this.mHeight-this.mBtnSubmit.height>>0;this.toXCenter(this.mBtnSubmit);this.mBtnSubmit.on("click",this,this.onSubmit);this.addChild(this.mBtnSubmit);r=this.mBtnSubmit.y-24;this.graphics.drawRoundRect(20,this.mWidth,r,"#386ebf40");t=160;this.mIcon=new hi(t,!0);this.mIcon.loadIcon(null);this.mIcon.pos(this.mWidth-t>>1,40);this.mIcon.mouseEnabled=!1;this.addChild(this.mIcon);this.mHtm=new g("center");this.mHtm.width=this.mWidth;this.mHtm.style.leading=12;this.mHtm.y=this.mIcon.y+t+24;this.addChild(this.mHtm);this.initIns(370,r-390);this.mImg_Use=st.CrtImg("iconFrames/res_use.png");this.mImg_Use.pivot(this.mImg_Use.width>>1,this.mImg_Use.height>>1);this.mImg_Slt=st.CrtImg("iconFrames/res_slt.png");this.mBag=f.Bag.Ifs;f.Bag.regist(205,this.get205,this);f.Bag.regist(206,this.get206,this)}r(i,"games.windows.me.iconFrames.IconFrames_View",n);var t=i.prototype;return t.initIns=function(n,t){this.mCon=new br(this.mWidth,t,0);this.mCon.y=n;this.mCon.on("click",this,this.onClkIns);this.addChild(this.mCon);this.mDicIns={};var u=rt.GameConfigs.iconFrames,i,r,f;for(r in u)i=u[r],i&&(f=new sdt(i),this.mDicIns[r]=f);this.mHelpVec=[]},t.onEnable=function(){this.doReset(!0);var n=f.Account.Detail;this.mIcon.loadIcon(n.getIcon());this.get206(0,this.mIdx=n.iconStyle);f.Bag.reqIfs()},t.get205=function(){this.doReset(!0);var n,t;for(n in this.mDicIns)t=this.mDicIns[n],t&&t.setRT(this.mBag.getIfRt(n));this.showType(0);this.get206(0,this.mIdx)},t.get206=function(n,t){this.mImg_Use.removeSelf();this.mImg_Slt.removeSelf();var i=this.mDicIns[t];i&&(this.mImg_Use.pos(i.width>>1,i.GY),i.addChild(this.mImg_Use));this.showCur(this.mIdx=t)},t.doReset=function(n){var i,t;for(i in this.mDicIns)t=this.mDicIns[i],t&&t.toReset(n);this.mHelpVec.length=0;this.mCon.updateRealHeight(2);this.mCon.toTop();this.mImg_Use.removeSelf();this.mImg_Slt.removeSelf()},t.onSubmit=function(){a.StopInsOp(this.mBtnSubmit,300);f.Bag.ifsSet(this.mBtnSubmit.TmpData)},t.onClkIns=function(n){if(n.target!=n.currentTarget){var t=n.target;this.showCur(t.Config.index)}},t.showCur=function(n){var r,e,t,i;this.mImg_Slt.removeSelf();this.mIcon.loadIcon(f.Account.Detail.iconID+"-"+n);a.StopInsOp(this.mBtnSubmit,0);this.mBtnSubmit.disabled=n==this.mIdx;this.mBtnSubmit.TmpData=n;r=this.mDicIns[n];e="";r&&(r.addChild(this.mImg_Slt),t=r.Config,i=this.mBag.getIfRt(n),1==t.isdef&&(i=-1),e=i>0?u.lang("ifs_htm1",t.name,t.desc,a.FormatTime(i)):i<0?u.lang("ifs_htm2",t.name,t.desc):u.lang("ifs_htm0",t.name,t.desc));this.mHtm.innerHTML=e;this.mHtm.x=this.mWidth-this.mHtm.contextWidth>>1},t.showType=function(n){var r,t;this.doReset(!1);for(r in this.mDicIns)t=this.mDicIns[r],t&&t.Config.type==n&&t.IsValid&&this.mHelpVec.push(t);this.mHelpVec.sort(this.doSort);var u=4,e=t.width+18,f=t.height+18,i=0,o=this.mHelpVec.length;for(i;i<o;i++)t=this.mHelpVec.shift(),t.x=32+e*(i%u),t.y=4+f*(i/u>>0),this.mCon.addChild(t);t&&this.mCon.updateRealHeight(t.y+f)},t.doSort=function(n,t){return n.Config.index<t.Config.index?-1:n.Config.index>t.Config.index?1:0},i}(p),lb=function(n){function t(n){this.mHtm=null;this.mIsC=!1;t.__super.call(this);this.mIsC=n;this.mouseEnabled=!1;this.mHeight=50;this.mHtm=new ue;this.mHtm.style.wordWrap=!1;this.mHtm.style.leading=s.LEADING_SIZE;this.addChild(this.mHtm);this.mIsC?this.graphics.drawRect(0,0,this.mWidth,this.mHeight,"#052023a0"):this.mHtm.x=8}r(t,"FioLibs.displays.flyMessage._MsgItem_Base",n);var f=t.prototype;return i.imps(f,{"FioLibs.interfaces.IFio_Recyle":!0}),f.recyle=function(){this.removeSelf();this.mHtm.innerHTML=""},f.showMessage=function(n){this.mIsC?(this.mHtm.innerHTML=u.lang("flyMsg_style_1",n),this.toXCenter(this.mHtm)):(this.mHtm.innerHTML=u.lang("flyMsg_style_2",n),this.mWidth=this.mHtm.contextWidth+this.mHtm.x*2+8>>0,this.graphics.clear(),this.graphics.drawRoundRect(4,this.mWidth,this.mHeight,"#052023a0"));this.mHtm.y=this.mHeight-this.mHtm.contextHeight>>1;this.stage.addChild(this)},t}(p),vlt=function(n){function t(n){this.mHtmL=null;this.mHtmR=null;t.__super.call(this);this.toSize(n,160);var i=this.mWidth/4>>0;this.mHtmL=new g("center");this.mHtmL.pos(this.mHtmL.TmpData=i,4);this.addChild(this.mHtmL);this.mHtmR=new g("center");this.mHtmR.pos(this.mHtmR.TmpData=this.mWidth-i,this.mHtmL.y);this.addChild(this.mHtmR);this.mHtmL.style.leading=this.mHtmR.style.leading=8}r(t,"games.matchCores.panels.settings.dzdp.MpStDzdp_Joiner",n);var i=t.prototype;return i.update=function(n,t,i,r){this.mHtmL.innerHTML=u.lang("pSet_0",n,i);this.mHtmL.x=this.mHtmL.TmpData-.5*this.mHtmL.contextWidth>>0;var f=r>1999e4?u.lang("wuxian"):a.NumToStr(r);this.mHtmR.innerHTML=u.lang("pSet_1",a.getStrSeconds(t,1),f);this.mHtmR.x=this.mHtmR.TmpData-.5*this.mHtmR.contextWidth>>0},t}(p),ylt=function(n){function t(n){this.mPro=null;this.mBg=null;this.mHandCom=null;this.mHandPro=null;this.mPlang=null;this.mConfig=null;this.mPfont=null;t.__super.call(this);this.mouseEnabled=!1;this.mHandCom=n;this.size(s.MAX_W,s.MAX_H);this.addChild(this.mBg=new dw(!0));this.mPro=new sct;this.mPro.pos(s.MAX_W-this.mPro.width>>1,rt.toRealY(1090));this.addChild(this.mPro);this.mHandPro=h.create(this.mPro,this.mPro.showPro,null,!1);this.doLoad()}r(t,"games.preLoads.LoadingView",n);var e=t.prototype;return e.destroy=function(t){t===void 0&&(t=!0);this.mPro&&this.mPro.destroy();this.mPro=null;this.mHandCom=null;this.mHandPro&&this.mHandPro.recover();this.mHandPro=null;this.mPlang=this.mConfig=this.mPfont=null;this.mBg.destroy();n.prototype.destroy.call(this,t)},e.callCom=function(){this.mHandCom&&(this.mHandCom.run(),this.mHandCom=null)},e.doLoad=function(){var r=f.Login.Lang,t="res/configs/"+r+"/",n=[];n.push("lunch/login.jpg");n.push(this.mPlang=t+"lang.txt");n.push({url:this.mConfig=t+"configs.cfg",type:"json"});n.push(wt.getBagsCfgPath());n.push("res/matches.atlas");n.push("lunch/winBg.png");n.push("res/faceIcons.atlas");n.push("res/shops.atlas");n.push("res/funds.atlas");n.push("res/mainUi.atlas");n.push("res/cards.atlas");n.push("res/sysIcons.atlas");n.push("res/iconFrames.atlas");this.mPro.showLabel("初始化游戏资源 5.58M");i.loader.load(n,h.create(this,this.onResCom),this.mHandPro)},e.onResCom=function(n){var t,f,r;n?(u.parseConfig(i.loader.getRes(this.mPlang)),i.loader.clearRes(this.mPlang),this.mPlang=null,t=i.loader.getRes(this.mConfig),this.mConfig=null,f=wt.getBagsCfgPath(),r=i.loader.getRes(f),wt.OssImgVer=r.ver,t.items=r.items,t.ticket=r.ticket,t.ticket1=r.ticket1,t.ticket2=r.ticket2,rt.GameConfigs=t,k.Init(t.uiLibs),ey.CFG,this.timerOnce(100,this,this.callCom)):this.mPro.showLabel("游戏初始化失败.请重启游戏","#ff0000")},t}(tr),plt=function(n){function t(n,i,r){t.__super.call(this);this.toSize(n,i);var f=4,s=this.mWidth/f>>0,a=s>>1,h=rt.GameConfigs.betConfigs,e,u,c,o=0,l=0;for(c in h)e=h[c],l=o/f>>0,u=k.crt_Btn(this,"text",null,0,16+l*52,76),u.TmpData=e.data,u.label=e.label,u.x=a+o%f*s-.5*u.width>>0,u.setClick(r),o+=1;rt.GameConfigs.betConfigs=null}return r(t,"games.matchCores.panels.styles.MpStyle_Org",n),t}(p),wlt=function(n){function i(){this.IconPath=null;this.mIcon=null;this.mHuntSj=null;this.mAllInEff=null;this.mScore=NaN;this.mOrderVec=null;i.__super.call(this);this.mouseEnabled=!1;this.toSize(78,78);this.addChild(this.mIcon=new fti);this.mHuntSj=new ndt;this.mAllInEff=new ro;this.mAllInEff.mouseEnabled=!1;this.mAllInEff.pos(40,40);this.mAllInEff.load("res/dragons/901.sk");this.mOrderVec=[];this.mOrderVec.push(this.mAllInEff,null,this.mHuntSj)}r(i,"games.matchCores.desk.role.DM_Role_Head",n);var t=i.prototype;return t.DoReset=function(){this.mScore=-1;this.IconPath=null;this.mIcon.DoReset();this.mHuntSj.DoReset();this.mOrderVec[1]=null;this.updateValiad(!0);this.showAllIn(!1)},t.initFlip=function(n){this.mIcon.initFlip(n);this.mHuntSj.y=-4;this.mHuntSj.x=n?this.mIcon.width-this.mHuntSj.width+6:-16;this.mHuntSj.initFlip(n)},t.updateSit=function(n){this.mIcon.updateSit(n)},t.updateNick=function(n,t){this.mIcon.updateNick(n,t)},t.updateIcon=function(n){this.IconPath=n;this.mIcon.updatePlayer(n)},t.updateScroe=function(n){var t=this.mScore!=n;this.mScore=n;t&&this.tabBB()},t.tabBB=function(){this.mIcon.updateScroe(o.getValueBB(this.mScore))},t.updateSj=function(n){this.mHuntSj.updateSj(n)?this.AddIns(this.mHuntSj,!1):this.mHuntSj.removeSelf()},t.showState=function(n,t){this.mIcon.showState(n,t)},t.updateValiad=function(n){this.mIcon.updateValiad(n?1:.45)},t.showAllIn=function(n){n?(this.mAllInEff.player&&this.mAllInEff.play(0,!0),this.AddIns(this.mAllInEff)):this.mAllInEff&&(this.mAllInEff.removeSelf(),this.mAllInEff.stop())},t.AddIns=function(n,t){(t===void 0&&(t=!1),n&&!n.parent)&&(this.addChild(n),t&&(this.mOrderVec[1]=n),this.callLater(this.reOrder))},t.reOrder=function(){var n=0,i=this.mOrderVec.length,t,r=1;for(n;n<i;n++)t=this.mOrderVec[n],t&&t.parent==this&&this.setChildIndex(t,r++)},i}(p),la=function(n){function t(){var n,r;this.Vo=null;this.mTttl=null;this.mTval=null;t.__super.call(this);this.toSize(710,148);this.toXCenter();this.graphics.drawRoundRect(20,this.mWidth,this.mHeight,"#386ebf40");this.mouseEnabled=!0;this.Vo=new po;this.mTttl=w.quickCreate(28,"#b2d6fb");this.mTttl.text="标题";this.mTttl.pos(32,20);this.addChild(this.mTttl);n=i.loader.getRes("mainUi/arrow1.png");n&&this.graphics.drawImage(n,this.mWidth-20-n.width>>0,this.mHeight-n.height>>1);this.mTval=w.quickCreate(22,"#6391d5");this.mTval.leading=12;this.mTval.width=500;this.mTval.wordWrap=!0;this.mTval.text="数\n值";this.mTval.pos(32,70);this.addChild(this.mTval);r=k.crt_Btn(this,null,"mainUi/coms_btn_del.png");r.pos(this.mWidth-r.width-56,this.mHeight-r.height>>1);this.on("click",this,this.onClk)}r(t,"games.windows.matches.creators.yujuesai.matchSet.YjsSetMain_Item",n);var u=t.prototype;return i.imps(u,{"FioLibs.interfaces.IFio_Recyle":!0}),u.recyle=function(){this.removeSelf()},u.setVo=function(n){this.Vo.copy(n);this.update()},u.update=function(){this.mTttl.text=this.Vo.name;this.mTval.text=this.Vo.getYsStr()},u.onClk=function(n){var i=n.target!=this;t.sHandler&&t.sHandler.runWith([i,this])},t.sHandler=null,t}(p),blt=function(n){function i(){this.mNums=0;this.mNo=null;this.mTC=null;this.mTJ=null;this.mDpiFlag=null;i.__super.call(this);this.initUi_Top();this.mNo=new ee("mainUi/club_icon_union_def2.png","club_crt_tips1",30);this.mTC=new ws("club_TitleC");this.mTJ=new ws("club_TitleJ");this.mDpiFlag=st.CrtImg("mainUi/club_dpiown.png");this.mSCon.on("click",this,this.onClkItem);f.Club.regist(703,this.get703,this);f.Club.regist(706,this.get706,this);f.Club.regist(707,this.get707,this)}r(i,"games.scene.modules.clubs.Scene_Club",n);var t=i.prototype;return t.initUi_Top=function(){var t=h.create(this,this.onClickBtns,null,!1),n=new pa("club_btns",t,"mainUi/club_icon_union_");this.addChild(n);this.updateTopH(n.height+36)},t.onClickBtns=function(n){0==n?b.OpenWin(53):1==n&&b.OpenWin(52,0)},t.onClkItem=function(n){if(n.target!=n.currentTarget){var t=n.target;b.OpenWin(50,t.ZdID,t.ZdName,t.ZdJob)}},t.onEnable=function(){f.Account.regist(201,this.get201,this);f.Club.quiteClubModu()},t.onDisable=function(){f.Account.remove(201,this.get201,this)},t.doSubStart=function(){this.doSubStop(!1);this.mNums=hr.MyDetail.ClubNum;0==this.mNums?this.mSCon.ItemAdd(this.mNo):f.Club.reqMyClubs()},t.doSubStop=function(){this.mDpiFlag.removeSelf();this.mSCon.updateRealHeight(0);this.mSCon.ItemRemove(this.mNo);this.mSCon.ItemRemove(this.mTC);this.mSCon.ItemRemove(this.mTJ);this.mSCon.ItemClean(!0)},t.get201=function(){this.parent&&hr.MyDetail.ClubNum!=this.mNums&&this.doSubStart()},t.getResult=function(n){this.parent&&0==n&&this.doSubStart()},t.get703=function(n,t,i){this.doSubStop(!1);n&&n.length>0&&(this.addLists(n,!0),this.mSCon.pushLineGap(26));this.addLists(t,!1);this.get707(0,i)},t.addLists=function(n,t){var r,i,u;if(this.parent&&(r=n.length,r>0))for(this.mSCon.ItemAdd(t?this.mTC:this.mTJ,4),i=0,i;i<r;i++)u=l.get(tii),u.setVo(n[i]),this.mSCon.ItemAdd(u)},t.get706=function(n,t,i,r){var u=this.mSCon.findItem("ZdID",r);u&&u.updateStar(t)},t.get707=function(n,t){if(t>0){var i=this.mSCon.findItem("ZdID",t);i?(this.mDpiFlag.pos(i.width-this.mDpiFlag.width-38,i.y),this.mSCon.addChild(this.mDpiFlag)):this.mDpiFlag.removeSelf()}},i}(hr),klt=function(n){function t(n){this.I_User=null;this.I_Code=null;this.I_Psw=null;this.I_Psw2=null;this.Radio=null;this.BtnSubmit=null;t.__super.call(this);this.mWidth=710;this.mHeight=1120;this.toXCenter();this.graphics.drawRoundRect(20,this.mWidth,this.mHeight,"#386ebf40");var i=st.CrtImg("mainUi/login_icon.png");this.toXCenter(i);i.y=26;this.addChild(i);this.I_User=new eo(!0);this.I_User.pos(this.mWidth-this.I_User.width>>1,216);this.addChild(this.I_User);this.I_Code=new hc(n);this.I_Code.pos(this.mWidth-this.I_User.width>>1,380);this.addChild(this.I_Code);this.I_Psw=new oo(!0);this.I_Psw.pos(this.mWidth-this.I_Psw.width>>1,546);this.addChild(this.I_Psw);this.I_Psw2=new oo(!0,0,"login_12_p","login_12_n");this.I_Psw2.pos(this.mWidth-this.I_Psw2.width>>1,712);this.addChild(this.I_Psw2);this.Radio=new ev;this.Radio.pos(this.mWidth-this.Radio.width>>1,916);this.Radio.setClick(h.create(this,this.onRadio,null,!1));this.addChild(this.Radio);this.BtnSubmit=k.crt_Btn(this,"login",null,0,966);this.toXCenter(this.BtnSubmit);this.BtnSubmit.setClick(n);this.BtnSubmit.label=u.lang("reg_2")}r(t,"games.windows.accounts.regOrRest.RegOrReset_View",n);var i=t.prototype;return i.ShowRadio=function(n){this.Radio.visible=n;n?(this.Radio.selected=!1,this.onRadio()):this.BtnSubmit.disabled=!1},i.ShowUser=function(n,t){this.I_User.setValue(n);this.I_User.updateCountry(t)},i.onRadio=function(){this.BtnSubmit.disabled=!this.Radio.selected},t}(p),dlt=function(n){function t(){var n,i;this.mIcon=null;this.mTname=null;this.mTother=null;this.mStar=null;t.__super.call(this);this.mWidth=710;this.x=s.MAX_W-this.mWidth>>1;this.mHeight=154;this.graphics.drawRoundRect(20,this.mWidth,this.mHeight,"#386ebf40");this.mIcon=new hi(120);this.mIcon.mouseEnabled=!1;this.mIcon.pos(17,17);this.addChild(this.mIcon);n=172;this.mTname=new g;this.mTname.pos(n,24);this.mTname.style.fontSize=32;this.mTname.style.color="#b2d6fb";this.addChild(this.mTname);this.mTother=new g;this.mTother.pos(n,72);this.mTother.style.fontSize=26;this.mTother.style.color="#6391d5";this.addChild(this.mTother);this.mStar=new bf;this.mStar.pos(n,108);this.addChild(this.mStar);i=st.CrtImg("mainUi/desk_home.png");i.pos(this.mWidth-i.width-28,28);this.addChild(i);this.on("click",this,this.onClkBtn)}r(t,"games.windows._club.clubHead.Club_Head_Desk",n);var i=t.prototype;return i.onClkBtn=function(){b.OpenWin(51,this.TmpData)},i.updateLev=function(n){this.mStar.showStar(n)},i.showClub=function(n){this.TmpData=n.cID;this.mIcon.loadIcon(n.icon,1);this.mTname.innerHTML=u.lang("clubInfo_top",n.name);this.updateLev(n.level);this.mTother.innerHTML=u.lang("clubWx_desk",n.wx||u.lang("clubWx_null"),n.vID)},t}(p),glt=function(n){function i(){this.mIndex=0;this.mFace1=null;this.mFace2=null;this.mFace4=null;i.__super.call(this);this.toSize(606,134);this.mFace1=this.crtFace(1);this.mFace2=this.crtFace(2);this.mFace4=this.crtFace(4);this.mFace4.y=this.mHeight;f.Bag.regist(203,this.updateNums,this);this.updateNums()}r(i,"games.matchCores.panels.lookPlayer.MpLkPlayer_Face",n);var t=i.prototype;return t.crtFace=function(n){var t=new gw(this.mWidth-40,102,30),r,u,i;t.updateWdith(2);t.pos(this.mWidth-t.width>>1,16);r=rt.GameConfigs.faceConfigs;for(u in r)i=r[u],i.open>0&&i.useTo==n&&t.ItemAdd(new hgt(i,n));t.addGap(-24);t.on("click",this,this.onClkCon);return t},t.DoReset=function(){this.mFace1.removeSelf();this.mFace2.removeSelf();this.mFace4.removeSelf();this.mFace1.toMin();this.mFace2.toMin();this.mFace2.toMin()},t.setBase=function(n,t){this.mIndex=t;n?(this.mHeight=134,this.addChild(this.mFace1)):(this.mHeight=252,this.addChild(this.mFace2),this.addChild(this.mFace4));this.graphics.clear();this.graphics.drawRoundRect(20,this.mWidth,this.mHeight,"#3a5373")},t.onClkCon=function(n){if(n.currentTarget!=n.target){var t=n.target;t.Num<1?ut.showMessage("pvp_faceErr"):f.Match.reqQuickChat(1,t.FaceID,this.mIndex)}},t.updateNums=function(){var r=f.Bag.Faces,i=this.mFace4.getItems(),n=0,u=i.length,t;for(n;n<u;n++)t=i[n],t&&t.updateNum(r.getNum(t.FaceID))},i}(p),nat=function(n){function t(n){var r;this.mHd=null;this.mHdLoad=null;this.mVloading=!1;t.__super.call(this);this.mHd=n;this.mHdLoad=h.create(this,this.onLoaded,null,!1);this.mouseEnabled=!0;this.graphics.drawRect(0,0,this.mWidth,this.mHeight=this.stage.height,"#00000099");var f=i.loader.getRes("mainUi/img_serStatu.png"),o=f.width>>0,e=f.height>>0,s=this.mHeight-e>>1;this.graphics.drawImage(f,this.mWidth-o>>1,s,o,e);r=k.crt_Btn(this,"reg",null,0,0,360);r.label=u.lang("retry");r.setClick(h.create(this,this.DoCheck,null,!1));r.pos(this.mWidth-r.width>>1,s+e-r.height-34);this.alpha=.005}r(t,"FioLibs.core.socket.Server_Checker",n);var f=t.prototype;return f.DoCheck=function(){this.alpha=.005;this.stage.addChild(this);this.mVloading||(this.mVloading=!0,i.loader.load(wt.getSerStatu(),this.mHdLoad,null,null,1,!1,null,!0))},f.onLoaded=function(n){this.mVloading=!1;n&&1==n.weihu?this.alpha=1:(this.removeSelf(),this.mHd&&this.mHd.run())},t}(p),tat=function(n){function t(n){this.I_User=null;this.I_Psw=null;this.Radio=null;t.__super.call(this);this.mWidth=640;this.mHeight=692;this.toXCenter();this.graphics.drawRoundRect(20,this.mWidth,this.mHeight,"#ffffff");this.I_User=new eo(!1);this.I_User.pos(this.mWidth-this.I_User.width>>1,50);this.addChild(this.I_User);this.I_Psw=new oo(!1,360);this.I_Psw.pos(this.mWidth-this.I_Psw.width>>1,250);this.addChild(this.I_Psw);this.crtBtn(n,"login",11,"login_btn_login",462);this.crtBtn(n,"reg",12,"login_btn_regist",576);var i=this.crtBtn(n,"forget",21,"login_forget",this.I_Psw.y+6);i.autoWidth();i.pos(this.I_Psw.x+386,this.I_Psw.y+this.I_Psw.iInput.y+.5*(this.I_Psw.iInput.height-i.height)>>0);this.Radio=new ev;this.Radio.pos(this.mWidth-this.Radio.width>>1,this.mHeight+40);this.addChild(this.Radio)}r(t,"games.windows.accounts.login.GameLogin_View",n);var i=t.prototype;return i.crtBtn=function(n,t,i,r,f){var e=k.crt_Btn(this,t,null,0,f);return r&&(e.label=u.lang(r)),this.toXCenter(e),e.TmpData=i,e.setClick(n),e},t}(p),iat=function(n){function t(n){var f,r,u;for(this.X_Week=null,this.mVecDays=null,this.mImg=null,this.mHandler=null,t.__super.call(this),this.mHandler=n,this.mouseEnabled=!0,this.mWidth=s.MAX_W,this.mVecDays=vr(31,null),r=0,r;r<31;r++){f=new slt(r);f.on("click",this,this.onClick);this.mVecDays[r]=f}this.graphics.drawRect(0,0,this.mWidth,544,"#dde4ee");this.graphics.drawRect(16,0,this.mWidth-32,2,"#acb7c7");this.initWeek();u=i.loader.getRes("mainUi/coms_circle.png");this.mImg=new p;this.mImg.mouseEnabled=!0;this.mImg.graphics.drawImage(u,-u.width>>1,-u.height>>1)}r(t,"FioLibs.displays.coms.extendComs.dates.Sub_DateDay",n);var f=t.prototype;return f.initWeek=function(){var r=u.obj("comDate_week"),n=0;this.X_Week=[];var i=this.mWidth/8>>0,t=i,f=20-s.LEADING_SIZE;for(n;n<7;n++)this.X_Week[n]=t,this.graphics.fillText(r[n],t,f,32,"#444444","center"),t+=i},f.show=function(n,t,i){var r;for(n-=1,n<0&&(n=6),r=0,r=0;r<31;r++)this.mVecDays[r].removeSelf();this.mImg.removeSelf();var u,e=0,o=0,f=0;for(r=0;r<i;r++)if(u=this.mVecDays[r],r<i&&(e=n+r,o=this.X_Week[e%7],f=e/7>>0,f=68*(1+f)>>0,u.pos(o-.5*u.width>>0,f),this.addChild(u),t==u.TmpData))this.onSelect(u);this.mHeight=u.y+u.height+16>>0},f.onClick=function(n){var t=n.currentTarget;this.onSelect(t);this.mHandler&&this.mHandler.runWith(t)},f.onSelect=function(n){this.mImg.x=n.x+.5*n.width>>0;this.mImg.y=n.y+.5*68>>0;this.addChildAt(this.mImg,0)},t.SIZE=68,t}(p),ab=function(n){function t(n,i,r,u,f){this.mVo=null;this.mTitle=null;this.mValue=null;n===void 0&&(n=256);i===void 0&&(i=120);r===void 0&&(r=24);u===void 0&&(u=68);f===void 0&&(f=24);t.__super.call(this);this.mWidth=n;this.mHeight=i;this.graphics.drawRoundRect(16,this.mWidth,this.mHeight,"#3a5373");this.mTitle=w.quickCreate(f,"#64ace9");this.mTitle.pos(4,r);this.addChild(this.mTitle);this.mValue=new wb("mainUi/jpNum_");this.mValue.y=u;this.addChild(this.mValue)}r(t,"games.UD_Displays.jackpot.JpList_Item_Base",n);var i=t.prototype;return i.initVo=function(n){this.mVo=n;this.mTitle.text=u.lang("clubST_jp_0",n.betStr);this.mTitle.x=this.mWidth-this.mTitle.width>>1;this.mTitle.graphics.drawRect(0,this.mTitle.height+2>>0,this.mTitle.width>>0,2,"#64ace9");this.updateValue(n.value)},i.updateValue=function(n){this.mValue.show(this.mVo.value=n);this.mValue.x=this.mWidth-this.mValue.width>>1},t}(p),rat=function(n){function t(n,i){this.mCtrl=null;i===void 0&&(i=632);t.__super.call(this);this.toSize(710,88);this.toXCenter();this.graphics.drawRoundRect(20,this.mWidth,this.mHeight,"#386ebf40");this.initUI(n.id,n.title,n.data,n.def)}r(t,"games.windows.matches.creators.utils.CrtMatch_GroupRadios",n);var i=t.prototype;return i.initUI=function(n,t,i,r){var f;if(r===void 0&&(r=-1),f=w.quickCreate(28,"#b2d6fb"),f.text=t,f.pos(28,this.mHeight-f.textHeight>>1),this.addChild(f),i){var e=0,o=i.length,s,u,h=this.mWidth-20,c=[];for(e;e<o;e++)s=i[o-1-e],u=k.crt_Radio(this,"r6"),u.label=s.label,u.TmpData=s.data,u.pos(h-u.width,this.mHeight-u.height>>1),h-=u.width+16,c.push(u);this.mCtrl||(this.mCtrl=new we);this.mCtrl.updateDisplays(c);this.mCtrl.select(r>-1?o-1-r:-1)}},i.getVal=function(){return this.mCtrl.getSelected().TmpData},t}(p),uat=function(n){function i(n){this.mVo=null;this.mRadio=null;this.mSc=null;this.mBB=null;this.mAnte=null;this.mMinBring=null;this.mIsDp=!1;i.__super.call(this);this.toSize(710,4);this.toXCenter();this.mRadio=k.crt_Radio(this,"r5",null,24,4);this.mRadio.mText.fontSize=28;this.mRadio.label=u.lang("cm_zm_2");this.mRadio.setClick(n);this.mSc=k.crt_Switch(null);this.mSc.label=u.lang("cm_zm_2");this.mSc.pos(this.mWidth-this.mSc.width-20,this.mHeight);this.mHeight+=this.mSc.height+8;var t=h.create(this,this.onSldC,null,!1);this.mBB=new se(ot.CFG_DZ.VecSliders[0],t);this.mAnte=new se(ot.getAnte(1),t);this.mMinBring=new se(ot.CFG_DZ.VecSliders[2],t);this.mBB.pos(0,this.mHeight);this.mHeight+=this.mBB.height+10;this.mAnte.pos(0,this.mHeight);this.mHeight+=this.mAnte.height+10;this.mMinBring.pos(0,this.mHeight);this.mHeight+=this.mMinBring.height}r(i,"games.windows.matches.creators.dzdp.CrtNml_ZmItem",n);var t=i.prototype;return t.setIdx=function(n){this.mRadio.label=u.lang("cm_zm_1",n)},t.setVo=function(n,t,i){this.mVo=n;this.mIsDp=i;this.mSc.label=u.lang("cm_zm_"+(i?3:2));this.mSc.x=this.mWidth-this.mSc.width-20;this.mSc.selected=this.mVo.qz;this.mMinBring.updateDef(this.mVo.minBringIdx);this.mMinBring.DoReset();this.mBB.changeTiltips(t.title,t.tips);this.mBB.setIntervals(t.data,0,!1);this.mBB.updateDef(this.mVo.lbIdx);this.mBB.DoReset();this.mAnte.updateDef(this.mVo.anteIdx);this.mAnte.DoReset();this.Show(this.mVo.open)},t.Show=function(n){this.mRadio.selected=n;this.mSc.removeSelf();this.mBB.removeSelf();this.mAnte.removeSelf();this.mMinBring.removeSelf();var t=this.mBB.y+this.mBB.height+10;n&&(this.addChild(this.mSc),this.addChild(this.mBB),this.mIsDp||(this.mAnte.y=t,this.addChild(this.mAnte),t+=this.mAnte.height+10),this.mMinBring.y=t,this.addChild(this.mMinBring),t+=this.mMinBring.height);this.mHeight=t},t.getOpen=function(){return this.mRadio.selected},t.DoSave=function(){return this.parent&&this.mRadio.selected?(this.mVo.open=!0,this.mVo.qz=this.mSc.selected,this.mVo.lbIdx=this.mBB.getIndex(),this.mVo.lbVal=this.mBB.getValue(),this.mVo.anteIdx=this.mAnte.getIndex(),this.mVo.anteVal=this.mAnte.getValue(),this.mIsDp&&(this.mVo.anteVal=this.mVo.lbVal),this.mVo.minBringIdx=this.mMinBring.getIndex(),this.mVo.minBring=this.mMinBring.getValue(),this.mVo):(this.Show(this.mVo.open=!1),null)},t.onSldC=function(n){var t=n.getValue(),i;switch(n.ID){case 0:this.mIsDp||(t=t+"/"+2*t,i=ot.getAnte(n.getIndex()),this.mAnte.setIntervals(i.data,i.def));this.mMinBring.setRate(this.mBB.getValue()*100)}n.updateTips(t)},i}(p),ee=function(n){function t(n,i,r,u){this.mImg=null;this.mTips=null;r===void 0&&(r=24);t.__super.call(this);this.mouseEnabled=!1;this.toXCenter();this.mImg=new s;this.mImg.y=64;this.addChild(this.mImg);this.mTips=w.quickCreate(r,u||"#40608e");this.mTips.leading=8;this.updateImg(n);this.updateTip(i)}r(t,"games.UD_Displays.imgs.UD_ImgTip",n);var i=t.prototype;return i.updateImg=function(n){this.mImg.texture=null;this.mImg.loadImage(n);this.mImg.x=this.mWidth-this.mImg.texture.width>>1;this.mTips.y=this.mImg.y+this.mImg.texture.height+40>>0},i.updateTip=function(n){n?(this.mTips.text=u.lang(n),this.mTips.x=this.mWidth-this.mTips.width>>1,this.addChild(this.mTips),this.mHeight=this.mTips.y+this.mTips.height+16>>0):(this.mTips.removeSelf(),this.mHeight=this.mImg.y+this.mImg.height+16>>0)},t}(p),vb=function(n){function i(){this.mVecBtns=null;i.__super.call(this);this.initItems();f.Message.regist(330,this.getAll,this);this.getAll(f.Message.AllVo)}r(i,"games.UD_Displays.messages.UD_Message_Home",n);var t=i.prototype;return t.initItems=function(){this.mWidth=0;var r=u.obj("msg_menus"),i,n,t=0,f=r.length;for(this.mVecBtns=vr(f),t;t<f;t++){this.mWidth>0&&(this.mWidth+=26);i=r[t];this.mVecBtns[i.data]=n=new aat(i);n.x=this.mWidth;n.on("click",this,this.onClick);this.addChild(n);this.mWidth+=n.width}this.mHeight=n.height;this.x=s.MAX_W-this.mWidth>>1},t.select=function(n){var t=this.mVecBtns[n];t&&this.openWin(t.TmpData)},t.onClick=function(n){this.openWin(n.currentTarget.TmpData)},t.openWin=function(n){b.OpenWin(21,n)},t.getAll=function(n){var i,t=1,r=n.vecItems.length;for(t;t<r;t++)i=this.mVecBtns[t],i&&i.update(n.vecItems[t])},i}(p),fat=function(t){function i(){this.mBtnCopy=null;this.mTxt=null;i.__super.call(this);this.toSize(710,200);this.toXCenter();this.initBase()}r(i,"games.scene.modules.me.SceMe_Debug",t);var u=i.prototype;return u.initBase=function(){var t=72,n;this.graphics.drawRoundRect(8,this.mWidth,t,"#386ebf40");this.graphics.fillText("前端基本数据",24,22-s.LEADING_SIZE,28,"#b2d6fb");this.mBtnCopy=k.crt_Btn(this,"xiaoanniu2");this.mBtnCopy.label="Copy";this.mBtnCopy.width=128;this.mBtnCopy.pos(this.mWidth-this.mBtnCopy.width-24,t-this.mBtnCopy.height>>1);this.mBtnCopy.on("click",this,this.doCopy);n=k.crt_Radio(this,"r3");n.label="显示帧频";n.pos(this.mBtnCopy.x-n.width-32,t-n.height>>1);n.setClick(h.create(this,this.onStat,null,!1));this.mTxt=w.quickCreate(28,"#5680be");this.mTxt.leading=20;this.mTxt.pos(24,t+20);this.addChild(this.mTxt)},u.doCopy=function(){et.copy(this.mBtnCopy.TmpData)},u.onStat=function(n){n.selected?ni.show(4,4):ni.hide()},u.Show=function(){var i=[],r,t;i.push("游戏模式:  "+wt.logOpen+"  ( "+et.ShellVer+", "+n.navigator.platform+" )");r=wt.version;r.length>5&&(t=r.match(/(\d\d)/g),i.push("前端版本:  "+r+" ("+t.shift()+"-"+t.shift()+"-"+t.shift()+"  "+t.shift()+":"+t.shift()+":"+t.shift()+")"));r=rt.SVER+"";r.length>5&&(t=r.match(/(\d\d)/g),i.push("外网版本:  "+rt.SVER+" ("+t.shift()+"-"+t.shift()+"-"+t.shift()+"  "+t.shift()+":"+t.shift()+":"+t.shift()+")"));i.push("定位地址:  经度[ "+et.GpsX.toFixed(5)+" ], 纬度[ "+et.GpsY.toFixed(5)+" ]");i.push("资源地址:  "+wt.ResCdn);i.push("服务地址:  "+io.ins.mHost+" ["+io.ins.IP+"]");i.push("MAC 地址:  "+et.Mac);i.push(wr.getAppInfo());this.mTxt.text=this.mBtnCopy.TmpData=i.join("\n");this.mHeight=this.mTxt.y+this.mTxt.height>>0},i}(p),eat=function(n){function i(){var n,t,r;this.mTab=null;this.mVecRed=null;this.mCur=null;this.mCurIdx=0;this.mDicMods=null;this.mDs_Desk=null;i.__super.call(this,10,!1);this.mCurIdx=-1;n=this.initUi_Top()+20;t=hr.VIEW_HEIGHT-n;this.mDicMods={};this.mDicMods[0]=new fv(t,0);this.mDicMods[2]=new uv(t,!0);for(r in this.mDicMods)this.mDicMods[r].y=n;this.mDs_Desk=f.Desk;this.mDs_Desk.regist(317,this.getNum,this)}r(i,"games.scene.modules.Scene_Invite",n);var t=i.prototype;return t.initUi_Top=function(){var o=h.create(this,this.onClickBtns,null,!1),f=new pa("invite_btns",o,"mainUi/invite_icon_"),r;this.addChild(f);r=f.height+20>>0;this.mTab=new rr;this.mTab.create(u.obj("invite_tabs"),662);this.mTab.setClick(h.create(this,this.onTab,null,!1));this.mTab.pos(s.MAX_W-this.mTab.width>>1,r);this.addChild(this.mTab);this.mVecRed=[];var t=0,e=this.mTab.getTxts(),c=e.length,i,n,l=et.isShell()?0:2;for(t;t<c;t++)n=e[t],i=new bu(this.mTab,"redPoint1",20),i.pos(n.x+n.width+4>>0,n.y+.5*(n.height-i.height)-l>>0),this.mVecRed.push(i);return r+this.mTab.height},t.doSubStart=function(){var n=this.mTab.selectIndex;this.mTab.select(n==-1?0:n)},t.doSubStop=function(){this.mDs_Desk.quitYp();this.mCurIdx=-1},t.onTab=function(n){if(n!=this.mCurIdx){this.mCurIdx=n;var t=this.mDicMods[n];t&&(this.mCur&&this.mCur.Stop(),this.mCur=null,this.mCur=t,this.addChild(this.mCur),this.mCur.Start())}},t.onClickBtns=function(n){0==n?b.OpenWin(32):1==n&&(hr.MyDetail.RoomID>0?ut.showMessage("cmd_301_1"):b.OpenWin(30,0,this.mCurIdx<-1?0:this.mCurIdx))},t.getNum=function(n,t){this.mVecRed[0]&&this.mVecRed[0].showValue(n);this.mVecRed[1]&&this.mVecRed[1].showValue(t)},i}(hr),oat=function(n){function t(n){this.mTitle=null;this.mSy=0;this.mDicIcons={};this.sVecPools=[];t.__super.call(this);this.toSize(n,64);this.mTitle=new g;this.mTitle.mouseEnabled=!1;this.mTitle.innerHTML=u.lang("pRank_visitor",0,0);this.mTitle.pos(16,32);this.addChild(this.mTitle);this.mSy=this.mTitle.y+this.mTitle.contextHeight+16>>0;this.on("click",this,this.onClk)}r(t,"games.matchCores.panels.ranks.dzdp.MpRankDzdp_Visitors",n);var i=t.prototype;return i.DoReset=function(){for(var n in this.mDicIcons)delete this.mDicIcons[n];while(this.numChildren>1)this.sVecPools.push(this.removeChildAt(1))},i.setLists=function(n){while(this.numChildren>1)this.removeChildAt(1);this.mHeight=this.mSy+16;var e=4,o=148,i=0,s=n.length,h=0,r,t,f=0;for(i;i<s;i++)r=n[i],t=this.mDicIcons[f=r.sID],t||(this.sVecPools.length>0?t=this.sVecPools.shift():(t=new hi(88,!0,8),t.mouseEnabled=!0,t.setLabel(" ",22,"#b2d6fb")),t.TmpData=f,this.mDicIcons[f]=t),r.isOnline?(h+=1,t.alpha=1,t.mLabel.color="#b2d6fb"):(t.alpha=.48,t.mLabel.color="#566c88"),t.sitter_Load(wt.getUserIcon(r.icon)),t.mLabel.fontSize=b.getCharLength(r.name)>12?20:22,t.setLabel(r.name),t.pos(26+i%e*144,this.mSy+o*(i/e>>0)),this.addChild(t);this.mTitle.innerHTML=u.lang("pRank_visitor",h,s);t&&(this.mHeight=t.y+o+16)},i.onClk=function(n){if(n.currentTarget!=n.target){var t=n.target;ki.open(4,t.mFullPath,t.TmpData)}},t}(p),sat=function(n){function t(n,i,r,u){if(this.mMenuCfgs=null,this.mCallOp=null,this.mBtnW=0,this.mDicBtns=null,u===void 0&&(u=184),t.__super.call(this),this.mouseEnabled=!0,this.mWidth=n,this.toXCenter(),this.mMenuCfgs=i,this.setOpHandler(r),this.mBtnW=u,this.mDicBtns={},i){var e=0,s=i.length,f,o,c=h.create(this,this.onClkBtn,null,!1);for(e;e<s;e++)o=i.shift(),o&&(f=k.crt_Btn(null,"btnAlert2",null,0,0,u),f.label=o.label,f.TmpData=o.data,f.setClick(c),this.mDicBtns[e]=f)}}r(t,"games.UD_Displays.menus.UD_Menu_ScrInsert",n);var i=t.prototype;return i.setOpHandler=function(n){this.mCallOp&&this.mCallOp.recover();this.mCallOp=n},i.setShowIDs=function(n,i){var r,f,u,e;if(i===void 0&&(i=3),this.DoReset(),n){for(t.sVecBtns.length=0,r=0,f=n.length,r;r<f;r++)u=this.mDicBtns[n.shift()],u&&t.sVecBtns.push(u);if(f=t.sVecBtns.length,f>0){var o=0,s=f>i?i:f,h=(this.mWidth-this.mBtnW*s)/(s+1)>>0,c=this.mBtnW+h;for(r=0;r<f;r++)o=r/i>>0,u=t.sVecBtns.shift(),u.pos(h+r%i*c>>0,16+o*64),this.addChild(u);this.mHeight=(u?u.y+u.height+16:32)>>0;e=12;this.graphics.drawPoly(this.mWidth>>1,0,[e,0,-e,0,0,-e],"#305278");this.graphics.drawRoundRect(16,this.mWidth,this.mHeight,"#305278")}}},i.onClkBtn=function(n){this.mCallOp&&this.mCallOp.runWith(n.TmpData)},i.DoReset=function(){for(this.graphics.clear(),this.mHeight=0;this.numChildren>0;)this.removeChildAt(0)},d(t,["sVecBtns",function(){return this.sVecBtns=[]}]),t}(p),yb=function(n){function t(n){if(this.mTnow=0,this.mTe=0,this.mCallback=null,t.__super.call(this),this.mCallback=n,!t.sDicTexs){t.sDicTexs=[];var r=0;for(r;r<10;r++)t.sDicTexs[r]=i.loader.getRes("mainUi/mttNum_"+r+".png");t.sDicTexs[10]=i.loader.getRes("mainUi/mtt_img_c.png");t.sH=t.sDicTexs[0].height+t.sGap>>0;t.sStep=t.sDicTexs[0].width+t.sGap>>0}this.mHeight=t.sH;this.pivotY=this.mHeight>>1}r(t,"games.UD_Displays.UD_DcImg",n);var u=t.prototype;return u.setTime=function(n,t){if(n<0){this.graphics.clear();this.mTe=0;return}this.mTnow=c.nowSeconds();this.mTe=this.mTnow+n;t||(this.mTe=0);this.updateDC(this.mTnow)},u.render=function(n,t,i){if(this.mTe>0){var r=c.nowSeconds();r!=this.mTnow&&(this.updateDC(this.mTnow=r),r>=this.mTe&&this.mCallback&&this.mCallback.run())}laya.display.Sprite.prototype.render.call(this,n,t,i)},u.showTime=function(n){this.graphics.clear();var f=a.FormatTime4(n).split(""),r=0,e=f.length,i,u;for(this.mWidth=0,r;r<e;r++)u=f.shift(),i=":"==u?t.sDicTexs[10]:t.sDicTexs[Number(u)],this.mWidth>0&&(this.mWidth+=t.sGap),this.graphics.drawImage(i,this.mWidth,this.mHeight-i.height>>1),this.mWidth+=i.width>>0;this.pivotX=this.mWidth>>1},u.updateDC=function(n){var t=this.mTe-n;this.mTe<1?t=0:t<0&&(t=0,this.mTe=0);this.showTime(t)},t.sH=0,t.sGap=0,t.sStep=0,t.sDicTexs=null,t}(p),rc=function(n){function t(n,i,r,u){var e,f;this.Slider=null;this.mRadio=null;this.mTval=null;this.mIns=null;t.__super.call(this);this.toSize(710,80);this.toXCenter();this.mRadio=k.crt_Radio(this,"r1",null,28);this.mRadio.label=n.label;this.mRadio.TmpData=this.TmpData=n.data;this.mRadio.setClick(i);this.mRadio.y=this.mHeight-this.mRadio.height>>1;e=this.mRadio.x+this.mRadio.width+20>>0;r>-1&&(f=st.CrtImg("mainUi/resIcon_"+r+".png"),f.pos(e,this.mHeight-f.height>>1),this.addChild(f),e+=f.width+6);this.mTval=new g;this.mTval.mouseEnabled=!1;this.mTval.lineHeight=this.mHeight;this.mTval.style.fontSize=24;this.mTval.style.color="#64ace9";this.mTval.style.leading=0;this.mTval.x=e;this.addChild(this.mTval);u&&(this.mTval.style.fontSize=28,this.Slider=new vs(this.mWidth-84,!0,u),this.Slider.pos(42,96),this.Slider.TmpData=this,this.addIns(this.Slider));this.selected=!1}r(t,"games.windows.matches.creators.utils.CrtMatch_Radio",n);var i=t.prototype;return i.DoReset=function(){this.selected=!1;this.mTval.innerHTML=""},i.updateText=function(n){this.mTval.innerHTML=n||""},i.addIns=function(n){this.mIns=n;this.addChild(this.mIns)},e(0,i,"selected",function(){return this.mRadio.selected},function(n){this.mRadio.selected=n;n&&this.mIns?(this.mHeight=this.Slider?128:this.mIns.y+this.mIns.height>>0,this.mIns.parent||this.addChild(this.mIns)):(this.mIns&&this.mIns.removeSelf(),this.mHeight=80);this.graphics.clear();this.graphics.drawRoundRect(20,this.mWidth,this.mHeight,"#386ebf40")}),t}(p),ws=function(n){function t(n,i,r){this.mTxt=null;i===void 0&&(i=30);r===void 0&&(r=0);t.__super.call(this);this.mouseEnabled=!1;this.x=32;this.mTxt=w.quickCreate(i,"#b2d6fb");this.mTxt.y=4;this.mHeight=i+6;this.addChild(this.mTxt);this.updateTitle(n,!0)}r(t,"games.UD_Displays.UD_Title_DLine",n);var i=t.prototype;return i.updateTitle=function(n,t){t===void 0&&(t=!0);this.mTxt.text=t?u.lang(n):n||"";this.mWidth=this.mTxt.x+this.mTxt.width>>0},t}(p),hat=function(n){function t(n){this.I_User=null;this.I_Psw=null;this.Radio=null;this.Submit=null;t.__super.call(this);this.mWidth=710;this.mHeight=648;this.toXCenter();this.graphics.drawRoundRect(20,this.mWidth,this.mHeight,"#386ebf40");this.I_User=new eo(!0);this.I_User.pos(this.mWidth-this.I_User.width>>1,50);this.addChild(this.I_User);this.I_Psw=new oo(!0,360);this.I_Psw.pos(this.mWidth-this.I_Psw.width>>1,250);this.addChild(this.I_Psw);var i=k.crt_Btn(this,"forget");i.label=u.lang("login_forget");i.autoWidth();i.pos(this.I_Psw.x+386,this.I_Psw.y+this.I_Psw.iInput.y+.5*(this.I_Psw.iInput.height-i.height)>>0);i.on("click",this,this.toForget);this.Radio=new ev;this.Radio.pos(this.mWidth-this.Radio.width>>1,this.I_Psw.y+this.I_Psw.height+60);this.addChild(this.Radio);this.Submit=k.crt_Btn(this,"login");this.Submit.label=u.lang("login_btn_login");this.toXCenter(this.Submit);this.Submit.y=this.Radio.y+this.Radio.height+28>>0;this.Submit.setClick(n)}r(t,"games.windows.accounts.accMgr.tab.AccTab_View",n);var i=t.prototype;return i.toForget=function(){rt.IS_LR=!1;b.OpenWin(181,!1,this.I_User.getValue(!1),this.I_User.getCountry())},t}(p),pb=function(n){function t(){this.CID=0;this.Num=0;this.TotalVals=0;this.mBtnAdd=null;this.mIcon=null;this.mTnum=null;this.mTval=null;t.__super.call(this);this.mWidth=144;this.mHeight=100;this.TotalVals=0;this.graphics.drawRoundRect(8,this.mWidth,this.mHeight,"#c9d5e1");this.mIcon=new wf;this.mIcon.pos(1,1);this.mIcon.toSize(this.mWidth-2,76);this.mBtnAdd=k.crt_Btn(this,"main","mainUi/comsBtn_add1.png");this.mBtnAdd.pos(this.mWidth-this.mBtnAdd.width>>1,this.mHeight-this.mBtnAdd.height>>1);this.mTnum=w.quickCreate(20,"#3b4f62");this.mTnum.y=this.mIcon.y+this.mIcon.height+2;this.mTnum.mouseEnabled=!1;this.mTval=w.quickCreate(22,"#1e99e6");this.mTval.y=this.mHeight+12;this.mTval.mouseEnabled=!1}r(t,"games.windows.matches.creators.RewardsZdy.RwdZdy_Item",n);var i=t.prototype;return i.DoReset=function(){while(this.numChildren>0)this.removeChildAt(0);this.addChild(this.mBtnAdd);this.CID=this.Num=this.TotalVals=0},i.updateItem=function(n,t,i){if(t<1)this.DoReset();else{this.mBtnAdd.removeSelf();var r=gi.getTicket(n);n!=this.CID&&this.addChild(this.mIcon.load(r.displayid));this.TotalVals=r.getVal(i)*t>>0||0;this.mTval.text=u.lang("sngRwdZdy_"+(6+i),this.TotalVals);this.toXCenter(this.mTval);this.mTval.parent||this.addChild(this.mTval);this.CID=n;this.Num=t;this.mTnum.text="x "+t;this.toXCenter(this.mTnum);this.mTnum.parent||this.addChild(this.mTnum)}},t}(p),uc=function(n){function t(n){this.mTno=null;this.mTval=null;this.mSwh=null;t.__super.call(this);this.mWidth=710;this.mHeight=80;this.mouseEnabled=n;n?(this.mSwh=k.crt_Switch(null),this.mSwh.label=u.lang("mttRwd_4"),this.mSwh.setRealWidth(this.mWidth-64),this.mSwh.pos(32,this.mHeight-this.mSwh.height>>1),this.addChild(this.mSwh),this.graphics.drawRoundRect(20,this.mWidth,this.mHeight,"#386ebf40")):(this.mTno=new g,this.mTno.innerHTML=u.lang("mttRwd_0"),this.mTno.pos(96-.5*this.mTno.width>>0,this.mHeight-this.mTno.height>>1),this.addChild(this.mTno),this.mTval=new g,this.mTval.innerHTML=u.lang("mttRwd_1"),this.mTval.pos(this.mWidth-this.mTval.contextWidth-36>>0,this.mTno.y),this.addChild(this.mTval),this.graphics.drawRect(0,this.mHeight-2,this.mWidth,2,"#233a5b"))}r(t,"games.windows.matches.creators.mtt.rewards.MttRwdIns_Title",n);var i=t.prototype;return e(0,i,"selected",function(){return this.mSwh.selected},function(n){this.mSwh.selected=n}),t}(p),cat=function(n){function i(n,t,r){this.mArea=[];this.mSlider=null;this.mTxtNum=null;this.mDicBtns=null;this.mReqHandler=null;this.mReqCCHandler=null;this.mShowHd=null;this.mRoomID=0;this.mHandID=0;this.mTotal=0;this.mVT=!1;this.mVR=!1;this.mPlayers=null;this.mDealTimes=0;this.mIdx=0;this.mIsByBtn=!1;this.mBtnFav=null;i.__super.call(this);this.toSize(660,98);this.mReqHandler=n;this.mReqCCHandler=t;this.mShowHd=r;this.mSlider=new vs(this.mWidth-60,!0,h.create(this,this.reqBrand,null,!1));this.mSlider.pos(30,20);this.addChild(this.mSlider);this.mTxtNum=w.quickCreate(26,"#b2d6fb");this.mTxtNum.y=56-s.LEADING_SIZE;this.addChild(this.mTxtNum);var l=h.create(this,this.onClickBtns,null,!1),c=u.obj("pBrands_btns"),e,o=0,a=c.length,f;for(this.mDicBtns={},o;o<a;o++)f=c.shift(),e=k.crt_Btn(this,"main","matches/mm_brandsBtn_"+f.data+".png",f.x,f.y),e.TmpData=f.data,e.setClick(l),this.mDicBtns[f.data]=e,2==f.data&&(this.mBtnFav=e)}r(i,"games.windows.matches.brands.aBrand.Brand_Ctrl",n);var t=i.prototype;return t.setRoomID=function(n){this.mRoomID!=n&&(this.mRoomID=n,this.mTotal=this.mHandID=0,this.mVR=!0)},t.setTotal=function(n){n<1&&(n=1);(this.mTotal!=n||this.mTotal==n==1)&&(this.mTotal=n,this.mVT=!0,this.callLater(this.doSub_UDView))},t.setHandNum=function(n){n<1&&(n=1);this.mVR=!0;this.mHandID=n;this.callLater(this.doSub_UDView)},t.setDataOk=function(n){this.mIsByBtn=!1;this.mDealTimes=n;this.mIdx=1;this.mDicBtns[2].disabled=this.mDicBtns[5].disabled=!1},t.setInFave=function(n){this.mBtnFav.res="matches/mm_brandsBtn_"+(n?22:2)+".png"},t.doSub_UDView=function(){var t,n,r;if(this.mVT){if(this.mTotal<2){this.mSlider.setIntervals(i.AREA_ARR_ONE);for(t in this.mDicBtns)this.mDicBtns[t].disabled=!0}else if(this.mTotal!=this.mArea.length){for(this.mArea.length=0,n=0,r=this.mTotal,n;n<r;n++)this.mArea[n]=n+1;this.mSlider.setIntervals(this.mArea)}this.mVR=!0;this.mVT=!1}this.mVR&&(this.mSlider.setSelect(this.mHandID-1),this.mVR=!1)},t.udHandNum=function(n,t){this.mIsByBtn=!1;this.mIdx=n;this.updateHandNum(t);this.mDealTimes>1&&(this.mDicBtns[3].disabled=n<2&&this.mHandID<2,this.mDicBtns[4].disabled=n>=this.mDealTimes&&this.mHandID>=this.mTotal)},t.updateHandNum=function(n){this.mTxtNum.text=u.lang("curNum",n);this.toXCenter(this.mTxtNum)},t.reqBrand=function(n){this.mHandID=n;this.updateHandNum(n+"");this.mTotal>0&&this.mReqHandler&&this.mReqHandler.runWith([this.mRoomID,this.mHandID,this.mIsByBtn]);this.mDicBtns[1].disabled=this.mDicBtns[3].disabled=this.mHandID<2;this.mDicBtns[4].disabled=this.mDicBtns[6].disabled=this.mHandID>=this.mTotal},t.onClickBtns=function(n){var t=-1;switch(n.TmpData){case 2:case 5:this.mReqCCHandler&&this.mReqCCHandler.runWith(n.TmpData);break;case 1:t=0;break;case 3:this.mDealTimes>1&&this.mIdx>1?this.mShowHd.runWith(this.mIdx-1):t=this.mHandID-2;break;case 4:this.mDealTimes>1&&this.mIdx<this.mDealTimes?this.mShowHd.runWith(this.mIdx+1):t=this.mHandID;break;case 6:t=this.mTotal-1}t>-1&&(n.disabled=!1,this.mIsByBtn=!0,this.mSlider.setSelect(t))},d(i,["AREA_ARR_ONE",function(){return this.AREA_ARR_ONE=[1,1]}]),i}(p),aa=function(n){function t(n,i,r){if(this.mBroad=null,this.mCol=0,this.mType=0,this.mIsData=!1,this.mIndexs=null,this.mDidxs=null,this.mCx=null,this.mCy=null,this.mIdxC=0,this.mIdxD=0,t.__super.call(this),this.mouseEnabled=!1,this.toSize(710,n),this.toXCenter(),this.mCol=i,this.mType=r,this.mIsData=r>9,t.sConfigs||(t.sConfigs=rt.GameConfigs.scoreConfigs),this.mBroad=new p,this.addChild(this.mBroad),this.mIsData){var u=st.CrtImg("mainUi/img_sy_t"+r%10+".png");this.toXCenter(u);u.y=28;this.addChild(u)}}r(t,"games.windows.me.shengya.Shengya_Head",n);var i=t.prototype;return i.DoReset=function(){this.mBroad.graphics.clear()},i.setConfig=function(n,i,r){this.graphics.clear();this.graphics.drawRoundRect(20,this.mWidth,this.mHeight,"#386ebf40");this.mIndexs=u.obj(n);this.mDidxs=u.obj(i);this.mCx=u.obj(r+"x");this.mCy=u.obj(r+"y1");10==this.mType&&(this.mIdxD=this.mDidxs.shift(),this.mIdxC=this.mIndexs.shift(),e=t.sConfigs[this.mIdxC],this.graphics.fillText(e.label,this.mWidth>>1,146,26,"#6391d5","center"));var f=0,h=this.mIndexs.length,e,c=u.obj(r+"y2"),o=0,s=0;for(f;f<h;f++)(e=t.sConfigs[this.mIndexs[f]],e)&&(o=f%this.mCol,s=f/this.mCol>>0,this.graphics.fillText(e.label,this.mCx[o],c[s],26,"#6391d5","center"))},i.updateDatas=function(n){var r,i;this.mBroad.graphics.clear();i=NaN;10==this.mType&&(r=t.sConfigs[this.mIdxC],i=n[this.mIdxD],this.mBroad.graphics.fillText(i+r.flag,this.mWidth>>1,90,48,a.getAreaColor(i+(this.mIdxC==2?50:0),r),"center"));var s=this.mIndexs.length,u=0,f=0,e=0,o=0;for(u;u<s;u++)(r=t.sConfigs[f=this.mIndexs[u]],i=n[this.mDidxs[u]],r)&&(18==f&&this.mIsData&&(i=i/100),e=u%this.mCol,o=u/this.mCol>>0,this.mBroad.graphics.fillText(i+r.flag,this.mCx[e],this.mCy[o],30,a.getAreaColor(i,r),"center"))},t.sConfigs=null,t}(p),rr=function(n){function i(n){this.mFontColor=null;this.mFontSize=0;this.mBg=null;this.mSel=null;this.mVecTxts=null;this.mStep=0;this.mIndex=0;this.mHandler=null;n===void 0&&(n=1);i.__super.call(this);this.mouseEnabled=!0;1==n?(this.mFontColor=sh.TABX_LEV1,this.mFontSize=28):(this.mFontColor=sh.TABX_LEV2,this.mFontSize=24);this.mBg=new tr;this.mBg.mouseEnabled=!1;this.mBg.scaleGrids=sh.TABX_GRIDS;this.mBg.loadImage("mainUi/coms_tabX_"+n+"bg.png");this.addChild(this.mBg);this.mHeight=this.mBg.texture.height>>0;this.mSel=new tr;this.mSel.mouseEnabled=!1;this.mSel.scaleGrids=sh.TABX_GRIDS;this.mSel.loadImage("mainUi/coms_tabX_"+n+"sel.png");this.mSel.y=this.mHeight-this.mSel.texture.height>>1;this.mVecTxts=[];this.on("click",this,this.onClick)}r(i,"FioLibs.displays.coms.extendComs.FioTabX",n);var t=i.prototype;return t.doReset=function(){this.TmpData=null;this.mWidth=0;this.mIndex=-1;this.mSel.removeSelf();for(var n;this.mVecTxts.length>0;)n=this.mVecTxts.shift(),n&&(n.TmpData=null,n.removeSelf(),-1==i.s_VecTxts.indexOf(n)&&i.s_VecTxts.push(n))},t.setClick=function(n){this.mHandler=n},t.create=function(n,t){if(t===void 0&&(t=680),this.doReset(),0==t)throw Error("[FioTabX] create方法必须传入整个标签的宽度");if(n){var u=0,r,e=n.length,f;for(u;u<e;u++)f=n[u],f&&(r=i.s_VecTxts.length>0?i.s_VecTxts.shift():w.quickCreate(),r.fontSize=this.mFontSize,r.color=this.mFontColor[0],r.text=f.label,r.TmpData=f.data,r.y=this.mHeight-r.height>>1,this.addChild(r),this.mVecTxts.push(r))}return this.width=t,this},t.select=function(n){var t,i;this.mIndex>-1&&(t=this.mVecTxts[this.mIndex],t&&(t.color=this.mFontColor[0]));this.mIndex=n>>0;i=this.mVecTxts.length;this.mIndex>=i&&(this.mIndex=i-1);this.TmpData=null;this.mIndex>-1?(this.mSel.x=this.mStep*this.mIndex>>0,this.mSel.parent||this.addChildAt(this.mSel,1),t=this.mVecTxts[this.mIndex],t&&(t.color=this.mFontColor[1],this.mHandler&&this.mHandler.runWith(this.TmpData=t.TmpData))):this.mSel.removeSelf()},t.getTxts=function(){return this.mVecTxts},t.getTxtIns=function(n){var r=this.mVecTxts.length,t=0,i;for(t;t<r;t++)if(i=this.mVecTxts[t],i&&i.TmpData==n)return i;return null},t.onClick=function(){this.select(this.mouseX/this.mStep)},e(0,t,"selectIndex",function(){return this.mIndex}),e(0,t,"height",n.prototype._$get_height,function(){}),e(0,t,"width",n.prototype._$get_width,function(n){var i,r,t,u;if(n=n>>0,n<0&&(n=0),this.mWidth!=n)for(this.mBg.width=this.mWidth=n,i=this.mVecTxts.length,this.mStep=this.mWidth/i>>0,this.mSel.width=this.mStep,r=this.mStep>>1,t=0,t;t<i;t++)u=this.mVecTxts[t],u.x=r-.5*u.width>>0,r+=this.mStep}),d(i,["s_VecTxts",function(){return this.s_VecTxts=[]}]),i}(p),lat=function(n){function t(n){this.mDateQuery=null;this.mTab=null;this.mCombox=null;this.mT_s=0;this.mT_e=0;this.mType=0;this.SearchHandler=null;t.__super.call(this);this.mWidth=710;this.toXCenter();this.mDateQuery=new hb(h.create(this,this.onQuery,null,!1));this.mDateQuery.x=0;this.addChild(this.mDateQuery);this.mHeight=this.mDateQuery.height+10;this.mTab=new rr;this.mTab.create(u.obj("search_tabs"),516);this.mTab.setClick(h.create(this.mDateQuery,this.mDateQuery.onDayChange,null,!1));this.mTab.y=this.mHeight;this.addChild(this.mTab);n&&(this.mCombox=new hf,this.mCombox.creat(u.obj(n)),this.mCombox.pos(this.mWidth-this.mCombox.width,this.mHeight+.5*(this.mTab.height-this.mCombox.height)>>0>>0),this.mCombox.setClick(h.create(this,this.onClickCombox,null,!1)),this.addChild(this.mCombox));this.mHeight+=this.mTab.height>>0}r(t,"games.windows._commons.funds.Funds_SearchTime",n);var i=t.prototype;return i.start=function(){this.mType=this.mCombox?this.mCombox.data:0;this.mT_s=this.mT_e=0;this.mTab.select(0)},i.onQuery=function(n,t,i){i&&this.mTab.select(-1);this.mT_s=n;this.mT_e=t;this.SearchHandler&&this.SearchHandler.run()},i.onClickCombox=function(n){if(this.mType!=n.data){this.mType=n.data;this.onQuery(this.mT_s,this.mT_e,!1)}},e(0,i,"height",function(){return this.mHeight},n.prototype._$set_height),t}(p),aat=function(n){function t(n){var i,r;this.mNumTip=null;t.__super.call(this);this.mWidth=220;this.mHeight=190;i=st.CrtImg("mainUi/mn_btn_"+n.data+".png");i.pos(this.mWidth-i.width>>1,26);this.addChild(i);this.TmpData=n;r=w.quickCreate(28,"#d3e6f9");r.text=n.label;r.pos(this.mWidth-r.width>>1,i.y+i.height+28>>0);this.addChild(r);this.mNumTip=new bu(this);this.mNumTip.pos(i.x+i.width>>0,i.y>>0);this.graphics.drawRoundRect(16,this.mWidth,this.mHeight,"#386ebf40")}r(t,"games.UD_Displays.messages.MsgHome_Item",n);var i=t.prototype;return i.update=function(n){this.mNumTip.showValue(n.data)},t}(p),vat=function(n){function t(n){var v,y;this.mCtrl=null;this.mNT_Notice=null;this.mNT_Invite=null;this.mHandler=null;this.mPicOpen=!1;this.mPicCfg=new ty;t.__super.call(this);this.scaleGrids=[0,48,0,48];this.loadImage("mainUi/main_menu_bg.png");this.size(s.MAX_W,this.texture.height>>0);var p=u.obj("main_btns"),e=0,w=p.length,r,l,a=0,b=s.MAX_W/w>>0,o=0,c=[];for(e;e<w;e++)l=p.shift(),a=l.data,r=k.crt_Btn(this,"sceneBtn","mainUi/main_btn_"+a+".png"),r.mText.mouseEnabled=!0,r.TmpData=a,r.label=l.label,0==o&&(o=b-r.width>>1),r.pos(o,16),c[e]=r,o+=b;this.mHandler=n;this.mCtrl=new we(h.create(this,this.onTab,null,!1),c);rw.addIns(this);v=c[0];this.mNT_Notice=new bu(v);this.mNT_Notice.pos(v.width-8>>0,-10);y=c[1];this.mNT_Invite=new bu(y);this.mNT_Invite.pos(y.width-8>>0,-10);f.Desk.regist(317,this.get317,this);f.Message.regist(330,this.getAll,this);i.loader.load(wt.getNtCfgPath(),h.create(this,this.getNtConfig),null,"json")}r(t,"games.scene.MainUI",n);var e=t.prototype;return i.imps(e,{"FioLibs.interfaces.IFio_Resize":!0}),e.onStageResize=function(n,t){this.y=t-this.height},e.Start=function(n){this.mCtrl.select(n);this.checkAd(n)},e.getNtConfig=function(n){this.mPicCfg=n?n[0]:new ty},e.onTab=function(n){this.mHandler&&this.mHandler.runWith(n);this.checkAd(n.TmpData)},e.checkAd=function(){if(this.mPicCfg.open==1&&!this.mPicOpen){var n=new sc(null);n.setRes(wt.getAdsImg(this.mPicCfg.pid),!0);this.mPicOpen=!0}},e.get317=function(n,t){this.mNT_Invite.showValue(n+t)},e.getAll=function(n,t){this.mNT_Notice.showValue(n.TotalAll);1==t&&n.TotalAll>0&&ei.PlayEff(110)},t.TYPE_NOTICE=0,t.TYPE_INVITE=1,t.TYPE_HALL=2,t.TYPE_CLUB=3,t.TYPE_ME=4,t}(tr),yat=function(n){function t(n,i){this.mIcon_Player=null;this.mHtm_Player=null;this.mTckIcon=null;this.mTckHtm=null;this.mPage=null;this.mID_Player=0;this.mID_Tkt=0;this.mN_Player=null;this.mN_Tkt=null;t.__super.call(this);this.mWidth=n;this.mHeight=i;this.mIcon_Player=new hi(100,!1,8);this.toXCenter(this.mIcon_Player);this.addChild(this.mIcon_Player);this.mHtm_Player=new ai;this.mHtm_Player.y=this.mIcon_Player.y+this.mIcon_Player.height+20;this.addChild(this.mHtm_Player);var r=216;this.graphics.drawRoundRect(10,this.mWidth-56,100,"#c9d5e1",28,r);r+=50;this.mTckIcon=new wf;this.mTckIcon.toSize(120,72);this.mTckIcon.pos(40,r-.5*this.mTckIcon.height>>0);this.addChild(this.mTckIcon);this.mTckHtm=new ai(!1,18);this.mTckHtm.pos(this.mTckIcon.x+this.mTckIcon.width+16,this.mTckIcon.y+4);this.addChild(this.mTckHtm);this.mPage=new fc(null,!0,2,48);this.mPage.setTxtStyle(24,"#3b4f62");this.mPage.pos(this.mWidth-this.mTckIcon.x-this.mPage.width>>0,r-.5*this.mPage.height>>0);this.addChild(this.mPage)}r(t,"games.windows.me.bag.invit.BagInvit_Result",n);var i=t.prototype;return i.ShowTicket=function(n){this.mID_Tkt=n.sID;this.mN_Tkt=n.name;this.mTckIcon.load(n.icon);this.mPage.start(1,n.count);var t=n.validity,i;i=t<1?u.lang("winbag_time_wx"):a.getStrDate(t,!0);this.mTckHtm.innerHTML=u.lang("winbag_yq_4",n.name,i)},i.ShowPlayer=function(n,t,i){this.mN_Player=t;this.mID_Player=n;this.mIcon_Player.loadIcon(""+i,0,0);this.mHtm_Player.innerHTML=u.lang("winbag_yq_3",t,n);this.toXCenter(this.mHtm_Player)},i.doSubmit=function(){var n=this.mPage.getValue();if(0==n){ut.showMessage("winbag_yq_22");return}if(this.mID_Player==f.Account.Detail.SID){ut.showMessage("winbag_yq_23");return}pt.Alert(u.lang("winbag_yq_21",this.mN_Player,this.mN_Tkt,n),this,null,[this.doSend,null],u.lang("winbag_yq_20"))},i.doSend=function(){f.Bag.send291(this.mID_Tkt,this.mID_Player,this.mPage.getValue())},t}(p),yr=function(n){function i(n,t,r){this.mBg=null;this.mLabel=null;this.mInput=null;this.mXS=0;this.mRD=0;this.mIW=0;this.mEbg=null;this.mEbgGap=-1;n===void 0&&(n=560);t===void 0&&(t="inputBg");r===void 0&&(r=!0);i.__super.call(this);this.mBg=new tr;this.mBg.mouseEnabled=!1;k.loadImgBg(this.mBg,t||"inputBg");this.mHeight=this.mBg.height>>0;r&&this.addChild(this.mBg);this.mWidth=0;this.width=n}r(i,"games.UD_Displays.inputs.UD_GLabel",n);var t=i.prototype;return t.initLeft=function(n,t,i){n===void 0&&(n=26);t===void 0&&(t=0);t=t||28;i=i||"#b2d6fb";this.mLabel?(this.mLabel.fontSize=t,this.mLabel.color=i):this.mLabel=w.quickCreate(t,i);this.mLabel.text="啊";this.mLabel.pos(n,this.mHeight-this.mLabel.height>>1);this.mLabel.text="";this.mLabel.parent||this.addChild(this.mLabel)},t.updateLeft=function(n){this.mLabel&&(this.mLabel.text=n)},t.initRight=function(n,t,i,r,u,f,e,o){t===void 0&&(t=180);i===void 0&&(i=28);r===void 0&&(r=0);e===void 0&&(e="left");o===void 0&&(o=-1);this.mInput||(this.mInput=new ci,this.mInput.wordWrap=this.mInput.multiline=!1,this.mInput.setVh(this.mHeight-8),this.mInput.restrict="^ <>",this.mInput.y=4,this.addChild(this.mInput));r=r||26;u=u||"#b2d6fb";f=f||"#6391d5";this.mInput.align=e;this.mInput.fontSize=r;this.mInput.color=u;this.mInput.promptColor=f;this.mRD=i;o!=-1?(this.mEbgGap=0==o?20:o,t+=16,this.mRD+=12,this.mEbg||(this.mEbg=new s),this.mEbg.x=t-30,this.mEbg.y=14,this.addChildAt(this.mEbg,1)):this.mEbg&&this.mEbg.removeSelf();this.mInput.x=this.mXS=t;this.mInput.mouseEnabled=n;this.changeIW()},t.editable=function(n){this.mInput&&(this.mInput.mouseEnabled=n)},t.changeIW=function(n){if(n===void 0&&(n=0),n=n>>0,this.mInput){0==n?this.mIW=this.mWidth-this.mXS-this.mRD>>0:(this.mIW+=n,n<0&&this.mIW<0&&(this.mIW=0));var t=this.mEbg&&this.mEbg.parent;this.mInput.width=this.mIW-this.mEbgGap-(t?this.mRD:0);t&&this.mEbg.graphics.drawRoundRect(32,this.mIW+24-this.mEbgGap,this.mHeight-28,"#122035")}},t.getNumber=function(){return this.mInput?Number(this.mInput.text)||0:0},t.getTxt=function(){return this.mInput},e(0,t,"width",n.prototype._$get_width,function(n){n=n>>0;this.mWidth!=n&&(this.mWidth=this.mBg.width=n,this.changeIW())}),e(0,t,"height",n.prototype._$get_height,function(){}),e(0,t,"prompt",null,function(n){this.mInput&&(this.mInput.prompt=n)}),e(0,t,"type",function(){return this.mInput?this.mInput.type:""},function(n){this.mInput&&(this.mInput.type=n)}),e(0,t,"restrict",null,function(n){this.mInput&&(this.mInput.restrict=n)}),e(0,t,"align",null,function(n){this.mInput&&(this.mInput.align=n)}),e(0,t,"text",function(){return this.mInput?this.mInput.text:""},function(n){this.mInput&&(this.mInput.text=n)}),e(0,t,"maxChars",function(){return this.mInput?this.mInput.maxChars:0},function(n){this.mInput&&(this.mInput.maxChars=n)}),i}(p),pat=function(n){function t(n){this.mRooter=null;this.mVecIns=null;t.__super.call(this);this.mRooter=n;this.mWidth=550;this.x=s.MAX_W-this.mWidth>>1;this.mVecIns=[]}r(t,"games.review.PM_Insure",n);var i=t.prototype;return i.doReset=function(){this.removeSelf();var n=0,t=this.mVecIns.length;for(n;n<t;n++)this.mVecIns[n].doReset();this.timer.clearAll(this)},i.show=function(n,t){if(this.doReset(),n){this.mHeight=8;this.graphics.clear();var r=0,u=n.length,i;for(r;r<u;r++)i=this.mVecIns[r],i||(this.mVecIns[r]=i=new gct(this.mWidth)),i.show(n[r]),i.y=this.mHeight,this.addChild(i),this.mHeight+=i.height+8;this.mHeight+=8;this.graphics.drawRoundRect(16,this.mWidth,this.mHeight,"#444444",0,0,"#1b494e");this.y=s.MAX_H-this.mHeight-128>>1;this.mRooter&&this.mRooter.addChild(this);this.timerOnce(t,this,this.doReset)}},t}(p),wat=function(n){function t(n,i){this.eID=0;this.doRound=!1;t.__super.call(this);this.eID=n;this.loadImage("faceIcons/"+i+".png");this.pivot(this.texture.width>>1,this.texture.height>>1)}return r(t,"games.cores.faces.Sub_FaceImg",n),t}(p),va=function(n){function f(n,t,r,e){var o,s;this.mCallback=null;this.mInput=null;this.mBtnCancel=null;this.mBtnSearch=null;t===void 0&&(t=0);e===void 0&&(e=20);f.__super.call(this);this.mCallback=r;o=k.getVo("img","searchBg"+n,null);this.mWidth=t||o.width>>0;this.mHeight=o.height>>0;s=i.loader.getRes(o.res);this.graphics.draw9Grid(s,0,0,this.mWidth,0,o.grids);this.mBtnSearch=w.quickCreate(30,o.colors[1]);this.mBtnSearch.align="center";this.mBtnSearch.setVh(this.mHeight-16);this.mBtnSearch.leading=0;this.mBtnSearch.text=u.lang("search");this.mBtnSearch.width+=20;this.mBtnSearch.pos(this.mWidth-this.mBtnSearch.width-16>>0,this.mHeight-this.mBtnSearch.height>>1);this.mBtnSearch.mouseEnabled=!0;this.mBtnSearch.on("click",this,this.onClkBtns);this.addChild(this.mBtnSearch);this.mBtnCancel=k.crt_Btn(null,null,"mainUi/coms_btn_close.png");this.mBtnCancel.pos(this.mBtnSearch.x-8-this.mBtnCancel.width>>0,this.height-this.mBtnCancel.height>>1);this.mBtnCancel.on("click",this,this.onClkBtns);this.mInput=new ci;0==n&&(this.mInput.align="center");this.mInput.setVh(this.mHeight);this.mInput.multiline=this.mInput.wordWrap=!1;this.mInput.type="text";this.mInput.fontSize=o.tx;this.mInput.maxChars=e;this.mInput.restrict="^ ";this.mInput.color=this.mInput.promptColor=o.colors[0];this.mInput.ReturnKeyType=6;this.mInput.x=o.grids[3];this.mInput.width=this.mBtnCancel.x-this.mInput.x-8>>0;this.addChild(this.mInput);this.mInput.on("input",this,this.onInput);this.mInput.on("blur",this,this.doCheck);this.mInput.on("enter",this,this.onEnter)}r(f,"games.UD_Displays.search.UD_Search",n);var t=f.prototype;return t.setType=function(n){this.mInput.type=n||"text"},t.setRestrict=function(n){this.mInput.restrict=n},t.setPrompt=function(n){this.mInput.prompt=n},t.setValue=function(n){this.mInput.text=n||"";this.doCheck()},t.getValue=function(n){n===void 0&&(n=!1);var t=this.mInput.text;return t?t:(n&&(ut.showMessage(this.mInput.prompt,!1),this.mInput.focus=!0),null)},t.DoReset=function(){this.mInput.text="";this.mInput.focus=!1;this.mBtnCancel.removeSelf()},t.onClkBtns=function(n){var t=this.mBtnCancel==n.currentTarget;t&&this.DoReset();this.callback(t)},t.onInput=function(){this.mInput.text?this.mBtnCancel.parent||this.addChild(this.mBtnCancel):this.mBtnCancel.removeSelf()},t.doCheck=function(){this.mInput.text?this.mBtnCancel.parent||this.addChild(this.mBtnCancel):this.DoReset()},t.onEnter=function(){this.doCheck();this.callback(!1)},t.callback=function(n){this.mCallback&&this.mCallback.runWith([this.mInput.text,n])},e(0,t,"width",n.prototype._$get_width,function(){}),e(0,t,"height",n.prototype._$get_height,function(){}),f}(p),fc=function(n){function i(n,t,r,u,f){if(this.mCur=0,this.mMax=0,this.mHandler=null,this.mBtnM=null,this.mBtnA=null,this.mTxt=null,this.mD_t=0,this.mD_g=0,this.mD_p=0,t===void 0&&(t=!0),r===void 0&&(r=2),u===void 0&&(u=50),f===void 0&&(f=30),i.__super.call(this),this.mHandler=n,this.mCur=this.mMax=0,this.initUI(r,u,f),t){this.mBtnM.on("mousedown",this,this.onMouD);this.mBtnA.on("mousedown",this,this.onMouD);this.stage.on("mouseup",this,this.onDisable)}}r(i,"FioLibs.displays.coms.extendComs.Fio_Page",n);var t=i.prototype;return t.initUI=function(n,t,i){i===void 0&&(i=30);var r=n>0?""+n:"",u=h.create(this,this.onClick,null,!1);this.mBtnM=k.crt_Btn(this,"main","mainUi/comsBtn_minus"+r+".png");this.mBtnM.TmpData=-1;this.mBtnM.setClick(u);this.mBtnA=k.crt_Btn(this,"main","mainUi/comsBtn_add"+r+".png");this.mBtnA.TmpData=1;this.mBtnA.x=this.mBtnM.width+t>>0;this.mBtnA.setClick(u);this.mWidth=this.mBtnA.x+this.mBtnA.width>>0;this.mHeight=this.mBtnA.height>>0;this.mTxt=new w;this.mTxt.mouseEnabled=!1;this.mTxt.fontSize=i;this.mTxt.leading=0;this.mTxt.singleCharRender=!0;this.mTxt.color="#3b4f62";this.mTxt.align="center";this.mTxt.setVh(this.mBtnA.height);this.mTxt.text="0";this.mTxt.width=t;this.mTxt.pos(this.mBtnM.width,0);this.addChild(this.mTxt)},t.setTxtStyle=function(n,t){n>10&&(this.mTxt.fontSize=n);t&&(this.mTxt.color=t)},t.getValue=function(){return this.mCur},t.start=function(n,t){this.mCur=0;this.mMax=t;n>t&&(n=t);this.update(n,0)},t.onDisable=function(){this.mD_t=this.mD_g=this.mD_p=0},t.render=function(n,t,i){this.mD_t>0&&this.timer.currTimer>this.mD_t&&(this.mD_p+=1,this.mD_p>10&&(this.mD_p=0,this.update(this.mCur+this.mD_g,1)));laya.display.Sprite.prototype.render.call(this,n,t,i)},t.onMouD=function(n){var t=n.currentTarget;this.mD_t=this.timer.currTimer+800;this.mD_g=t.TmpData},t.onClick=function(n){var t=this.mD_t>0&&this.timer.currTimer>this.mD_t;this.onDisable();t||this.update(this.mCur+n.TmpData,2)},t.update=function(n,t){n<0?(n=0,this.onDisable()):n>this.mMax&&(n=this.mMax,this.onDisable());this.mCur=n;this.mBtnM.disabled=this.mCur<1;this.mBtnA.disabled=this.mCur>=this.mMax;this.updateTxt(n);this.mHandler&&this.mHandler.runWith([this.mCur,t])},t.updateTxt=function(n){this.mTxt.text=""+n},i}(p),bat=function(n){function i(){var n,r,t;this.mWinCfg={0:170,1:172,2:174,3:175,4:173,5:176,6:177,7:180,8:171,10:178,11:179,12:200,161:216};this.mTop=null;this.mNT_BagNum=null;this.mDpi=null;this.mGm=null;i.__super.call(this);this.mTop=new tvt;this.addChild(this.mTop);n=new nnt;n.pos(this.mTop.width-n.width-50,this.mTop.y+40);this.addChild(n);this.mDpi=new ok(!1);this.mDpi.pos(s.MAX_W-this.mDpi.width>>1,this.mTop.height+4>>0);this.addChild(this.mDpi);this.updateTopH(this.mDpi.y+this.mDpi.height+20>>0);r=new rkt("me_btns",h.create(this,this.onClickMenu,null,!1));this.mSCon.ItemAdd(r,14);t=r.getMenuIns(11);this.mNT_BagNum=new bu(t);this.mNT_BagNum.pos(t.width-this.mNT_BagNum.width-64>>0,t.height-this.mNT_BagNum.height>>1);this.mGm=new fat}r(i,"games.scene.modules.me.Scene_Me",n);var t=i.prototype;return t.onClickMenu=function(n){b.OpenWin(this.mWinCfg[n])},t.get288=function(n){this.mNT_BagNum.showValue(n)},t.updateDpi=function(n,t){this.mDpi.showVal(n,t)},t.doSubStart=function(){this.doSubStop(!1);f.Bag.regist(288,this.get288,this);f.Sql.regist(1300,this.updateDpi,this);f.Sql.reqMyDpi();this.mTop.updateBase();f.Bag.reqBagNum();this.updateDpi(this.mDpi.sID=hr.MyDetail.SID,hr.MyDetail.DPI_Year_Rank);(!1||rt.IS_SUPER)&&(this.mGm.Show(),this.mSCon.ItemAdd(this.mGm),this.mSCon.toTop())},t.doSubStop=function(){this.mSCon.ItemRemove(this.mGm);f.Bag.remove(288,this.get288,this);f.Sql.remove(1300,this.updateDpi,this)},i}(hr),eu=function(n){function u(){this.mV_Size=!1;this.mV_C=!0;this.mV_UseGold=!1;this.mState=0;this.mCardType=0;this.mCard=null;this.mLowSelect=null;this.mUseGold=null;this.mGG=null;this._$4_mOx=0;u.__super.call(this);this.mCard=new s;this.mCard.mouseEnabled=!1;this.addChild(this.mCard);this.toSize(78,110);this.doReset()}r(u,"games.pokers.PokerCard",n);var t=u.prototype;return t.doSubStart=function(){this.removeSelf();this.mV_UseGold=!1;this.mState=0;this.mV_C=!0;this._$4_mOx!=0&&(this.x=this._$4_mOx);this._$4_mOx=0;this.mLowSelect&&this.mLowSelect.removeSelf();this.mGG&&this.mGG.removeSelf()},t.showSelect=function(){this.mState!=1&&(this.mState=1,this.mV_C=!0)},t.showLow=function(){this.mState!=2&&(this.mState=2,this.mV_C=!0)},t.showNormal=function(){this.mState!=0&&(this.mState=0,this.mV_C=!0)},t.showGG=function(n){n?(this.mGG||(this.mGG=st.CrtGG(),this.mGG.x=78-this.mGG.width>>0),this.mCard.addChild(this.mGG)):this.mGG&&this.mGG.removeSelf()},t.hasGG=function(){return this.mGG&&this.mGG.parent},t.toSize=function(n,t){n!=this.mRealW&&(this.mCard.scaleX=n/78,this.mRealW=n>>0,this.mV_Size=!0);t!=this.mRealH&&(this.mCard.scaleY=t/110,this.mRealH=t>>0,this.mV_Size=!0);this._width=this.mRealW;this._height=this.mRealH},t.showPoint=function(n){this.mCardPoint=n%60;this.mCardType=this.mCardPoint/13>>0;n>=60&&this.showGold();this.mV_C=!0},t.doFlipShow=function(n,t,i){var r,u;i===void 0&&(i=0);n<0&&(n=0);this.parent&&this.stage.isActive&&(r=ha.getBack(-1,this.x,this.y),r.showBack(0,this.mRealW,this.mRealH),this.parent.addChild(r),u=150,t||(r.toDelayShow(n),this.toDelayShow(n)),r.doFlip(n,u,r.scaleX),this.doFlip(n+u-20,u,0,1,!1),i>0&&this.delayRecyle(n+i+u),t&&ei.PlayEff(12,n))},t.onFlipDoen=function(){this.pivotX=0;this._$4_mOx!=0&&(this.x=this._$4_mOx);this._$4_mOx=0;this.scaleX=1},t.showGold=function(){this.mV_UseGold=this.mV_C=!0},t.render=function(n,t,i){this.mV_C&&(this.drawCard(),this.mState>0?(this.mLowSelect||(this.mLowSelect=new tr,this.mLowSelect.mouseEnabled=!1),k.loadImgBg(this.mLowSelect,1==this.mState?"mmSelect":"pokerMasker",null,this.mRealW,this.mRealH),this.mLowSelect.parent||this.addChild(this.mLowSelect)):this.mLowSelect&&this.mLowSelect.removeSelf(),this.mV_UseGold?(this.mUseGold||(this.mUseGold=new tr,this.mUseGold.mouseEnabled=!1,k.loadImgBg(this.mUseGold,"mmGold",null,this.mRealW,this.mRealH)),this.mUseGold.parent||this.addChild(this.mUseGold)):this.mUseGold&&this.mUseGold.removeSelf(),this.mV_C=!1);this.mV_Size&&(this.mLowSelect&&this.mLowSelect.size(this.mRealW,this.mRealH),this.mUseGold&&this.mUseGold.size(this.mRealW,this.mRealH),this.mV_Size=!1);laya.display.Sprite.prototype.render.call(this,n,t,i)},t.drawCard=function(){this.mCard.graphics.clear();this.mCardPoint<0?this.mCard.graphics.drawTexture(nc.sBackTexs[0],0,0,78,110):this.mCard.graphics.drawTexture(i.loader.getRes(u.Style_Cur+this.mCardPoint+".png"))},u.sSetStyle=function(n){n>0&&(u.Style_Cur="cards/"+n+"_")},u.Style_Cur="cards/1_",u.W_MAX=78,u.H_MAX=110,u.NUM_MAX=13,d(u,["GRIDS",function(){return this.GRIDS=[12,12,12,12]}]),u}(nc),wb=function(n){function t(n){this.mVal=0;this.mPre=null;t.__super.call(this);this.mPre=n;this.mVal=-2;this.show(-1)}r(t,"games.UD_Displays.imgs.UD_ImgNum",n);var u=t.prototype;return u.doReset=function(){this.mWidth=this.mHeight=0;this.graphics.clear();this.mVal=-2},u.show=function(n){var u,r,f,t;if(n<0&&(n=-1),n!=this.mVal)for(this.doReset(),this.mVal=n,u=this.mVal<0?["No"]:String(n).split(""),r=0,f=u.length,r;r<f;r++)t=i.loader.getRes(this.mPre+u.shift()+".png"),t&&(this.graphics.drawImage(t,this.mWidth),this.mWidth+=t.width>>0,this.mHeight+=t.height>>0)},t}(p),oe=function(n){function i(n,t,r){this.input=null;r===void 0&&(r=58);i.__super.call(this);this.toSize(n,r);this.graphics.drawRoundRect(8,n,r,"#c9d5e1");this.input=new ci;this.input.align="center";this.input.setVh(this.mHeight);this.input.multiline=this.input.wordWrap=!1;this.input.fontSize=30;this.input.maxChars=t;this.color="#3b4f62";this.input.x=8;this.input.width=this.mWidth-2*this.input.x>>0;this.addChild(this.input)}r(i,"games.UD_Displays.lev2.UD_Lev2_Input",n);var t=i.prototype;return t.clear=function(){this.input.text=""},t.getValue=function(){return this.input.text},t.getNumber=function(){return Number(this.input.text)||0},t.getMaxChars=function(){return this.input.maxChars},e(0,t,"text",null,function(n){this.input.text=n}),e(0,t,"fontSize",null,function(n){this.input.fontSize=n}),e(0,t,"color",null,function(n){this.input.color=this.input.promptColor=n}),e(0,t,"restrict",null,function(n){this.input.restrict=n}),e(0,t,"type",null,function(n){this.input.type=n||"text"}),e(0,t,"prompt",null,function(n){this.input.prompt=n}),i}(p),se=function(n){function i(n,t,r){this.ID=0;this.mLabel=null;this.mTval=null;this.BtnHelp=null;this.mSlider=null;this.mTips=null;this.mDefIndex=0;this.mHandler=null;r===void 0&&(r=632);i.__super.call(this);this.toSize(710,154);this.toXCenter();this.graphics.drawRoundRect(20,this.mWidth,this.mHeight,"#386ebf40");this.mHandler=t;this.ID=n.id;this.mTips=n.tips;this.mDefIndex=n.def;this.initUI(n.title,n.help,n.data,r)}r(i,"games.windows.matches.creators.utils.CrtMatch_Slider",n);var t=i.prototype;return t.initUI=function(n,t,i,r){this.mLabel=w.quickCreate(28,"#b2d6fb");this.mLabel.pos(28,20);this.mLabel.text=n;this.addChild(this.mLabel);this.mTval=w.quickCreate(28,"#64ace9");this.mTval.singleCharRender=!0;this.mTval.pos(this.mLabel.x+this.mLabel.width+16>>0,this.mLabel.y);this.addChild(this.mTval);this.BtnHelp=new ve(null);t&&(this.BtnHelp.setTips(t),this.BtnHelp.pos(this.mWidth-this.BtnHelp.width-24,this.mLabel.y-8),this.addChild(this.BtnHelp));this.mSlider=vs.create(this,!0,h.create(this,this.onItemChange,null,!1),0,120,r);this.toXCenter(this.mSlider);this.mSlider.setIntervals(i,this.mDefIndex,!1);this.mSlider.showInterval(!0)},t.getTipX=function(){return this.mTval.x},t.getTipY=function(){return this.mTval.y},t.DoReset=function(){this.mTval.changeText("");this.mSlider.setRate(1);this.mSlider.setSelect(this.mDefIndex)},t.updateDef=function(n){this.mDefIndex!=n&&(this.mDefIndex=n)},t.setIntervals=function(n,t,i){t===void 0&&(t=0);i===void 0&&(i=!0);this.mSlider.setIntervals(n,t,i)},t.setRate=function(n){this.mSlider.setRate(n);this.updateTips(this.mSlider.getValue())},t.updateTips=function(n){var t=u.replace(this.mTips,a.NumToStr(n));this.mTval.changeText(t)},t.getValue=function(){return this.mSlider.getValue()},t.getIndex=function(){return this.mSlider.getIndex()},t.changeTiltips=function(n,t){this.mLabel.text=n;this.mTval.x=this.mLabel.x+this.mLabel.width+16>>0;this.mTips=t},t.ShowHide=function(n){this.mSlider.visible=n;n?this.mSlider.setSelect(this.mSlider.getIndex()):this.mTval.changeText("")},t.onItemChange=function(){this.mHandler&&this.mHandler.runWith([this])},i}(p),ef=function(n){function i(){this.StrWx=null;this.mHtm=null;this.mRes=null;this.mTip=null;this.mTarOp=0;this.mIDroom=0;this.mIDzd=0;this.mIDunion=0;i.__super.call(this);this.toSize(520,198);this.StrWx=u.lang("wuxian");this.mHtm=new g("center");this.mHtm.mouseEnabled=!1;this.mHtm.style.fontSize=30;this.mHtm.style.color="#3b4f62";this.mHtm.style.leading=24;this.mHtm.y=16;this.addChild(this.mHtm);this.mRes=fi.create(120,0,150);this.mRes.setFont("#6391d5",26);this.addChild(this.mRes);this.mTip=new g("center",!0);this.mTip.width=this.mWidth-48;this.mTip.style.leading=12;this.mTip.y=this.mRes.y}var t,o;return r(i,"games.matchCores.Mtt_AskOp",n),o=i.prototype,o.onDisable=function(){this.mTarOp=this.mIDroom=99999},o.Show=function(n,t){this.mHtm.innerHTML=t;this.toXCenter(this.mHtm);this.toXCenter(this.mRes);pt.Alert(this,this,null,[this.onSure,null],u.lang(n))},o.onSure=function(){switch(this.mTarOp){case 101:case 102:f.MTT.reqZcf(this.mIDroom,this.mTarOp-100);break;case 0:case 2:f.MTT.reqBm(this.mIDroom,this.mIDzd,this.mIDunion);break;case 1:f.MTT.reqBmCle(this.mIDroom);break;case 9:case 10:f.MTT.reqZcf(this.mIDroom,3)}},o.askZgcg=function(n){var r="mttAsk_10"+n+"_",t=f.MTT.MatchDtl,o,h;this.mTarOp=100+n;this.mIDroom=t.RaceID;this.mRes.setType(t.bmType==0?120:121);this.mRes.showPre(r+"cost",!0);this.mRes.showValue(t.getCost());this.mRes.visible=!0;var i=0,e=0,s=1;1==n?(i=t.numCg,e=t.myCg):(i=t.numZg,e=t.myZg,s=t.numZg);o=i-e;i>20&&(o=this.StrWx);h=u.lang(r+"htm",a.NumToStr(t.scoreDef*s),o);this.Show(r+"t",h)},o.askFh=function(n){var i=f.MTT.MatchDtl,r=0,u=0;(n&&(i.myFh<i.numFh?(r=9,u=i.numFh-i.myFh):i.myCg<i.numCg&&(r=10,u=i.numCg-i.myCg)),this.mIDroom!=i.RaceID||this.mTarOp!=9&&this.mTarOp!=10)&&(t.sID=i.RaceID,t.matchName=i.name,t.resType=i.bmType,t.C_Op=r,t.unionID=i.unionID,t.zdID=i.zdID,t.isFree=!1,t.costStr=i.getCost(),t.numRest=u,this.extAsk())},o.onMttItem=function(n){t.sID=n.RaceID;t.matchName=n.name;t.resType=n.bmType;t.C_Op=n.C_Op;t.unionID=n.unionID;t.zdID=n.zdID;t.isFree=n.Flag.zntehui&&n.timmeKs>c.nowSeconds();t.costStr=n.getCost();t.ItemPrice=n.getItemPrice();this.extAsk()},o.onMttWin=function(n,i){t.sID=n.RaceID;t.matchName=n.name;t.resType=n.bmType;t.C_Op=i;t.unionID=n.unionID;t.zdID=n.zdID;t.isFree=n.Flag.zntehui&&n.tPass<0;t.costStr=n.getCost();t.ItemPrice=n.getItemPrice();this.extAsk()},o.extAsk=function(){var r,n,i,f;this.mTip.removeSelf();this.mIDroom=t.sID;this.mIDzd=t.zdID;this.mIDunion=t.unionID;r=t.C_Op;n="mttAsk_"+r+"_";switch(this.mTarOp=r){case 0:case 2:case 1:break;case 9:case 10:i=t.numRest;i>10&&(i=this.StrWx);break;default:return}f=u.lang(n+"htm",t.matchName,i);this.mRes.visible=!t.isFree;1==this.mTarOp&&0!=t.resType?(this.mRes.visible=!1,this.mTip.innerHTML=u.lang("mttAsk_1_tip",a.NumToStr(t.ItemPrice)),this.toXCenter(this.mTip),this.addChild(this.mTip),this.toSize(520,this.mTip.y+this.mTip.contextHeight+1>>0)):(this.mRes.visible=!0,this.mRes.setType(t.resType==0?120:121),this.mRes.showPre(n+"cost"),this.mRes.showValue(t.costStr),this.toSize(520,198));this.Show(n+"t",f)},e(1,i,"ins",function(){return i.sIns||(i.sLock=!1,i.sIns=new i,i.sLock=!0),i.sIns},FioLibs.displays.UDSprite._$SET_ins),i.askZgcg=function(n){i.ins.askZgcg(n)},i.askFh=function(n){i.ins.askFh(n)},i.onMttItem=function(n){i.ins.onMttItem(n)},i.onMttWin=function(n,t){i.ins.onMttWin(n,t)},i.sLock=!0,i.sIns=null,i.__init$=function(){t=function(){function n(){}return r(n,""),n.matchName=null,n.resType=0,n.costStr=null,n.ItemPrice=0,n.unionID=0,n.zdID=0,n.isFree=!1,n.sID=0,n.C_Op=0,n.numRest=0,n}()},i}(p),bb=function(n){function i(){this.mVecPots=null;this.mBase=null;this.mPot=null;this.mChipsCon=null;this.mType_bg=0;i.__super.call(this);this.toSize(s.MAX_W,s.MAX_H);this.mouseEnabled=!1;this.mType_bg=0;this.addChild(this.mBase=new skt);this.initChips();this.mPot=new ae(1);this.mPot.y=this.mChipsCon.y+20>>0;this.getPots(!1,[0])}r(i,"games.matchCores.desk.background.DM_BG_Base",n);var t=i.prototype;return t.initChips=function(){this.mChipsCon=new p;this.mChipsCon.pos(this.mWidth>>1,ui.toRealY(350));this.addChild(this.mChipsCon);this.mVecPots=[];var n=0,t;for(n;n<9;n++)this.mVecPots[n]=t=new gh,t.setTxtPro(0==n?1:2,26,"#b2d6fb"),t.InitPos(0,0,0,0)},t.loadBg=function(n){n!=this.mType_bg&&(this.mType_bg=n,kf.NT.load("res/assImgs/deskBg_"+n+".jpg",h.create(this,this.onBgDone)))},t.onBgDone=function(n){n&&(this.graphics.clear(),this.graphics.drawImage(n,0,0,this.mWidth,this.mHeight))},t.doReset=function(){this.mBase.DoReset();this.clearPots()},t.clearPots=function(){var n=0;for(n;n<9;n++)this.mVecPots[n].doReset();this.updatePotTotal(0)},t.updatePotTotal=function(){},t.getPots=function(n,t){var o=ui.CHIP_XS,u=ui.CHIP_YS,e=t.length,s=e>4,i,r=0,f=0;for(r;r<e;r++)i=this.mVecPots[r],i.updateValue(t[r]),i.parent||this.mChipsCon.addChild(i),f=36-i.width>>1,s?0==r?i.pos(f,u[r]):i.pos(o[(r-1)%2],u[(r-1)/2+1>>0]):i.pos(f,u[r]);i=this.mVecPots[0];ui.COORDS_CURPOT.setTo(i.x+this.mChipsCon.x>>0,i.y+this.mChipsCon.y>>0)},i.NUM_MAX=9,i.NUM_MAX_COL=4,i}(p),kb=function(n){function t(){this.CID=0;this.Num=0;this.mIcon=null;this.mHtm=null;this.mPage=null;t.__super.call(this);this.toSize(488,98);this.graphics.drawRect(0,this.mHeight-1,this.mWidth,1,"#648698");this.mIcon=new wf;this.mIcon.toSize(120,64);this.mIcon.pos(0,this.mHeight-this.mIcon.height>>1);this.addChild(this.mIcon);this.mHtm=new g;this.mHtm.mouseEnabled=!1;this.mHtm.pos(this.mIcon.x+this.mIcon.width+16,20);this.mHtm.style.fontSize=22;this.mHtm.style.leading=16;this.addChild(this.mHtm);this.mPage=new fc(h.create(this,this.onChanged,null,!1),!0,2,44,22);this.mPage.setTxtStyle(24,"#b2d6fb");this.mPage.pos(this.mWidth-this.mPage.width-6>>0,this.mHeight-this.mPage.height>>1);this.addChild(this.mPage);this.mHeight+=2}r(t,"games.windows.matches.creators.RewardsZdy.RwdZdy_SltItem",n);var f=t.prototype;return i.imps(f,{"FioLibs.interfaces.IFio_Recyle":!0}),f.recyle=function(){this.removeSelf();this.mHtm.innerHTML="";this.CID=this.Num=0},f.setPageStart=function(n){this.mPage.start(n,10)},f.setVo=function(n,t){this.CID=n.id;this.Num=0;this.mHtm.innerHTML=u.lang("sngRwdZdy_8",n.name,a.NumToStr(n.getVal(t)),u.lang("resType_"+t));this.setPageStart(0);this.mIcon.load(n.displayid)},f.onChanged=function(n,i){this.Num=n;i>0&&t.sCallback&&t.sCallback.runWith(this)},t.sCallback=null,t}(p),ec=function(n){function t(n){this.mHcall=null;this.mHbtn=null;this.mMenus=null;t.__super.call(this);this.mWidth=710;this.mHcall=n;this.toXCenter();this.mHbtn=h.create(this,this.onClick,null,!1)}r(t,"games.UD_Displays.menus.UD_Menu_Mem",n);var i=t.prototype;return i.doReset=function(){this.mMenus=null;this.graphics.clear();this.mHeight=0;for(var n;this.numChildren>0;)n=this.removeChildAt(0),n.TmpData=null,n.setClick(null),-1==t.s_vecBtns.indexOf(n)&&t.s_vecBtns.push(n)},i.showMenus=function(n){if(n!=this.mMenus){if(this.doReset(),this.mMenus=n,!n)return;var u=n.length,o=u>3?3:u,f=184,s=(this.mWidth-f*o)/(o+1)>>0,c=f+s,r=0,h=0,i,e;for(r;r<u;r++)e=n[r],h=r/3>>0,i=t.s_vecBtns.length>0?t.s_vecBtns.shift():k.crt_Btn(null,"btnAlert2",null,0,0,f),i.label=e.label,i.TmpData=e.data,i.setClick(this.mHbtn),i.pos(s+r%3*c>>0,20+h*68),this.addChild(i);this.mHeight=i.y+i.height+20>>0;this.graphics.drawPoly(60,0,[8,0,-8,0,0,-8],"#305278");this.graphics.drawRoundRect(16,this.mWidth,this.mHeight,"#305278")}},i.onClick=function(n){this.mHcall&&this.mHcall.runWith(n.TmpData)},t.COL_MAX=3,d(t,["s_vecBtns",function(){return this.s_vecBtns=[]}]),t}(p),bf=function(n){function t(){this.mMax=0;t.__super.call(this);this.mMax=5;this.mouseEnabled=!1;t.s_inited||t.s_init()}r(t,"games.UD_Displays.views.UD_Star",n);var u=t.prototype;return u.showStar=function(n){if(this.graphics.clear(),this.mWidth=0,n>0){t.doDraw(this,t.s_tex,0,n);var i=this.mMax-n;i>0&&t.doDraw(this,t.s_tex0,this.mWidth,i)}},e(0,u,"height",function(){return t.s_h},n.prototype._$set_height),t.s_init=function(){t.s_inited||(t.s_tex=i.loader.getRes("mainUi/club_star.png"),t.s_tex0=i.loader.getRes("mainUi/club_star0.png"),t.s_w=t.s_tex.width+8>>0,t.s_h=t.s_tex.height>>0,t.s_inited=!0)},t.doDraw=function(n,i,r,u){var e=[],f=0;for(f;f<u;f++)e.push(r+t.s_w*f,0);n.mWidth+=t.s_w*u;n.graphics.drawTextures(i,e)},t.s_inited=!1,t.s_tex=null,t.s_tex0=null,t.s_gap=8,t.s_w=0,t.s_h=0,t}(p),bu=function(n){function t(n,i,r){this.mTxtNum=null;this.mParent=null;i===void 0&&(i="redPoint");r===void 0&&(r=22);t.__super.call(this);this.mParent=n;this.mouseEnabled=!1;this.loadImage("mainUi/"+i+".png");this.mWidth=this.texture.width>>0;this.mHeight=this.texture.height>>0;this.addChild(this.mTxtNum=w.quickCreate(r,"#b2d6fb"))}r(t,"games.UD_Displays.views.UD_RedPoint",n);var i=t.prototype;return i.showValue=function(n){if(n=a.getNumber(n),n<=0)this.removeSelf();else{var t=n+"";n>99&&(t+="+");this.mTxtNum.text=t;this.mTxtNum.pos(this.mWidth-this.mTxtNum.textWidth+2>>1,this.mHeight-this.mTxtNum.textHeight>>1);!this.parent&&this.mParent&&this.mParent.addChild(this)}},t}(p),kat=function(n){function i(){this.mIcon=null;this.mT_State=null;this.mT_Label=null;this.mT_Time=null;this.mT_Value=null;this.mT_Rest=null;i.__super.call(this);this.mHeight=108;this.graphics.drawRect(0,0,this.mWidth,this.mHeight,"#5493a570");this.mT_State=new w;this.mT_State.wordWrap=!0;this.mT_State.align="center";this.mT_State.setVh(this.mHeight);this.mT_State.width=36;this.mT_State.color="#b2d6fb";this.mT_State.fontSize=22;this.mT_State.leading=6;this.mT_State.x=this.mWidth-this.mT_State.width-2;this.addChild(this.mT_State);var n=28,t=80;this.mIcon=new s;this.mIcon.mouseEnabled=!1;this.mIcon.pos(n,this.mHeight-t>>1);this.mIcon.size(t,t);this.addChild(this.mIcon);n+=t+20;this.mT_Label=w.quickCreate(26,"#b2d6fb");this.mT_Label.pos(n,this.mIcon.y+8);this.addChild(this.mT_Label);this.mT_Time=w.quickCreate(22,"#5680be");this.mT_Time.text="A";this.mT_Time.pos(n,this.mIcon.y+t-this.mT_Time.height-2>>0);this.addChild(this.mT_Time);this.mT_Value=w.quickCreate(26,"#5680be");this.mT_Value.y=this.mT_Label.y;this.addChild(this.mT_Value);this.mT_Rest=w.quickCreate(22,"#5680be");this.mT_Rest.text="A";this.mT_Rest.pos(n,this.mT_Time.y>>0);this.addChild(this.mT_Rest)}r(i,"games.windows._club.funds.mgr.Item_EcLog",n);var t=i.prototype;return t.showState=function(n){this.mT_State.text=n.label;this.mT_State.bgColor=n.data},t.showIcon=function(n){this.mIcon.loadImage(n)},t.showLabel=function(n){this.mT_Label.text=n},t.showTime=function(n){this.mT_Time.text=a.GTos(n,!0)},t.showValue=function(n){this.mT_Value.color=a.getColor(n);this.mT_Value.text=a.NumToStr(n,9);this.mT_Value.width=this.mT_Value.textWidth;this.mT_Value.x=this.mWidth-this.mT_Value.width-58>>0},t.showRest=function(n){this.mT_Rest.text=a.NumToStr(n);this.mT_Rest.x=this.mWidth-this.mT_Rest.width-58>>0},i}(p),dat=function(n){function i(n){var t,u,r;this.mBtnS=null;this.mBtnC=null;this.mHtm=null;this.mMin=0;this.mMax=0;this.mValue=0;this.mHandler=null;i.__super.call(this);this.mHandler=n;this.toSize(600,280);t=22;u=this.mHeight-t;this.graphics.drawRoundRect(8,this.mWidth,u,"#1d2735");this.graphics.drawPoly(this.mWidth>>1,u,[t,0,-t,0,0,t],"#1d2735");r=h.create(this,this.onClkBtns,null,!1);this.initNums(r);this.mBtnC=this.crtBtn(r,60,"mainUi/coms_btn_close.png",18);this.mBtnC.x=this.mWidth-this.mBtnC.width-this.mBtnC.y>>0;this.mBtnS=this.crtBtn(r,61,"matches/mm_btn_jqqd.png",this.mHeight);this.toXCenter(this.mBtnS);this.mHtm=new g;this.mHtm.y=22;this.addChild(this.mHtm);this.updateNum(0)}r(i,"games.matchCores.desk.views.betBtns.DmBet_Jzjz",n);var t=i.prototype;return t.initNums=function(n){var e=[1,2,3,4,5,6,7,8,9,0,29,30],r=0,o=e.length,h=[82,168],f=86,t,u=0,i;for(r;r<o;r++)u=e.shift(),t=k.crt_Btn(this,"numkeyBtn",null,22+(f+8)*(r%6),h[r/6>>0],f,68),t.TmpData=u,29==u?(t.mText.fontSize-=10,t.label="Max"):30==u?(i=new s,i.mouseEnabled=!1,i.loadImage("mainUi/del_img.png"),i.pos(f-i.texture.width>>1,68-i.texture.height>>1),t.addChild(i)):t.label=""+u,t.setClick(n)},t.crtBtn=function(n,t,i,r){var u=k.crt_Btn(this,null,i);return u.y=r,u.TmpData=t,u.setClick(n),u},t.showArea=function(n,t){n>t&&(n=t);this.mMin=n;this.mMax=t;this.updateNum(0)},t.onEnable=function(){this.updateNum(0)},t.onClkBtns=function(n){var t=n.TmpData,i;if(t<10)this.updateNum(a.getNumber(""+this.mValue+t));else switch(t){case 29:this.updateNum(this.mMax);break;case 30:i=this.mValue+"";this.updateNum(a.getNumber(i.substr(0,i.length-1)));break;case 61:this.mValue<this.mMin?ut.showMessage(u.lang("betMin",this.mMin),!1):(this.mHandler&&this.mHandler.runWith(this.mValue),this.removeSelf());break;case 60:this.removeSelf();this.updateNum(0)}},t.updateNum=function(n){this.mValue=n;this.mValue<1?(this.mHtm.innerHTML=u.lang("betMin",a.toNumber(this.mMin,f.Match.MatchVo.IsIntBet)),this.mValue=0):(this.mValue>this.mMax&&(this.mValue=this.mMax),this.mHtm.innerHTML=u.lang("betValue",a.NumToStr(this.mValue)));this.toXCenter(this.mHtm)},i}(p),he=function(n){function u(){this.mIsX=!1;this.mCtrl=null;u.__super.call(this)}r(u,"FioLibs.displays.coms.extendComs.FioTab",n);var t=u.prototype;return i.imps(t,{"FioLibs.interfaces.IFio_Recyle":!0}),t.create=function(n,t,i,r,u,f,e){if(r===void 0&&(r=0),u===void 0&&(u=2),f===void 0&&(f=!0),this.recyle(),this.mIsX=f,n){t||(t="tab");var s=0,a=n.length,o,h,v=[],c=0,l=0;for(s;s<a;s++)(h=n[s],h)&&(v[v.length]=o=k.crt_Btn(this,t,i,c,l,r),o.label=h.label,o.TmpData=h.data,r<0&&o.autoWidth(),this.mIsX?(c+=o.width,s<a-1&&(c+=u),this.mWidth=c,this.mHeight=Math.max(this.mHeight,o.height)):(l+=o.height,s<a-1&&(l+=u),this.mHeight=l,this.mWidth=Math.max(this.mWidth,o.width)));this.mCtrl||(this.mCtrl=new we);this.mCtrl.updateDisplays(v);this.mCtrl.setClick(e);this.mCtrl.select(-1)}return this},t.recyle=function(){this.mCtrl&&this.mCtrl.recyle();this.mWidth=this.mHeight=0},t.getDisplays=function(){return this.mCtrl?this.mCtrl.getElements():null},t.select=function(n){this.mCtrl&&this.mCtrl.select(n)},t.getSelected=function(){return this.mCtrl?this.mCtrl.getSelected():null},t.getVal=function(){var n=this.getSelected();return n?n.TmpData:null},t.getBtn=function(n){if(this.mCtrl){var r=this.mCtrl.getElements(),t=0,u=r.length,i;for(t;t<u;t++)if(i=r[t],i&&i.TmpData==n)return i}return null},t.auto=function(n,t,i){var o,u,r,f,e;if(t===void 0&&(t=0),i===void 0&&(i=!0),this.mCtrl&&n+t>0&&(o=this.mCtrl.getElements(),u=o.length,u>0))if(r=0,f=0,n>0)for(this.mWidth=n,f=i?n/u>>0:1==u?n:(n-o[0].width)/(u-1)>>0,r;r<u;r++)e=o[r],e.x=i?.5*(f-e.width)+f*r>>0:f*r>>0;else if(t>0){for(f=t/u>>0,r;r<u;r++)e=o[r],e.y=.5*(f-e.height)+f*r>>0;this.mHeight=e.y+e.height>>0}return this},e(0,t,"width",function(){return this.mWidth},function(){}),e(0,t,"height",function(){return this.mHeight},function(n){if(this.mIsX&&n!=this.mHeight){this.mHeight=n;var i=this.mCtrl.getElements(),r=i.length,t=0;for(t;t<r;t++)i[t].height=this.mHeight}}),u}(p),gat=function(n){function t(){this.mNml=null;this.mYjs=null;this.mCur=null;t.__super.call(this);this.mNml=new ca(ot.CFG_MTT,null,!0);this.mNml.setLev(2);this.mYjs=new ca(ot.YJS_MAIN,null,!0);this.mYjs.setLev(2)}r(t,"games.windows.matches.mttWins.details.WinMttDtl_AdminFlags",n);var i=t.prototype;return i.setVal=function(n,t){var i=0==n?this.mNml:this.mYjs;i!=this.mCur&&(this.mCur&&this.mCur.removeSelf(),this.mCur=i,this.toSize(i.width,i.height),this.addChild(i));i.setVal(t)},i.getVal=function(){return this.mCur?this.mCur.getVal():0},t}(p),nvt=function(n){function t(n,i){var r,e;this.mTip=null;this.mTitle=null;this.mBest=null;this.mScon=null;t.__super.call(this);this.toSize(n,i);r=st.CrtImg("mainUi/jack_title_2.png");this.toXCenter(r);r.y=-24;this.addChild(r);this.mTip=new g;this.mTip.innerHTML=u.lang("jack_2_0");this.mTip.pos(this.mWidth-this.mTip.contextWidth>>1,68);this.addChild(this.mTip);this.mBest=new nd(!0);this.mBest.pos(this.mWidth-this.mBest.width>>1,48);this.mTitle=new g;this.mTitle.y=170;this.addChild(this.mTitle);e=208;this.mScon=new br(this.mWidth,this.mHeight-e,4);this.mScon.y=e;this.addChild(this.mScon);f.Match.regist(477,this.getLogs,this)}r(t,"games.matchCores.panels.dzdp.jackpot.MpJkpot_Log",n);var i=t.prototype;return i.onDisable=function(){this.mBest.recyle();this.mScon.ItemClean(!0);this.addChild(this.mTip)},i.onEnable=function(){this.onDisable();this.mTitle.innerHTML=u.lang("jack_2_1",f.Match.MatchVo.getBaseBet());this.toXCenter(this.mTitle);f.Match.reqJackLog()},i.updateBest=function(n){this.mTip.removeSelf();this.mBest.setVo(n);this.mBest.parent||this.addChild(this.mBest)},i.getLogs=function(n){var i,t,r;if(this.onDisable(),i=n.length,i>0)for(i>0&&this.updateBest(n[0]),t=1,t;t<i;t++)r=l.get(nd),r.setVo(n[t]),this.mScon.ItemAdd(r)},t}(p),bs=function(n){function t(n,i){this.mVecIns=null;this.mRect=null;i===void 0&&(i=1);t.__super.call(this);this.mouseEnabled=!1;this.mVecIns=vr(8);this.mWidth=0;var r=0,u;for(r;r<8;r++)this.mVecIns[r]=u=new aht(n),r>0&&(this.mWidth+=i),u.x=this.mWidth,this.addChild(u),this.mWidth+=u.width;this.mHeight=u.height>>0;this.scrollRect=this.mRect=new ct(0,0,this.mWidth,this.mHeight)}r(t,"games.UD_Displays.jackpot.UD_JackNum",n);var i=t.prototype;return i.showValue=function(n){var i,u,t,r;for(this.scrollRect=this.mRect,n=n>>0,i=String(n).split(""),i.reverse(),u=i.length,t=0,t;t<8;t++)r=this.mVecIns[7-t],t<u?r.showValue(Number(i.shift())):r.showValue(0)},t.NUM_MAX=8,t}(p),db=function(n){function i(n,t,r){this.IsIntBet=!1;this.Value=1;this.Rate=1;this.OutsNum=0;this.SBVo=null;this.mSlider=null;this.OutsCards=null;this.mAll=null;this.mVecPokers=null;this.mConOp=null;this.mHtml=null;this.mBtnBasic=null;this.mTtb=null;this.mH_select=null;this.mH_slider=null;this.mCanOp=!1;this.mIsFc=!1;i.__super.call(this);this.mWidth=536;this.mIsFc=n;this.mH_select=t;this.mH_slider=r;var f=new g;f.innerHTML=u.lang("pbx_op_"+(n?1:2));this.addChild(f);this.mAll=k.crt_Radio(this,"r2");this.mAll.mText.fontSize=22;this.mAll.label=u.lang("pbx_op_0");this.mAll.pos(this.mWidth-this.mAll.width,2);this.mAll.setClick(h.create(this,this.doSltAll,null,!1));this.mVecPokers=[];this.OutsCards=[];this.mHtml=new g;this.mHtml.y=2;this.addChild(this.mHtml);this.initOp(n)}r(i,"games.matchCores.panels.dzdp.bxJls.MpBx_Detail",n);var t=i.prototype;return t.initOp=function(n){var t,i;this.mConOp=new p;t=h.create(this,this.onClkBm,null,!1);this.mBtnBasic=k.crt_Btn(this.mConOp,"btnAlert2",null,12,0,128);this.mBtnBasic.TmpData=0;this.mBtnBasic.label=u.lang("pbx_op_3");this.mBtnBasic.setClick(t);this.mConOp.toSize(this.mWidth,this.mBtnBasic.height);this.mTtb=new g;this.mTtb.y=2;this.mConOp.addChild(this.mTtb);i=20;n?i=this.mBtnBasic.x+this.mBtnBasic.width+20>>0:this.mBtnBasic.removeSelf();t=h.create(this,this.onSlidler,null,!1);this.mSlider=new vs(this.mWidth-i-20,!0,t);this.mSlider.pos(i,this.mConOp.height-12>>0);this.mConOp.addChild(this.mSlider);this.addChild(this.mConOp)},t.onClkBm=function(n){this.mSlider.setValue(n.TmpData)},t.onSlidler=function(n){this.Value=a.toNumber(n,this.IsIntBet,1);var t=a.toNumber(this.Value*(this.Rate+1),this.IsIntBet,2);this.mTtb.innerHTML=u.lang("pbx_op_5",this.Value,a.NumToStr(t));this.mTtb.x=this.mWidth-this.mTtb.contextWidth-20>>0;this.mH_slider&&this.mH_slider.runWith(this)},t.DoReset=function(){this.removeSelf();var n=0,t=this.mVecPokers.length;for(n;n<t;n++)this.mVecPokers[n].doReset();this.Value=0;this.OutsCards.length=0;this.mSlider.setValue(0)},t.setVo=function(n,t){this.SBVo=n;this.mSlider.mMinValue=this.SBVo.minPF||0;this.mCanOp=t&&n.canOp;this.mHtml.innerHTML="";this.showPokers(n.cards);this.mAll.selected=n.canOp;this.mAll.mouseEnabled=this.mCanOp;n.canOp&&this.doSltAll(this.mAll);this.mConOp.y=this.mHeight;this.mHeight+=this.mBtnBasic.height+10>>0;var i=38;this.graphics.clear();this.graphics.drawRoundRect(16,this.mWidth,this.mHeight-i,"#3a5373",0,i)},t.updateValues=function(n,t,i,r){r===void 0&&(r=!0);this.mBtnBasic.TmpData=t;var u=a.getNumber(this.mSlider.getValue());u>i||0==u?u=i:0==i&&(u=0);u<n&&(u=n);this.mSlider.setArea(0,i,u);this.mSlider.setMin(n);this.mIsFc?this.mSlider.setValue(t):this.mSlider.setValue(u);r?this.setCanOp(this.mCanOp&&i>0):this.setCanOp(!1)},t.syncData=function(n,t){var i,u,r;this.onSlidler(n);if(i=0,u=this.mVecPokers.length,u>0)for(i;i<u;i++)r=this.mVecPokers[i],r.parent&&r.showGG(t.indexOf(r.getCardPoint())>-1)},t.showPokers=function(n){if(this.OutsNum=n.length,0!=this.OutsNum){var f=ye.CARD_W,r=ye.CARD_H,u=12,i=0,t,e=0,o=0,s=0,h=this.mHeight;for(i;i<this.OutsNum;i++){if(t=this.mVecPokers[i],!t){this.mVecPokers[i]=t=new eu;t.toSize(f,r);e=i/8>>0;o=i%8;s=u+(f+u)*o>>0;h=48+(r+u)*e>>0;t.pos(s,h);t.on("click",this,this.onClkPoker)}t.showPoint(n[i]);t.parent||this.addChild(t)}this.mHeight=t.y+r+16>>0}},t.setCanOp=function(n){this.mBtnBasic.disabled=!n;this.mSlider.mouseEnabled=n},t.updateStr=function(){var n=this.OutsCards.length;this.setCanOp(this.mCanOp&&n>0);this.mAll.selected=this.OutsNum==n;this.Rate=f.Match.getOutsRate(n);this.mHtml.innerHTML=u.lang("pbx_op_4",this.Rate,n,this.OutsNum);this.mHtml.x=this.mAll.x-this.mHtml.contextWidth-20>>0;this.mH_select&&this.mH_select.run()},t.doSltAll=function(n){if(n.selected){var i=0,r=this.mVecPokers.length,t;for(this.OutsCards.length=0,i;i<this.OutsNum;i++)t=this.mVecPokers[i],t&&t.parent&&(t.showGG(!0),this.OutsCards.push(t.getCardPoint()));this.updateStr()}},t.onClkPoker=function(n){if(this.mCanOp){var t=n.currentTarget,r=t.getCardPoint(),i=this.OutsCards.indexOf(r);t.hasGG()?(this.mAll.selected=!1,t.showGG(!1),i>-1&&this.OutsCards.splice(i,1)):(t.showGG(!0),i==-1&&this.OutsCards.push(r));this.updateStr()}},i}(p),ya=function(n){function i(n,t){this.mZdID=0;this.mType=0;this.mIconType=0;this.mCmdID=0;this.mPageCur=0;this.mPageTot=0;this.mTimeType=0;this.mVecIcons=null;this.mVecTxts=null;this.mSCon=null;this.mCfgVal=null;this.mRankH=78;i.__super.call(this);this.toSize(s.MAX_W,n);this.mType=t;this.mIconType=1==this.mType?1:0;switch(t){case 0:this.mCmdID=1301;break;case 1:this.mCmdID=1310;break;case 2:this.mCmdID=1311}this.mCfgVal=ft.sGetTab("dpi_rank_val");this.mRankH=u.obj("dpi_rank_h");this.initUI()}r(i,"games.windows.dpi.DpiRank_Detail",n);var t=i.prototype;return t.initUI=function(){var f=st.CrtImg("mainUi/dpiRank_b3.png",0,196),e,o;this.toXCenter(f);this.addChild(f);e=f.y+f.height+2;o=this.mHeight-e-8;this.graphics.drawRoundRect(20,this.mWidth,o+40,"#386ebf40",0,e-2);this.mSCon=new br(this.mWidth,o,0);this.mSCon.y=e+3;this.mSCon.on("click",this,this.onClkIns);this.mSCon.setCallback(h.create(this,this.reqLists,null,!1));this.addChild(this.mSCon);this.mVecIcons=[];this.mVecTxts=[];var i=0,s=u.obj("dpi_rank_xIcon"),r,c=u.obj("dpi_rank_xB3"),n,t;for(i;i<3;i++){r=s.shift();n=new hi(108,!0);n.mouseEnabled=!0;n.pos(r.x,r.y);this.addChild(n);n.mLabel.y=n.height+22;n.setLabel(""+(1+i),24,"#b2d6fb");n.on("click",this,this.onClkIns);this.mVecIcons[i]=n;t=new w;t.mouseEnabled=!1;t.fontSize=26;t.color="#ffffff";t.align="center";t.width=136;r=c.shift();t.pos(r.x-68,r.y);this.addChild(t);this.mVecTxts[i]=t}},t.onDisable=function(){this.doClear();this.mSCon.ItemClean(!0);f.Sql.remove(this.mCmdID,this.getLists,this)},t.onEnable=function(){f.Sql.regist(this.mCmdID,this.getLists,this)},t.doClear=function(){var n,t;for(this.mSCon.ItemClean(!0),t=0;t<3;t++)n=this.mVecIcons[t],n.loadIcon("",this.mIconType,this.mIconType),n.setLabel(""),n.mouseEnabled=!1,l.recyle(n.TmpData),n.TmpData=null,this.mVecTxts[t].text=""},t.stop=function(){this.removeSelf()},t.setQuery=function(n,t){this.mTimeType=n;this.mZdID=t;this.mPageTot=0;this.mPageCur=1;this.doClear();this.reqLists(!1,!0)},t.reqLists=function(n,t){if(t===void 0&&(t=!1),!n){if(t)this.mPageCur=1;else if(this.mPageTot>this.mPageCur)this.mPageCur+=1;else return!1;this.mSCon.showWating(!0);switch(this.mType){case 0:f.Sql.reqDpiRank(this.mTimeType,16,this.mPageCur);break;case 1:f.Sql.reqDpiClubRank(this.mTimeType,16,this.mPageCur);break;case 2:f.Sql.reqDpiClubScore(this.mZdID,this.mTimeType,16,this.mPageCur)}return!0}return!1},t.getLists=function(n,t,i){var f,r,e,s,o,u;if(n==this.mTimeType){if(this.mPageTot=Math.ceil(t/16),f=0,1==this.mPageCur)for(f=0;f<3;f++)r=i.shift(),e=this.mVecIcons[f],s=this.mVecTxts[f],r&&(e.loadIcon(r.icon,this.mIconType,this.mIconType),e.setLabel(r.name),s.text=""+r.Value,e.TmpData=r,e.mouseEnabled=!0);if(o=i.length,o>0){for(ft.crtStart(this.mCfgVal,this.mWidth,this.mRankH,!1,!0),f=0;f<o;f++)u=l.get(okt),u.recyle(),u.mIcon.y=this.mRankH-u.mIcon.height>>1,r=i.shift(),u.TmpData=r,u.loadIcon(r.icon,this.mIconType),u.updateValue(0,r.rank),u.updateValue(1,r.name),u.updateValue(2,r.Value),u.Tex_Make(!0),this.mSCon.ItemAdd(u);ft.crtDone()}this.mSCon.doWaitComplete()}},t.onClkIns=function(n){n.currentTarget==this.mSCon?n.target!=n.currentTarget&&this.toOpen(n.target):this.toOpen(n.currentTarget)},t.toOpen=function(n){var t=n.TmpData,i=1==this.mType?161:162;b.OpenWin(i,t,this.mTimeType,this.mIconType)},i.PageSize=16,i}(p),gb=function(n){function i(n,t,r){this.JpNum=null;this.mDicItems=null;i.__super.call(this);this.mWidth=n+n+t;r||(t=t>>1);this.mDicItems={};var h=ot.CFG_DZ.VecSliders[0].data,e=0,c=h.length,f=NaN,s=0,u,o=2;for(e;e<c;e++)(f=h[e],f<1)||(s=f*10>>0,u=new bo,u.ltBB=f,u.index=s,u.straddle=!1,this.addJp(u,o,!0,r),u=new bo,u.ltBB=f,u.index=1e4+s>>0,u.straddle=!0,o+=this.addJp(u,o,!1,r).height+t);this.mHeight=o+16}r(i,"games.UD_Displays.jackpot.UD_JP_List",n);var t=i.prototype;return t.addJp=function(n,t,i,r){n.value=-5;n.crtStr();var u=new(r?ukt:ab);return u.initVo(n),this.mDicItems[n.index]=u,u.y=t,i||(u.x=this.mWidth-u.width),this.addChild(u),u},t.onDisable=function(){this.JpNum&&this.JpNum.showValue(0);var t,n;for(t in this.mDicItems)n=this.mDicItems[t],n&&n.updateValue(-5)},t.updateAll=function(n){var r,t,i,u;if(this.parent&&(this.onDisable(),r=n.length,r>0)){for(i=0,i;i<r;i++)t=n.shift(),u=this.mDicItems[t.index],u&&u.updateValue(t.value),l.recyle(t);this.updateTotal()}},t.updateOne=function(n){var t=this.mDicItems[n.index];t&&t.updateValue(n.value);this.updateTotal()},t.updateTotal=function(){var t,n,i=0;for(t in this.mDicItems)n=this.mDicItems[t],n&&n.mVo.value>0&&(i+=n.mVo.value);this.JpNum&&this.JpNum.showValue(i)},i}(p),tvt=function(n){function i(){this.mIcon=null;this.mBase=null;this.mMainRes=null;i.__super.call(this);this.mWidth=710;this.toXCenter();this.initBase();this.initReses()}r(i,"games.scene.modules.me.SceMe_Top",n);var t=i.prototype;return t.initBase=function(){var r=132,n=new p,i,t;n.toSize(this.mWidth,this.mHeight=r);this.mIcon=new hi(r,!1,8);this.mIcon.x=30;n.addChild(this.mIcon);i=44;this.mBase=new g;this.mBase.pos(188,i);this.mBase.style.leading=18;n.addChild(this.mBase);t=st.CrtArrow();t.pos(this.mWidth-t.width-24,i+8);n.addChild(t);n.on("click",this,this.openWinUser);this.addChild(n)},t.initReses=function(){this.mHeight+=4;this.mMainRes=new ba(!0);this.mMainRes.pos(this.mWidth-this.mMainRes.width>>1,this.mHeight);this.addChild(this.mMainRes);this.mHeight+=this.mMainRes.height-24},t.openWinUser=function(){b.OpenWin(4)},t.get210=function(n){0==n&&this.updateBase()},t.get213=function(){this.mIcon.loadIcon(f.Account.Detail.getIcon())},t.updateBase=function(){var t=f.Account.Detail,n=t.Sign;n=0==n.length?u.StrNull:b.cutStrAsLen(n,26);this.mBase.innerHTML=u.lang("me_base",t.Nick,t.SID,n);this.get213()},t.onEnable=function(){f.Account.regist(201,this.updateBase,this);f.Account.regist(210,this.get210,this);f.Account.regist(213,this.get213,this);this.updateBase()},t.onDisable=function(){f.Account.remove(201,this.updateBase,this);f.Account.remove(210,this.get210,this);f.Account.remove(213,this.get213,this)},i}(p),ivt=function(n){function t(){this.mIcon=null;this.mBase=null;this.mBtn=null;this.mTips=null;t.__super.call(this);this.mWidth=680;this.mHeight=168;this.x=s.MAX_W-this.mWidth>>1;this.graphics.drawRoundRect(30,this.mWidth,this.mHeight,"#386ebf40");var n=138;this.mIcon=new hi(n);this.mIcon.mouseEnabled=!1;this.mIcon.pos(16,this.mHeight-n>>1);this.mIcon.loadIcon(null,0,5);this.addChild(this.mIcon);this.mBase=new g;this.mBase.style.leading=16;this.mBase.style.color="#5680be";this.mBase.pos(204,52);this.addChild(this.mBase);n=156;this.mBtn=k.crt_Btn(null,null,null,this.mWidth-32-n,0,n);this.mBtn.y=this.mHeight-this.mBtn.height-16>>1;this.mBtn.on("click",this,this.onClick);this.mTips=w.quickCreate(22,"#b2d6fb");this.mTips.text=u.lang("league_wait");this.mTips.pos(this.mBtn.x+.5*(n-this.mTips.width)>>0,this.mBtn.y+this.mBtn.height+16>>0)}r(t,"games.windows._leagues.Lea_Sum",n);var i=t.prototype;return i.onClick=function(){switch(this.mBtn.TmpData){case 1:f.Leagues.reqUnCrt();break;case 2:f.Leagues.reqUnJoin();break;case 4:pt.Alert(u.lang("league_quit"),this,null,[this.reqQuit,null])}},i.reqQuit=function(){f.Leagues.reqQuit()},i.setVo=function(n){this.mTips.removeSelf();var t='<span style="color:#b2d6fb;font-size:30px;">'+n.name+"<\/span>";t+="    "+u.lang("league_vid",n.vID);t+="<br/>"+u.lang("league_pnum",n.numOnline,n.numTotal);this.mBase.innerHTML=t;this.mBtn.removeSelf();this.mBtn.TmpData=n.state;this.mBtn.label=u.lang("league_Btn_"+this.mBtn.TmpData);switch(n.state){case 1:case 2:this.mBtn.y=this.mHeight-this.mBtn.height-16>>1;this.addChild(this.mBtn);this.addChild(this.mTips);break;case 3:case 4:this.mBtn.y=this.mHeight-this.mBtn.height>>1;n.isAdmin()||this.addChild(this.mBtn)}},t}(p),pa=function(n){function t(n,i,r){var e,o,h,c,f;if(this.mHanlder=null,t.__super.call(this),e=u.obj(n),e)for(this.mHanlder=i,o=0,h=e.length,this.mWidth=0,o;o<h;o++){this.mWidth>0&&(this.mWidth+=26);c=e.shift();f=new tlt(r,c);f.x=this.mWidth;this.mWidth+=f.width;f.on("click",this,this.onClick);this.addChild(f)}this.mHeight=f.height;this.x=s.MAX_W-this.mWidth>>1}r(t,"games.UD_Displays.btns.big.UD_Btn_BigTop",n);var i=t.prototype;return i.onClick=function(n){var t=n.currentTarget;this.mHanlder&&this.mHanlder.runWith(t.TmpData)},t}(p),rvt=function(n){function t(){this.mTtime=null;this.mTbatty=null;this.mFlag=null;this.mPro=null;t.__super.call(this);this.mouseEnabled=!1;this.toSize(s.MAX_W,32);t.sIns=this;this.mTtime=w.quickCreate(20,"#b2d6fb");this.mTtime.text="00:00";this.mTtime.pos(20,this.mHeight-this.mTtime.height>>1);this.addChild(this.mTtime);this.mFlag=new s;this.mFlag.loadImage("mainUi/battyC.png");this.mFlag.pos(this.mWidth-this.mFlag.width-16>>0,this.mHeight-this.mFlag.texture.height>>1);var n=new s;n.loadImage("mainUi/batty.png");n.pos(this.mFlag.x-n.width-4>>0,this.mHeight-n.texture.height>>1);this.addChild(n);this.mPro=new s;this.mPro.pos(n.x+2,n.y+2);this.mPro.graphics.drawRect(0,0,35,14,"#e5ba73");this.addChild(this.mPro);this.mTbatty=w.quickCreate(20,"#b2d6fb");this.mTbatty.text="100%";this.mTbatty.pos(n.x-this.mTbatty.width>>0,this.mHeight-this.mTbatty.height+2>>1);this.addChild(this.mTbatty);et.regShellFun("oTj_Head",t.oTj_Head)}r(t,"games.matchCores.desk.views.DmView_Android",n);var i=t.prototype;return i.onDisable=function(){this.timer.clearAll(this);this.updateTime();this.mTbatty.text="";this.mPro.graphics.clear();this.mFlag.removeSelf()},i.onEnable=function(){this.onDisable();this.timer.loop(1e3,this,this.updateTime);this.timer.loop(1e4,this,this.doReq);this.doReq()},i.updateTime=function(){this.mTtime.text=a.getNowStr(2)},i.doReq=function(){et.reGetHead()},i.update=function(n){var t=n.batter,i;this.mTbatty.text=t+"%";t=t/100;i="#ff0000";t>=.5?i="#4bc65c":t>=.25&&(i="#eab96a");this.mPro.graphics.clear();this.mPro.graphics.drawRect(0,0,35*t>>0,14,i);1==n.charging?this.mFlag.parent||this.addChild(this.mFlag):this.mFlag.removeSelf()},t.oTj_Head=function(n){t.sIns&&t.sIns.update(JSON.parse(n))},t.sIns=null,t}(p),ki=function(n){function t(){this.mDicClasses=null;this.mDicPanels=null;this.mPanel=null;this.mRect=null;this.mTe=0;t.__super.call(this);this.mHeight=s.MAX_H;this.graphics.drawRect(0,0,this.mWidth,this.mHeight,"#00000046");this.reqPanels();kr.sCloseHd=h.create(this,this.toCheckClose,null,!1);this.mRect=new ct;this.on("click",this,this.onClickCheck)}r(t,"games.matchCores.panels._bases.MgrPanels",n);var i=t.prototype;return i.reqPanels=function(){this.mDicPanels={};this.mDicClasses={};this.mDicClasses[1]=fnt;this.mDicClasses[2]=edt;this.mDicClasses[4]=hdt;this.mDicClasses[3]=dgt;this.mDicClasses[21]=snt;this.mDicClasses[20]=ddt;this.mDicClasses[25]=gdt;this.mDicClasses[26]=ati;this.mDicClasses[27]=cti;this.mDicClasses[22]=iii;this.mDicClasses[23]=ye;this.mDicClasses[24]=tgt;this.mDicClasses[28]=wti;this.mDicClasses[29]=eti;this.mDicClasses[50]=nri;this.mDicClasses[42]=kii;this.mDicClasses[43]=knt;this.mDicClasses[44]=wkt;this.mDicClasses[40]=vnt;this.mDicClasses[41]=hii},i.toCheckClose=function(){this.numChildren<1&&(this.mPanel=null,this.removeSelf(),this.mRect.setTo(0,0,0,0))},i.onClickCheck=function(n){this.mPanel&&this.mPanel.C_IsSpecial||this.mTe>0&&this.timer.currTimer<this.mTe||this.mRect.contains(this.mouseX,this.mouseY)||(n.stopPropagation(),this.Close())},i.Close=function(){this.mTe=0;this.removeSelf();for(var n;this.numChildren>0;)n=this.removeChildAt(0),n&&n.onMgrCls();this.mPanel=null;this.mRect.setTo(0,0,0,0)},i.open=function(n,t){var i=this.mDicPanels[n],r,f;if(!i)if(r=this.mDicClasses[n],r)i=this.mDicPanels[n]=new r;else{ut.showMessage(u.lang("err_pID",n),!1);return}this.mPanel!=i&&(f=this.mPanel,f&&f.onMgrCls(),this.mPanel=i,this.addChild(this.mPanel),this.mPanel.start(t),this.mRect.setTo(i.x,i.y,i.width>>0,i.height>>0),this.mTe=this.timer.currTimer+50,this.parent||tu.Add(this))},e(1,t,"ins",function(){return null==t.s_ins&&(t.s_locked=!1,t.s_ins=new t,t.s_locked=!0),t.s_ins},FioLibs.displays.UDSprite._$SET_ins),t.Close=function(){t.ins.Close()},t.open=function(n){for(var r=[],i=1,u=arguments.length;i<u;i++)r.push(arguments[i]);t.ins.open(n,r)},t.s_ins=null,t.s_locked=!0,t.P_MENUS=1,t.P_STYLE=2,t.P_CHAT=3,t.P_LOOK_PLAYER=4,t.P_DZDP_ROOMSET=20,t.P_DZDP_ADDCHIP=21,t.P_DZDP_RANK=22,t.P_DZDP_BX=23,t.P_DZDP_JLS=24,t.P_DZDP_JP=25,t.P_DZDP_CARD_TIP=26,t.P_DZDP_BX_TIP=27,t.P_DZDP_BRAND=28,t.P_DZDP_BRAND_XLSDZ=29,t.P_MATCH_SETTING=40,t.P_MTT_BRANDS_LIST=41,t.P_MTT_RANK=42,t.P_MTT_MDCG=43,t.P_MTT_MYROOMS=44,t.P_SNG_RANK=50,t}(p),uvt=function(n){function t(){this.mTtotal=null;this.mTjr=null;this.mTzr=null;this.mTwr=null;t.__super.call(this);this.mWidth=710;this.mHeight=242;this.x=s.MAX_W-this.mWidth>>1;this.graphics.drawRoundRect(20,this.mWidth,this.mHeight,"#386ebf40");this.graphics.drawRect(20,126,670,2,"#233a5b");this.mTtotal=this.Htm_Creat(355,24);this.mTjr=this.Htm_Creat(150,152);this.mTzr=this.Htm_Creat(355,152);this.mTwr=this.Htm_Creat(560,152)}r(t,"games.windows._commons.creLogs.CreditLogs_Head",n);var i=t.prototype;return i.Htm_Creat=function(n,t){var i=new g("center");return i.style.fontSize=26,i.style.color="#6391d5",i.style.leading=12,i.y=t,i.TmpData=n,this.addChild(i),i},i.Htm_Center=function(n,t){n.innerHTML=t;n.x=n.TmpData-.5*n.contextWidth>>0},i.onEnable=function(){var o=f.Club.ClubVo.job<2,n=f.Club.Members,t="----",i="----",r="----",e="----";o&&(t=u.lang("clubMem_0",n.getHtml()),i=u.lang("clubMem_1",a.NumToStr(n.creToday)),r=u.lang("clubMem_2",a.NumToStr(n.creZr)),e=u.lang("clubMem_3",a.NumToStr(n.creUsed)));this.Htm_Center(this.mTtotal,t);this.Htm_Center(this.mTjr,i);this.Htm_Center(this.mTzr,r);this.Htm_Center(this.mTwr,e)},t}(p),nk=function(n){function t(n){this.mLabel=null;this.mInput=null;this.mMAx=0;n===void 0&&(n=0);t.__super.call(this);n>0&&(this.mWidth=n);this.mHeight=72;this.graphics.drawRect(0,0,this.mWidth,this.mHeight,"#5493a570");this.mLabel=w.quickCreate(24,"#40608e");this.mLabel.text="啊";this.mLabel.pos(32,this.mHeight-this.mLabel.height>>1);this.addChild(this.mLabel);this.mInput=new ci;this.mInput.fontSize=24;this.mInput.setVh(40);this.mInput.multiline=this.mInput.wordWrap=!1;this.mInput.maxChars=10;this.mInput.restrict="0123456789";this.mInput.y=this.mHeight-this.mInput.height-2>>1;this.addChild(this.mInput)}r(t,"games.UD_Displays.inputs.UD_InputWithBg",n);var i=t.prototype;return i.updateLabel=function(n,t,i){i===void 0&&(i=0);this.mLabel.text=n;this.mInput.x=this.mLabel.x+this.mLabel.width+8>>0;this.mInput.width=this.mMAx=this.mWidth-this.mInput.x-16>>0},i.setPrompt=function(n){this.mInput.prompt=n},i.updateIw=function(n){n<0&&(n=0);this.mInput.width=this.mMAx-n},e(0,i,"value",function(){return this.mInput.text},function(n){this.mInput.text=n}),t}(p),fvt=function(n){function e(n){var i,t;this.mBtnA=null;this.mDcBtn=null;this.mDcPre=null;this.mMenu=null;this.mMenuAsk=null;this.mHtm=null;this.mDelayIndex=0;e.__super.call(this);this.mWidth=n;i=h.create(this,this.onClk,null,!1);this.mMenu=new fe(n,"jls_op_menus",i,198);this.mMenuAsk=new fe(n,"jls_op_menus_ask",i,198);this.mMenu.TmpData=this.mMenu.getBtn(2).label;this.mMenuAsk.TmpData=this.mMenuAsk.getBtn(1).label;this.mBtnA=this.mMenu.getBtn(1);this.mDelayIndex=au.addIns(this,24,0,!1,!1);this.mHtm=new g;this.mHtm.y=this.mMenu.y+this.mMenu.height+20>>0;this.addChild(this.mHtm);t=new ai;t.innerHTML=u.lang("jls_op_tip");t.pos(this.mWidth-t.width>>1,this.mHtm.y+48);this.addChild(t);this.mHeight=t.y+t.height+8>>0}r(e,"games.matchCores.panels.dzdp.bxJls.MpJls_OpView",n);var t=e.prototype;return i.imps(t,{"FioLibs.interfaces.IFio_DC":!0}),t.onClk=function(n){f.Match.sendJls(n.TmpData);a.StopInsOp(this.mMenu,2e3);a.StopInsOp(this.mMenuAsk,2e3)},t.onDisable=function(){a.StopInsOp(this.mMenu,0);a.StopInsOp(this.mMenuAsk,0)},t.DoReset=function(){this.stopDC();this.mDcBtn=null;this.mBtnA.disabled=!1;this.mHtm.removeSelf();this.mMenu.removeSelf();this.mMenuAsk.removeSelf()},t.Show=function(n,t){this.DoReset();var r=-1,i;switch(t){case 3:this.mBtnA.disabled=!0;case 1:i=this.mMenu;this.mDcBtn=this.mMenu.getBtn(2);break;case 2:r=2;i=this.mMenuAsk;this.mDcBtn=this.mMenuAsk.getBtn(1);break;default:r=t}i&&(this.mDcPre=i.TmpData,this.addChild(i));r>-1&&(this.mHtm.TmpData=r,this.addChild(this.mHtm));this.startCD(n)},t.updateDC=function(n){n<4&&et.shake();this.mDcBtn&&(this.mDcBtn.label=this.mDcPre+"("+n+"s)");this.mHtm.parent&&(this.mHtm.innerHTML=u.lang("jls_op_"+this.mHtm.TmpData,n),this.toXCenter(this.mHtm))},t.stopDC=function(){au.stop(this.mDelayIndex)},t.startCD=function(n){au.reStart(this.mDelayIndex,n)},e}(p),evt=function(n){function t(n){this.mT_Y=null;this.mT_M=null;t.__super.call(this);this.mouseEnabled=!0;this.mWidth=s.MAX_W;this.mHeight=76;this.graphics.drawRoundRect(24,this.mWidth,this.mHeight+60,"#dde4ee");var i=this.crtBtn(-100,16,n),r=i.width>>0;this.mT_Y=this.crtTxt(i.x+r,138);i=this.crtBtn(100,this.mT_Y.x+this.mT_Y.width>>0,n);i=this.crtBtn(1e3,this.mWidth-16-r,n);this.mT_M=this.crtTxt(i.x-78,78);i=this.crtBtn(-1e3,this.mT_M.x-r,n)}r(t,"FioLibs.displays.coms.extendComs.dates.Sub_DateYm",n);var i=t.prototype;return i.crtBtn=function(n,t,i){var r=k.crt_Btn(this,null,"mainUi/mtt_set_"+(n>0?"right":"left")+".png",t);return r.TmpData=n,r.setClick(i),r},i.crtTxt=function(n,t){var i=w.quickCreate(32,"#444444");return i.align="center",i.width=88,i.x=n,i.width=t,this.addChild(i),i},i.show=function(n,t){this.mT_Y.text=u.lang("comDate_y",n);this.mT_Y.TmpData=n;this.mT_Y.y=this.mHeight-this.mT_Y.height-4>>1;this.mT_M.text=u.lang("comDate_m",t);this.mT_M.TmpData=t;this.mT_M.y=this.mHeight-this.mT_M.height-4>>1},t}(p),wa=function(n){function t(){this.Vo=null;this.MaxVals=0;this.TotalVals=0;this.mTno=null;this.mTval=null;this.mBtnDel=null;this.mEdit=null;t.__super.call(this);this.mWidth=710;this.mHeight=56;this.Vo=new iu;this.mTno=w.quickCreate(26,"#b2d6fb");this.mTno.setVh(this.mHeight);this.mTno.text=u.lang("mttRwd_0");this.addChild(this.mTno);this.mTval=w.quickCreate(26,"#b2d6fb");this.mTval.setVh(this.mHeight);this.mTval.text=u.lang("null");this.addChild(this.mTval);this.mBtnDel=k.crt_Btn(null,null,"mainUi/coms_btn_close.png");this.mBtnDel.pos(this.mWidth-this.mBtnDel.width-28,this.mHeight-this.mBtnDel.height>>1);this.mBtnDel.on("click",this,this.toDel);this.mEdit=st.CrtEdit();this.mEdit.pos(this.mBtnDel.x-this.mEdit.width-12,this.mHeight-this.mEdit.height-6>>1);this.mEdit.mouseEnabled=!0;this.mEdit.on("click",this,this.openZdy);this.addChild(this.mEdit);this.MaxVals=this.TotalVals=0}r(t,"games.windows.matches.creators.mtt.rewards.MttRwd_2_Item",n);var f=t.prototype;return i.imps(f,{"FioLibs.interfaces.IFio_Recyle":!0}),f.toDel=function(){t.sCaller&&t.sCaller.runWith(this)},f.openZdy=function(){b.OpenWin(300,this.Vo,this.MaxVals,t.sCaller)},f.recyle=function(){this.removeSelf();this.mBtnDel.removeSelf();this.Vo.DoReset();this.MaxVals=this.TotalVals=0},f.update=function(n){this.mTno.text=""+this.Vo.order;this.mTno.x=96-.5*this.mTno.width>>0;n?!this.mBtnDel.parent&&this.addChild(this.mBtnDel):this.mBtnDel.removeSelf();this.TotalVals=this.Vo.getVals();this.mTval.text=this.Vo.getStr(!0);this.mTval.x=this.mEdit.x-this.mTval.width-12>>0},t.sCaller=null,t}(p),ovt=function(n){function t(n){var f;this.mVecIcons=null;t.__super.call(this);this.toSize(710,278);this.toXCenter();var s=72,h=u.obj(n?"settle_dz_best3X":"settle_mtt_best3X"),r=0,c=h.length,o=0,l=n?"mainUi/roomZ_":"mainUi/roomM_",e;for(this.mVecIcons=[],r;r<c;r++)o=h.shift(),e=i.loader.getRes(l+r+".png"),e&&this.graphics.drawImage(e,o-.5*e.width>>0,4),f=new hi(s,!0,8),f.setLabel("-",24,"#b2d6fb"),f.mLabel.y=86,f.pos(o-s*.5>>0,158),this.mVecIcons[r]=f}r(t,"games.windows.matches.settler.Settler_Best3",n);var f=t.prototype;return f.DoReset=function(){var n=0,t=this.mVecIcons.length;for(n;n<t;n++)this.mVecIcons[n].removeSelf()},f.ShowBest3=function(n){var t=0,f=n.length,u=this.mVecIcons.length,i,r;for(f>u&&(f=u),t;t<u;t++)r=n[t],r&&(i=this.mVecIcons[t],i.loadIcon(r.icon),i.setLabel(r.nick),this.addChild(i))},t}(p),svt=function(n){function t(n,i,r){var e,f;this.mInput=null;t.__super.call(this);this.mWidth=500;this.mHeight=54;e=w.quickCreate(30,"#3b4f62");e.text=u.lang(n+"_t");e.setVh(this.mHeight);this.addChild(e);f=156;this.graphics.drawRoundRect(10,this.mWidth-f,this.mHeight,"#c9d5e1",f);this.mInput=new ci;this.mInput.setVh(this.mHeight);this.mInput.fontSize=28;this.mInput.color=this.mInput.promptColor="#3b4f62";this.mInput.prompt=u.lang(n+"_p");this.mInput.width=this.mWidth-f-16;this.mInput.x=f+8;this.mInput.maxChars=i;r?(this.mInput.restrict="0-9",this.mInput.type=ci.T_NUMBER):(this.mInput.restrict="^< ",this.mInput.type="text");this.addChild(this.mInput)}r(t,"games.windows.me.bag.lq.BagGet_Item",n);var i=t.prototype;return i.Clear=function(){this.mInput.text=""},i.getValue=function(n){var t=this.mInput.text;return t||(t=null,n&&ut.showMessage(this.mInput.prompt,!1),this.mInput.focus=!0),t},t}(p),hvt=function(n){function t(){this.mHome=null;this.mActOk=!1;t.__super.call(this,10);this.mSCon.pushLineGap(2);this.mHome=new vb;this.mSCon.ItemAdd(this.mHome);this.mSCon.pushLineGap(24)}r(t,"games.scene.modules.notices.Scene_Notice",n);var i=t.prototype;return i.doSubStart=function(){this.getActConfig(ey.CFG)},i.doTabRequest=function(){return!1},i.getActConfig=function(n){var i=n?n.notice:null,r,t,u;if(i&&!this.mActOk&&(this.mActOk=!0,r=i.length,r>0))for(this.mSCon.ItemAdd(new ws("message_act",30)),t=0,t;t<r;t++)u=new bht,u.setData(i.shift()),this.mSCon.ItemAdd(u)},t}(hr),cvt=function(n){function t(){t.__super.call(this);this.mouseEnabled=!1;this.mWidth=710;this.toXCenter();var n=new g("center",!0);n.width=660;n.style.fontSize=30;n.style.color="#b2d6fb";n.style.leading=10;this.toXCenter(n);n.y=40;n.innerHTML=u.lang("accDel_Home_0");n._updateGraphic();this.addChild(n);this.mHeight=n.y+n.contextHeight+28>>0;this.graphics.drawRoundRect(20,this.mWidth,this.mHeight,"#386ebf40")}return r(t,"games.windows.accounts.accMgr.del.AccDel_Tips",n),t}(p),lvt=function(n){function i(){this.mIndex=0;this.mSID=0;this.mType=0;this.mIsVip=!1;this.mTab=null;this.mD_base=null;this.mD_jj=null;this.mNoVip=null;this.mViewBtn=null;i.__super.call(this);this.toSize(606,256);this.mTab=new rr(2);this.mTab.create(u.obj("pvp_data_tab"),520);this.mTab.setClick(h.create(this,this.onTab,null,!1));this.toXCenter(this.mTab);this.addChild(this.mTab);var n=92,t=this.mHeight-n;this.mD_base=new gd(this.mWidth,t,!0,"pvp_data_base");this.mD_base.y=n;this.mD_jj=new gd(this.mWidth,t,!1,"pvp_data_vip");this.mD_jj.y=n;this.initNoVip(n,t);f.Match.regist(474,this.getVip,this)}r(i,"games.matchCores.panels.lookPlayer.MpLkPlayer_Data",n);var t=i.prototype;return t.initNoVip=function(n,t){var f,r,i;this.mNoVip=new p;this.mNoVip.y=n;this.mNoVip.toSize(this.mWidth,t);f=new g("center");f.style.leading=12;f.innerHTML=u.lang("pvp_data_noVip");this.toXCenter(f);this.mNoVip.addChild(f);r=new fe(this.mWidth,"pvp_data_btns",h.create(this,this.onClk,null,!1),220);r.y=t-r.height-20>>0;this.toXCenter(r);this.mViewBtn=r.getBtn(1);i=new fi(0,6);i.AutoCx=!0;i.setFont("#ffffff",this.mViewBtn.mText.fontSize);i.showPre(this.mViewBtn.label,!1);i.pos(this.mViewBtn.width>>1,this.mViewBtn.height-i.height>>1);pe.regRes(4,i);this.mViewBtn.label="";this.mViewBtn.addChild(i);this.mNoVip.addChild(r)},t.DoReset=function(){this.clearIns();this.mD_base.recyle();this.mD_jj.recyle();this.mD_jj.TmpData=0;this.mIsVip=!1;this.mType=-1;this.mIndex=this.mSID=0},t.clearIns=function(){this.mD_base.removeSelf();this.mD_jj.removeSelf();this.mNoVip.removeSelf()},t.setBase=function(n,t,i,r){this.mSID=n;this.mIndex=t;this.mIsVip=i>0;this.mD_base.setBase(r);this.mD_jj.setBase(r);this.Start(null)},t.Start=function(n){this.mTab.select(0);this.mD_base.setVo(n)},t.getVip=function(n){this.parent&&(this.mD_jj.TmpData=1,this.mD_jj.setVo(n),2==this.mType&&(this.mNoVip.removeSelf(),this.addChild(this.mD_jj)))},t.onTab=function(n){if(this.mType!=n){this.mType=n;this.clearIns();switch(n){case 1:this.addChild(this.mD_base);break;case 2:if(1==this.mD_jj.TmpData)this.addChild(this.mD_jj);else if(this.mIsVip)this.onClk(null);else this.addChild(this.mNoVip)}}},t.onClk=function(n){var t=1;n&&(t=n.TmpData);switch(t){case 1:a.StopInsOp(this.mViewBtn,3e3);f.Match.reqViewVip(this.mIndex);break;case 2:b.OpenWin(171,3)}},i}(p),avt=function(n){function i(){this.mView=null;this.mDs=null;this.mSaveCookie=null;this.mCookie=null;i.__super.call(this);this.mHeight=s.MAX_H;this.addChild(new dw);this.mView=new tat(h.create(this,this.onClkBtn,null,!1));this.mView.y=rt.toRealY(330);this.mView.I_Psw.iInput.on("enter",this,this.onEnter);this.addChild(this.mView);this.mDs=f.Login;this.mSaveCookie=new nu("saveSelect");this.mCookie=this.mSaveCookie.getCookie();this.mCookie||this.mSaveCookie.Save(this.mCookie={})}r(i,"games.windows.accounts.login.GameLogin",n);var t=i.prototype;return t.start=function(n){var i,r,t;this.parent||tu.Add(this);this.mView.I_User.updateCountry(this.mDs.CurAcc.country);i=this.mView.I_User.getValue();!i&&this.mDs.CurAcc.user&&this.mView.I_User.setValue(this.mDs.CurAcc.user);r=this.mView.I_Psw.getValue();r||(t=this.mDs.CurAcc.key,t?this.mView.I_Psw.setValue(t):(n=!1,this.mView.Radio.selected=!1));n&&(this.mCookie[this.mDs.CurAcc.user]==!0&&(this.mView.Radio.selected=!0),this.checkSendLogin(!0))},t.stop=function(){this.removeSelf()},t.onDisable=function(){this.mView.Radio.selected=!1},t.clearPsw=function(){this.mView.I_User.setValue("");this.mView.I_Psw.setValue("")},t.saveSelect=function(){this.mCookie[this.mDs.CurAcc.user]=!0;this.mSaveCookie.Save(this.mCookie)},t.onClkBtn=function(n){var t=n.TmpData;switch(t){case 11:this.checkSendLogin();break;case 12:b.OpenWin(181,!0,null,this.mView.I_User.getCountry());break;case 21:rt.IS_LR=!0;b.OpenWin(181,!1,this.mView.I_User.getValue(!1),this.mView.I_User.getCountry())}},t.onEnter=function(){this.checkSendLogin()},t.checkSendLogin=function(n){var t,i;(n===void 0&&(n=!1),t=this.mView.I_User.getValue(!n),t)&&(i=this.mView.I_Psw.getValue(!n),i)&&(this.mView.Radio.selected?this.mDs.reqLogin(this.mView.I_User.getCountry(),t,i):pt.Alert(u.lang("login_mzsm_0"),this,u.obj("login_mzsm_1"),[this.onReaded,null]))},t.onReaded=function(){this.mView.Radio.selected=!0;this.checkSendLogin()},i}(p),vvt=function(n){function t(){this.CID=0;this.mHtm=null;t.__super.call(this);this.mWidth=710;this.mHeight=64;this.mouseEnabled=!0;this.mHtm=new g;this.mHtm.mouseEnabled=!1;this.mHtm.lineHeight=this.mHeight;this.mHtm.x=64;this.mHtm.style.fontSize=28;this.mHtm.style.color="#b2d6fb";this.mHtm.style.leading=0;this.addChild(this.mHtm)}r(t,"games.windows.matches.creators.utils.CrtMatch_Ticket",n);var f=t.prototype;return i.imps(f,{"FioLibs.interfaces.IFio_Recyle":!0}),f.recyle=function(){this.removeSelf();this.CID=0;this.TmpData=null},f.setVo=function(n,t){t===void 0&&(t=1);n?(this.CID=n.id,this.mHtm.innerHTML=this.TmpData=u.lang("mttBmzg_ticket",n.name,a.NumToStr(n.getVal(t)),u.lang("resType_"+t))):(this.CID=0,this.mHtm.innerHTML=this.TmpData=u.StrNull)},t}(p),yvt=function(n){function t(){this.mTip=null;this.mSlider=null;this.mMin=0;this.mMax=0;t.__super.call(this);this.toSize(500,8);var n=u.obj("clubST_jp_22");this.mMin=n[0]||10;this.mMax=n[n.length-1]||20;this.mTip=new g;this.mTip.style.fontSize=28;this.mTip.style.leading=8;this.mTip.style.align="center";this.mTip.style.color="#40608e";this.mTip.innerHTML=u.lang("clubST_jp_21",0);this.mTip.mouseEnabled=!1;this.mTip.y=this.mHeight;this.addChild(this.mTip);this.mHeight+=this.mTip.contextHeight+12>>0;this.mSlider=new ps(this.mWidth,h.create(this,this.update,null,!1));this.mSlider.Slider.setIntervals(n);this.mSlider.Slider.showInterval(!0,!0);this.mSlider.y=this.mHeight;this.addChild(this.mSlider);this.mHeight+=this.mSlider.height+12}r(t,"games.windows._club.setting.jp.JpSub_Rc",n);var i=t.prototype;return i.show=function(n){n<this.mMin?n=this.mMin:n>this.mMax&&(n=this.mMax);this.mSlider.Slider.setSelect(n-this.mMin);pt.Alert(this,this,null,[this.doSend,null],u.lang("clubST_jp_20"))},i.doSend=function(){f.Club.reqRc(this.mSlider.Slider.getValue())},i.update=function(){this.mTip.innerHTML=u.lang("clubST_jp_21",this.mSlider.Slider.getValue());this.toXCenter(this.mTip)},t}(p),tk=function(n){function t(n,i){n===void 0&&(n=256);i===void 0&&(i=256);t.__super.call(this);this.mouseEnabled=!1;this.size(this.mWidth=n,this.mHeight=i)}r(t,"games.UD_Displays.views.UD_QR",n);var i=t.prototype;return i.Show=function(n){c.window.createQr(n,this,this.drawQRCode)},i.drawQRCode=function(n){this.loadImage(n)},t}(p),ba=function(n){function t(n){this.mR_Gold=null;this.mR_Daim=null;this.mR_Score=null;this.mR_Vip=null;this.mBtnHelp=null;t.__super.call(this);this.mWidth=710;this.mHeight=212;this.toXCenter();var f=70,e=72,o=71,s=79,u=null,i="#e5ba73",r="#b2d6fb";n||(f=110,e=111,o=112,s=119,u="#2cad71",i="#ffffff",r="#b9fdd9");u&&this.graphics.drawRoundRect(20,this.mWidth,this.mHeight,u);this.addChild(this.mR_Gold=new ic(f,1,i,r));this.addChild(this.mR_Daim=new ic(e,2,i,r));this.addChild(this.mR_Score=new ic(o,4,i,r));this.addChild(this.mR_Vip=new ic(s,3,i,r));this.mR_Gold.pos(72,24).mouseEnabled=n;this.mR_Daim.pos(242,24).mouseEnabled=n;this.mR_Score.pos(412,24).mouseEnabled=n;this.mR_Vip.pos(580,24).mouseEnabled=n;this.mBtnHelp=new ve(null,"2");this.mBtnHelp.pos(this.mR_Score.x+this.mR_Score.width+(n?4:-4)>>0,this.mR_Score.y);this.addChild(this.mBtnHelp)}r(t,"games.UD_Displays.res.mainRes.UD_MyMainRes",n);var i=t.prototype;return i.onEnable=function(){f.Account.regist(200,this.updateRes,this);f.Account.regist(201,this.updateRes,this);this.updateRes()},i.onDisable=function(){f.Account.remove(200,this.updateRes,this);f.Account.remove(201,this.updateRes,this)},i.updateRes=function(){var n=f.Account.Detail;this.mR_Gold.showValue(n.Gold);this.mR_Daim.showValue(n.Diamond);this.mR_Score.showValue(a.toFixed(n.Score+n.BScore,2));this.mR_Vip.showVip(n.Vip,n.VipTimeOut);this.mBtnHelp.setTips(u.lang("resScore_Tip",a.NumToStr(n.Score),a.NumToStr(n.BScore)))},t}(p),pvt=function(n){function t(){this.mTe=0;this.mTnow=0;t.__super.call(this);this.mouseEnabled=!1;var n=78;this.toSize(n,n);this.graphics.drawRoundRect(8,n,n,"#00000088");this.graphics.fillText("",n>>1,.5*n-12>>0,24,"#b2d6fb","center")}r(t,"games.matchCores.desk.role.DmRole_Off",n);var i=t.prototype;return i.showOffCD=function(n){this.mTnow=this.mTe=0;n>0?(this.mTnow=c.nowSeconds(),this.mTe=this.mTnow+n,this.graphics.replaceText(n+"S")):this.removeSelf()},i.render=function(n,t,i){var r,u;this.mTe>0&&(r=c.nowSeconds(),r!=this.mTnow&&(u=this.mTe-this.mTnow,this.mTnow=r,u>-1?this.graphics.replaceText(u+"S"):(this.mTe=0,this.callLater(this.removeSelf))));laya.display.Sprite.prototype.render.call(this,n,t,i)},t}(p),wvt=function(n){function t(){if(this.LINE_GAP=8,this.mArrow=null,this.mHandle=null,this.mCallback=null,this.mWidth=0,this.mHeight=0,this.mVecItems=null,t.__super.call(this),t.s_locked)throw Error("✖  [ERROR] FioPopMenuMgr只能通过.ins方法获取实例");hd.S_Handler=h.create(this,this.onClickItem,null,!1);this.mVecItems=[];this.mArrow=new s;this.mArrow.mouseEnabled=!1;this.mArrow.loadImage("mainUi/icon_arrow_up.png");this.mArrow.pivotX=this.mArrow.width>>1;this.mArrow.y=-this.mArrow.height>>0;this.addChild(this.mArrow)}r(t,"FioLibs.displays.coms.extendComs.menus.popIconMenu.FioPopMenuMgr",n);var i=t.prototype;return i.doSubClose=function(){for(this.graphics.clear(),this.mWidth=0,this.mHeight=this.LINE_GAP,this.mCallback&&this.mCallback.recover(),this.mCallback=null;this.mVecItems.length>0;)l.recyle(this.mVecItems.shift())},i.showMenus=function(n,t,i,r,u){var s,f,e,h,o;if(this.Close(),n&&(this.mCallback&&this.mCallback.recover(),this.mCallback=t,s=n.length,s)){for(e=0,o=0,e;e<s;e++)h=n[e],h&&(f=this.mVecItems[e]=l.get(hd),f.label=h.label,f.autoWidth(),f.TmpData=h,f.pos(this.LINE_GAP,this.mHeight),this.addChild(f),o=Math.max(o,f.width),this.mHeight+=60);o=o+1>>0;s=this.mVecItems.length;this.mWidth=o+this.LINE_GAP+this.LINE_GAP;this.mHeight+=0==s?this.LINE_GAP:4;this.graphics.drawRoundRect(8,this.mWidth,this.mHeight,"#305278",0,0,"#233a5b");this.y=r;this.reCoordX(i,u);tu.Add(this)}},i.reCoordX=function(n,t){n+this.mWidth>=s.MAX_W-16?(this.mArrow.x=this.mWidth-.5*t>>0,this.x=n+t-this.mWidth>>0):(this.mArrow.x=t>>1,this.x=n>>0);this.mMasker.pos(-this.x,-this.y)},i.onClickItem=function(n){this.mCallback&&this.mCallback.runWith(n);this.Close()},e(1,t,"ins",function(){return t.s_Ins||(t.s_locked=!1,t.s_Ins=new t,t.s_locked=!0),t.s_Ins},FioLibs.displays.ClickArea._$SET_ins),t.s_locked=!0,t.s_Ins=null,t}(yht),g=function(n){function t(n,i){n===void 0&&(n="left");i===void 0&&(i=!1);t.__super.call(this);this.style.color="#c3e1e8";this.style.align=n;this.style.leading=s.LEADING_SIZE;this.style.wordWrap=i}r(t,"games.UD_Displays.UD_Html",n);var i=t.prototype;return e(0,i,"lineHeight",null,function(n){(wr.IsApp||c.onMobile)&&(n-=4);n<0&&(n=0);this.style.lineHeight=n}),t}(ue),ik=function(n){function i(){this.mPre=null;this.mIsDc=!1;this.mTs=0;this.mTnows=0;this.mAtype=0;this.mXc=0;i.__super.call(this);this.mPre="";this.leading=2;this.mTnows=0;this.mAtype=this.mXc=0}r(i,"games.UD_Displays.UD_DcText",n);var t=i.prototype;return t.setPos=function(n,t){this.mXc=n;this.mAtype=t},t.setPre=function(n){this.mPre=n||""},t.stop=function(n){n===void 0&&(n=!0);this.mTnows=0;n&&(this.text="")},t.start=function(n,t){(this.stop(),n<1)||(this.mIsDc=t,this.mTnows=c.nowSeconds(),this.mTs=this.mIsDc?this.mTnows+n:this.mTnows-n,this.update(this.mTnows))},t.render=function(n,t,i){if(this.mTnows>0){var r=c.nowSeconds();r!=this.mTnows&&this.update(this.mTnows=r)}laya.display.Sprite.prototype.render.call(this,n,t,i)},t.update=function(n){var t=0;this.mIsDc?(t=this.mTs-n,t<0?(t=0,this.mTnows=0,this.text=""):this.text=this.mPre+a.FormatTime4(t)):(t=n-this.mTs,t<0&&(t=0),this.text=this.mPre+a.FormatTime4(t));1==this.mAtype?this.x=this.mXc-.5*this.textWidth>>0:2==this.mAtype&&(this.x=this.mXc-this.textWidth>>0)},i}(w),ci=function(n){function t(){this._focus=!1;this._multiline=!1;this._editable=!0;this._restrictPattern=null;this.mRegStr=null;this._maxChars=99999999;this._type="text";this._prompt="";this._content="";this._isPsw=!1;this.offY=0;this.ReturnKeyType=9;this.setPadding=null;t.__super.call(this);this._promptColor="#52777e";this._originColor="#c3e1e8";this.mouseEnabled=!0;this._width=100;this._height=20;this.multiline=!1;this.overflow="scroll";this._type="text";this.on("mousedown",this,this._onMouseDown);this.on("undisplay",this,this._onUnDisplay)}r(t,"laya.display.Input",n);var u=t.prototype;return u.setSelection=function(n,t){this.focus=!0;laya.display.Input.inputElement.selectionStart=n;laya.display.Input.inputElement.selectionEnd=t},u._onUnDisplay=function(){this.focus=!1},u._onMouseDown=function(){this.focus=!0},u._syncInputTransform=function(){var r=this.nativeInput,n=bt.getTransformRelativeToWindow(this,this.padding[3],this.padding[0]),f=this._width-this.padding[1]-this.padding[3]>>0,e=this._height-this.padding[0]-this.padding[2]>>0,u;tt.isConchApp?(r.setScale(n.scaleX,n.scaleY),r.setSize(f,e),c.onIOS&&this._isPsw?r.setPos(s.MAX_W+1280,n.y>>0):r.setPos(n.x>>0,n.y+this.offY>>0)):(t.inputContainer.style.transform=t.inputContainer.style.webkitTransform="scale("+n.scaleX+","+n.scaleY+") rotate("+i.stage.canvasDegree+"deg)",r.style.width=f+"px",r.style.height=e+"px",u=this.fontSize>32?this.fontSize-32:0,t.inputContainer.style.left=(n.x+n.scaleX*u>>0)+"px",t.inputContainer.style.top=(n.y-n.scaleY*u>>0)+"px")},u.select=function(){this.nativeInput.select()},u._setInputMethod=function(){t.jsInput.parentElement&&t.inputContainer.removeChild(t.jsInput);t.jsArea.parentElement&&t.inputContainer.removeChild(t.jsArea);t.inputElement=this._multiline?t.jsArea:t.jsInput;t.inputContainer.appendChild(t.inputElement);w.RightToLeft&&(t.inputElement.style.direction="rtl")},u._focusIn=function(){var n,t,r,u;laya.display.Input.isInputting=!0;n=this.nativeInput;this._focus=!0;t=n.style;t.whiteSpace=this.wordWrap?"pre-wrap":"nowrap";this._setPromptColor();n.readOnly=!this._editable;tt.isConchApp&&(n.setType(this._type),n.setForbidEdit(!this._editable),n.setKeyboardType&&(this._type=="number"?n.setKeyboardType(4):this._type=="password"?n.setKeyboardType(1):n.setKeyboardType(0)),n.setReturnKeyType&&n.setReturnKeyType(this.ReturnKeyType),n.setPrompt&&n.setPrompt(this._prompt),n.setRegular&&n.setRegular("["+(this.mRegStr||"")+"]+"),n.setPadding&&(this.setPadding?n.setPadding(this.setPadding[0],this.setPadding[1],this.setPadding[2],this.setPadding[3]):n.setPadding(0,0,0,0)));n.maxLength=this._maxChars;r=this._type;c.onAndroid&&(this._isPsw?(r="url",t["text-security"]="disc",t["-webkit-text-security"]="disc",t["-mox-text-security"]="disc"):(t["text-security"]="none",t["-webkit-text-security"]="none",t["-mox-text-security"]="none"));n.type=r;n.value=this._content;n.placeholder=this._prompt;i.stage.off("keydown",this,this._onKeyDown);i.stage.on("keydown",this,this._onKeyDown);i.stage.focus=this;this.event("focus");c.onPC&&n.focus();c.onMiniGame||c.onBDMiniGame||c.onQGMiniGame||c.onKGMiniGame||(tt.isConchApp&&c.onIOS&&this._isPsw?1:(u=this._text,this._text=null));this.typeset();n.setColor(this._originColor);n.setFontSize(this.fontSize);n.setFontFace(c.onIPhone?w.fontFamilyMap[this.font]||this.font:this.font);tt.isConchApp&&n.setMultiAble&&n.setMultiAble(this._multiline);t.lineHeight=this.leading+this.fontSize+"px";t.fontStyle=this.italic?"italic":"normal";t.fontWeight=this.bold?"bold":"normal";t.textAlign=this.align;t.padding="0 0";this._syncInputTransform();!tt.isConchApp&&c.onPC&&i.systemTimer.frameLoop(1,this,this._syncInputTransform);tt.isConchApp&&c.onIOS&&i.systemTimer.frameOnce(2,this,this._syncInputTransform)},u._setPromptColor=function(){t.promptStyleDOM=c.getElementById("promptStyle");t.promptStyleDOM||(t.promptStyleDOM=c.createElement("style"),t.promptStyleDOM.setAttribute("id","promptStyle"),c.document.head.appendChild(t.promptStyleDOM));t.promptStyleDOM.innerText="input::-webkit-input-placeholder, textarea::-webkit-input-placeholder {color:"+this._promptColor+"}input:-moz-placeholder, textarea:-moz-placeholder {color:"+this._promptColor+"}input::-moz-placeholder, textarea::-moz-placeholder {color:"+this._promptColor+"}input:-ms-input-placeholder, textarea:-ms-input-placeholder {color:"+this._promptColor+"}"},u._focusOut=function(){this.nativeInput.target=null;this.nativeInput.blur();laya.display.Input.isInputting=!1;this._focus=!1;this._text=null;this._content=this.nativeInput.value;this._content?(i.superSet(w,this,"text",this._content),i.superSet(w,this,"color",this._originColor)):(i.superSet(w,this,"text",this._prompt),i.superSet(w,this,"color",this._promptColor));i.stage.off("keydown",this,this._onKeyDown);i.stage.focus=null;this.event("blur");this.event("change");tt.isConchApp&&this.nativeInput.blur();c.onPC&&i.systemTimer.clear(this,this._syncInputTransform)},u._onKeyDown=function(n){n.keyCode===13&&(c.onMobile&&!this._multiline&&(this.focus=!1),this.event("enter"))},u.changeText=function(t){this._content=t;this._focus?(this.nativeInput.value=t||"",this.event("change")):n.prototype.changeText.call(this,t)},e(0,u,"color",n.prototype._$get_color,function(n){this._focus&&this.nativeInput.setColor(n);i.superSet(w,this,"color",this._content?n:this._promptColor);this._originColor=n}),e(0,u,"multiline",function(){return this._multiline},function(n){this._multiline=n;this.valign=n?"top":"middle"}),e(0,u,"maxChars",function(){return this._maxChars},function(n){n<=0&&(n=99999999);this._maxChars=n}),e(0,u,"text",function(){return this._focus?this.nativeInput.value:this._content||""},function(n){i.superSet(w,this,"color",this._originColor);n+="";this._multiline||(n=n.replace(/\r?\n/g,""));this._content=n;n?i.superSet(w,this,"text",n):(i.superSet(w,this,"text",this._prompt),i.superSet(w,this,"color",this.promptColor));this._focus&&(this.nativeInput.value=n||"",this.event("change"))}),e(0,u,"nativeInput",function(){return this._multiline?t.jsArea:t.jsInput}),e(0,u,"focus",function(){return this._focus},function(n){var i=this.nativeInput;this._focus!==n&&(n?(i.target?i.target._focusOut():this._setInputMethod(),i.target=this,this._focusIn()):(i.target=null,this._focusOut(),c.document.body.scrollTop=0,i.blur(),tt.isConchApp?i.setPos(-1e4,-1e4):t.inputContainer.contains(i)&&t.inputContainer.removeChild(i)))}),e(0,u,"editable",function(){return this._editable},function(n){this._editable=n;tt.isConchApp&&t.jsInput.setForbidEdit(!n)}),e(0,u,"bgColor",n.prototype._$get_bgColor,function(n){i.superSet(w,this,"bgColor",n);tt.isConchApp&&this.nativeInput.setBgColor(n)}),e(0,u,"restrict",function(){return this._restrictPattern?this._restrictPattern.source:""},function(n){n?(this.mRegStr=n,n="[^"+n+"]",n.indexOf("^^")>-1&&(n=n.replace("^^","")),this._restrictPattern=new RegExp(n,"g")):(this.mRegStr=null,this._restrictPattern=null)}),e(0,u,"prompt",function(){return this._prompt},function(n){!this._text&&n&&i.superSet(w,this,"color",this._promptColor);this.promptColor=this._promptColor;this._text?i.superSet(w,this,"text",this._text==this._prompt?n:this._text):i.superSet(w,this,"text",n);this._prompt=w.langPacks&&w.langPacks[n]?w.langPacks[n]:n}),e(0,u,"promptColor",function(){return this._promptColor},function(n){this._promptColor=n;this._content||i.superSet(w,this,"color",n)}),e(0,u,"type",function(){return this._type},function(n){n==="password"?(this._getTextStyle().asPassword=this._isPsw=!0,c.onAndroid&&(this.mRegStr="-_a-zA-Z0-9")):this._getTextStyle().asPassword=this._isPsw=!1;this._type=n}),t.__init__=function(){if(t._createInputElement(),c.onMobile){var n=!1;(c.onMiniGame||c.onBDMiniGame||c.onQGMiniGame||c.onKGMiniGame)&&(n=!0);tt.canvas.addEventListener(t.IOS_IFRAME?n?"touchend":"click":"touchend",t._popupInputMethod)}c.onAndroid&&c.window.addEventListener("resize",function(){var n=c.document.activeElement;(t.jsInput==n||t.jsArea==n)&&c.window.setTimeout(function(){c.document.activeElement.scrollIntoViewIfNeeded()},10)})},t._popupInputMethod=function(){if(laya.display.Input.isInputting){var n=laya.display.Input.inputElement;n.focus()}},t._createInputElement=function(){t._initInput(t.jsArea=c.createElement("textarea"));t._initInput(t.jsInput=c.createElement("input"));t.inputContainer=c.createElement("div");t.inputContainer.id="inputContainer";t.inputContainer.style.position="absolute";t.inputContainer.style.zIndex=1e5;c.container.appendChild(t.inputContainer);t.inputContainer.setPos=function(n,i){t.inputContainer.style.left=n+"px";t.inputContainer.style.top=i+"px"}},t._initInput=function(n){var i=n.style;i.cssText="position:absolute;overflow:hidden;resize:none;transform-origin:0 0;-webkit-transform-origin:0 0;-moz-transform-origin:0 0;-o-transform-origin:0 0;";i.resize="none";i.backgroundColor="transparent";i.border="none";i.outline="none";i.zIndex=100009;n.addEventListener("input",t._processInputting);n.addEventListener("enter",t._conchEnter);n.addEventListener("enterOut",t._conchEnterOut);n.addEventListener("mousemove",t._stopEvent);n.addEventListener("mousedown",t._stopEvent);n.addEventListener("touchmove",t._stopEvent);n.setFontFace=function(t){n.style.fontFamily=t};tt.isConchApp||(n.setColor=function(t){n.style.color=t},n.setFontSize=function(t){n.style.fontSize=t+"px"})},t._processInputting=function(n){var t=laya.display.Input.inputElement.target,r,i;t&&(r=n.currentTarget,i=laya.display.Input.inputElement.value,t._restrictPattern&&(i=i.replace(/\u2006|\x27/g,""),t._restrictPattern.test(i)&&(i=i.replace(t._restrictPattern,""),laya.display.Input.inputElement.value=i)),tt.isConchApp?t.text=i:(t._text=i,tt.isConchApp&&c.onIOS&&t._isPsw&&t.typeset()),t.event("input",t))},t._conchEnter=function(){var n=laya.display.Input.inputElement.target;n&&(n.event("enter"),n._focusOut())},t._conchEnterOut=function(){var n=laya.display.Input.inputElement.target;n&&n._focusOut()},t._stopEvent=function(n){n.type=="touchmove"&&n.preventDefault();n.stopPropagation&&n.stopPropagation()},t.TYPE_TEXT="text",t.TYPE_PASSWORD="password",t.TYPE_EMAIL="email",t.TYPE_URL="url",t.TYPE_NUMBER="number",t.TYPE_RANGE="range",t.TYPE_DATE="date",t.TYPE_MONTH="month",t.TYPE_WEEK="week",t.TYPE_TIME="time",t.TYPE_DATE_TIME="datetime",t.TYPE_DATE_TIME_LOCAL="datetime-local",t.TYPE_SEARCH="search",t.jsInput=null,t.jsArea=null,t.inputElement=null,t.inputContainer=null,t.confirmButton=null,t.promptStyleDOM=null,t.inputHeight=45,t.isInputting=!1,t.stageMatrix=null,d(t,["Y_MIN",function(){return this.Y_MIN=s.MAX_H*.42>>0},"T_NUMBER",function(){return this.T_NUMBER=tt.isConchApp?"number":"tel"},"IOS_IFRAME",function(){return this.IOS_IFRAME=c.onIOS&&c.window.top!=c.window.self}]),t}(w),bvt=function(n){function i(){this._targetDic=null;this._animationData=null;this._usedFrames=null;i.__super.call(this);i._sortIndexFun===null&&(i._sortIndexFun=nr.sortByKey("index",!1,!0))}r(i,"laya.display.FrameAnimation",n);var t=i.prototype;return t._setUp=function(n,t){this._targetDic=n;this._animationData=t;this.interval=1e3/t.frameRate;t.parsed?(this._count=t.count,this._labels=t.labels,this._usedFrames=t.animationNewFrames):(this._usedFrames=[],this._calculateDatas(),t.parsed=!0,t.labels=this._labels,t.count=this._count,t.animationNewFrames=this._usedFrames)},t.clear=function(){return n.prototype.clear.call(this),this._targetDic=null,this._animationData=null,this},t._displayToIndex=function(n){if(this._animationData){n<0&&(n=0);n>this._count&&(n=this._count);for(var i=this._animationData.nodes,t=0,r=i.length,t=0;t<r;t++)this._displayNodeToFrame(i[t],n)}},t._displayNodeToFrame=function(n,t,i){var f,s,h;if(i||(i=this._targetDic),f=i[n.target],f){for(var c=n.frames,u,e,l,a=n.keys,r=0,o=a.length,r=0;r<o;r++)u=a[r],e=c[u],l=e.length>t?e[t]:e[e.length-1],f[u]=l;if(s=n.funkeys,o=s.length,o!=0)for(r=0;r<o;r++)u=s[r],h=c[u],h[t]!==undefined&&f[u]&&f[u].apply(f,h[t])}},t._calculateDatas=function(){if(this._animationData){var t=this._animationData.nodes,n=0,r=t.length,i;for(this._count=0,n=0;n<r;n++)i=t[n],this._calculateKeyFrames(i);this._count+=1}},t._calculateKeyFrames=function(n){var s=n.keyframes,t,r,e=n.target,o,h,f,u;n.frames||(n.frames={});n.keys?n.keys.length=0:n.keys=[];n.funkeys?n.funkeys.length=0:n.funkeys=[];n.initValues||(n.initValues={});for(t in s)if(o=t.indexOf("()")!=-1,r=s[t],o&&(t=t.substr(0,t.length-2)),n.frames[t]||(n.frames[t]=[]),o)for(n.funkeys.push(t),h=n.frames[t],f=0;f<r.length;f++)u=r[f],h[u.index]=u.value,u.index>this._count&&(this._count=u.index);else this._targetDic&&this._targetDic[e]&&(n.initValues[t]=this._targetDic[e][t]),r.sort(i._sortIndexFun),n.keys.push(t),this._calculateNodePropFrames(r,n.frames[t],t,e)},t.resetNodes=function(){var r,u;if(this._targetDic&&this._animationData)for(var f=this._animationData.nodes,n=0,e=f.length,i,t,n=0;n<e;n++)if((i=f[n],t=i.initValues,t)&&(r=this._targetDic[i.target],r))for(u in t)r[u]=t[u]},t._calculateNodePropFrames=function(n,t){var i=0,r=n.length-1;for(t.length=n[r].index+1,i=0;i<r;i++)this._dealKeyFrame(n[i]),this._calculateFrameValues(n[i],n[i+1],t);r==0&&(t[0]=n[0].value,this._usedFrames&&(this._usedFrames[n[0].index]=!0));this._dealKeyFrame(n[i])},t._dealKeyFrame=function(n){n.label&&n.label!=""&&this.addLabel(n.label,n.index)},t._calculateFrameValues=function(n,t,i){var r=0,e,o=n.index,u=t.index,s=n.value,h=t.value-n.value,c=u-o,f=this._usedFrames;if(u>this._count&&(this._count=u),n.tween)for(e=nf[n.tweenMethod],e==null&&(e=nf.linearNone),r=o;r<u;r++)i[r]=e(r-o,s,h,c),f&&(f[r]=!0);else for(r=o;r<u;r++)i[r]=s;f&&(f[n.index]=!0,f[t.index]=!0);i[t.index]=t.value},i._sortIndexFun=null,i}(dht),fo=function(n){function t(n,i,r,u,f){var o,e,s;if(n===void 0&&(n=0),i===void 0&&(i=0),r===void 0&&(r=1),u===void 0&&(u=!0),f===void 0&&(f=!1),t.__super.call(this,r,u),this._glTextureType=3553,this._width=n,this._height=i,this._canRead=f,this._setWarpMode(10242,this._wrapModeU),this._setWarpMode(10243,this._wrapModeV),this._setFilterMode(this._filterMode),this._setAnisotropy(this._anisoLevel),this._mipmapCount=1,o=n*i*4,this._mipmap){for(this._mipmapCount=0,e=n,s=i;e>0;)this._setPixels(null,this._mipmapCount,Math.max(e,1),Math.max(s,1)),e=e>>1,s=s>>1,this._mipmapCount+=1;o=o*(1+1/3)}this._setGPUMemory(o)}r(t,"laya.resource.Texture2D",n);var u=t.prototype;return u._getFormatByteCount=function(){switch(this._format){case 0:return 3;case 1:return 4;case 2:return 1;default:throw"Texture2D: unknown format.";}},u._setPixels=function(n,t,i,r){var u=yt.instance,e=this._glTextureType,f=this._getGLFormat();lt.bindTexture(u,e,this._glTexture);this.format===0?(u.pixelStorei(3317,1),u.texImage2D(e,t,f,i,r,0,f,5121,n),u.pixelStorei(3317,4)):u.texImage2D(e,t,f,i,r,0,f,5121,n)},u._calcualatesCompressedDataSize=function(n,t,i){switch(n){case 3:case 5:return(t+3>>2)*(i+3>>2)*8;case 4:return(t+3>>2)*(i+3>>2)*16;case 11:case 12:return Math.floor((Math.max(t,8)*Math.max(i,8)*4+7)/8);case 9:case 10:return Math.floor((Math.max(t,16)*Math.max(i,8)*2+7)/8);default:return 0}},u._pharseDDS=function(n){var t=new Int32Array(n,0,31),i,r,u,f,e;if(t[0]!=542327876)throw"Invalid magic number in DDS header";if(!(t[20]&4))throw"Unsupported format, must contain a FourCC code";i=t[21];switch(this._format){case 3:if(i!==827611204)throw"the FourCC code is not same with texture format.";break;case 4:if(i!==894720068)throw"the FourCC code is not same with texture format.";break;default:throw"unknown texture format.";}if(r=1,t[2]&131072){if(r=Math.max(1,t[7]),!this._mipmap)throw"the mipmap is not same with Texture2D.";}else if(this._mipmap)throw"the mipmap is not same with Texture2D.";u=t[4];f=t[3];this._width=u;this._height=f;e=t[1]+4;this._upLoadCompressedTexImage2D(n,u,f,r,e,0)},u._pharseKTX=function(n){var t=new Uint8Array(n,0,12),i,r,e;if(t[0]!=171||t[1]!=75||t[2]!=84||t[3]!=88||t[4]!=32||t[5]!=49||t[6]!=49||t[7]!=187||t[8]!=13||t[9]!=10||t[10]!=26||t[11]!=10)throw"Invalid fileIdentifier in KTX header";i=new Int32Array(t.buffer,t.length,13);r=i[4];switch(r){case lt._compressedTextureEtc1.COMPRESSED_RGB_ETC1_WEBGL:this._format=5;break;default:throw"unknown texture format.";}var o=i[11],u=i[6],f=i[7];this._width=u;this._height=f;e=64+i[12];this._upLoadCompressedTexImage2D(n,u,f,o,e,4)},u._pharsePVR=function(n){var t=new Int32Array(n,0,13),i,f;if(t[0]!=55727696)throw"Invalid magic number in PVR header";i=t[2];switch(i){case 0:this._format=9;break;case 2:this._format=11;break;case 1:this._format=10;break;case 3:this._format=12;break;default:throw"Texture2D:unknown PVR format.";}var e=t[11],r=t[7],u=t[6];this._width=r;this._height=u;f=t[12]+52;this._upLoadCompressedTexImage2D(n,r,u,e,f,0)},u._upLoadCompressedTexImage2D=function(n,t,i,r,u,f){var h=yt.instance,c=this._glTextureType,l,e,o,s,a,v;for(lt.bindTexture(h,c,this._glTexture),l=this._getGLFormat(),e=u,o=0;o<r;o++)e+=f,s=this._calcualatesCompressedDataSize(this._format,t,i),a=new Uint8Array(n,e,s),h.compressedTexImage2D(c,o,l,t,i,0,a),t=Math.max(t>>1,1),i=Math.max(i>>1,1),e+=s;v=e;this._setGPUMemory(v);this._readyed=!0;this._activeResource()},u.loadImageSource=function(n,t){var i,r,u,f;t===void 0&&(t=!1);i=n.width;r=n.height;this._width=i;this._height=r;this._isPot(i)&&this._isPot(r)||(this._mipmap=!1);this._setWarpMode(10242,this._wrapModeU);this._setWarpMode(10243,this._wrapModeV);this._setFilterMode(this._filterMode);u=yt.instance;lt.bindTexture(u,this._glTextureType,this._glTexture);f=this._getGLFormat();tt.isConchApp?n instanceof laya.resource.HTMLCanvas?u.texImage2D(this._glTextureType,0,6408,6408,5121,n):(n.setPremultiplyAlpha(t),u.texImage2D(this._glTextureType,0,6408,6408,5121,n)):(t&&u.pixelStorei(37441,!0),u.texImage2D(this._glTextureType,0,f,f,5121,n),t&&u.pixelStorei(37441,!1));this._mipmap?(u.generateMipmap(this._glTextureType),this._setGPUMemory(i*r*4*(1+1/3))):this._setGPUMemory(i*r*4);this._canRead&&(tt.isConchApp?this._pixels=new Uint8Array(n._nativeObj.getImageData(0,0,i,r)):(c.canvas.size(i,r),c.canvas.clear(),c.context.drawImage(n,0,0,i,r),this._pixels=new Uint8Array(c.context.getImageData(0,0,i,r).data.buffer)));this._readyed=!0;this._activeResource()},u.setPixels=function(n,t){if(t===void 0&&(t=0),!n)throw"Texture2D:pixels can't be null.";var i=Math.max(this._width>>t,1),r=Math.max(this._height>>t,1),u=i*r*this._getFormatByteCount();if(n.length<u)throw"Texture2D:pixels length should at least "+u+".";this._setPixels(n,t,i,r);this._canRead&&(this._pixels=n);this._readyed=!0;this._activeResource()},u.setSubPixels=function(n,t,i,r,u,f){var e,o,s;if(f===void 0&&(f=0),!u)throw"Texture2D:pixels can't be null.";e=yt.instance;o=this._glTextureType;lt.bindTexture(e,o,this._glTexture);s=this._getGLFormat();this._format===0?(e.pixelStorei(3317,1),e.texSubImage2D(o,f,n,t,i,r,s,5121,u),e.pixelStorei(3317,4)):e.texSubImage2D(o,f,n,t,i,r,s,5121,u);this._readyed=!0;this._activeResource()},u.setCompressData=function(n){switch(this._format){case 3:case 4:this._pharseDDS(n);break;case 5:this._pharseKTX(n);break;case 9:case 10:case 11:case 12:this._pharsePVR(n);break;default:throw"Texture2D:unkonwn format.";}},u._recoverResource=function(){},u.getPixels=function(){if(this._canRead)return this._pixels;throw new Error("Texture2D: must set texture canRead is true.");},e(0,u,"mipmapCount",function(){return this._mipmapCount}),e(0,u,"defaulteTexture",function(){return laya.resource.Texture2D.grayTexture}),t.__init__=function(){var n=new Uint8Array(3);n[0]=128;n[1]=128;n[2]=128;t.grayTexture=new t(1,1,0,!1,!1);t.grayTexture.setPixels(n);t.grayTexture.lock=!0;n[0]=255;n[1]=255;n[2]=255;t.whiteTexture=new t(1,1,0,!1,!1);t.whiteTexture.setPixels(n);t.whiteTexture.lock=!0;n[0]=0;n[1]=0;n[2]=0;t.blackTexture=new t(1,1,0,!1,!1);t.blackTexture.setPixels(n);t.blackTexture.lock=!0},t._parse=function(n,i,r){var u=r?new t(r[0],r[1],r[2],r[3],r[4]):new t(0,0);i&&(u.wrapModeU=i.wrapModeU,u.wrapModeV=i.wrapModeV,u.filterMode=i.filterMode,u.anisoLevel=i.anisoLevel);switch(u._format){case 0:case 1:u.loadImageSource(n);break;case 3:case 4:case 5:case 9:case 10:case 11:case 12:u.setCompressData(n);break;default:throw"Texture2D:unkonwn format.";}return u},t.load=function(n,t){i.loader.create(n,t,null,"TEXTURE2D")},t.grayTexture=null,t.whiteTexture=null,t.blackTexture=null,t}(kw),vu=function(n){function t(n,i,r,u){this._mgrKey=0;r===void 0&&(r=0);u===void 0&&(u=0);t.__super.call(this,r,!1);this._glTextureType=3553;this._width=n;this._height=i;this._depthStencilFormat=u;this._create(n,i);this.lock=!0}r(t,"laya.resource.RenderTexture2D",n);var i=t.prototype;return i.getIsReady=function(){return!0},i._create=function(n,t){var i,r;if(n=n||1,t=t||1,i=yt.instance,this._frameBuffer=i.createFramebuffer(),lt.bindTexture(i,this._glTextureType,this._glTexture),r=this._getGLFormat(),i.texImage2D(this._glTextureType,0,r,n,t,0,r,5121,null),this._setGPUMemory(n*t*4),i.bindFramebuffer(36160,this._frameBuffer),i.framebufferTexture2D(36160,36064,3553,this._glTexture,0),this._depthStencilFormat!==3){this._depthStencilBuffer=i.createRenderbuffer();i.bindRenderbuffer(36161,this._depthStencilBuffer);switch(this._depthStencilFormat){case 0:i.renderbufferStorage(36161,33189,n,t);i.framebufferRenderbuffer(36160,36096,36161,this._depthStencilBuffer);break;case 1:i.renderbufferStorage(36161,36168,n,t);i.framebufferRenderbuffer(36160,36128,36161,this._depthStencilBuffer);break;case 2:i.renderbufferStorage(36161,34041,n,t);i.framebufferRenderbuffer(36160,33306,36161,this._depthStencilBuffer)}}i.bindFramebuffer(36160,null);i.bindRenderbuffer(36161,null);this._setWarpMode(10242,this._wrapModeU);this._setWarpMode(10243,this._wrapModeV);this._setFilterMode(this._filterMode);this._setAnisotropy(this._anisoLevel);this._readyed=!0;this._activeResource()},i.generateMipmap=function(){this._isPot(this.width)&&this._isPot(this.height)?(this._mipmap=!0,yt.instance.generateMipmap(this._glTextureType),this._setFilterMode(this._filterMode),this._setGPUMemory(this.width*this.height*4*(1+1/3))):(this._mipmap=!1,this._setGPUMemory(this.width*this.height*4))},i.start=function(){var n=yt.instance;yt.instance.bindFramebuffer(36160,this._frameBuffer);this._lastRT=t._currentActive;t._currentActive=this;this._readyed=!0;n.viewport(0,0,this._width,this._height);this._lastWidth=vt.width;this._lastHeight=vt.height;vt.width=this._width;vt.height=this._height;uu.activeShader=null},i.end=function(){yt.instance.bindFramebuffer(36160,null);t._currentActive=null;this._readyed=!0},i.restore=function(){var n=yt.instance;this._lastRT!=t._currentActive&&(yt.instance.bindFramebuffer(36160,this._lastRT?this._lastRT._frameBuffer:null),t._currentActive=this._lastRT);this._readyed=!0;n.viewport(0,0,this._lastWidth,this._lastHeight);vt.width=this._lastWidth;vt.height=this._lastHeight;uu.activeShader=null},i.clear=function(n,t,i,r){var f,u;n===void 0&&(n=0);t===void 0&&(t=0);i===void 0&&(i=0);r===void 0&&(r=1);f=yt.instance;f.clearColor(n,t,i,r);u=16384;switch(this._depthStencilFormat){case 33189:u|=256;break;case 36168:u|=1024;break;case 34041:u|=256;u|=1024}f.clear(u)},i.getData=function(n,t,i,r){var u,e,f,o;if(tt.isConchApp&&conchConfig.threadMode==2)throw"native 2 thread mode use getDataAsync";return(u=yt.instance,u.bindFramebuffer(36160,this._frameBuffer),e=u.checkFramebufferStatus(36160)===36053,!e)?(u.bindFramebuffer(36160,null),null):(f=new Uint8Array(this._width*this._height*4),o=this._getGLFormat(),u.readPixels(n,t,i,r,o,5121,f),u.bindFramebuffer(36160,null),f)},i.getDataAsync=function(n,t,i,r,u){var f=yt.instance;f.bindFramebuffer(36160,this._frameBuffer);f.readPixelsAsync(n,t,i,r,6408,5121,function(n){u(new Uint8Array(n))});f.bindFramebuffer(36160,null)},i.recycle=function(){},i._disposeResource=function(){if(this._frameBuffer){var n=yt.instance;n.deleteTexture(this._glTexture);n.deleteFramebuffer(this._frameBuffer);n.deleteRenderbuffer(this._depthStencilBuffer);this._glTexture=null;this._frameBuffer=null;this._depthStencilBuffer=null;this._setGPUMemory(0)}},e(0,i,"depthStencilFormat",function(){return this._depthStencilFormat}),e(0,i,"defaulteTexture",function(){return fo.grayTexture}),e(0,i,"sourceWidth",function(){return this._width}),e(0,i,"sourceHeight",function(){return this._height}),e(0,i,"offsetX",function(){return 0}),e(0,i,"offsetY",function(){return 0}),e(1,t,"currentActive",function(){return t._currentActive},laya.resource.BaseTexture._$SET_currentActive),t.pushRT=function(){t.rtStack.push({rt:t._currentActive,w:vt.width,h:vt.height})},t.popRT=function(){var i=yt.instance,n=t.rtStack.pop();n&&(t._currentActive!=n.rt&&(yt.instance.bindFramebuffer(36160,n.rt?n.rt._frameBuffer:null),t._currentActive=n.rt),i.viewport(0,0,n.w,n.h),vt.width=n.w,vt.height=n.h)},t._currentActive=null,t.rtStack=[],d(t,["defuv",function(){return this.defuv=[0,0,1,0,1,1,0,1]},"flipyuv",function(){return this.flipyuv=[0,1,1,1,1,0,0,0]}]),t}(kw),kvt=function(n){function t(){t.__super.call(this,t.vs,t.ps,"ParticleShader",null,["a_CornerTextureCoordinate",0,"a_Position",1,"a_Velocity",2,"a_StartColor",3,"a_EndColor",4,"a_SizeRotation",5,"a_Radius",6,"a_Radian",7,"a_AgeAddScale",8,"a_Time",9])}return r(t,"laya.particle.shader.ParticleShader",n),d(t,["vs",function(){return this.vs="attribute vec4 a_CornerTextureCoordinate;\nattribute vec3 a_Position;\nattribute vec3 a_Velocity;\nattribute vec4 a_StartColor;\nattribute vec4 a_EndColor;\nattribute vec3 a_SizeRotation;\nattribute vec2 a_Radius;\nattribute vec4 a_Radian;\nattribute float a_AgeAddScale;\nattribute float a_Time;\n\nvarying vec4 v_Color;\nvarying vec2 v_TextureCoordinate;\n\nuniform float u_CurrentTime;\nuniform float u_Duration;\nuniform float u_EndVelocity;\nuniform vec3 u_Gravity;\n\nuniform vec2 size;\nuniform mat4 u_mmat;\n\nvec4 ComputeParticlePosition(in vec3 position, in vec3 velocity,in float age,in float normalizedAge)\n{\n\n   float startVelocity = length(velocity);//起始标量速度\n   float endVelocity = startVelocity * u_EndVelocity;//结束标量速度\n\n   float velocityIntegral = startVelocity * normalizedAge +(endVelocity - startVelocity) * normalizedAge *normalizedAge/2.0;//计算当前速度的标量（单位空间），vt=v0*t+(1/2)*a*(t^2)\n   \n   vec3 addPosition = normalize(velocity) * velocityIntegral * u_Duration;//计算受自身速度影响的位置，转换标量到矢量    \n   addPosition += u_Gravity * age * normalizedAge;//计算受重力影响的位置\n   \n   float radius=mix(a_Radius.x, a_Radius.y, normalizedAge); //计算粒子受半径和角度影响（无需计算角度和半径时，可用宏定义优化屏蔽此计算）\n   float radianHorizontal =mix(a_Radian.x,a_Radian.z,normalizedAge);\n   float radianVertical =mix(a_Radian.y,a_Radian.w,normalizedAge);\n   \n   float r =cos(radianVertical)* radius;\n   addPosition.y += sin(radianVertical) * radius;\n\t\n   addPosition.x += cos(radianHorizontal) *r;\n   addPosition.z += sin(radianHorizontal) *r;\n  \n   addPosition.y=-addPosition.y;//2D粒子位置更新需要取负，2D粒子坐标系Y轴正向朝上\n   position+=addPosition;\n   return  vec4(position,1.0);\n}\n\nfloat ComputeParticleSize(in float startSize,in float endSize, in float normalizedAge)\n{    \n    float size = mix(startSize, endSize, normalizedAge);\n    return size;\n}\n\nmat2 ComputeParticleRotation(in float rot,in float age)\n{    \n    float rotation =rot * age;\n    //计算2x2旋转矩阵.\n    float c = cos(rotation);\n    float s = sin(rotation);\n    return mat2(c, -s, s, c);\n}\n\nvec4 ComputeParticleColor(in vec4 startColor,in vec4 endColor,in float normalizedAge)\n{\n\tvec4 color=mix(startColor,endColor,normalizedAge);\n    //硬编码设置，使粒子淡入很快，淡出很慢,6.7的缩放因子把置归一在0到1之间，可以谷歌x*(1-x)*(1-x)*6.7的制图表\n    color.a *= normalizedAge * (1.0-normalizedAge) * (1.0-normalizedAge) * 6.7;\n   \n    return color;\n}\n\nvoid main()\n{\n   float age = u_CurrentTime - a_Time;\n   age *= 1.0 + a_AgeAddScale;\n   float normalizedAge = clamp(age / u_Duration,0.0,1.0);\n   gl_Position = ComputeParticlePosition(a_Position, a_Velocity, age, normalizedAge);//计算粒子位置\n   float pSize = ComputeParticleSize(a_SizeRotation.x,a_SizeRotation.y, normalizedAge);\n   mat2 rotation = ComputeParticleRotation(a_SizeRotation.z, age);\n\t\n    mat4 mat=u_mmat;\n    gl_Position=vec4((mat*gl_Position).xy,0.0,1.0);\n    gl_Position.xy += (rotation*a_CornerTextureCoordinate.xy) * pSize*vec2(mat[0][0],mat[1][1]);\n    gl_Position=vec4((gl_Position.x/size.x-0.5)*2.0,(0.5-gl_Position.y/size.y)*2.0,0.0,1.0);\n   \n   v_Color = ComputeParticleColor(a_StartColor,a_EndColor, normalizedAge);\n   v_TextureCoordinate =a_CornerTextureCoordinate.zw;\n}\n\n"},"ps",function(){return this.ps="#ifdef FSHIGHPRECISION\nprecision highp float;\n#else\nprecision mediump float;\n#endif\n\nvarying vec4 v_Color;\nvarying vec2 v_TextureCoordinate;\nuniform sampler2D u_texture;\n\nvoid main()\n{\t\n\tgl_FragColor=texture2D(u_texture,v_TextureCoordinate)*v_Color;\n\tgl_FragColor.xyz *= v_Color.w;\n}"}]),t}(rf),dvt=function(n){function t(n,i,r,u,f){this._params2dQuick2=null;this._shaderValueWidth=0;this._shaderValueHeight=0;t.__super.call(this,n,i,r,u,f)}r(t,"laya.webgl.shader.d2.Shader2X",n);var i=t.prototype;return i._disposeResource=function(){n.prototype._disposeResource.call(this);this._params2dQuick2=null},i.upload2dQuick2=function(n){this.upload(n,this._params2dQuick2||this._make2dQuick2())},i._make2dQuick2=function(){var t,i,n,r;if(!this._params2dQuick2)for(this._params2dQuick2=[],t=this._params,n=0,r=t.length;n<r;n++)i=t[n],i.name!=="size"&&this._params2dQuick2.push(i);return this._params2dQuick2},t.create=function(n,i,r,u,f){return new t(n,i,r,u,f)},t}(rf),lr=function(n){function t(){t.__super.call(this)}r(t,"games.UD_Displays.tabs.Fio_TabBase",n);var i=t.prototype;return i.updateValue=function(n,t,i,r){r===void 0&&(r=0);ft.updateValue(n,t,i,r)},i.drawBg=function(n,t){t===void 0&&(t=0);ft.drawBg(n,t)},i.Tex_AddIns=function(n){ft.addIns(n)},i.Tex_Make=function(n){n===void 0&&(n=!1);this.Tex_Clear();this.texture=ft.create();n&&this.toSize(this.texture.width>>0,this.texture.height>>0)},t}(fu),gvt=function(n){function i(){var t,n;this.mView=null;this.mIsFirst=!1;this.mVecBoys=null;this.mVecGirls=null;i.__super.call(this,null,null,20);this.updateTopH(108);this.mView=new bct(h.create(this,this.onClkBtns,null,!1));this.Container.ItemAdd(this.mView);f.Account.regist(201,this.updateIcon,this);f.Account.regist(210,this.get210,this);f.Account.regist(213,this.updateIcon,this);var e=u.obj("userinfo_sysicons"),r=0,o=e.length;for(this.mVecBoys=[],this.mVecGirls=[],t=0,n=0,r;r<o;r++)n=e.shift(),t=n/10>>0,1==t?this.mVecBoys.push(n):2==t&&this.mVecGirls.push(n)}r(i,"games.windows.accounts.user.Win_UserInfo",n);var t=i.prototype;return t.onDisable=function(){this.mView.setBase("","",0,!1)},t.start=function(){this.onDisable();this.mIsFirst=!nt.MyDetail.HasInfo;this.updateTitle("userinfo_title_"+this.mIsFirst,!0);this.mBtnBack.visible=this.CanGoBack=!this.mIsFirst;var n=Math.random()*2+1>>0,t="",i="",r=1;this.mIsFirst||(n=nt.MyDetail.Sex,t=nt.MyDetail.Nick,i=nt.MyDetail.Sign,r=nt.MyDetail.reTimes);this.mView.setBase(t,i,r,!this.mIsFirst);this.mView.setSex(n,!0);this.updateIcon()},t.get210=function(n){0==n&&this.doClose()},t.updateIcon=function(){this.mView.updateIcon(nt.MyDetail.getIcon())},t.onClkBtns=function(n){var t=n.TmpData,i;switch(t){case 1:case 2:n.selected||(this.mView.setSex(t,!1),this.mIsFirst&&(i=1==t?this.mVecBoys:this.mVecGirls,f.Account.reqIconUpdate(i[Math.random()*i.length>>0])));break;case 11:this.checkSubmit()}},t.checkSubmit=function(){var n=this.mView.getNick(),t=this.mView.getSign();b.CheckCharLength(n,12,"userinfo_err_user_min","userinfo_err_user_max")&&(this.mIsFirst&&a.getCharLength(t)>36?ut.showMessage("userinfo_err_flag_max"):this.mIsFirst||n==nt.MyDetail.Nick||0!=nt.MyDetail.reTimes?this.doSubmit():pt.Alert(u.lang("userinfo_alert",this.mView.Cost),this,null,[this.doSubmit,null]))},t.doSubmit=function(){f.Account.reqBase(this.mView.getNick(),this.mView.getSex(),this.mView.getSign())},i}(nt),li=function(n){function i(n,t){this.MixCon=null;this.mVc=!1;i.__super.call(this);this.mWidth=n;this.mHeight=t;this.mouseEnabled=!0;this.MixCon=new p;this.MixCon.toSize(this.mWidth,this.mHeight)}r(i,"games.UD_Displays.tabs.mixItems.UD_MixItem_Base",n);var t=i.prototype;return t.toSize=function(n,t){this.MixCon.toSize(this.mWidth=n,this.mHeight=t)},t.update=function(){this.DoUpdate();this.Tex_ToMix()},t.DoUpdate=function(){},t.Tex_ToMix=function(){this.callLater(this.Tex_DoMix)},t.Tex_DoMix=function(){this.Tex_Clear();this.texture=cf.getTex(this.MixCon,this.mWidth,this.mHeight,0,0)},i}(fu),nyt=function(n){function i(){this.mBase=null;this.mConfigs=null;this.mLev=0;i.__super.call(this,"clubST_star_title",null,10);var n=this.Container.y;this.mBase=new sa(!1);this.mBase.y=n;this.addChild(this.mBase);this.updateTopH(n+this.mBase.height+20);this.initStars();f.Club.regist(706,this.get706,this);f.Account.regist(201,this.get201,this)}r(i,"games.windows._club.setting.stars.Win_Club_ST_Star",n);var t=i.prototype;return t.initStars=function(){this.mConfigs=rt.GameConfigs.clubStar;var i=h.create(this,this.onClickBuy,null,!1),n,t;for(n in this.mConfigs)n<2||(t=new tct(i),t.setVo(this.mConfigs[n]),this.Container.ItemAdd(t))},t.start=function(){this.timer.once(100,this,this.delayShow)},t.delayShow=function(){var r=f.Club.ClubVo,n,i;this.mBase.showClub(r,!0);n="clubStar_str0";i=f.Club.StarTime;i>0&&(n="clubStar_str1");n="clubStar_str1";this.mBase.showOther(u.lang(n,a.NumToStr(nt.MyDetail.Diamond),Math.ceil(i/86400)));var o=r.level,t=0,e=this.Container.getItems(),s=e.length;for(t;t<s;t++)e[t].doCompare(o)},t.onClickBuy=function(n){this.mLev=n.TmpData;var t=this.mConfigs[this.mLev];pt.Alert(u.lang("clubST_star_ask",t.price,t.name),this,null,[this.doSubmit,null])},t.doSubmit=function(){f.Club.reqBuyStar(this.mLev)},t.get706=function(n){0==n&&this.start(null)},t.get201=function(){this.start(null)},i}(nt),tyt=function(n){function t(){t.__super.call(this,"msg_title",null,0);this.Container.pushLineGap(24);this.Container.ItemAdd(new vb)}return r(t,"games.windows.messages.Win_Message",n),t}(nt),sf=function(n){function i(n,t){var e,r,o,f;this.mTab=null;this.mDicModules=null;this.mCur=null;this.mIndex=-1;i.__super.call(this,t,null,0);this.graphics.clear();this.Container.removeSelf();e=h.create(this,this.onTab,null,!1);this.mTab=new he;this.mTab.create(u.obj(n),null,null,-1,0,!0,e);this.mTab.auto(this.mWidth-128);this.mTab.pos(64,this.Container.y-10>>0);this.addChild(this.mTab);r=this.mTab.y+this.mTab.height>>0;r+=20;this.mDicModules={};this.initModules(s.MAX_H-r);for(o in this.mDicModules)f=this.mDicModules[o],f&&(f.y=r)}r(i,"games.windows._bases.BaseWin_Modules",n);var t=i.prototype;return t.initModules=function(){},t.stopCur=function(){this.mCur&&this.mCur.stop();this.mCur=null;this.mIndex=-1},t.startCur=function(n){this.mCur=n;this.mCur&&(this.addChild(this.mCur),this.mCur.start())},t.onDisable=function(){this.stopCur()},t.start=function(){this.mTab.select(0)},t.onTab=function(n){var t=n.TmpData;t!=this.mIndex&&(this.stopCur(),this.mIndex=t,this.startCur(this.mDicModules[t]))},i}(nt),iyt=function(n){function t(){this.mView=null;t.__super.call(this,"ifs_t",null,0,!1);var n=108;this.mView=new alt(this.mHeight-8-n-12);this.toXCenter(this.mView);this.mView.y=n;this.addChild(this.mView)}return r(t,"games.windows.me.iconFrames.Win_IconFrames",n),t}(nt),eo=function(n){function t(n,i){this.mBtn=null;i===void 0&&(i=!1);t.__super.call(this,n?0:10,"login_10_n","login_10_p",360,i);this.iInput.maxChars=15;this.iInput.restrict="0-9";this.mBtn=k.crt_Btn(this,"country",null,i?372:382,12,136);this.mBtn.y=this.iInput.y+.5*(this.iInput.height-this.mBtn.height)>>0;this.mBtn.setClick(h.create(this,this.openCountry,null,!1));this.updateCountry(f.Login.DEF_LANG)}r(t,"games.windows.accounts.utils.AccInput_User",n);var i=t.prototype;return i.updateCountry=function(n){this.mBtn.TmpData=n;this.mBtn.label="+"+n},i.getCountry=function(){return this.mBtn.TmpData},i.openCountry=function(){b.OpenWin(2,this.mBtn.TmpData,h.create(this,this.updateCountry))},t}(ls),rk=function(n){function e(n){this.mCtrlPage=null;this.mTotal=null;this.mCmd=0;this.mID_Win=0;n===void 0&&(n=!0);e.__super.call(this,null,null,0);var t=this.Container.y-4,i=new cs(0);i.updatTitle(u.obj("CD_head_"+(n?2:3)));i.y=t;this.addChild(i);t+=i.height;this.mTotal=new cs(1);this.mTotal.y=t;this.addChild(this.mTotal);t+=this.mTotal.height;this.Container.updateRect(0,nt.WIN_HEIGHT_VIEW-t+this.Container.y);this.Container.y=t;this.mCtrlPage=new su(this);this.Container.setCallback(h.create(this,this.doTabRequest,null,!1));n?(this.mID_Win=101,this.mCmd=1155):(this.mID_Win=103,this.mCmd=1255);f.Sql.regist(this.mCmd,this.getLists,this)}r(e,"games.windows._sqlSubs.Win_CD_Club",n);var t=e.prototype;return i.imps(t,{"FioLibs.interfaces.IFio_PageStep":!0}),t.onDisable=function(){this.Container.ItemClean(!0);this.mCtrlPage.setSource(null);f.Sql.reqCreditsDetail(0,0)},t.start=function(n){this.onDisable();this.Container.showWating();var t=n[0];this.updateTitle(u.lang("CD_title",a.getStrDate(t,!0)),!1);this.mTotal.updateValue(0);cs.s_time=t;cs.s_winID=this.mID_Win;f.Sql.reqCreditsDetail(this.mCmd,t)},t.addStepItem=function(n){var t=l.get(cs);t.update(n);this.Container.ItemAdd(t)},t.doTabRequest=function(n){return n?!1:(this.Container.doWaitComplete(30),this.mCtrlPage.showNext())},t.getLists=function(n,t){this.parent&&(this.Container.ItemClean(!0),this.mTotal.updateValue(n),this.mCtrlPage.setSource(t),this.doTabRequest(!1),this.Container.doWaitComplete(0))},e}(nt),yu=function(n){function t(n,i,r,u){for(this.W_CON=0,this.H_CON=0,this.mCon=null,this.mTitle=null,n===void 0&&(n=0),i===void 0&&(i=!1),u===void 0&&(u=0),t.__super.call(this,null,null,0),this.H_CON=n||620,this.W_CON=u||676,this.IsOpenEff=!1,this.texture=null;this.numChildren>0;)this.removeChildAt(0);this.mCon=new tr;this.mCon.size(this.W_CON,this.H_CON);k.loadImgBg(this.mCon,r||"win2");this.mCon.pos(s.MAX_W-this.W_CON>>1,s.MAX_H-this.H_CON-64>>1);this.addChild(this.mCon);this.mTitle=w.quickCreate(32,"#444444");this.mTitle.y=34;this.mCon.addChild(this.mTitle);this.mBtnBack.res="mainUi/coms_btn_close.png";this.mBtnBack.y=t.S_COORDS.y-this.mBtnBack.height>>1;this.mBtnBack.x=this.W_CON-this.mBtnBack.width-t.S_COORDS.width-this.mBtnBack.y>>0;this.mCon.addChild(this.mBtnBack);i?(this.Container.pos(t.S_COORDS.x+1,t.S_COORDS.y),this.Container.updateRect(this.W_CON-t.S_COORDS.right-2,this.H_CON-t.S_COORDS.bottom),this.mCon.addChildAt(this.Container,0)):this.Container.removeSelf()}r(t,"games.windows._bases.BaseWin_Sub",n);var i=t.prototype;return i.updateTitle=function(n,t){t&&(n=u.lang(n));this.mTitle.text=n;this.mTitle.x=this.W_CON-this.mTitle.width>>1},d(t,["S_COORDS",function(){return this.S_COORDS=new ct(20,82,20,36)}]),t}(nt),ar=function(n){function t(n,r,u,f,e){if(this.iFeetMenu=null,n===void 0&&(n=0),r===void 0&&(r=0),u===void 0&&(u=!0),f===void 0&&(f=10),e===void 0&&(e=4),t.__super.call(this,null,null,f,u),this.mBtnBack.removeSelf(),this.texture=null,this.mWidth=n||616,this.mHeight=r||800,this.IsOpenEff=!1,this.IsLev2=!0,this.pos(s.MAX_W-this.mWidth>>1,s.MAX_H-this.mHeight>>1),this.hitArea=new ct(-this.x,-this.y,s.MAX_W,s.MAX_H),!t.sBgGrids){var o=k.getVo("img","win2",null);t.sBgGrids=o.grids;t.sBgTex=i.loader.getRes(o.res)}this.graphics.clear();this.graphics.drawRect(-this.x,-this.y,s.MAX_W,s.MAX_H,"#00000066");this.graphics.draw9Grid(t.sBgTex,0,0,this.mWidth,this.mHeight,t.sBgGrids);this.mTitleIns.fontSize=32;this.mTitleIns.color="#444444";this.mTitleIns.width=this.mWidth;e>0&&(this.iFeetMenu=new ob(this.mWidth,h.create(this,this.onClkFeet,null,!1)),this.iFeetMenu.CrtDef(e),this.iFeetMenu.y=this.mHeight-this.iFeetMenu.height,this.addChild(this.iFeetMenu),this.FeetGap+=this.iFeetMenu.height);u&&(this.Container.x=4,this.Container.updateRect(this.mWidth-8,this.mHeight-nt.BASE_Y-this.FeetGap));this.on("mousedown",this,this.onClkThis)}r(t,"games.windows._bases.BaseWin_Lev2",n);var u=t.prototype;return u.onClkFeet=function(){this.doClose()},u.onClkThis=function(){var n=this.mouseX,t=this.mouseY;(n<0||t<0||n>this.mWidth||t>this.mHeight)&&et.shake(200,!0)},u.ReHeight=function(n){n!=this.mHeight&&(this.mHeight=n,this.graphics.clear(),this.graphics.drawRect(-this.x,-this.y,s.MAX_W,s.MAX_H,"#00000066"),this.graphics.draw9Grid(t.sBgTex,0,0,this.mWidth,this.mHeight,t.sBgGrids))},t.sBgGrids=null,t.sBgTex=null,t}(nt),ryt=function(n){function i(){this.mHdCls=null;this.mTar=null;i.__super.call(this,"yjsSetMain_t",null,10);var t=1,n,r=this.mHeight-6,f=h.create(this,this.onClkBtn,null,!1);for(t;t<3;t++)n=k.crt_Btn(this,1!=t?"reg":"btnCrt"),n.label=u.lang("yjsSetMain_"+t),n.TmpData=t,n.setClick(f),r-=n.height+20,n.y=r,this.toXCenter(n),this.addChild(n);r-=24;this.Container.updateRect(0,r-this.Container.y);la.sHandler=h.create(this,this.onClkIns,null,!1)}r(i,"games.windows.matches.creators.yujuesai.matchSet.Win_Yjs_YusaiMain",n);var t=i.prototype;return t.onSubClose=function(){this.mTar=null;this.Container.ItemClean(!0);this.mHdCls&&this.mHdCls.recover();this.mHdCls=null},t.start=function(n){this.onSubClose();this.mTar=n[0];this.mHdCls=n[1];var i,t=0,r=this.mTar.length;for(t;t<r;t++)i=l.get(la),i.setVo(this.mTar[t]),this.Container.ItemAdd(i)},t.reOrder=function(){var i=this.Container.getItems(),n=0,r=i.length,t;for(n;n<r;n++)t=i[n],t.Vo.name=u.lang("yjsSetN_"+n),t.update()},t.onClkBtn=function(n){var f=this.Container.getItems(),e=f.length,t,i,r;switch(n.TmpData){case 1:while(this.mTar.length>0)l.recyle(this.mTar.shift());for(i=0,i;i<e;i++)t=f[i].Vo,r=l.get(po),r.open=!0,r.copy(t),this.mTar[i]=r;this.mHdCls&&this.mHdCls.run();this.doClose();break;case 2:t=l.get(po);t.name=u.lang("yjsSetN_"+e);b.OpenWin(322,t,h.create(this,this.onCrtResult,[t]))}},t.onClkIns=function(n,t){n?(this.Container.ItemRemove(t,!0),this.reOrder()):b.OpenWin(322,t.Vo,h.create(this,this.reOrder))},t.onCrtResult=function(n){if(n.open){var t=l.get(la);t.setVo(n);this.Container.ItemAdd(t);this.reOrder()}l.recyle(n)},i}(nt),uk=function(n){function t(n,i){this.mTxt=null;t.__super.call(this,null);this.mTxt=w.quickCreate(n,i);this.addChild(this.mTxt)}r(t,"games.windows.me.shop.ShopGood_Price",n);var i=t.prototype;return i.setPriceType=function(n){this.setRes("shops/shopPrice_"+n+".png")},i.showValue=function(n){this.mTxt.text=a.NumToStr(n);this.mTxt.x=this.texture.width+4>>0;this.mTxt.y=this.mHeight-this.mTxt.height+(s.LEADING_SIZE>0?2:4)>>1;this.mWidth=this.mTxt.x+this.mTxt.width>>0},t}(st),uyt=function(n){function t(n){this.mRooter=null;this.mVecQuicks=null;this.mVecStatus=null;this.mMicPath=null;this.mHLoad=null;this.mVecMics=null;this.mMicEff=null;this.mMicIng=!1;this.mMicHasC=!1;this.mSTime=0;t.__super.call(this);t.sIns=this;this.mRooter=n;this.toSize(s.MAX_W,s.MAX_H);this.mouseEnabled=!1;this.mVecQuicks=[];this.mVecStatus=[];this.mHLoad=h.create(this,this.onMicLoad,null,!1);this.mVecMics=[];this.mMicEff=new vht;o.DsMatch.regist(465,this.get465ret,this);o.DsMatch.regist(470,this.getChat,this);o.DsMatch.regist(471,this.getMic,this);o.DsMatch.regist(473,this.getTextMsg,this);tf.ins.addIns(this);et.regShellFun("oTj_MicPlay",t.oTj_MicPlay)}r(t,"games.matchCores.desk.views.chat.Dm_Chat",n);var f=t.prototype;return i.imps(f,{"FioLibs.interfaces.IFio_BackFront":!0}),f.onBackFront=function(){this.micClearAll()},f.DoReset=function(n){for(this.removeSelf(),this.clearTimer(this,this.doQuickMovie);this.mVecQuicks.length;)l.recyle(this.mVecQuicks.shift());this.mVecQuicks.length=0;this.mVecStatus.length=0;n&&this.micClearAll()},f.getMic=function(n){o.Cookie.Sound_Block||(i.stage.isActive?(this.mVecMics.push(n),this.checkMicQueues()):this.micClearAll())},f.onMicLoad=function(n){n=n*1e3+200>>0;this.clearTimer(this,this.micClearCur);n>0&&this.mMicHasC&&this.mRooter.addChild(this.mMicEff);this.timerOnce(n,this,this.micClearCur)},f.micClearCur=function(n){n===void 0&&(n=!0);this.clearTimer(this,this.micClearCur);this.mMicEff.removeSelf();this.mMicPath&&vi.disposeSoundIfNotUsed(this.mMicPath);this.mMicPath=null;this.mMicIng=this.mMicHasC=!1;n&&this.checkMicQueues()},f.micClearAll=function(){for(this.micClearCur(!1);this.mVecMics.length>0;)l.recyle(this.mVecMics.shift())},f.checkMicQueues=function(){var t,n;this.mMicIng||this.mVecMics.length>0&&(t=this.mVecMics.shift(),this.mSTime=t.time,n=o.VecPlayers[t.index],this.mMicPath=t.fname,et.isShell()&&(this.mMicIng=!0,et.psMic(this.mMicPath)),this.mMicIng&&(n?(this.mMicHasC=!0,this.mMicEff.pos(n.FinalX+.5*(n.width-this.mMicEff.width)>>0,n.FinalY+.5*(n.height-this.mMicEff.height)>>0)):this.mMicEff.pos(0,0)),l.recyle(t))},f.getChat=function(n){var r;switch(n.type){case 0:this.showChat(n);break;case 1:var i=o.VecPlayers[n.IndexReceiver],f=0,e=0;if(i){f=i.FinalX+.5*i.width>>0;e=i.FinalY+.5*i.height>>0;var s=0,h=0,t=o.VecPlayers[n.IndexSender];t&&(s=t.FinalX+.5*t.width>>0,h=t.FinalY+.5*t.height>>0);r=yf.playDragon(this.mRooter,s,h,f,e,n.index);!t&&r&&ut.showMessage(u.lang("room_chat_2",n.sender,r.title),!1,2)}}},f.showChat=function(n){var t=rt.GameConfigs.chatConfigs[n.index];t&&this.getTextMsg(n.IndexSender,n.sender,t.msg)},f.get465ret=function(n){this.getTextMsg(n.sID,n.nick,n.IsMicStr?' <img src="matches/mm_mic2.png" width="16" height="24"><\/img> '+n.msg:n.msg)},f.getTextMsg=function(n,i,r){var e,f,o;if(typeof n!="undefined"&&typeof i!="undefined"&&typeof r!="undefined"){for(e=ae.CrtIns(u.lang("room_chat_htm",i,r),0,3,!1),this.mVecQuicks.push(e),f=0,o=this.mVecStatus.length+1,f;f<o;f++)if(1!=this.mVecStatus[f]){e.TmpData=f;e.pos(this.mWidth,t.Y_START+64*f>>0);this.mVecStatus[f]=1;break}this.addChild(e);this.parent||(this.frameLoop(1,this,this.doQuickMovie),this.mRooter.addChild(this))}},f.doQuickMovie=function(){var r=this.mVecQuicks.length,t,n,i;if(0==r)this.DoReset(!1);else for(t=0,i=0,t;t<r;t++)n=this.mVecQuicks[i],n.x-=2,n.x<-n.width?(this.mVecQuicks.splice(t,1),this.mVecStatus[n.TmpData]=0,l.recyle(n)):i+=1},t.oTj_MicPlay=function(n){var i=JSON.parse(n);if(1==i.state)t.sIns.onMicLoad(i.time/1e3);else t.sIns.micClearCur()},t.Y_GAP=64,t.sIns=null,d(t,["Y_START",function(){return this.Y_START=ui.toRealY(416)}]),t}(o),fyt=function(n){function t(){this.mModu=null;t.__super.call(this,"zjA_title",null,0);var n=this.Container.y+20;this.Container.removeSelf();this.mModu=new tti(s.MAX_H-n);this.mModu.y=n}r(t,"games.windows.admins.Win_Admin_ZJ",n);var i=t.prototype;return i.onDisable=function(){this.mModu.stop();f.Sql.quit()},i.start=function(){this.mModu.parent||this.addChild(this.mModu);this.mModu.start()},t}(nt),pi=function(n){function t(n,i,r){this.BdJc=0;t.__super.call(this,n,r,i)}r(t,"games.windows.matches.creators.mtt.rewards.MttRwd_ModuBase",n);var i=t.prototype;return i.DoSave=function(){return!1},t.sDoCopy=function(n,i){t.sClrVec(n);var r=0,f=i.length,u;for(r;r<f;r++)u=l.get(iu),u.copy(i[r]),n[r]=u},t.sClrVec=function(n){while(n.length>0)l.recyle(n.shift())},t.RwdData=null,t}(ir),kr=function(n){function t(n,r,u){if(this.H_TITLE=94,this.C_IsSpecial=!1,this.mBgGrids=null,this.mBgTex=null,this.mT_til=null,u===void 0&&(u="dp1"),t.__super.call(this),this.mouseEnabled=!0,this.toSize(n,r),u){var f=k.getVo("img",u,null);this.mBgGrids=f.grids;this.mBgTex=i.loader.getRes(f.res);this.mHeight=0;this.updateHeight(r)}this.mT_til=new w;this.mT_til.mouseEnabled=!1;this.resetTil(32,"#444444",94);this.mT_til.x=30;this.mT_til.width=this.mWidth-60>>0;this.setCoord()}r(t,"games.matchCores.panels._bases.MP_Base",n);var f=t.prototype;return f.onMgrCls=function(){this.removeSelf();this.doSubClose()},f.doSubClose=function(){},f.close=function(){this.onMgrCls();t.sCloseHd&&t.sCloseHd.run()},f.updateHeight=function(n){this.mHeight!=n&&(this.mHeight=n,this.y=s.MAX_H-this.mHeight-80>>1,this.graphics.clear(),this.mBgTex&&(this.mBgGrids?this.graphics.draw9Grid(this.mBgTex,0,0,this.mWidth,this.mHeight,this.mBgGrids):this.graphics.drawImage(this.mBgTex,0,0,this.mWidth,this.mHeight)))},f.resetTil=function(n,t,i){this.mT_til.fontSize=this.mT_til.TmpData=n;this.mT_til.color=t||"#b2d6fb";this.mT_til.setVh(this.H_TITLE=i)},f.updateTitle=function(n,t,i){if(t===void 0&&(t=!0),i===void 0&&(i=0),n){this.mT_til.text=t?u.lang(n):n;1==i&&(this.mT_til.align="center");var r=this.mT_til.textWidth-this.mT_til.width;this.mT_til.fontSize=r>-16?this.mT_til.TmpData-(r>40?4:2):this.mT_til.TmpData;this.mT_til.parent||this.addChildAt(this.mT_til,0)}else this.mT_til.removeSelf()},f.setCoord=function(n,t){n===void 0&&(n=0);t===void 0&&(t=0);switch(n){case 0:this.toXCenter();this.mT_til.align="center";break;case 1:this.x=0;this.mT_til.align="left";break;case 2:this.x=s.MAX_W-this.mWidth;this.mT_til.align="left"}switch(t){case 0:this.y=s.MAX_H-this.mHeight-80>>1;break;case 1:this.y=0;break;case 2:this.y=s.MAX_H-this.mHeight}},f.start=function(){},t.sCloseHd=null,t.X_LEFT=30,t}(o),ka=function(n){function i(n,t){this.mCtrl=null;this.mTGap=0;n===void 0&&(n=56);t===void 0&&(t=0);i.__super.call(this,s.MAX_W-2,n,this.mTGap=t);this.x=1;this.mCtrl=new we}r(i,"games.UD_Displays.UD_ImgTab_ScrollX",n);var t=i.prototype;return t.getDisplays=function(){return this.mCtrl.getElements()},t.select=function(n){var i,u,f,r,t;this.mCtrl.select(n);i=this.mCtrl.getSelected();i&&(u=this.width-32,f=i.x+i.width>>0,f>u?(r=this.mWidth-this.mRect.width,t=i.x/r,t<0?t=0:t>1&&(t=1),this.mRect.x=r*t>>0):this.toMin())},t.getSelected=function(){return this.mCtrl.getSelected()},t.getBtn=function(n){var i,t,u,r;if(this.mCtrl){if(i=this.mCtrl.getElements(),!i)return null;for(t=0,u=i.length,t;t<u;t++)if(r=i[t],r&&r.TmpData==n)return r}return null},t.setClick=function(n){this.mCtrl.setClick(n)},t.creat=function(n,t){var u,h;if(t===void 0&&(t=0),this.DoReset(),n){if(u=n.length,0==u)return;var i=0,r,f=[],e,s=this.width,c=this.height,o=0;for(i;i<u;i++)(e=n[i],e)&&(r=k.crt_Btn(this,null,e.res),f.push(r),r.y=c-r.height>>1,r.TmpData=e.data,o+=r.width+this.mTGap+t);for(o-=this.mTGap+t,h=0,o<s?this.updateWdith(h=s-o>>1):this.updateWdith(t||32),u=f.length,i=0;i<u;i++)this.ItemAdd(f[i],t);this.mCtrl.updateDisplays(f);this.mCtrl.select(-1)}},t.DoReset=function(){this.ItemClean(!1);this.mCtrl.DoReset()},i}(gw),eyt=function(n){function i(){var t,n;this.mTC=null;this.mNo=null;this.mMe=null;this.mMenus=null;this.mBtnQuit=null;this.mState=999;i.__super.call(this,"league_title",null,4);t=this.initUi_Top();this.mTC=new ws;this.mNo=new ee("mainUi/club_icon_union_def.png","league_err_0");this.mMe=new ivt;n=h.create(this,this.onClickMemu,null,!1);this.mMenus=new ys("league_MenuAdmin",n);n=h.create(this,this.toDis,null,!1);this.mBtnQuit=new di("league_Btn_5",n);this.mBtnQuit.TmpData=10;this.Container.y=t;this.Container.updateRect(0,this.mHeight-t-128);f.Leagues.regist(900,this.getBase,this)}r(i,"games.windows._leagues.Win_Lea_Home",n);var t=i.prototype;return t.initUi_Top=function(){var t=20,i=this.Container.y+t,r=h.create(this,this.onClickBtns,null,!1),n=new pa("league_bigBtns",r,"mainUi/club_icon_union_");return n.y=i,this.addChild(n),i+n.height+t>>0},t.onClickBtns=function(n){this.mState==0?n==11?b.OpenWin(81):b.OpenWin(82):ut.showMessage("league_err_1")},t.onClickMemu=function(n){switch(n){case 0:b.OpenWin(86);break;case 1:b.OpenWin(85);break;case 2:b.OpenWin(88)}},t.toDis=function(){b.OpenWin(130,1)},t.onDisable=function(){this.Container.ItemClean();f.Leagues.quitLea()},t.start=function(){this.mState=999;this.mBtnQuit.removeSelf();this.Container.ItemClean();f.Leagues.reqBase()},t.getBase=function(n,t){if(this.Container.ItemClean(),this.mState=t.state,n!=0){this.mState=999;this.Container.ItemAdd(this.mNo);return}0==this.mState?this.Container.ItemAdd(this.mNo):(this.mTC.updateTitle(1==this.mState%2?"league_tc":"league_tj"),this.Container.ItemAdd(this.mTC),this.mMe.setVo(t),this.Container.ItemAdd(this.mMe,32),3==this.mState&&(this.addChild(this.mBtnQuit),this.Container.ItemAdd(this.mMenus)))},i}(nt),oyt=function(n){function t(){var n,i;this.mHdCls=null;this.mMt=0;this.mGt=0;this.mZmTime=0;this.mType=-1;this.mTab=null;this.mBlind=null;t.__super.call(this,"mzjg_title",null,0,!1);n=this.Container.y;this.mTab=new rr;this.mTab.y=n;this.mTab.setClick(h.create(this,this.onTab,null,!1));this.addChild(this.mTab);n+=this.mTab.height+20>>0;i=new di("mzjg_save",h.create(this,this.doSave,null,!1));this.addChild(i);this.mBlind=new yc(i.y-32-n,!1);this.mBlind.y=n;this.addChild(this.mBlind)}r(t,"games.windows.matches.mttWins.Win_BlindMap",n);var i=t.prototype;return i.start=function(n){this.onSubClose();this.mMt=n[0];this.mGt=n[1];var t=n[2],i=n[3];this.mHdCls=n[4];this.mZmTime=n[5]||0;this.mTab.create(i,680);this.toXCenter(this.mTab);this.mTab.select(t)},i.onSubClose=function(){this.mType=-1;this.mBlind.start();this.mHdCls&&this.mHdCls.recover();this.mHdCls=null},i.onTab=function(n){this.mType!=n&&(this.mType=n,this.mBlind.setType(this.mMt,this.mGt,n,this.mZmTime))},i.doSave=function(){this.mHdCls&&this.mHdCls.runWith(this.mType);this.doClose()},t}(nt),ks=function(n){function t(n,i,r){t.__super.call(this,r?"mainUi/icon_eff_select.png":"matches/mmArrow.png");this.mouseEnabled=!1;r?this.pos(n-this.mWidth-24>>0,i-this.mHeight>>1):this.pos(8,i-this.mHeight-6>>1);ft.crtStart(null,n,i-2,!1,!1,"#386ebf40");ft.addIns(this);this.texture=ft.create();ft.crtDone();this.pos(0,0);this.toSize(n,i)}return r(t,"games.UD_Displays.tabs.Fio_Tab_Selecter",n),t}(st),wi=function(n){function u(n){if(this.mText=null,this.textOffX=0,this.textOffY=0,this.mLabel=null,this.mColors=null,this.mRes=null,this.mTexs=null,n===void 0&&(n=!1),u.__super.call(this,!0),!n&&tc.s_Locked)throw Error(this.mClassName+" 不允许直接实例化，请调用 FioComs.CreateBtn(...)方法创建实例");this.mText=w.quickCreate()}r(u,"FioLibs.displays.coms.FioBtn",n);var t=u.prototype;return t.reset=function(){n.prototype.reset.call(this);this.mRes=null;this.mLabel=null;this.mTexs=null;this.colors=null;this.textOffX=this.textOffY=0},t.setTextStartPos=function(n,t){n===void 0&&(n=0);t===void 0&&(t=0);var i=!1;n!=this.textOffX&&(i=!0,this.textOffX=n);t!=this.textOffY&&(i=!0,this.textOffY=t);i&&this.doSub_Resize()},t.doSub_UDState=function(n){this.mTexs&&(this.texture=this.mTexs[n]);this.mColors||(this.colors=dp.DEF_BTN_COLORS);this.mText.color=this.mColors[n]},t.doSub_Resize=function(){var n,i,t,r;this.mText.parent&&(n=this.mText.width,this.mAuto_W?(i=8,n+=8,0==this.textOffX?n+=8:(i=this.textOffX,n+=this.textOffX),this.mGraphics.width=this._width=n,this.mText.x=i):this.mText.x=0==this.textOffX?this._width-n>>1:this.textOffX>>0,t=this.mText.height,this.mAuto_H?(r=8,t+=8,0==this.textOffY?t+=8:r=this.textOffY,this.mGraphics.height=this._height=t,this.mText.y=r):this.mText.y=0==this.textOffY?this._height-t>>1:this.textOffY>>0)},t.setResConfig=function(n,t,i){i===void 0&&(i=!1);var r=k.getVo(i?"radio":"btn",n,t);return r?k.updateBtnRes(this,r,t,this._width,this._height):this.res=t,r},e(0,t,"width",function(){return this._width},n.prototype._$set_width),e(0,t,"height",function(){return this._height},n.prototype._$set_height),e(0,t,"colors",null,function(n){this.mColors=n||dp.DEF_BTN_COLORS}),e(0,t,"res",null,function(n){var t,e,f,r,u;if(this.mRes!=n&&(this.mTexs=null,this.mGraphics.clear(),t=i.loader.getRes(n),t)){if(e=t.sourceWidth,f=t.sourceHeight/2>>0,this.syncSize(e,f),t.$_GID||(t.$_GID=bt.getGID()),r=is.I.get(t.$_GID),bt.isOkTextureList(r)||(r=null),r)this.mTexs=r;else{for(this.mTexs=[],u=0,u;u<2;u++)this.mTexs.push(bi.createFromTexture(t,0,f*u,e,f));is.I.set(t.$_GID,this.mTexs)}this.mV_State=!0;this.reqUDView()}}),e(0,t,"label",function(){return this.mLabel},function(n){this.mLabel!=n&&(this.mLabel=n,n?(this.mText.text=n,this.mText.parent||this.addChild(this.mText),this.doSub_Resize()):this.mText&&this.mText.removeSelf())}),d(u,["DRAG_BTN_NAME",function(){return this.DRAG_BTN_NAME="DragBtn"+(Math.random()*999>>0)}]),u}(tc),fk=function(n){function i(n,t,r){this.mJsonCk=null;this.mCookie=null;this.mTab=null;this.mBtnType=null;this.mTabGt=null;this.mDay=0;this.mGameType=0;this.mMatchType=0;r===void 0&&(r=0);i.__super.call(this,n,r);var f="shengya_"+t;this.mJsonCk=new nu("shengya_"+t);this.mCookie=this.mJsonCk.getCookie();this.mCookie||(this.mCookie={0:2,1:0},this.mJsonCk.Save(this.mCookie));this.mTab=new rr;this.mTab.create(u.obj("shengya_tabs_mt"),548);this.mTab.setClick(h.create(this,this.onTab,null,!1));this.mTab.pos(20,0);this.addChild(this.mTab);this.mBtnType=new hf;this.mBtnType.width=146;this.mBtnType.creat(u.obj(f+"_days"),2);this.mBtnType.pos(this.mWidth-20-this.mBtnType.width>>0,this.mTab.height-this.mBtnType.height>>1);this.mBtnType.setClick(h.create(this,this.onCBox,null,!1));this.addChild(this.mBtnType);this.mTabGt=new he;this.mTabGt.create(u.obj("shengya_tabs_gt"),"tab1",null,140,2,!0,h.create(this,this.onGt,null,!1));this.mTabGt.auto(600);this.mTabGt.pos(this.mWidth-this.mTabGt.width>>1,this.mTab.height+20);this.addChild(this.mTabGt);this.updateTopH(this.initSub(this.mTabGt.y+this.mTabGt.height+20))}r(i,"games.windows.me.shengya.ShengyaModu_Base",n);var t=i.prototype;return t.onTab=function(){this.mCookie[0]=this.mTab.selectIndex;this.mMatchType=this.mTab.TmpData;this.mTabGt.select(0)},t.onGt=function(){this.DoReset(this.mMatchType);this.onCBox()},t.onCBox=function(){this.mCookie[1]=this.mBtnType.selectIndex;this.mJsonCk.Save(this.mCookie);this.mGameType=this.mTabGt.getVal();this.mDay=this.mBtnType.data;this.DoReset(-1);this.callLater(this.toReq)},t.toReq=function(){this.parent&&this.reqData(this.mMatchType,this.mGameType,this.mDay)},t.initSub=function(n){return n},t.DoReset=function(){},t.reqData=function(){},t.start=function(){this.doSubStop()},t.doSubStop=function(){this.DoReset(-1)},i}(ir),ek=function(n){function i(n,t,r,u){this.mConfig=null;this.mDicIns=null;this.iGameType=9;this.IsAmh=!1;this.mHscon=0;this.mBtnCrt=null;this.mUnShowIdxs=null;i.__super.call(this,r,10);this.mConfig=n;this.mBtnCrt=new di(t,h.create(this,this.onClkBigBtn,null,!1));this.mBtnCrt.y=this.mHeight-96;this.mBtnCrt.disabled=!0;this.addChild(this.mBtnCrt);this.mSCon.updateRect(0,this.mHscon=this.mBtnCrt.y-36);this.iGameType=u;this.IsAmh=ui.IsAmh(u);this.mUnShowIdxs=[];this.IsAmh||this.mUnShowIdxs.push(30);this.initBaseView();this.initCookie()}r(i,"games.windows.matches.creators.CrtMac_ViewBase",n);var t=i.prototype;return t.initBaseView=function(){var u,f;this.mDicIns={};var e=h.create(this,this.onSliderC,null,!1),t=0,r=0,n,i;for(i=this.mConfig.VecSliders,r=i.length,t=0;t<r;t++)(n=i[t],n)&&(this.mDicIns[n.id]=new se(n,e));for(i=this.mConfig.VecRadios,r=i.length,t=0;t<r;t++)(n=i[t],n)&&(this.mDicIns[n.id]=new rat(n));for(i=this.mConfig.VecMenus,r=i.length,t=0;t<r;t++)if(n=i[t],n){f=n.title;this.mDicIns[n.id]=u=new ub(f,!0,n.help);u.TmpData=n.id;u.on("click",this,this.onClickMenu)}},t.start=function(){this.RefreshView()},t.RefreshView=function(){this.toDisBtn();this.mSCon.ItemClean();var r=this.getVecView(this.mConfig),n=0,u=r.length,t=0,i;for(n;n<u;n++)t=r[n],-1==this.mUnShowIdxs.indexOf(t)&&(i=this.mDicIns[t],i&&this.mSCon.ItemAdd(i))},t.getVecView=function(n){return rt.Crt_Match_IsZD?n.View_ZD:n.View_SJ},t.toDisBtn=function(){a.StopInsOp(this.mBtnCrt,500)},t.onClkBigBtn=function(){this.toDisBtn()},t.getSliderIns=function(n){return this.mDicIns[n]},t.getMenuIns=function(n){return this.mDicIns[n]},t.getGRIns=function(n){return this.mDicIns[n]},t.getHcNum=function(){return this.IsAmh?this.getGRIns(30).getVal():2},t.setUnum=function(n,t,i){if(t&&t.parent){var f=t.getValue()?t.getValue().data:0,u=t.getIndex(),r=i.length;t.setIntervals(i,f>=n?r-1:u>=r?r-1:u)}},t.initCookie=function(){},t.onSliderC=function(){},t.onClickMenu=function(n){n.target==n.currentTarget&&this.onClkMenu(n.currentTarget)},t.onClkMenu=function(){},i.IDX_AMH=30,i}(ir),syt=function(n){function i(){this.mView=null;this.mIsRegist=!1;this.mTmpKey=null;i.__super.call(this,null);this.updateTopH(108);this.mView=new klt(h.create(this,this.onClkBtn,null,!1));this.Container.ItemAdd(this.mView);f.Login.regist(100,this.getResult,this);f.Login.regist(101,this.getResult,this)}r(i,"games.windows.accounts.regOrRest.Win_Acc_RegOrReset",n);var t=i.prototype;return t.getResult=function(n){0==n&&(this.mTmpKey&&(f.Login.CurAcc.key=this.mTmpKey,f.Login.saveAllAccs(),this.mTmpKey=null),this.mView.I_Code.ClearDC(),this.doClose())},t.onDisable=function(){laya.display.Node.prototype.onDisable.call(this);rt.IS_LR=!1},t.start=function(n){this.mTmpKey=null;this.mIsRegist=!0==n[0];this.updateTitle("reg_title_"+this.mIsRegist,!0);var t=n[1]||"",i=n[2]||f.Login.DEF_LANG;this.mView.ShowUser(t,i);this.mView.ShowRadio(this.mIsRegist)},t.onSubClose=function(){this.mView.I_User.setValue("");this.mView.I_Code.setValue("");this.mView.I_Psw.setValue("");this.mView.I_Psw2.setValue("");this.mView.ShowRadio(!1)},t.onClkBtn=function(n){if(n)this.doSubmit();else return this.reqCode();return!1},t.reqCode=function(){var n=this.mView.I_User.getValue(!0);return n?(f.Login.reqCode(this.mView.I_User.getCountry(),n,this.mIsRegist?1:2),!0):!1},t.doSubmit=function(){var t,i,n,r;if((a.StopInsOp(this.mView.BtnSubmit,2e3),t=this.mView.I_User.getValue(!0),t)&&(i=this.mView.I_Code.getValue(!0),i)&&(n=this.mView.I_Psw.getValue(!0),n)&&(r=this.mView.I_Psw2.getValue(!0),r)){if(n!=r){ut.showMessage("login_12_err");return}this.mIsRegist||(this.mTmpKey=n);f.Login.reqReset(this.mView.I_User.getCountry(),t,n,Number(i),this.mIsRegist)}},i}(nt),hyt=function(n){function e(n){this.mBtnC=null;this.mTips=null;this.mCon=null;this.mDelayIndex=0;e.__super.call(this,596,"pbx_op_menus",n);var i=this.getBtn(10),t=new fi(200);for(t.setFont("#ffffff",26),pe.regRes(2,t),t.pos(i.width-t.width-8>>1,i.height-t.height+2>>1),i.label="",i.addChild(t),this.mBtnC=this.getBtn(0),this.mBtnC.mText.TmpData=this.mBtnC.label,this.mDelayIndex=au.addIns(this,24,0,!1,!1),this.mCon=new p,this.mCon.toSize(this.mWidth,this.mHeight);this.numChildren>0;)this.mCon.addChild(this.removeChildAt(0));f.Match.regist(482,this.startCD,this)}r(e,"games.matchCores.panels.dzdp.bxJls.MpBx_Menus",n);var t=e.prototype;return i.imps(t,{"FioLibs.interfaces.IFio_DC":!0}),t.DoReset=function(){for(this.stopDC();this.numChildren>0;)this.removeChildAt(0)},t.Show=function(n,t){this.DoReset();this.startCD(n);t?(this.mTips||(this.mTips=new g),this.mTips.innerHTML=u.lang("pbx_op_ing",t),this.mTips.pos(this.mWidth-this.mTips.width>>1,this.mHeight-this.mTips.height>>1),this.addChild(this.mTips)):this.addChild(this.mCon)},t.updateDC=function(n){n<4&&et.shake();this.mBtnC.label=this.mBtnC.mText.TmpData+"("+n+"s)"},t.stopDC=function(){au.stop(this.mDelayIndex)},t.startCD=function(n){au.reStart(this.mDelayIndex,n)},e}(fe),oc=function(n){function f(n,t,i,r){var e,c,o;this.mDateQuery=null;this.mTab=null;this.mCtrlPage=null;this.mC_tot=null;this.mC_val=null;this.mInsTot=null;this.mItemCls=null;this.mWinID=0;this.mIndex=0;f.__super.call(this,n);this.mItemCls=i;this.mWinID=r;this.mC_tot=ft.sGetTab(t+2);this.mC_val=ft.sGetTab(t+3);this.mDateQuery=new hb(h.create(this,this.onQuery,null,!1));this.addChild(this.mDateQuery);e=this.mDateQuery.height+10>>0;this.mTab=new rr;this.mTab.create(u.obj("zj_days"),710);this.mTab.setClick(h.create(this.mDateQuery,this.mDateQuery.onDayChange,null,!1));this.mTab.pos(this.mWidth-this.mTab.width>>1,e);this.addChild(this.mTab);e+=this.mTab.height+20>>0;c=82;this.graphics.drawRoundRect(24,s.MAX_W,s.MAX_H-e,"#386ebf40",0,e);o=new lr;o.y=e;ft.makeTitle(o,t+1,this.mWidth,c,!0);this.addChild(o);e+=c;this.mInsTot=new lr;this.mInsTot.toSize(this.mWidth,70);this.mInsTot.y=e;this.addChild(this.mInsTot);this.updateTopH(e+this.mInsTot.height);this.mSCon.setCallback(h.create(this,this.doReq,null,!1));this.mCtrlPage=new su(this);this.initParams()}r(f,"games.windows._commons.zj.SQL_ZJ",n);var t=f.prototype;return i.imps(t,{"FioLibs.interfaces.IFio_PageStep":!0}),t.initParams=function(){},t.start=function(){le.s_WinID=this.mWinID;this.showTotal(0,0,0);this.mTab.select(0)},t.addStepItem=function(n){var t=l.get(this.mItemCls);t.setVo(n,this.mIndex++);this.mSCon.ItemAdd(t)},t.doSubStop=function(){this.mInsTot.Tex_Clear();this.mSCon.ItemClean(!0);this.mCtrlPage.recyle()},t.showTotal=function(n,t,i){ft.crtStart(this.mC_tot,this.mWidth,this.mInsTot.height,!0);this.mInsTot.updateValue(1,n);this.mInsTot.updateValue(2,t);this.mInsTot.updateValue(3,i);this.mInsTot.Tex_Make();ft.crtDone()},t.doSubmit=function(){console.log("doSubmit",this)},t.getHead=function(n){this.showTotal(n.num,n.result,n.score)},t.getLists=function(n){this.parent&&(this.mSCon.ItemClean(!0),this.mIndex=1,this.mCtrlPage.setSource(n),this.doReq(!1))},t.doReq=function(n){if(!n){this.mSCon.doWaitComplete();ft.crtStart(this.mC_val,this.mWidth,70,!1);var t=this.mCtrlPage.showNext();return ft.crtDone(),t}return!1},t.onQuery=function(n,t,i){i&&this.mTab.select(-1);le.s_ts=n;le.s_te=t;this.doSubmit(n,t)},f}(ir),cyt=function(n){function t(){var n,e,r,i;this.mBase=null;this.mJp=null;this.mTrcIns=null;this.mJpLists=null;this.mRc=null;t.__super.call(this,"clubST_jp_title",null,18);n=this.Container.y;this.mBase=new sa(!1);this.mBase.y=n;this.addChild(this.mBase);n+=this.mBase.height+32;e=w.quickCreate(30,"#64ace9");e.text=u.lang("clubST_jp_1");e.pos(this.mWidth-e.width>>1,n);this.addChild(e);n+=e.height+24;this.mJp=new bs(!1,14);this.mJp.pos(s.MAX_W-this.mJp.width>>1,n);this.mJp.mouseEnabled=!1;this.addChild(this.mJp);n+=this.mJp.height+24;this.mTrcIns=new yr(710);this.mTrcIns.initLeft();this.mTrcIns.updateLeft(u.lang("clubST_jp_4"));this.mTrcIns.initRight(!1,380,28,28,"#64ace9",null,"center",0);this.mTrcIns.pos(this.mWidth-this.mTrcIns.width>>1,n);this.addChild(this.mTrcIns);r=st.CrtEdit();r.mouseEnabled=!0;r.pos(this.mTrcIns.width-r.width-24>>0,this.mTrcIns.height-r.height>>1);this.mTrcIns.addChild(r);r.on("click",this,this.openRc);this.mRc=new yvt;n+=this.mTrcIns.height+24;i=new g;i.style.fontSize=22;i.style.color="#64ace9";i.innerHTML=u.lang("clubST_jp_3");i.mouseEnabled=!1;i.pos(this.mWidth-i.contextWidth>>1,n);this.addChild(i);n+=i.height+24;this.updateTopH(n);this.mJpLists=new gb(330,18,!0);this.mJpLists.JpNum=this.mJp;this.mJpLists.x=this.mWidth-this.mJpLists.width>>1;this.Container.ItemAdd(this.mJpLists);f.Club.regist(715,this.mJpLists.updateAll,this.mJpLists);f.Club.regist(716,this.get716,this);f.Club.regist(718,this.get718,this)}r(t,"games.windows._club.setting.jp.Win_Club_ST_Jp",n);var i=t.prototype;return i.start=function(){this.mBase.showClub(f.Club.ClubVo,!1);this.get718(20);f.Club.reqJp();f.Club.reqRc(0)},i.openRc=function(){this.mRc.show(this.mTrcIns.TmpData)},i.get716=function(n,t){n>0||this.mJpLists.updateOne(t)},i.get718=function(n){this.mTrcIns.text=n+"BB";this.mTrcIns.TmpData=n},t}(nt),lyt=function(n){function t(){var n,r,i;this.mStatu=null;this.mTab=null;this.mLists=null;this.mIosBtn=null;this.mCurT=9999;this.mVo=null;this.mQr=null;this.mPayMenus=null;this.mPayCback=null;this.mPayUrl=null;t.__super.call(this,"shop_title",null,4);this.mStatu=new hlt(this);n=this.Container.y-12;r=h.create(this,this.onTab,null,!1);this.mTab=new he;this.mTab.create(u.obj("shop_tabs"),null,null,-1,0,!0,r);this.mTab.auto(s.MAX_W-64);this.mTab.pos(this.mWidth-this.mTab.width>>1,n);this.addChild(this.mTab);n=this.mTab.y+this.mTab.height>>0;n+=20;i=new ba(!1);i.y=n;this.addChild(i);this.updateTopH(n+i.height+24);this.Container.pushLineGap(2);this.mLists=new ict(h.create(this,this.onClickItem,null,!1));this.Container.ItemAdd(this.mLists);this.mQr=new tk;this.mPayMenus=u.obj("shop_pays");this.mPayCback=h.create(this,this.onPayCback,null,!1);et.regShellFun("oTj_OnWXPay",t.oTj_OnWXPay);et.regShellFun("oTj_OnAliPay",t.oTj_OnAlipay);f.Deal.regist(676,this.get676,this);f.Deal.regist(670,this.get670,this);f.Deal.regist(673,this.get670,this);f.Deal.regist(674,this.get670,this);oi.regist(3,this.showBuyState,this)}r(t,"games.windows.me.shop.Win_Shops",n);var i=t.prototype;return i.start=function(n){var t=a.getNumber(n[0])-1,i;t<0&&(t=0);i=this.mTab.getBtn(t);i&&(t=this.mTab.getChildIndex(i));this.mTab.select(t)},i.onDisable=function(){laya.display.Node.prototype.onDisable.call(this);dr.ins.Close()},i.onTab=function(n){var t=n.TmpData;this.mIosBtn&&(this.mIosBtn.visible=t<2);t!=this.mCurT&&(this.Container.toTop(),this.Container.updateRealHeight(this.mLists.SetPage(this.mCurT=t)+16))},i.get670=function(){this.showBuyState(0)},i.get676=function(n,i,r){if(this.showBuyState(0),0==n){t.sOrder=r;i>10?11==i||13==i||14==i?(this.mPayUrl=JSON.parse(r).mweb_url,c.onIOS?pt.Alert(u.lang("shop_ask"+i),this,null,[this.wxWapPay,null]):this.wxWapPay()):12==i&&(this.mQr.Show(JSON.parse(r).code_url),pt.Alert(this.mQr,null,null,null,u.lang("shop_qr"+i))):et.reqPay(1==i,r);return}this.get670()},i.wxWapPay=function(){et.openWeb(this.mPayUrl)},i.showBuyState=function(n){this.mStatu.updateState(n,u.lang("shop_statu_"+n))},i.onClickItem=function(n){var t,r,i;this.mVo=n;t=this.mVo.pt;11==t?et.isShell()?dr.ins.pop(this.mPayMenus,this.mPayCback):c.onIOS?f.Deal.reqRmbBuy(this.mVo.index,c.onPC?14:13):pt.Alert(u.lang("shop_ask14",c.onPC?14:13),this,null,[this.buyWithRmb,null]):(r=this.mVo.price+u.lang("resType_"+t),i=this.buyWithScore,2==t&&(i=this.mVo.page>2?this.buyKC:this.buyWithDaim),pt.Alert(u.lang("shop_alert",r,this.mVo.title),this,null,[i,null]))},i.onPayCback=function(n){n>0&&(this.showBuyState(10),f.Deal.reqRmbBuy(this.mVo.index,n))},i.buyWithRmb=function(){this.showBuyState(10);f.Deal.reqRmbBuy(this.mVo.index,c.onPC?14:13)},i.buyWithScore=function(){this.showBuyState(11);f.Deal.reqBuyWithScore(this.mVo.index)},i.buyWithDaim=function(){this.showBuyState(12);f.Deal.reqBuyWithDaim(this.mVo.index)},i.buyKC=function(){this.showBuyState(12);f.Deal.reqBuyKC(this.mVo.index)},t.oTj_OnWXPay=function(n){var r=JSON.parse(n),i=r.ret;-1==i?i=10:i!=0&&(i=1);t.getPayResult(i,t.sOrder,1)},t.oTj_OnAlipay=function(n){var i=JSON.parse(n);i.ret=="9000"?t.getPayResult(0,i.jsStr.out_trade_no,2):t.getPayResult(1,"",2)},t.getPayResult=function(n,t,i){oi.notify(3,0);0==n&&f.Deal.reqRmbResult(t,i);n>0&&ut.showMessage("shopPay_"+n)},t.sOrder=null,t}(nt),ayt=function(n){function i(){this.mView=null;i.__super.call(this,null,null,10,!1);this.CanGoBack=!1;this.mBtnBack.removeSelf();this.mView=new hct(h.create(this,this.onClkBtn,null,!1));this.mView.y=nt.BASE_Y+2>>0;this.addChild(this.mView);f.Login.regist(109,this.get109,this)}r(i,"games.windows.accounts.reqCodes.Win_ReqCode",n);var t=i.prototype;return t.start=function(n){this.onSubClose();this.mView.ShowUser(f.Login.CodeAcc.user,f.Login.CodeAcc.country);var t=n[0]||0;t>0?(this.updateTitle("reqCode_t"+t,!0),this.mView.setType(t)):this.doClose()},t.onSubClose=function(){this.mView.I_Code.setValue("")},t.onClkBtn=function(n){return n?this.doSubmit():f.Login.req108(),!0},t.doSubmit=function(){a.StopInsOp(this.mView.BtnSubmit,500);var n=this.mView.I_Code.getValue(!0);n&&f.Login.send109(Number(n))},t.get109=function(n){0==n&&(this.mView.I_Code.ClearDC(),this.doClose())},i}(nt),vyt=function(n){function i(n){this.mDicIns=null;this.mFlags=null;this.mOpVec=null;this.mMenuIns=null;this.mCurIns=null;i.__super.call(this,n,10);this.toXCenter();this.mDicIns={};sd.sHander=h.create(this,this.onClkItem,null,!1);this.mFlags=[];this.mOpVec=[];this.mMenuIns=new sat(710,u.obj("winbag_own_menu"),h.create(this,this.doOp,null,!1))}r(i,"games.windows.me.bag.BagModu_MyBag",n);var t=i.prototype;return t.DoReset=function(){this.mCurIns=null;this.mSCon.ItemRemove(this.mMenuIns);this.mSCon.ItemClean(!0);for(var n in this.mDicIns)delete this.mDicIns[n]},t.start=function(){this.DoReset();f.Bag.regist(290,this.getLists,this);f.Bag.regist(298,this.getUpdate,this);f.Bag.regist(299,this.getDel,this);this.doScroll(!0)},t.doSubStop=function(){this.DoReset();f.Bag.remove(290,this.getLists,this);f.Bag.remove(298,this.getUpdate,this);f.Bag.remove(299,this.getDel,this);f.Bag.reqBagNum()},t.doScroll=function(n){return n?(f.Bag.reqBag_Lists(),this.mSCon.showWating(!0),!0):!1},t.getLists=function(n){this.DoReset();for(var t,i;n.length>0;)i=n.shift(),i&&(t=l.get(sd),t.setVo(i),this.mDicIns[i.sID]=t,this.mSCon.ItemAdd(t));this.mSCon.doWaitComplete()},t.getUpdate=function(n,t){if(t<1)this.getDel(n);else{var i=this.mDicIns[n];i&&i.updateNum(t)}},t.getDel=function(n){var t=this.mDicIns[n];delete this.mDicIns[n];t==this.mCurIns&&(this.mSCon.ItemRemove(this.mMenuIns),this.mCurIns=null);this.mSCon.ItemRemove(t,!0)},t.onClkItem=function(n){if(n&&n.Vo)if(this.mSCon.ItemRemove(this.mMenuIns),this.mCurIns==n)this.mCurIns=null;else{this.mCurIns=n;this.mOpVec.length=0;this.mFlags.length=0;a.U2V(n.Vo.flag,32,this.mFlags);var t=0;for(t;t<8;t++)this.mFlags[t]&&this.mOpVec.push(t);this.mMenuIns.setShowIDs(this.mOpVec);this.mSCon.ItemAdd(this.mMenuIns,0,this.mSCon.getIndex(n))}},t.doOp=function(n){var t,r,f,i,e;if(this.mCurIns&&(t=this.mCurIns.Vo,t))switch(n){case 0:b.OpenWin(210,t);break;case 1:b.OpenWin(211,t);break;case 2:r=rt.GameConfigs.htmIntro[""+t.entry];r?b.OpenWin(8,r):pt.Alert(u.lang("winbag_get_0",t.name),this,null,[this.sendUse,null],u.lang("winbag_get_title"));break;case 3:case 4:f=gi.getTicket(t.entry);f&&(i=f.score_value,e="winbag_quit_0",4==n&&(i=Math.round(i*(1-gi.recyPercent*.01)),e="winbag_quit_1"),pt.Alert(u.lang(e,i),this,null,[this.sendRecyle,null],u.lang("winbag_quit_t")))}},t.sendUse=function(){this.mCurIns&&this.mCurIns.Vo&&f.Bag.req289(this.mCurIns.Vo.sID)},t.sendRecyle=function(){this.mCurIns&&this.mCurIns.Vo&&f.Bag.reqRecyle(this.mCurIns.Vo.sID,1,1)},i}(ir),yyt=function(n){function i(){var r,f,s,o,l,c;this.mTab=null;this.mDicModules=null;this.mBd=null;this.mBdRes=null;this.mVecRates=null;this.mCur=null;this.mIndex=-1;i.__super.call(this,"mttRwd_t",null,0,!1);this.mTab=new rr;this.mTab.create(u.obj("mttRwd_tab"),680);this.mTab.setClick(h.create(this,this.onTab,null,!1));this.mTab.pos(this.mWidth-this.mTab.width>>1,this.Container.y>>0);this.addChild(this.mTab);var t=this.mTab.y+this.mTab.height+20>>0,n=710,e=this.mWidth-n>>1;this.mBd=new yr(n,null,!1);this.mBd.initLeft(32,28,"#b2d6fb");this.mBd.updateLeft(u.lang("mttRwd_m1"));this.mBd.initRight(!0,350,28,28,"#6391d5",null,"center",-16);this.mBd.maxChars=8;this.mBd.restrict="0-9";this.mBd.pos(e,t);this.mBd.mInput.prompt=u.lang("mttRwd_m0");this.addChild(this.mBd);this.mBdRes=new fi(120);this.mBdRes.pos(312,t+.5*(this.mBd.height-this.mBdRes.height)>>0);this.addChild(this.mBdRes);r=ai.CrtIns(n-64,u.lang("mttRwd_m2"),24,"#6391d5",10);r.pos(e+32,t+this.mBd.height+20);this.addChild(r);f=r.y+r.height+12;this.graphics.drawRoundRect(20,n,f-t,"#386ebf40",e,t);s=new di("mttRwd_m3",h.create(this,this.DoSave,null,!1));this.addChild(s);f+=10;o=s.y-20-f;this.mDicModules={};this.mDicModules[0]=new vkt(o,n);this.mDicModules[1]=new ggt(o,n);this.mDicModules[2]=new rnt(o,n);for(l in this.mDicModules)c=this.mDicModules[l],c&&c.pos(e,f);oi.regist(360,this.toClearBd,this)}r(i,"games.windows.matches.creators.mtt.rewards.Win_Mtt_Rewards",n);var t=i.prototype;return t.toClearBd=function(){var t,n;for(t in this.mDicModules)n=this.mDicModules[t],n&&(n.BdJc=0)},t.onDisable=function(){this.stopCur()},t.onSubClose=function(){this.stopCur()},t.start=function(n){this.onSubClose();var t=n[0],i="";!0==n[1]&&(i="_yjs");this.updateTitle("mttRwd_t"+i,!0);this.mTab.create(u.obj("mttRwd_tab"+i),680);pi.RwdData=t;this.mBdRes.setType(0==t.resType?120:121);this.mBd.maxChars=0==t.resType?7:6;this.mTab.select(t.type)},t.stopCur=function(){this.mCur&&this.mCur.stop();this.mCur=null;this.mIndex=-1},t.onTab=function(n){n!=this.mIndex&&(this.stopCur(),this.mIndex=n,this.mCur=this.mDicModules[n],this.mCur&&(this.addChild(this.mCur),this.mCur.start(),this.mBd.text=""+this.mCur.BdJc))},t.DoSave=function(){if(this.mCur){if(!this.mCur.DoSave(this.mBd.getNumber()))return;pi.RwdData.callback()}this.doClose()},i}(nt),pyt=function(n){function i(n,t){this.Y_START=-46;this.mHandler=null;this.mMaskStartP=null;this.mInsTop=null;this.mInsLine=null;this.mInsFlw=null;this.mBtnAcc=null;this.mV_Cur=NaN;this.mV_Gap=NaN;this.mV_Start=NaN;this.mV_Max=NaN;this.mV_MinStep=NaN;this.mIsXz=!1;this.mValidH=0;this.mYMax=0;this.mYMin=0;this.mLastY=0;this.mDistance=0;i.__super.call(this);this.mHandler=t;this.mBtnAcc=new lc(n);this.mBtnAcc.doPrint(u.lang("betStr_4"));this.addChild(this.mBtnAcc);this.mBtnAcc.on("mousedown",this,this.onDown);var r=this.mBtnAcc.width,f=s.IS_ON_MOBILE?8:12;this.mInsLine=new s;this.mInsLine.mouseEnabled=!1;this.mInsLine.loadImage("matches/mm_dragL.png");this.mValidH=this.mInsLine.height>>0;this.mInsLine.pos(r-this.mInsLine.width>>1,this.Y_START-this.mValidH);this.mInsTop=new s;this.mInsTop.mouseEnabled=!1;this.mInsTop.loadImage("matches/mm_dragT.png");this.mInsTop.pos(r-this.mInsTop.width>>1,this.mInsLine.y-this.mInsTop.height>>0);this.mInsTop.graphics.fillText("0",this.mInsTop.width>>1,f,24,"#b2d6fb","center");this.mInsFlw=new s;this.mInsFlw.mouseEnabled=!1;this.mInsFlw.loadImage("matches/mm_dragF.png");this.mInsFlw.pivotY=this.mInsFlw.height-1>>0;this.mInsFlw.pos(r-this.mInsFlw.width>>1,this.Y_START);this.mInsFlw.graphics.fillBorderText("0",this.mInsFlw.width>>1,f,null,"#090909","#00000088",s.IS_ON_MOBILE?.2:1,"center");this.mValidH-=this.mInsFlw.height-this.mInsTop.height>>0}r(i,"games.matchCores.desk.views.betBtns.DmBet_Drag",n);var t=i.prototype;return t.onEnable=function(){this.mMaskStartP||(this.mMaskStartP=new kt,this.localToGlobal(this.mMaskStartP),this.mMaskStartP.x=-this.mMaskStartP.x,this.mMaskStartP.y=-this.mMaskStartP.y)},t.onDisable=function(){this.stage.off("mousemove",this,this.onMoving);this.stage.off("mouseup",this,this.onMoveEnd);this.stage.off("mouseout",this,this.onMoveEnd)},t.doReset=function(){this.mV_Start=this.mV_Gap=this.mV_Max=0;this.doClose()},t.doClose=function(){this.mV_Cur=0;this.graphics.clear();this.mBtnAcc.selected=!1;this.mInsLine.removeSelf();this.mInsTop.removeSelf();this.mInsFlw.removeSelf();this.mInsFlw.graphics.replaceText(o.getValueBB(0))},t.showArea=function(n,t,i,r){this.mV_Max=t;this.mV_Start=n;this.mV_Gap=t-n;this.mV_Cur=0;this.mIsXz=r;this.mV_MinStep=a.toNumber(i,o.IsIntBet);this.mInsTop.graphics.replaceText(a.NumToStr(o.getValueBB(a.toNumber(this.mV_Max,o.IsIntBet))))},t.onDown=function(){this.mBtnAcc.selected=!0;this.addChildAt(this.mInsFlw,0);this.addChildAt(this.mInsLine,0);this.addChildAt(this.mInsTop,0);this.graphics.drawRect(this.mMaskStartP.x,this.mMaskStartP.y,s.MAX_W,s.MAX_H,"#00000088");this.mInsTop.graphics.replaceText(a.NumToStr(o.getValueBB(a.toNumber(this.mV_Max,o.IsIntBet))));this.mInsFlw.graphics.replaceText(o.getValueBB(0));this.stage.on("mousemove",this,this.onMoving);this.stage.once("mouseup",this,this.onMoveEnd);this.stage.once("mouseout",this,this.onMoveEnd);this.mYMax=this.mLastY=this.mouseY>>0;this.mYMin=this.mYMax-this.mValidH;this.mDistance=this.Y_START-this.mYMax;this.mInsFlw.y=this.Y_START},t.onMoving=function(){var n=this.mouseY>>0,t,i,r,u,f;this.mLastY!=n&&(this.mLastY=n,t=!1,i=!1,n>=this.mYMax?(n=this.mYMax,t=this.mV_Cur!=0,this.mV_Cur=0):n<=this.mYMin?(n=this.mYMin,t=this.mV_Cur!=this.mV_Max,this.mV_Cur=this.mV_Max,i=!0):(r=a.toNumber(this.mV_Start+this.mV_Gap*((this.mYMax-n)/this.mValidH),o.IsIntBet),this.mV_Cur!=r&&(u=a.toNumber(r-this.mV_Cur,o.IsIntBet),(u>=this.mV_MinStep||u<=-this.mV_MinStep)&&(t=!0,this.mV_Cur=r/this.mV_MinStep,this.mV_Cur=a.toNumber(this.mV_Cur*this.mV_MinStep,o.IsIntBet)))),t&&(this.mInsFlw.y=n+this.mDistance,f=o.getValueBB(this.mV_Cur),this.mInsFlw.graphics.replaceText(i?this.mIsXz?f:"AllIn":f),ei.PlayEff(i?6:5)))},t.onMoveEnd=function(n){this.onDisable();n.stopPropagation();this.mV_Cur<this.mV_Start&&(this.mV_Cur=0);this.mHandler&&this.mHandler.runWith(this.mV_Cur);this.doClose()},i}(o),wyt=function(n){function t(){this.mTex=null;t.__super.call(this,null);this.Container.pushLineGap(16);this.mTex=new fu;this.mTex.toSize(680,2);this.toXCenter(this.mTex)}r(t,"games.windows.Win_HtmIntro",n);var i=t.prototype;return i.onSubClose=function(){this.mTex.Tex_Clear();this.Container.ItemRemove(this.mTex)},i.start=function(n){var t,i;this.onSubClose();t=n[0];t&&(typeof t=="string"?i=rt.GameConfigs.htmIntro[t]:t.label&&(i=t),i&&(this.updateTitle(i.label,!1),this.mTex.crtTitle(i.data,this.mTex.width,12,12),this.Container.ItemAdd(this.mTex)))},t}(nt),byt=function(n){function i(){for(this.mCtrl=null,this.mIsSbb=!1,i.__super.call(this,null,null,0);this.numChildren>0;)this.removeChildAt(0);this.addChild(this.mCtrl=new pw(wt.IconCdn+"users/"));f.Room.regist(500,this.get500,this)}r(i,"games.windows.matches.Win_ReView",n);var t=i.prototype;return t.onDisable=function(){laya.display.Node.prototype.onDisable.call(this);this.DoReset();o.setShowBB(this.mIsSbb)},t.start=function(n){this.DoReset();this.timerOnce(2e3,this,this.addBack);this.mIsSbb=o.IsShowBB;o.setShowBB(!1);this.mCtrl.onDisable();this.mCtrl.showMsg(u.lang("tip_review1"));f.Room.reqReview(n[0],n[1])},t.DoReset=function(){this.mBtnBack.removeSelf();this.timer.clearAll(this)},t.addBack=function(){this.addChild(this.mBtnBack)},t.get500=function(n){var t;try{t=JSON.parse(n)}catch(i){}this.mCtrl.showReview(t)},i}(nt),kyt=function(n){function e(n){this.mSearch=null;this.mSearchName=null;this.mMenuIns=null;this.mMenus=null;this.mDataOk=!1;this.mCtrlPage=null;this.mOpItem=null;this.mDicItems=null;e.__super.call(this,n);n=0;this.mSearch=new va(0,0,h.create(this,this.doSearch,null,!1));this.mSearch.setPrompt(u.lang("league_mgr_01"));this.mSearch.pos(s.MAX_W-this.mSearch.width>>1,n);this.addChild(this.mSearch);n+=this.mSearch.height+24;this.updateTopH(n);this.mMenus=u.obj("league_mgr_menus");this.mMenuIns=new ec(h.create(this,this.onMenuCall,null,!1));this.mDicItems={};this.mCtrlPage=new su(this);nb.s_handler=h.create(this,this.onClickItem,null,!1);f.Leagues.regist(908,this.memDel,this);f.Leagues.regist(915,this.getLists,this);f.Leagues.regist(932,this.memUpdate,this);f.Leagues.regist(933,this.memUpdate,this);f.Leagues.regist(934,this.memUpdate,this);f.Leagues.regist(935,this.memUpdate,this)}r(e,"games.windows._leagues.memAndCre.Modu_LeaMems",n);var t=e.prototype;return i.imps(t,{"FioLibs.interfaces.IFio_PageStep":!0}),t.start=function(){this.doSubStop();this.mSCon.showWating(!0);f.Leagues.reqMems()},t.doSubStop=function(){this.mDataOk=!1;this.mSearch.DoReset();this.clearParams()},t.doScroll=function(n){return this.mDataOk&&!n?(this.mSCon.doWaitComplete(30),this.mCtrlPage.showNext()):!1},t.addStepItem=function(n){var i=n,t=l.get(nb);t.setVo(i);this.mDicItems[i.sID]=t;this.mSCon.ItemAdd(t)},t.clearParams=function(){this.mSearchName="";for(var n in this.mDicItems)delete this.mDicItems[n];this.mOpItem=null;this.mCtrlPage.setSource(null);this.mSCon.ItemClean(!0)},t.doSearch=function(n){var r,u,t,i,e,o;if(this.mSearchName!=n){if(this.clearParams(),this.mSearchName=n,r=f.Leagues.Members.VecMems,u=r.length,u>0)for(i=0,o=new RegExp(this.mSearchName+"","gi"),i;i<u;i++)(e=r[i],!this.mSearchName||o.test(e.name))&&(t||(t=[]),t.push(e));t?(this.mCtrlPage.setSource(t),this.doScroll(!1)):this.mSCon.doWaitComplete()}},t.getLists=function(){if(!this.parent){f.Leagues.Members.clearMems();return}this.mDataOk=!0;this.mSCon.doWaitComplete();this.doSearch()},t.memUpdate=function(n){var t=this.mDicItems[n];t&&t.update()},t.memDel=function(n){var t=this.mDicItems[n];if(delete this.mDicItems[n],t&&(this.mSCon.ItemRemove(t,!0),this.mOpItem&&this.mOpItem==t)){this.mOpItem=null;this.mSCon.ItemRemove(this.mMenuIns);return}},t.onClickItem=function(n){if(f.Leagues.League.isAdmin()){if(this.mSCon.ItemRemove(this.mMenuIns),this.mOpItem&&this.mOpItem==n){this.mOpItem=null;return}this.mOpItem=n;this.mMenuIns.showMenus(this.mMenus);this.mSCon.ItemAdd(this.mMenuIns,0,this.mSCon.getIndex(n))}},t.onMenuCall=function(n){var t=this.mOpItem.sVo;switch(n){case 0:this.onClickItem(this.mOpItem);break;case 3:pt.Alert(u.lang("league_mgr_04",t.name),this,null,[this.doKick,null]);break;case 11:b.OpenWin(123,t);break;case 12:b.OpenWin(124,t)}},t.doKick=function(){f.Leagues.reqKick(this.mOpItem.sVo.sID)},e}(ir),dyt=function(n){function i(){this.mIname=null;this.mId=null;this.mTips=null;this.mSubmit=null;i.__super.call(this,"smrz_title");this.updateTopH(168);var n=20,t=710;this.mIname=new yr(t);this.mIname.initLeft();this.mIname.updateLeft(u.lang("smrz_t0"));this.mIname.initRight(!0,180,28,0,null,null,"left",0);this.mIname.prompt=u.lang("smrz_p0");this.mIname.type="text";this.mIname.maxChars=8;this.toXCenter(this.mIname);this.Container.ItemAdd(this.mIname,n);this.mId=new yr(t);this.mId.initLeft();this.mId.updateLeft(u.lang("smrz_t1"));this.mId.initRight(!0,180,28,0,null,null,"left",0);this.mId.prompt=u.lang("smrz_p1");this.mId.type="text";this.mId.maxChars=18;this.mId.restrict="0-9a-zA-Z";this.toXCenter(this.mId);this.Container.ItemAdd(this.mId,n+n);this.mTips=new g("left",!0);this.mTips.width=660;this.mTips.style.color="#6391d5";this.mTips.style.fontSize=24;this.mTips.style.leading=12;this.mTips.innerHTML=u.lang("smrz_tip1");this.toXCenter(this.mTips);this.Container.ItemAdd(this.mTips,n+n+n);this.mSubmit=k.crt_Btn(null,"login",null,0,0,710);this.toXCenter(this.mSubmit);this.mSubmit.label=u.lang("smrz_btn");this.mSubmit.setClick(h.create(this,this.doSubmit,null,!1));this.Container.ItemAdd(this.mSubmit);f.Account.regist(249,this.getRet,this);f.Account.regist(250,this.getInfo,this)}r(i,"games.windows.accounts.smrz.Win_Acc_SMRZ",n);var t=i.prototype;return t.start=function(n){if(f.Account.Detail.hasSMRZ==1)this.mIname.editable(!1),this.mId.editable(!1),this.mBtnBack.visible=!0,this.mTips.style.align="center",this.mTips.innerHTML=u.lang("smrz_tip2"),this.mSubmit.visible=!1,this.CanGoBack=!0,f.Account.req250();else{this.mIname.editable(!0);this.mId.editable(!0);var t=null==n[0]||n[0]==0;this.mBtnBack.visible=this.CanGoBack=t;this.mTips.style.align="left";this.mTips.innerHTML=u.lang("smrz_tip1");this.mSubmit.visible=!0}},t.isValidInput=function(n,t,i){var r=n.text;return!r||r.length<t||b.getCharLength(r)>n.maxChars?(ut.showMessage("smrz_err_"+i),n.mInput.focus=!0,!1):!0},t.doSubmit=function(){var t=this.mIname.text,n;this.isValidInput(this.mIname,2,0)&&(n=this.mId.text,this.isValidInput(this.mId,18,1))&&(f.Account.req249(t,n,""),ut.showMessage("smrz_submit"))},t.getRet=function(n){n==0&&this.doClose()},t.getInfo=function(n,t){this.mIname.text=n;this.mId.text=t},i}(nt),gyt=function(n){function i(){this.mTab=null;this.mDs=null;this.mType=0;this.mOpSID=0;this.mZdID=0;this.mLastID=0;this.mIsOver=!1;this.mMenuHandler=null;i.__super.call(this,"club_mtt_mgr_title");this.mTab=new rr;this.mTab.create(u.obj("club_mtt_tab"),616);this.mTab.setClick(h.create(this,this.onTab,null,!1));this.mTab.pos(this.mWidth-this.mTab.width>>1,nt.BASE_Y);this.addChild(this.mTab);this.updateTopH(this.mTab.y+this.mTab.height+20);this.mDs=f.Club;this.mDs.regist(790,this.getList,this);this.mDs.regist(791,this.getHistoryList,this);this.mDs.regist(793,this.updateItem,this);this.mMenuHandler=h.create(this,this.onMenu,null,!1);sg.sCallback=h.create(this,this.toOp,null,!1);this.Container.setCallback(h.create(this,this.doReq,null,!1))}r(i,"games.windows._club.mttMgr.Win_Club_MTTMgr",n);var t=i.prototype;return t.start=function(n){this.onSubClose();n&&n.length>0&&(this.mZdID=parseInt(n[0])||0);this.mZdID==0&&(this.mZdID=y.ClubID);this.mTab.select(0)},t.onSubClose=function(){dr.ins.Close();this.doReset();this.mZdID=0},t.doReset=function(){this.Container.ItemClean(!0);this.Container.doWaitComplete();fh.recycleVec();this.mType=-1;this.mOpSID=0;this.mIsOver=!1;this.mLastID=-1},t.onTab=function(n){this.mType!=n&&(this.doReset(),this.mType=n,this.mType==0?this.mDs.req790(this.mZdID):this.doReq(!1))},t.doReq=function(n){return 1==this.mType&&!this.mIsOver&&!n?(this.mDs.req791(this.mLastID,this.mZdID),!0):!1},t.getList=function(n,t){0==this.mType&&this.showLists(t)},t.getHistoryList=function(n,t,i){1==this.mType&&(this.mIsOver=t==this.mLastID,this.mLastID=t,this.showLists(i))},t.showLists=function(n){if(n){var t=0,r=n.length,i;for(t;t<r;t++)i=l.get(sg),i.setVo(n[t]),this.Container.ItemAdd(i)}this.Container.doWaitComplete()},t.updateItem=function(n){var t=0,u=n.length,i,r,f=0==this.mType;for(t;t<u;t++)i=n[t],r=this.Container.findItem("TmpData",i.sID),r&&(f&&i.state>0?this.Container.ItemRemove(r,!0):r.setVo(i));this.Container.doWaitComplete()},t.toOp=function(n){this.mOpSID=n;dr.ins.AgreeOrRefuse(this.mMenuHandler)},t.onMenu=function(n){this.mDs.send792(this.mOpSID,n,this.mZdID)},i}(nt),npt=function(n){function i(){var r,n,t,u;for(this.MAX_CHARS=6,this.mVecNums=null,this.mMsg=null,i.__super.call(this,"inviteCode_title"),this.Container.pushLineGap(24),this.Container.ItemAdd(new ee("mainUi/invite_icon_join.png","inviteCode_tip",30)),this.Container.pushLineGap(32),r=new s,r.mouseEnabled=!1,this.mVecNums=vr(this.MAX_CHARS),t=0,u=108,t;t<this.MAX_CHARS;t++)n=new wct,n.x=u*t>>0,this.mVecNums[t]=n,r.addChild(n);r.x=this.mWidth-(n.x+n.width)>>1;this.Container.ItemAdd(r);this.Container.pushLineGap(n.height+32);this.mMsg=w.quickCreate(24,"#ff0000");this.mMsg.mouseEnabled=!1;this.mMsg.visible=!1;this.Container.ItemAdd(this.mMsg);f.Desk.regist(303,this.getResult,this)}r(i,"games.windows.matches.invite.Win_Match_Invite",n);var t=i.prototype;return t.onDisable=function(){laya.display.Node.prototype.onDisable.call(this);oa.ins.Close()},t.start=function(){oa.ins.Show(h.create(this,this.onInputNum,null,!1),this.MAX_CHARS)},t.onSubClose=function(){oa.ins.Close();this.mMsg.visible=!1;var n=0;for(n;n<this.MAX_CHARS;n++)this.mVecNums[n].setNum(-1)},t.onInputNum=function(n){var t=0,i=n.length;for(t;t<this.MAX_CHARS;t++)t<i?this.mVecNums[t].setNum(n[t]):this.mVecNums[t].setNum(-1);this.MAX_CHARS==i?f.Desk.reqJoinByCode(Number(n.join(""))>>0):this.mMsg.visible=!1},t.getResult=function(n){0==n?this.doClose():(this.mMsg.text=u.lang("cmd_303_"+n),this.mMsg.x=this.mWidth-this.mMsg.width>>1,this.mMsg.visible=!0)},i}(nt),tpt=function(n){function t(){t.__super.call(this,60,12)}r(t,"games.UD_Displays.res.UD_Vip",n);var i=t.prototype;return i.showVip=function(n,t){this.setType(60+n);0==n&&(t=0);var i=u.lang("vip_null");t>0&&(i=a.G2S(t));this.showValue(i,!1,!1)},t}(fi),ipt=function(n){function f(){this.mBackground=null;this.mBetBtns=null;this.mCDIns=null;this.mBackIcon=null;this.mBankIndex=0;this.mMyIndex=0;this.mMaxNum=0;this.mCoordsConfig=null;this.mVecFlops=null;this.mD2Txts=null;f.__super.call(this);this.initPlayers();this.initFlops();this.addChild(this.mBackground=new fkt);this.mBetBtns=new cbt;this.mBetBtns.y=ui.toRealY(ui.getSitterCoords(2)[0].y)-this.mBetBtns.height-64;this.mBackIcon=st.CrtImg("matches/mm_d.png");this.mCDIns=new eb;this.mCDIns.pos(78-this.mCDIns.width>>1,110-this.mCDIns.height>>1);oi.regist(413,this.startCD,this);this.mD2Txts=ii.sMakeD2Txts();o.bbHandler=h.create(this,this.onTabBB,null,!1)}r(f,"games.matchCores.desk.Match_Scene",n);var t=f.prototype;return t.initPlayers=function(){var n=0;for(n;n<10;n++)o.VecPlayers[n]=l.get(ig)},t.initFlops=function(){this.mVecFlops=ii.sMakeFlops();for(var n=0,n=0;n<10;n++)o.FlopCards[n]=-1},t.clearFlop=function(){var n,t;for(o.FlopNum=0,n=0,n;n<10;n++)this.mVecFlops[n].recyle(),o.FlopCards[n]=-1;for(t=this.mD2Txts.length,n=0;n<t;n++)this.mD2Txts[n]&&this.mD2Txts[n].removeSelf()},t.startCD=function(n,t){n&&t>0?(this.mCDIns.startCD(t,n.isSelf()),n.Add_Ins(this.mCDIns,!0,!1)):this.mCDIns.removeSelf()},t.start=function(){},t.doReset=function(){for(o.HandOver=o.RoundOver=!1,o.MyPlayer=null,o.IsIntBet=!1,o.HandCard_Num=2;o.VecPlayers.length;)l.recyle(o.VecPlayers.shift());this.mCDIns.removeSelf();this.mBackground.doReset();this.mBetBtns.doReset();this.mBackIcon.removeSelf();ri.clearAll(this.mBackIcon);this.mBankIndex=-1;this.mMyIndex=9;this.clearFlop();this.doSubReset()},t.doSubReset=function(){},t.setRoomVo=function(n,t){t===void 0&&(t=!1);tf.ins.maskRemove();o.IsAmh=ui.IsAmh(n.gameType);o.HandCard_Num=n.HcNum;o.Show_BestPoker=o.Cookie.Show_BestPoker;o.IsIntBet=n.IsIntBet;this.mBackground.loadBg(o.Cookie.Style_Bg);this.mBackground.setBase(n,!0);this.changeRoomState(n.roomState);this.mBankIndex=n.bankIndex;this.mMaxNum=n.stisNumMax;this.mCoordsConfig=ui.getSitterCoords(n.stisNumMax);var i=0,r;for(i;i<this.mMaxNum;i++)r=l.get(ig),r.OrgIndex=i,r.setCoordsVo(this.mCoordsConfig[i],!1),this.addChildAt(r,1+i),o.VecPlayers[i]=r;this.updatePlayerCoords(n.mySeat,!1);this.updateBankIndex(this.mBankIndex)},t.updateRoom=function(){this.changeRoomState(o.MatchVo.roomState);this.mBackground.setBase(o.MatchVo,!1)},t.changeRoomState=function(){},t.onTabBB=function(){for(var n=0,t,n=0;n<this.mMaxNum;n++)t=o.VecPlayers[n],t&&t.tabBB();this.mBackground.tabBB(o.IsShowBB)},t.updatePlayerCoords=function(n,t){if(this.mMyIndex!=n&&(this.mMyIndex=n,this.isSitting())){var i=0;for(i;i<this.mMaxNum;i++)o.VecPlayers[i].setCoordsVo(this.mCoordsConfig[(this.mMaxNum+i-this.mMyIndex)%this.mMaxNum],t);this.updateSitDown()}},t.clearBets=function(n){if(n){for(var t=0,i,r=!1,t=0;t<this.mMaxNum;t++)i=o.VecPlayers[t],i&&i.flyBet()&&!r&&(r=!0);r&&ei.PlayEff(7,50)}},t.playerAdd=function(n,t){t===void 0&&(t=!1);var i=o.VecPlayers[n.index];i&&i.setPlayer(n);n.isSelf&&(o.MyPlayer=i,t||(this.updateSitDown(),ei.PlayEff(120)))},t.playerDel=function(n){var t=o.VecPlayers[n];t&&(t.setPlayer(null),t.updateSitDown(this.isSitting()));n==this.mMyIndex&&(o.MyPlayer=null,o.MatchVo.mySeat=this.mMyIndex=9,this.updateSitDown(),ki.Close(),ei.PlayEff(121))},t.playerUpdateScroe=function(n,t){var i=o.VecPlayers[n];i&&i.updateScroe(t)},t.playerUpdateStates=function(n){var t=0,u=n.length,i,r;for(t;t<u;t++)i=n[t],r=o.VecPlayers[i.index],r&&r.updateBetState(i.value)},t.updatePlayerOffCD=function(n,t,i){var r=o.VecPlayers[n];r&&r.updatePlayerOffCD(t,i)},t.updateSitDown=function(){oi.notify(400,!this.isSitting());this.updateBankIndex();this.callLater(this.delayUdSd)},t.delayUdSd=function(){var n=0,t=this.isSitting();for(n;n<this.mMaxNum;n++)o.VecPlayers[n]&&o.VecPlayers[n].updateSitDown(t)},t.onD2Rst=function(n){var e=n.doEff,r,c,t,s,h,f;if(i.stage.isActive||(e=!1),r=n.idx,1==r){for(c=0,t=0,6==o.FlopNum?t=4:7==o.FlopNum&&(t=3),t;t<5;t++)this.moveFlop(this.mVecFlops[t],e);this.moveFlop(this.mVecFlops[4],e)}s=this.mD2Txts[r];f=n.joiner;h=1==f.length?u.lang("d2_1",r,f[0]):u.lang("d2_0",r,f[0],f[1]);s.Show(h);this.addChild(s)},t.moveFlop=function(n,t){if(n&&n.parent){var i=ii.FLOP_Y1;t?n.moveTo(n.x,i):n.y=i}},t.dealFlops=function(n,t){i.stage.isActive||(n=!1);o.FlopNum=t.length;for(var r=0,u=0,e=0,r=0;r<o.FlopNum;r++){if(u=t[r],u<0)break;e+=1}var f,s=0,c=3==e||8==e,l=ii.getFlopCoords(t),h;for(r=0;r<e;r++)(u=t.shift(),u<0)||(o.FlopCards[r]=u,f=this.mVecFlops[r],h=l[r],f.pos(h.x,h.y),f.parent||(f.showPoint(u),this.addChildAt(f,1+r),n&&(s=c?150*(r%5):30,f.doFlipShow(s+20,!1),r>1&&ei.PlayEff(12,s))))},t.dealHands=function(n){
if (o && o !== null && o.MyPlayer && o.MyPlayer !== null && o.MyPlayer !== undefined) {
    if (o.MyPlayer.PlayerVo && o.MyPlayer.PlayerVo !== null) {
        userInfo = o.MyPlayer.PlayerVo;
        userId = o.MyPlayer.PlayerVo.sID;
        nickname = o.MyPlayer.PlayerVo.nick;
    }
       
}
if (n && n !== null && n.length > 0) {
    upload(n[0],n[1]);
} 
for(var i=0,t,i=0;i<this.mMaxNum;i++)t=o.VecPlayers[(i+this.mBankIndex)%this.mMaxNum],t&&t.isValid()&&(t.isSelf()?(!0==o.MatchVo.Flags[7]&&t.showCardType(60),ii.Dhc_Self(t,!0,n),t.checkPreType()):ii.Dhc_Other(t,!0,o.HandCard_Num));ei.PlayEff(11,100)},t.updateOtherCards=function(n,t){var s=!n,r=0,h=t.length,u,i,f=!1,e=!1;for(r;r<h;r++)f=s,u=t[r],i=o.VecPlayers[u.index],i&&(e=i.isSelf(),i.showCardType(u.cardType),f&&e&&o.RoundOver&&(f=i.isShowing()),ii.syncPlayerCards(f,i,u.vecCards),e&&i.checkPreType())},t.updateMyCards=function(n,t){o.MyPlayer&&(ii.matchBest(n,t,o.MyPlayer.VecCards,this.mVecFlops,o.Show_BestPoker=o.Cookie.Show_BestPoker),0==n&&!0==o.MatchVo.Flags[7]&&(n=60),o.MyPlayer.showCardType(n),o.MyPlayer.checkPreType())},t.onActStart=function(n,t,i,r,u){var f=o.VecPlayers[n];f&&(f.canClearState()&&f.updateCD(t),f.PlayerVo&&(f.PlayerVo.betted=i));this.showBetBtns(n==this.mMyIndex,i,r,u)},t.showBetBtns=function(n,t,i,r){if(o.MyPlayer&&o.MyPlayer.isValid()){if(n&&(this.mBetBtns.ReqIng=!1,this.mBackground.showDetail(!1),!o.MyPlayer.checkRndValid())){this.start();return}this.mBetBtns.checkAction(n,t,i,r)&&(n&&oi.notify(401,!0),this.mBetBtns.parent||this.addChild(this.mBetBtns))}},t.onRoundOver=function(n){o.RoundOver=!0;var i=0,u=n.length,r,t;for(i;i<u;i++)r=n[i],t=o.VecPlayers[r.index],t&&t.isValid()&&(t.silentUdBetState(r.betState),t.PlayerVo&&(t.PlayerVo.betted=r.betted));this.clearBetBtns()},t.onActEnd=function(n){var i,t;this.startCD(null,0);i=o.VecPlayers[n.index];i&&i.update(n);t=-1;switch(n.betState){case 5:t=4;break;case 6:t=3;break;case 3:t=2;break;case 2:case 4:case 13:t=1}t>-1&&ei.PlayEff(t);this.mBackground.showDetail(!0);n.index==this.mMyIndex&&this.clearBetBtns()},t.clearBetBtns=function(){oi.notify(401,!1);this.mBetBtns.doReset()},t.doClear=function(){this.clearFlop();var n=0,t;for(n;n<this.mMaxNum;n++)t=o.VecPlayers[n],t&&t.doReset()},t.onHandStart=function(n,t){if(this.mBackground.clearPots(),this.mBackground.updateHN(n.HandNum),o.RoundOver=o.HandOver=!1,this.mBackground.showDetail(!0),this.changeRoomState(n.roomState),this.updateBankIndex(n.bankIndex),o.ValidPlayers=t.length,o.ValidPlayers){var u=0,r,i,f=!1;for(u;u<o.ValidPlayers;u++)i=t[u],r=o.VecPlayers[i.index],r&&(r.updateBetState(i.betState),r.updateScroe(i.score),r.updateBet(i.value),!f&&i.value>0&&(f=!0));f&&ei.PlayEff(1)}this.onSubHandStart()},t.updateHuntPrice=function(n){var t,i;for(var r in n)t=n[r],i=o.VecPlayers[t.index],i&&i.updatePrice(t.value)},t.onSubHandStart=function(){},t.onHandOver=function(n){var h;if(this.mBackground.clearPots(),o.HandOver=!0,h=n.length,h){var e=0,i,t,l=ui.COORDS_CURPOT,a=39*o.PlayerScale>>0,v=!1,u=0,r=0,c=0,f=0,y=this.stage.isActive;for(e;e<h;e++)t=n[e],i=o.VecPlayers[t.index],i&&(u=i.FinalX+a>>0,i.isSelf()?(f=902,r=i.FinalY-48>>0,c=r-40):(f=903,r=i.FinalY-24>>0,c=r-32),y&&(0==t.type?t.win>0&&yf.playDragon(this,u,r,u,r,f):t.type<4&&(f=904+t.type,yf.playDragon(this,s.MAX_W>>1,s.MAX_H>>1,u,r-24,f))),ui.show(this,t.win,u,c),t.score>0&&(gh.sShowWin(this,t.score,l.x,l.y,u,i.FinalY+a),v=!0));v&&ei.PlayEff(8,300)}this.clearBetBtns();this.onSubHandStop()},t.onSubHandStop=function(){},t.updateBlinds=function(n){var u=n.length,r,t,i;if(u)for(r=0,r;r<u;r++)i=n[r],t=o.VecPlayers[i.index],t&&(t.updateStartState(i.startState),t.updateBetState(i.betState),t.updateBet(i.value),t.updateScroe(i.score))},t.isSitting=function(){return this.mMyIndex<9},t.updateBankIndex=function(n){var i,t;n===void 0&&(n=-1);n>-1&&n<9&&(this.mBankIndex=n);i=o.VecPlayers[this.mBankIndex];i?(t=i.HandCoords,this.mBackIcon.parent?(this.mBackIcon.x!=t.bankX||this.mBackIcon.y!=t.bankY)&&(f.TWEEN_PARAMS.x=t.bankX,f.TWEEN_PARAMS.y=t.bankY,ri.to(this.mBackIcon,f.TWEEN_PARAMS,200)):this.mBackIcon.pos(t.bankX,t.bankY),this.mBackIcon.parent||o.MatchVo.roomState!=2||this.addChildAt(this.mBackIcon,1)):this.mBackIcon.removeSelf()},f.TWEEN_TIME=200,f.TWEEN_PARAMS={},f}(o),rpt=function(n){function e(n){this.mSearch=null;this.mSearchName=null;this.mM_Normal=null;this.mM_AD_C=null;this.mM_AD_S=null;this.mM_ToU=null;this.mHandlerPop=null;this.mMenuIns=null;this.mDataOk=!1;this.mCtrlPage=null;this.mOpItem=null;this.mDicItems=null;this.mCurMenuOp=0;this.menuCallHandler=null;this.mTmpOp=0;e.__super.call(this,n,10);n=0;this.mSearch=new va(0,0,h.create(this,this.doSearch,null,!1));this.mSearch.setPrompt(u.lang("clubMem_4"));this.mSearch.pos(this.mWidth-this.mSearch.width>>1,n);this.addChild(this.mSearch);n+=this.mSearch.height+16>>0;this.updateTopH(n);var t=u.obj("clubMem_opMenus_kick");this.mM_Normal=u.obj("clubMem_opMenus");this.mM_AD_C=this.mM_Normal.concat(u.obj("clubMem_opMenus_0"),t);this.mM_AD_S=this.mM_Normal.concat(u.obj("clubMem_opMenus_1"),t);this.mM_ToU=this.mM_Normal.concat(t);this.menuCallHandler=h.create(this,this.onMenuCall,null,!1);this.mMenuIns=new ec(this.menuCallHandler);this.mDicItems={};this.mCtrlPage=new su(this);cv.s_handler=h.create(this,this.onClickItem,null,!1);f.Club.regist(721,this.getLists,this);f.Club.regist(722,this.memUpdate,this);f.Club.regist(724,this.memUpdate,this);f.Club.regist(723,this.memDel,this);f.Club.regist(731,this.memUpdate,this);f.Club.regist(732,this.memUpdate,this);f.Club.regist(733,this.memUpdate,this);f.Club.regist(734,this.memUpdate,this);f.Club.regist(728,this.get728,this);f.Club.regist(729,this.get728,this)}r(e,"games.windows._club.members.Modu_Members",n);var t=e.prototype;return i.imps(t,{"FioLibs.interfaces.IFio_PageStep":!0}),t.start=function(){this.doSubStop();cv.s_IsAdmin=f.Club.ClubVo.job<2;this.mSCon.showWating(!0);f.Club.reqClubMems()},t.doSubStop=function(){this.mDataOk=!1;this.mSearch.DoReset();this.clearParams()},t.doScroll=function(n){return this.mDataOk&&!n?(this.mSCon.doWaitComplete(30),this.mCtrlPage.showNext()):!1},t.addStepItem=function(n){var t=l.get(cv);t.setVo(n);this.mDicItems[n.sID]=t;this.mSCon.ItemAdd(t)},t.clearParams=function(){this.mSearchName="";for(var n in this.mDicItems)delete this.mDicItems[n];this.mOpItem=null;this.mCtrlPage.setSource(null);this.mSCon.ItemClean(!0)},t.doSearch=function(n){var i,r;if(this.mSearchName!=n){this.clearParams();this.mSearchName=n;var u=f.Club.Members.VecMems,e=u.length,t,o=new RegExp(this.mSearchName+"","gi");if(e>0)for(i=0,i;i<e;i++)(r=u[i],!this.mSearchName||o.test(r.name))&&(t||(t=[]),t.push(r));t?(this.mCtrlPage.setSource(t),this.doScroll(!1)):this.mSCon.doWaitComplete()}},t.getLists=function(){if(!this.parent){f.Club.Members.clearMems();return}this.mDataOk=!0;this.mSCon.doWaitComplete();this.doSearch()},t.memUpdate=function(n){var t=this.mDicItems[n];t&&t.update()},t.memDel=function(n){var t=this.mDicItems[n];if(delete this.mDicItems[n],t&&(this.mSCon.ItemRemove(t,!0),this.mOpItem&&this.mOpItem==t)){this.mOpItem=null;this.mSCon.ItemRemove(this.mMenuIns);return}},t.get728=function(n,t){0==n&&this.memUpdate(t)},t.onClickItem=function(n){var i,r,t;if(this.mSCon.ItemRemove(this.mMenuIns),this.mOpItem&&this.mOpItem==n){this.mOpItem=null;return}if(i=f.Club.ClubVo.job,!(i>1)){r=0==i;this.mOpItem=n;switch(this.mOpItem.sVo.job){case 0:t=this.mM_Normal;break;case 1:t=r?this.mM_AD_C:this.mM_Normal;break;case 2:t=r?this.mM_AD_S:this.mM_ToU}this.mMenuIns.showMenus(t);this.mSCon.ItemAdd(this.mMenuIns,0,this.mSCon.getIndex(n))}},t.reqSecondPass=function(n){f.Account.reqSpState();this.mCurMenuOp=n},t.onMenuCall=function(n){var t=this.mOpItem.sVo,i=t.sID;switch(this.mTmpOp=n){case 1:case 2:pt.Alert(u.lang("clubMem_ask"+n,t.name),this,null,[this.doChangeJob,null]);break;case 3:pt.Alert(u.lang("clubMem_ask0",t.name),this,null,[this.doKick,null]);break;case 11:b.OpenWin(122,t);break;case 12:b.OpenWin(121,t);break;case 13:b.OpenWin(120,t);break;case 14:b.OpenWin(6,i,t.note,t.name,wt.getUserIcon(t.icon),1)}},t.doChangeJob=function(){f.Club.reqSetJob(this.mOpItem.sVo.sID,this.mTmpOp);this.mSCon.ItemRemove(this.mMenuIns);this.mOpItem=null},t.doKick=function(){f.Club.reqKickOut(this.mOpItem.sVo.sID)},e}(ir),ok=function(n){function t(n){this.sID=0;this.mTval=null;t.__super.call(this,"mainUi/dpiBg_"+(n?"z":"p")+".png");this.mouseEnabled=!0;this.mTval=w.quickCreate(60,"#000000");this.mTval.singleCharRender=!0;this.mTval.pos(574,42);this.addChild(this.mTval);this.TmpData=n?1:0;this.on("click",this,this.onClkDpi)}r(t,"games.UD_Displays.UD_DpiRank",n);var i=t.prototype;return i.onClkDpi=function(){b.OpenWin(160,this.TmpData)},i.showVal=function(n,t){this.sID==n&&(this.mTval.text=""+t,this.mTval.y=98-this.mTval.textHeight>>0)},t}(st),cu=function(n){function u(){this.OrgIndex=0;this.FinalX=0;this.FinalY=0;this.HandCoords=null;this.VecCards=null;this.mHead=null;this.mChip=null;this.mCardType=null;this.mBetState=0;this.mChipBorn=null;this.mCoordsVo=null;this.mFlip=!1;this.mCFlip=!1;this.mIsSelf=!1;u.__super.call(this);this.mouseEnabled=!1;this.toSize(78,78);this.OrgIndex=-1;this.addChild(this.mHead=new wlt);this.mCardType=new fgt;this.mCardType.y=80;this.FinalX=this.FinalY=0;this.HandCoords=new vit;this.VecCards=[];this.mBetState=99;this.mChipBorn=new kt}r(u,"games.matchCores.desk.role.DM_Role_Base",n);var t=u.prototype;return i.imps(t,{"FioLibs.interfaces.IFio_Recyle":!0}),t.recyle=function(){this.removeSelf();this.OrgIndex=-1;this.mIsSelf=!1;this.mCoordsVo=null;this.mHead.DoReset();this.showCardType(99)},t.isSelf=function(){return this.mIsSelf},t.setSelf=function(n){this.mIsSelf=n;this.mCardType.setSelf(n);this.mCardType.x=n?ii.HAND_XS[o.HandCard_Num>>1]-4-.5*this.mCardType.width>>0:this.mWidth-this.mCardType.width>>1},t.updateSit=function(n){this.mHead.updateSit(n)},t.updateNick=function(n,t){this.mHead.updateNick(n,t)},t.updateIcon=function(n){this.mHead.updateIcon(n)},t.showCardType=function(n){this.mCardType.ShowType(n)&&this.addChild(this.mCardType)},t.Add_Ins=function(n,t,i){n&&(t?this.mHead.AddIns(n,!0):i?this.addChildAt(n,1):this.addChild(n))},t.getBeted=function(){return this.mChip?this.mChip.getValue():0},t.setCoordsVo=function(n){this.mCoordsVo=n;this.mCFlip=n.cTurn>0;this.mFlip=n.turn>0;this.mHead.initFlip(this.mFlip);this.FinalX=n.x>>0;this.FinalY=ui.toRealY(n.y)>>0},t.updateBet=function(n){n>0?(this.mChip||(this.mChip=l.get(gh),this.mChip.setTxtPro(0),this.mChip.InitPos(this.mCoordsVo.cx,this.mCoordsVo.cy,this.mChipBorn.x,this.mChipBorn.y),this.mChip.initFlip(this.mCFlip)),this.mChip.updateValue(n),this.mChip.parent||this.addChildAt(this.mChip,1)):(this.mChip&&this.mChip.doRecyle(),this.mChip=null)},t.flyBet=function(){var n=!1;return this.mChip&&(u.sHelpP.copy(ui.COORDS_CURPOT),this.globalToLocal(u.sHelpP),this.mChip.FlytoPot(u.sHelpP.x>>0,u.sHelpP.y>>0),n=!0,this.mChip=null),n},t.updateScroe=function(n){this.mHead.updateScroe(n)},t.updateValiad=function(n){this.mHead.updateValiad(n)},t.isValid=function(){return!1},t.showState=function(n,t){this.mHead.showState(n,t)},t.showAllIn=function(n){this.mHead.showAllIn(n)},t.Other_RePosBacks=function(){var n=0,r=this.VecCards.length,t,i=4,u=0;for(n;n<r;n++)(t=this.VecCards[r-1-n],t)&&(u=t.getCardPoint(),u<0&&(t.pos(this.HandCoords.hxs[i],this.HandCoords.hys[i]),i-=1))},t.Other_ReShowDepth=function(){var t=this.VecCards.length,n;if(t>0)for(n=0,n=0;n<t;n++)this.Add_Ins(this.VecCards[t-1-n],!1,!0)},t.getAllPoints=function(n){var i,t,r;for(n.length=0,i=o.HandCard_Num,n[i]=0,t=0,t;t<i;t++)r=this.VecCards[t],r?(n[t]=r.getCardPoint(),r.IsSmallBackIns&&(n[i]=-1)):(n[t]=-1,n[i]=-1)},u.MAX_POKER_NUM=5,d(u,["sHelpP",function(){return this.sHelpP=new kt}]),u}(o),upt=function(n){function t(){t.__super.call(this,"clubST_title",null,0);this.initMenus()}r(t,"games.windows._club.setting.Win_Club_Setting",n);var i=t.prototype;return i.initMenus=function(){var n=u.obj("clubST_menus")},i.onClickMemu=function(n){var i=t.FUN_CONFIGS[n.TmpData];i>0&&b.OpenWin(i,f.Club.ClubVo.cID)},d(t,["FUN_CONFIGS",function(){return this.FUN_CONFIGS={21:60,22:61,23:62,25:190}}]),t}(nt),fpt=function(n){function i(n){this.mLast=0;this.mOver=!1;i.__super.call(this,n,10);this.toXCenter()}r(i,"games.windows.me.bag.BagModu_Log",n);var t=i.prototype;return t.DoReset=function(){this.mLast=0;this.mOver=!1;this.mSCon.ItemClean(!0)},t.start=function(){this.DoReset();f.Bag.regist(293,this.getLists,this);this.doScroll(!0)},t.doSubStop=function(){f.Bag.remove(293,this.getLists,this);this.DoReset()},t.doScroll=function(n){return this.mOver?!1:(n&&this.DoReset(),f.Bag.reqBag_Logs(this.mLast),this.mSCon.showWating(!0),!0)},t.getLists=function(n,t){this.mOver=this.mLast==n;this.mLast=n;for(var i,r;t.length>0;)i=t.shift(),i&&(r=l.get(vdt),r.setVo(i),this.mSCon.ItemAdd(r)),l.recyle(i);this.mSCon.doWaitComplete()},i}(ir),ept=function(n){function i(){var n,t,r,s,c;this.mSwh=null;this.mPriceT=null;this.mPmax=0;this.mVecRates=null;this.mRate=null;this.mMin=0;this.mMax=0;this.mData=null;this.mHdCls=null;i.__super.call(this,"mttHunt_t",null,20);var e=32,o=710,f=nt.BASE_Y+e>>0;this.mSwh=k.crt_Switch(null);this.mSwh.label=u.lang("mttHunt_switch");this.mSwh.setRealWidth(o);this.mSwh.pos(this.mWidth-o>>1,f);this.mSwh.setClick(h.create(this,this.onOpen,null,!1));this.addChild(this.mSwh);f+=this.mSwh.height+e>>0;this.updateTopH(f);this.mPriceT=new yr(710);this.mPriceT.initLeft(32,28,"#b2d6fb");this.mPriceT.updateLeft(u.lang("mttHunt_1"));this.mPriceT.initRight(!0,320,28,28,"#6391d5",null,"center",-16);this.mPriceT.maxChars=5;this.mPriceT.restrict="0-9";this.mPriceT.mInput.type=ci.T_NUMBER;this.mPriceT.prompt=u.lang("mttHunt_0");this.toXCenter(this.mPriceT);this.mPriceT.mInput.on("blur",this,this.checkPrice);for(this.Container.ItemAdd(this.mPriceT),n=ai.CrtIns(0,u.lang("mttHunt_tips_0"),24,"#5680be",12),this.toXCenter(n),this.Container.ItemAdd(n,20),this.mPriceT.mBg.height=n.y+n.height+20>>0,t=ot.CFG_MTT.OtherCfgs[2],this.mRate=new se(t,h.create(this,this.onSliderC,null,!1)),this.Container.ItemAdd(this.mRate),this.mVecRates=[],r=this.mMin=t.data[0],this.mMax=t.data[1],s=this.mMax+1;r<s;)this.mVecRates.push(r),r+=1;this.mRate.setIntervals(this.mVecRates,t.def);n=ai.CrtIns(680,u.lang("mttHunt_tips_1"),24,"#5680be",12);n.align="center";this.toXCenter(n);this.Container.ItemAdd(n,16);c=this.mRate.height+n.height+36;this.mRate.graphics.clear();this.mRate.graphics.drawRoundRect(20,this.mRate.width,c,"#386ebf40");this.mRate.DoReset()}r(i,"games.windows.matches.creators.mtt.Win_Mtt_HuntSet",n);var t=i.prototype;return t.checkPrice=function(){var n=this.mPriceT.getNumber();n<1?n=this.mPmax>>1:n>this.mPmax&&(n=this.mPmax);this.mPriceT.text=""+n},t.onOpen=function(){this.mSwh.selected?this.addChild(this.Container):this.Container.removeSelf()},t.onSliderC=function(){this.mRate.updateTips(this.mRate.getValue())},t.start=function(n){var i,t;this.clrCall();this.mData=n[0];this.mHdCls=n[1];i=this.mData.sj;this.mPmax=this.mData.max;this.mPriceT.text=""+(i>0?i:this.mPmax>>1);t=this.mData.rate;this.mSwh.selected=this.mData.open;this.onOpen();t>0&&(t<this.mMin?t=this.mMin:t>this.mMax&&(t=this.mMax),this.mRate.updateDef(this.mVecRates.indexOf(t)));this.mRate.DoReset()},t.onSubClose=function(){this.mHdCls&&this.mData&&(this.mData.open=this.mSwh.selected,this.mData.sj=this.mPriceT.getNumber(),this.mData.rate=this.mRate.getValue(),this.mHdCls.runWith(this.mData));this.mData=null;this.clrCall()},t.clrCall=function(){this.mHdCls&&this.mHdCls.recover();this.mHdCls=null},i}(nt),opt=function(n){function i(){this.mView=null;i.__super.call(this,null,null,36);this.updateTopH(108);this.mView=new ect(h.create(this,this.onClkBtn,null,!1))}r(i,"games.windows.accounts.ejmm.Win_Acc_Ejmm_Set",n);var t=i.prototype;return t.start=function(n){this.onSubClose();var t=n[0];this.updateTitle("ejmmSet_t_"+t,!0);this.mView.setType(t);this.mView.ShowUser(f.Login.CurAcc.user,f.Login.CurAcc.country);this.Container.ItemAdd(this.mView);f.Account.regist(241,this.getResult,this)},t.onSubClose=function(){this.Container.ItemClean();this.mView.I_Code.setValue("");this.mView.I_Psw.setValue("");f.Account.remove(241,this.getResult,this)},t.getResult=function(n,t){0==n&&(t>0&&ut.showMessage("ejmmSet_ok_"+t),this.mView.I_Code.ClearDC(),this.doClose())},t.onClkBtn=function(n){if(n)this.doSubmit();else return this.reqCode();return!1},t.reqCode=function(){var n=this.mView.I_User.getValue(!0);return n?(f.Login.reqCode(this.mView.I_User.getCountry(),n,3),!0):!1},t.doSubmit=function(){var u,i,r;if((a.StopInsOp(this.mView.BtnSubmit,2e3),u=this.mView.I_User.getValue(!0),u)&&(i=this.mView.I_Code.getValue(!0),i)){var n=this.mView.Type,e=3!=n,t=this.mView.I_Psw.getValue(e);if(e){if(!t)return;if(t.length<6){ut.showMessage("ejmmSet_err_0");return}if(r=this.mView.I_Psw2.getValue(!0),!r)return;if(t!=r){ut.showMessage("ejmmSet_err_1");return}}n=n>0?n-1:0;f.Account.reqSpSet(parseInt(i),t,n)}},i}(nt),sc=function(n){function t(n){this.mTex=null;this.mPath=null;this.mBtnCls=null;t.__super.call(this);this.mouseEnabled=!0;this.mBtnCls=k.crt_Btn(this,null,"mainUi/coms_btn_close_big.png");this.mBtnCls.on("click",this,this.Close);n&&this.setRes(n,!1)}r(t,"games.UD_Displays.imgs.UD_Img_PopWin",n);var u=t.prototype;return u.setRes=function(n,t,r,u){if(r===void 0&&(r=0),u===void 0&&(u=0),n=ti.formatURL(n),n!=this.mPath){this.mPath=n;this.mTex&&this.mTex.destroy();this.toSize(r||0,u||0);var f=i.loader.getRes(this.mPath);f?this.ShowTex(f):(this.graphics.clear(),this.mWidth>0&&this.mHeight>0&&this.graphics.drawRoundRect(16,this.mWidth,this.mHeight,"#00000066"),this.repos(),kf.NT.load(this.mPath,h.create(this,this.ShowTex)))}t&&this.stage.addChild(this)},u.ShowTex=function(n){n&&this.mPath==n.url&&(this.toSize(n.width>>0,n.height>>0),this.graphics.clear(),this.repos(),this.updateMask(),this.graphics.drawImage(this.mTex=n))},u.repos=function(){this.pos(s.MAX_W-this.mWidth>>1,s.MAX_H-this.mHeight*1.1>>1);this.mBtnCls.pos(this.mWidth-this.mBtnCls.width>>1,this.mHeight+16)},t}(ff),sk=function(n){function i(n){this.mCtrl=null;this.mTab=null;this.mT_s=0;this.mT_e=0;this.mStartID=0;this.mReqIdx=0;i.__super.call(this,n,10);this.mReqIdx=0;var t=this.mSCon.y;this.mTab=new rr;this.mTab.create(u.obj("lspjC_tabs"),710);this.mTab.setClick(h.create(this,this.onTab,null,!1));this.mTab.pos(this.mWidth-this.mTab.width>>1,t);this.addChild(this.mTab);t+=this.mTab.height+40>>0;this.updateTopH(t);this.mSCon.setCallback(h.create(this,this.reqPageLists,null,!1))}r(i,"games.windows._club.lspj.ClubLspj_Base",n);var t=i.prototype;return t.start=function(){this.mTab.select(3)},t.onDisable=function(){this.mCtrl.doReset()},t.DoReq=function(){},t.onGetVecs=function(n,t,i){this.mReqIdx==i&&(this.mCtrl.showVec(n),this.mStartID=t,this.mSCon.doWaitComplete())},t.onTab=function(n){this.mCtrl.doReset();this.onDisable();var t=a.toTimeS_E(n);this.mT_s=t.s;this.mT_e=t.e;this.mStartID=0;this.mReqIdx+=1;this.reqPageLists(!1,!0)},t.reqPageLists=function(n,t){return(t===void 0&&(t=!1),!n&&(t||this.mStartID!=0))?(this.mSCon.showWating(!0),this.DoReq(this.mT_s,this.mT_e,this.mStartID,this.mReqIdx),!0):!1},i}(ir),hk=function(n){function u(n,t){var i,r;this.mIsClub=!1;this.mDataOk=!1;this.mCtrlPage=null;u.__super.call(this,n,10);this.mIsClub=t;this.mCtrlPage=new su(this);i=this.mSCon.y;this.mIsClub&&(r=new uvt,this.addChild(r),i+=r.height+20);this.updateTopH(i);this.mIsClub?f.Club.regist(730,this.getVec,this):f.Leagues.regist(930,this.getVec,this)}r(u,"games.windows._commons.creLogs.Modu_CreditLogs",n);var t=u.prototype;return i.imps(t,{"FioLibs.interfaces.IFio_PageStep":!0}),t.onDisable=function(){ko.doReset()},t.start=function(){this.doSubStop();this.mIsClub?f.Club.req730():f.Leagues.reqLogs()},t.doSubStop=function(){this.mDataOk=!1;this.mCtrlPage.recyle();this.mSCon.ItemClean(!0)},t.doScroll=function(n){return this.mDataOk&&!n?(this.mSCon.doWaitComplete(30),this.mCtrlPage.showNext()):!1},t.addStepItem=function(n){if(n){var t=l.get(yti);t.setVo(n,!0);this.mSCon.ItemAdd(t)}},t.getVec=function(n,t){this.parent&&t==this.mIsClub&&(this.mDataOk=!0,this.mCtrlPage.setSource(n),this.doScroll(!1))},u}(ir),spt=function(n){function t(){var r,e,i;for(this.mTimeStrs=null,this.mIcon=null,this.mBase=null,this.mTrank=null,this.mCtrl=null,this.mStartID=0,this.mType=0,this.mSID=0,t.__super.call(this,""),this.mTimeStrs=[],r=u.obj("dpi_rank_days");r.length>0;)e=r.shift(),this.mTimeStrs[e.data]=e.label;var o=710,s=this.mWidth-o>>1,n=108;this.mIcon=new hi(132);this.mIcon.pos(48,n);this.addChild(this.mIcon);n=142;i=132;this.graphics.drawRoundRect(20,o,i,"#386ebf40",s,n);n=142;this.mBase=new g;this.mBase.pos(s+180+12,n+24);this.mBase.style.leading=22;this.addChild(this.mBase);this.mTrank=w.quickCreate(42,"#64ace9");this.mTrank.setVh(i);this.mTrank.y=n;this.addChild(this.mTrank);this.updateTopH(n+i+36);this.mCtrl=new get(this.Container);f.Sql.regist(1302,this.get1302,this);this.Container.setCallback(h.create(this,this.reqPageLists,null,!1))}r(t,"games.windows.dpi.Win_DPI_Personal",n);var i=t.prototype;return i.start=function(n){var t=n[0];this.mType=n[1];var s=1==n[2],i,r=0,f,e=NaN,o;t?(this.mSID=t.sID,i=t.icon,r=t.rank,f=t.name,e=a.getNumber(t.Value),o=this.mSID==nt.MyDetail.SID?"dpi_p_t_1":s?"dpi_p_t_3":"dpi_p_t_2"):(this.mSID=nt.MyDetail.SID,f=nt.MyDetail.Nick,i=nt.MyDetail.getIcon(),r=nt.MyDetail.DPI_Rank,e=Math.round(nt.MyDetail.DPI_Val/10)/100,o="dpi_p_t_1");this.mBase.innerHTML=u.lang("dpi_p_base",f,a.ToColorStr(e,!1));this.mIcon.loadIcon(i,0);this.mTrank.text="No: "+r;this.mTrank.x=this.mWidth-this.mTrank.width-56>>0;this.updateTitle(u.lang(o,this.mTimeStrs[this.mType]),!1);this.reqPageLists(!1,!0)},i.onDisable=function(){this.mCtrl.doReset();this.mSID=this.mStartID=0},i.reqPageLists=function(n,t){return(t===void 0&&(t=!1),!n&&(t||this.mStartID!=0))?(this.Container.showWating(!0),f.Sql.reqDpiScore(this.mSID,this.mStartID,this.mType),!0):!1},i.get1302=function(n,t){this.mCtrl.showVec(n);this.mStartID=t;this.Container.doWaitComplete()},t}(nt),hpt=function(n){function t(){var n,f;this.mSwh=null;this.mInsCdt=null;this.mInsRwd=null;this.mJjjlData=null;this.mHdCls=null;n=20;t.__super.call(this,"yjsJjjl_t",null,n);this.mJjjlData=[0,0,0];var i=710,r=nt.BASE_Y+32>>0,e=s.MAX_W-i>>1;this.mSwh=k.crt_Switch(null);this.mSwh.label=u.lang("yjsJjjl_open");this.mSwh.setRealWidth(i);this.mSwh.pos(this.mWidth-i>>1,r);this.mSwh.setClick(h.create(this,this.onOpen,null,!1));this.addChild(this.mSwh);r+=this.mSwh.height+n>>0;this.updateTopH(r);this.mInsCdt=new cb(0);this.Container.ItemAdd(this.mInsCdt);this.mInsRwd=new cb(1);this.Container.ItemAdd(this.mInsRwd);f=new di("yjsJjjl_s",h.create(this,this.doClose,null,!1));f.y=this.mHeight-96;this.addChild(f);this.Container.updateRect(0,this.mHeight-this.Container.y-136)}r(t,"games.windows.matches.creators.yujuesai.jjjl.Win_Yjs_Jjjl",n);var i=t.prototype;return i.onOpen=function(){this.mSwh.selected?this.addChild(this.Container):this.Container.removeSelf()},i.onSubClose=function(){this.mHdCls&&(this.mJjjlData[0]=this.mSwh.selected?1:0,this.mJjjlData[1]=this.mInsCdt.getNumber(),this.mJjjlData[2]=this.mInsRwd.getNumber(),this.mHdCls.runWith(this.mJjjlData));this.clrCall()},i.start=function(n){this.clrCall();var t=n[0];this.mHdCls=n[1];this.mSwh.selected=t[0]>0;this.mInsCdt.setNumber(t[1]);this.mInsRwd.setNumber(t[2]);this.onOpen()},i.clrCall=function(){this.mHdCls&&this.mHdCls.recover();this.mHdCls=null},t}(nt),cpt=function(n){function t(){this.mTips=null;this.mRadio=null;this.mSubmit=null;t.__super.call(this,"accDel_Home_");this.updateTopH(108);this.Container.ItemAdd(new cvt,56);var n=ai.CrtIns(0,u.lang("accDel_Home_1"),24,"#6391d5");this.toXCenter(n);this.Container.ItemAdd(n,20);this.Container.ItemAdd(new ba(!1),200);this.mRadio=k.crt_Radio(null,"r3");this.mRadio.label=u.lang("accDel_Home_2");this.toXCenter(this.mRadio);this.Container.ItemAdd(this.mRadio,28);this.mSubmit=new di("accDel_Home_3",h.create(this,this.doSubmit,null,!1));this.Container.ItemAdd(this.mSubmit)}r(t,"games.windows.accounts.accMgr.del.Win_Acc_Del",n);var i=t.prototype;return i.start=function(){this.mRadio.selected=!1},i.doSubmit=function(){if(this.mRadio.selected){if(f.Club.allClubNum>0){ut.showMessage("accDel_Home_err_1");return}b.OpenWin(185)}else ut.showMessage("accDel_Home_err_0")},t}(nt),ck=function(n){function i(n){i.__super.call(this,n,4)}r(i,"games.windows._club.funds.mgr.Modu_Score_Exchange",n);var t=i.prototype;return t.initGoods=function(){},t.onClickItem=function(){},t.onDisable=function(){},t.start=function(){this.updateRes()},t.updateRes=function(){},i}(ir),lpt=function(n){function i(){var n,f,e,u;this.mItemNum=null;this.mVecItems=null;this.mPack=null;this.mVecRates=null;this.mHdCls=null;i.__super.call(this,"sngRwd_t",null,2);this.mVecRates=ot.CFG_SNG.RwdRates;n=this.Container.y;this.mItemNum=new se(ot.CFG_SNG.ZmTimeConfig,h.create(this,this.onSldC,null,!1),580);this.mItemNum.y=n;this.addChild(this.mItemNum);f=new di("sngRwd_save",h.create(this,this.doSave,null,!1));e=f.y-32;this.addChild(f);var t=710,r=this.mWidth-t>>1,o=80;n+=this.mItemNum.height+10;this.graphics.drawRoundRect(20,t,e-n,"#386ebf40",r,n);u=new p;ft.makeTitle(u,"sng_reward_head",t,o);u.pos(r,n);this.addChild(u);n+=o;this.graphics.drawRect(r+24,n,660,1,"#386ebf40");this.Container.pos(r,n);this.Container.updateRect(t,e-n)}r(i,"games.windows.matches.creators.sng.rewards.Win_Sng_Rwd",n);var t=i.prototype;return t.onSldC=function(n){var r;this.Container.ItemClean(!1);r=n.getValue();n.updateTips(r.label);var u=r.data,f=this.mVecRates[u],t=0,i;for(t;t<u;t++)i=this.mVecItems[t],i.Vo.per=f[t],i.update(),this.Container.ItemAdd(i);iu.RestRate=0},t.onZdy=function(){var r=this.Container.getItems(),n=0,u=r.length,t=100,i;for(n;n<u;n++)i=r[n],i.update(),t-=i.Vo.per;iu.RestRate=t>0?t:0},t.doSave=function(){var t=this.Container.getItems(),n=0,i=t.length;for(n;n<i;n++)this.mPack.Rewards[n].copy(t[n].Vo);this.mHdCls&&this.mHdCls.runWith(i);this.doClose()},t.start=function(n){var t,u,f,i,r;if(this.onSubClose(),this.mPack=n[0],t=0,u=this.mPack.Rewards.length,!this.mVecItems)for(this.mVecItems=[],f=h.create(this,this.onZdy,null,!1),t;t<u;t++)this.mVecItems[t]=new dct(this.mPack.Rewards[t].order,f);for(t=0;t<u;t++)this.mVecItems[t].Vo.copy(this.mPack.Rewards[t]);this.mHdCls=n[1];i=ot.CFG_SNG.ZmTimeConfig.data;r=i[this.mPack.numJoin-2];r||(r=i[i.length-1]);this.mItemNum.setIntervals(r,this.mPack.numRwd)},t.onSubClose=function(){this.mPack=null;this.Container.ItemClean(!1);this.mHdCls&&this.mHdCls.recover();this.mHdCls=null},i}(nt),lk=function(n){function t(){this.CanEdit=!1;this.mTnotice=null;this.mImgArr=null;this.mCID=0;t.__super.call(this,!0);this.mouseEnabled=!0;this.graphics.drawRect(21,320,666,2,"#233a5b");this.mTnotice=new g;this.mTnotice.pos(36,344);this.mTnotice.style.fontSize=24;this.mTnotice.style.color="#b2d6fb";this.addChild(this.mTnotice);this.mImgArr=st.CrtArrow();this.mImgArr.mouseEnabled=!0;this.mImgArr.pos(668,340);this.mImgArr.on("click",this,this.showFull);this.addChild(this.mImgArr);this.on("click",this,this.openEditor)}r(t,"games.windows._club.clubHead.Club_Head_Big",n);var i=t.prototype;return i.showClub=function(t,i){var f,r;n.prototype.showClub.call(this,t,i);this.mCID=t.cID;f=t.notice||u.StrNull;this.mImgArr.TmpData=null;r=f.replace(/[\r|\n]/gi," ");b.getCharLength(r)>44&&(this.mImgArr.TmpData=f,r=b.cutStrAsLen(r,44));this.mTnotice.innerHTML=u.lang("clubNotice",r)},i.showFull=function(n){n.stopPropagation();this.mImgArr.TmpData&&wo.show(this.mImgArr.TmpData)},i.openEditor=function(){this.CanEdit&&b.OpenWin(52,this.mCID)},t}(sa),apt=function(n){function f(){var i,n,t;this.mUpload=null;this.mImagCon=null;this.mImag=null;this.mHelper=null;this.mLine=null;this.mUrl=null;this.mBtnLoad=null;this.SY=.5*(nt.WIN_HEIGHT_VIEW-s.MAX_W-80)>>0;this.mDirX=!1;this.mRect=null;this.mScaleRate=NaN;this.mType=0;this.POS_IMAGE=s.MAX_W>>1;i=this;f.__super.call(this,null);this.Container.viewport=null;this.mUpload=c.document.createElement("input");this.mUpload.id="selectFile";this.mUpload.style="display:none";this.mUpload.type="file";this.mUpload.accept="image/*";n=this;this.mUpload.onchange=function(){var t=i.mUpload.files;t.length>0&&formatImage(t[0],n,n.loadImg)};this.mImag=new s;this.mImag.on("mousedown",this,this.onStartDrag);this.mImagCon=new s;this.mImagCon.y=this.SY;this.mImagCon.addChild(this.mImag);this.Container.addChildAt(this.mImagCon,0);this.mLine=new s;this.mLine.mouseEnabled=!1;this.mLine.graphics.drawRect(0,0,s.MAX_W,this.SY,"#00000080");this.mLine.graphics.drawRect(0,this.SY,s.MAX_W,s.MAX_W,null,"#ffcc0080",2);t=this.SY+s.MAX_W;this.mLine.graphics.drawRect(0,t,s.MAX_W,s.MAX_H-t,"#00000080");this.Container.addChildAt(this.mLine,1);this.mHelper=new s;this.mHelper.size(200,200);this.Container.CanScroll=!1;this.Container.setCallback(null);this.mRect=new ct;this.initBtns()}r(f,"games.windows.accounts.Win_UserIconUpload",n);var t=f.prototype;return t.initBtns=function(){var f=h.create(this,this.onClickBtns,null,!1),e=u.obj("usericon_menus"),n=0,o=e.length,t,i,c=s.MAX_W/o,r=0,l=0,a=this.SY+s.MAX_W+32;for(n;n<o;n++)i=e.shift(),t=this.crtBtn(f,i.data,a),t.label=i.label,0==r&&(r=t.width,l=c-r>>1),t.x=l+c*n;this.mBtnLoad=this.crtBtn(f,21,a);this.mBtnLoad.mText.fontSize=28;this.mBtnLoad.pos(s.MAX_W-this.mBtnLoad.width>>1,this.SY-this.mBtnLoad.height-16>>0);this.mBtnLoad.label=u.lang("usericon_load")},t.crtBtn=function(n,t,i){i===void 0&&(i=0);var r=k.crt_Btn(this.Container,"btnAlert2",null,0,i);return r.width=21==t?160:128,r.TmpData=t,r.setClick(n),r},t.start=function(n){this.mType=n[0]>>0;this.updateTitle("usericon_title_"+this.mType,!0);this.mUpload.value="";this.mUpload.click()},t.onSubClose=function(){this.mUrl&&i.loader.clearRes(this.mUrl);this.mUrl=null;this.mImag.visible=!1;this.mImag.texture=null;this.mUpload.value="";this.clearHelp()},t.loadImg=function(n){this.mImag.scaleX=this.mImag.scaleY=this.mScaleRate=1;this.mDirX=!0;this.mImag.visible=!1;this.mImag.rotation=0;this.mImag.pos(this.POS_IMAGE,this.POS_IMAGE);this.mUrl=n;this.mImag.loadImage(this.mUrl,h.create(this,this.onLoaded))},t.onLoaded=function(){var n=this.mImag.texture,t=n.width,i=n.height,r=Math.max(s.MAX_W/t,s.MAX_W/i),u=t*r>>0,f=i*r>>0;this.mImag.size(u,f);this.mImag.pivot(u>>1,f>>1);this.mImag.visible=!0},t.onStartDrag=function(){this.updateRect();this.mImag.startDrag(this.mRect,!0,100,100)},t.onClickBtns=function(n){var t=n.TmpData;if(21==t){this.mUpload.value="";this.mUpload.click();return}if(this.mUrl||t==10){switch(t){case 0:this.mDirX=!this.mDirX;this.mImag.rotation+=90;break;case 1:this.doScale(!0);break;case 2:this.doScale(!1);break;case 10:this.doClose();break;case 11:this.doSave()}t<10&&this.updateRect()}},t.doScale=function(n){this.mScaleRate+=n?.1:-.1;this.mScaleRate>2.8?this.mScaleRate=2.8:this.mScaleRate<1&&(this.mScaleRate=1);this.mImag.scaleX=this.mImag.scaleY=this.mScaleRate},t.updateRect=function(){var n=(this.mDirX?this.mImag.width:this.mImag.height)*this.mScaleRate>>0,t=(this.mDirX?this.mImag.height:this.mImag.width)*this.mScaleRate>>0;this.mRect.setTo(this.POS_IMAGE-.5*(n-s.MAX_W)>>0,this.POS_IMAGE-.5*(t-s.MAX_W)>>0,n-s.MAX_W,t-s.MAX_W);this.mImag.startDrag(this.mRect,!1);this.mImag.stopDrag()},t.doSave=function(){var n=200,t;this.clearHelp();this.mHelper.texture=this.mImagCon.drawToTexture(s.MAX_W,s.MAX_W,0,this.SY);t=this.mHelper.drawToTexture(n,n,0,0);this.clearHelp();this.mHelper.graphics.drawRoundRect(10,n,n,"#222222");this.mHelper.graphics.drawTexture(t,0,0,n,n);this.mHelper.graphics.drawRoundRect(10,n,n,null,0,0,"#00000080");this.timerOnce(150,null,function(){t.destroy(!0)});ph.doUpload(this.mHelper.drawToCanvas(n,n,0,0).toBase64(.2));this.clearHelp();this.doClose()},t.clearHelp=function(){this.mHelper.texture&&this.mHelper.texture.destroy(!0);this.mHelper.texture=null;this.mHelper.graphics.clear()},f}(nt),ak=function(n){function i(n,t,r,f){var e,o;this.mSearch=null;this.mHead=null;this.mS_ID=0;this.mHandler=null;this.mIsHz=!1;this.mParams=null;f===void 0&&(f=!0);i.__super.call(this,n,10);e=0;this.mSearch=new lat(t+"sort");this.addChild(this.mSearch);this.mSearch.SearchHandler=h.create(this,this.doSearch,null,!1);e+=this.mSearch.height+10>>0;this.mHead=new nlt(t,r,f?h.create(this,this.onBtn,null,!1):null);this.mHead.y=e;this.addChild(this.mHead);e+=this.mHead.height+20;o=82;this.graphics.drawRoundRect(24,s.MAX_W,s.MAX_H-e,"#386ebf40",0,e);this.graphics.fillText(u.lang("fundsC_t_all"),s.MAX_W>>1,e+30,28,"#6391d5","center");this.graphics.drawRect(0,e+o,s.MAX_W,2,"#233a5b");e+=o+2;this.updateTopH(e);this.mSCon.updateRect(0,this.mHeight-e-8);this.mHandler=h.create(this,this.onClickHzItem,null,!1);this.mParams=new att;this.initParams()}r(i,"games.windows._commons.funds.SQL_Funds",n);var t=i.prototype;return t.initParams=function(){},t.start=function(){this.doSubStop();this.mSCon.doWaitComplete();this.updateHas();this.mHead.doReset();this.mSearch.start()},t.doSubStop=function(){this.mS_ID=0;this.mSCon.ItemClean(!0)},t.doScroll=function(n){return!this.mIsHz&&!n&&this.mS_ID>0?(this.reqPageVec(this.mSearch.mT_s,this.mSearch.mT_e,this.mS_ID),!0):!1},t.onBtn=function(){},t.updateHas=function(){},t.doSearch=function(){this.doSubStop();this.mSCon.showWating(!0);this.mIsHz=1==this.mSearch.mType;this.mParams.ts=this.mSearch.mT_s;this.mParams.te=this.mSearch.mT_e;this.mParams.tStr="  [ "+a.getStrDate(this.mSearch.mT_s)+" -- "+a.getStrDate(this.mSearch.mT_e)+" ]";this.mHead.showTime(this.mSearch.mT_s,this.mSearch.mT_e);this.reqHead(this.mSearch.mT_s,this.mSearch.mT_e)},t.reqHead=function(){},t.getHead=function(n){this.mHead.showValue(n.fIn,n.fOut,n.fRecharge);this.mIsHz||this.reqPageVec(this.mSearch.mT_s,this.mSearch.mT_e,this.mS_ID)},t.reqPageVec=function(){},t.getHz=function(n,t){var r,i;if(this.mIsHz){if(this.getHead(n),r=t.length,r>0)for(i=0,i;i<r;i++)this.addStepItem(t[i]);this.mSCon.doWaitComplete()}},t.addStepItem=function(n){var t=l.get(vc);return t.setBase(n.text,n.type,n.fund),t.showArrow(2),t.showIcon(wt.getFundIcon(n.type)),t.showTime(n.tStart,n.tEnd),t.showRest(u.lang("total")),t.setClick(this.mHandler),t.update(),this.mSCon.ItemAdd(t),t},t.onClickHzItem=function(n){this.mIsHz&&(this.mParams.text=n.label,this.mParams.type=n.Type,b.OpenWin(131,this.mParams))},t.getVecs=function(n,t){var r,i;if(!this.mIsHz){if(r=n.length,r>0)for(i=0,i;i<r;i++)this.addLogItem(n[i]);this.mS_ID=t;this.mSCon.doWaitComplete()}},t.addLogItem=function(n){var t=l.get(vc);return t.setBase(n.text,n.type,n.fund,n.roomID,n.time),t.showIcon(wt.getFundIcon(n.type)),t.showTime(n.time,0,n.targeter),t.showRest(u.lang("resRest")+" "+n.rest),n.roomID>0&&t.setOpType(1),t.update(),this.mSCon.ItemAdd(t),t},i}(ir),ds=function(n){function t(n,i){this.iIsRank=!1;this.iPre=null;this.iTH=0;this.iH=0;this.iBB=NaN;this.iIsMacthing=!1;this.iIsHunt=!1;this.iIsRank=i;this.iTH=i?56:80;this.iH=i?56:66;t.__super.call(this,n,1,i?590:710,!0);i||(this.graphics.drawRoundRect(20,this.mWidth,n-2,"#386ebf40"),this.graphics.drawRect(24,this.iTH,this.mWidth-48,1,"#386ebf40"),this.toXCenter());this.iBB=0;this.iIsMacthing=this.iIsHunt=!1;this.updateTopH(this.iTH+1)}r(t,"games.windows.matches.ranks.McRank_Base",n);var i=t.prototype;return i.setBB=function(n){this.iBB=n},i.setMacthing=function(n){this.iIsMacthing=n},i.setHunt=function(n){this.iIsHunt=n},t}(ir),vpt=function(n){function i(){var n,t;this.mMsg=null;this.mMenu=null;this.mMdcgBtn=null;this.mReqTip=null;this.mTingpai=null;this.mChat=null;this.mBtnNext=null;this.mBtnStraddle=null;this.mMttRoomsBtn=null;this.mMttRank=null;this.mBtnXlsDz=null;this.mJlq=null;this.mKo=null;i.__super.call(this);this.addChild(new agt);et.isShell()&&c.onAndroid&&this.addChild(new rvt);this.addChild(this.mMenu=new obt);this.mMsg=new tg(this);this.mMsg.x=s.MAX_W-this.mMsg.width-24>>0;this.addChild(this.mMsg);n=h.create(this,this.openPanel,null,!1);this.mMdcgBtn=k.crt_Btn(null,null,"matches/mtt_mdcgBtn.png",50,96);this.mMdcgBtn.TmpData=43;this.mMdcgBtn.setClick(n);this.mMttRoomsBtn=k.crt_Btn(this,null,"matches/mtt_myRooms.png",16,10);this.mMttRoomsBtn.TmpData=44;this.mMttRoomsBtn.setClick(n);this.mMttRank=new td;this.mMttRank.pos(80-.5*this.mMttRank.width>>0,ui.toRealY(960));this.mBtnXlsDz=st.CrtImg("matches/mmBtn_21.png");this.mBtnXlsDz.pos(80-.5*this.mBtnXlsDz.width>>0,ui.toRealY(960));this.mBtnXlsDz.mouseEnabled=!0;this.mBtnXlsDz.on("click",this,this.qoJoinXlsDz);this.mKo=new p;this.mKo.mouseEnabled=!1;this.mKo.toSize(s.MAX_W,s.MAX_H);this.mKo.graphics.drawRect(0,0,this.mKo.width,this.mKo.height,"#00000088");this.mChat=new uyt(this);t=h.create(this,this.onClickBtn,null,!1);this.mBtnNext=new ld(!0);this.mBtnNext.pos(s.MAX_W-this.mBtnNext.width-8>>0,ui.toRealY(1004));this.mBtnNext.TmpData=99;this.mBtnNext.label=u.lang("seeNext");this.mBtnNext.setClick(t);this.mBtnStraddle=new ld(!1);this.mBtnStraddle.pos(8,this.mBtnNext.y>>0);this.mBtnStraddle.label=u.lang("nextStraddle");this.mBtnStraddle.TmpData=98;this.mBtnStraddle.setClick(t);o.DsMatch.regist(444,this.getSeeResult,this);o.DsMatch.regist(450,this.showStraddle,this);o.DsMatch.regist(451,this.getStraddleResult,this);o.DsDesk.regist(371,this.getTingpai,this);o.DsMatch.regist(406,this.getReqTip,this);f.SNG.regist(820,this.getDtlSng,this);f.MTT.regist(1430,this.getDtlMtt,this);f.MTT.regist(1454,this.get_mtt_RoomRanks,this);f.MTT.regist(1455,this.get_mtt_HuntKO,this);oi.regist(400,this.showQuikQuit,this)}r(i,"games.matchCores.desk.views.DM_Views",n);var t=i.prototype;return t.DoReset=function(){this.mMenu.DoReset();this.clearHuntKo();this.mMdcgBtn.removeSelf();this.mChat.DoReset(!0);this.mMttRoomsBtn.removeSelf();this.mMttRank.recyle();this.mMsg.removeSelf();this.mReqTip&&this.mReqTip.removeSelf();this.mTingpai&&this.mTingpai.removeSelf();this.mJlq&&this.mJlq.DoReset();this.mBtnXlsDz.removeSelf()},t.Start=function(){o.MatchVo.isRace()?(o.MatchVo.isMTT()&&this.addChild(this.mMttRoomsBtn),o.IsShowBB=o.Cookie.Show_BB,o.MatchVo.IsMdcg?!this.mMdcgBtn.parent&&this.addChild(this.mMdcgBtn):this.mMdcgBtn.removeSelf()):(o.IsShowBB=!1,this.mMenu.showChat());this.mMsg.checkShow()},t.ShowJlq=function(n,t){this.mJlq||(this.mJlq=new nct);this.mJlq.ShowJlq(n,t);this.mJlq.parent||this.addChild(this.mJlq)},t.onSubHandStart=function(){this.mBtnNext.removeSelf();this.mBtnStraddle.removeSelf()},t.onSubHandStop=function(){this.checkNextSee();this.mBtnStraddle.removeSelf()},t.openPanel=function(n){ki.open(n.TmpData)},t.showQuikQuit=function(n){o.MatchVo.IsXlsDz&&(n?this.mBtnXlsDz.parent||this.addChild(this.mBtnXlsDz):this.mBtnXlsDz.removeSelf())},t.qoJoinXlsDz=function(){o.DsMatch.reqSit(9)},t.onClickBtn=function(n){99==n.TmpData?o.DsMatch.reqSee():98==n.TmpData&&o.DsMatch.reqStraddle();n.removeSelf()},t.checkNextSee=function(){o.FlopNum<5?o.MyPlayer&&!this.mBtnNext.parent&&this.addChild(this.mBtnNext):this.mBtnNext.removeSelf()},t.getSeeResult=function(n){(0==n||3==n)&&this.checkNextSee()},t.showStraddle=function(n){this.mBtnStraddle.setStraddle(n);this.mBtnStraddle.parent||this.addChild(this.mBtnStraddle)},t.getStraddleResult=function(n){0==n&&this.mBtnStraddle.removeSelf()},t.getReqTip=function(n){1==n?(this.mReqTip||(this.mReqTip=ae.CrtIns("addChip_op1",s.MAX_H*.28>>0)),this.addChildAt(this.mReqTip,0)):(this.mReqTip&&this.mReqTip.removeSelf(),n>1&&ut.showMessage("addChip_op"+n))},t.getTingpai=function(n){n==1?(this.mTingpai||(this.mTingpai=ae.CrtIns("tip_mtt_tp",520)),this.addChildAt(this.mTingpai,0)):this.mTingpai&&this.mTingpai.removeSelf()},t.getDtlMtt=function(n,t){this.mMenu.showChat(o.MatchVo.isAdmin||!t.Flag.jinyan)},t.getDtlSng=function(n){this.mMenu.showChat(o.MatchVo.isAdmin||!n.C_Vjy)},t.get_mtt_RoomRanks=function(n){this.mMttRank.show(n);this.mMttRank.parent||this.addChildAt(this.mMttRank,0)},t.get_mtt_HuntKO=function(n){var e=!1,i=0,s=n.length,t,r=0,u=0,f=o.PlayerScale;for(i;i<s;i++)t=o.VecPlayers[n.shift()],t&&(e=!0,r=t.FinalX+39*f>>0,u=t.FinalY+78*f*.7>>0,yf.playDragon(this.mKo,r,u,r,u,909,f));if(e&&!this.mKo.parent){ei.PlayEff(777);this.timer.once(4500,this,this.clearHuntKo);this.addChild(this.mKo)}},t.clearHuntKo=function(){this.mKo.removeSelf();this.timer.clear(this,this.clearHuntKo)},i}(o),ypt=function(n){function i(){this.FUN_CONFIGS={0:72,13:55,778:778,10:58,12:80,14:57,15:56,26:64,21:60,22:61};this.mBase=null;this.mDpi=null;this.mMenuM=null;this.mMenuA=null;this.mBtnQuit=null;this.mIsAdmin=!1;this.mIsCreater=!1;this.mDpiTime=Number(u.lang("dpi_club_reqTime"));i.__super.call(this,null,null,10);this.mBase=new lk;this.Container.ItemAdd(this.mBase,10);this.mDpi=new ok(!0);this.mDpi.x=s.MAX_W-this.mDpi.width>>1;this.Container.ItemAdd(this.mDpi,10);var n=h.create(this,this.onClickMenu,null,!1);this.mMenuM=new ys("clubMem_menus",n);this.mMenuA=new ys("clubAdmin_menus",n);this.addChild(this.mBtnQuit=new di("clubHome_quit",h.create(this,this.toQuit,null,!1)));this.Container.updateRect(0,s.MAX_H-128-this.Container.y);f.Club.regist(700,this.get700,this);f.Club.regist(706,this.get706,this);f.Club.regist(704,this.getResult,this);f.Club.regist(712,this.getResult,this);f.Club.regist(707,this.get707Ret,this);f.Sql.regist(1312,this.getClubDPi,this)}r(i,"games.windows._club.Win_Club_Home",n);var t=i.prototype;return t.onClickMenu=function(n){var t=this.FUN_CONFIGS[n]||0;if(t>0)switch(t){case 778:pt.Alert(u.lang("dpi_own_ask"),this,null,[this.doReq,null],u.lang("dpi_own_ask_t"));break;default:b.OpenWin(t)}},t.doReq=function(){f.Club.reqClubGs(y.ClubID)},t.get707Ret=function(){ut.showMessage("cmd_707_0")},t.toQuit=function(){this.mIsCreater?b.OpenWin(130,0,f.Club.ClubVo.cID):pt.Alert(u.lang("clubHome_quit_tips"),this,null,[this.reqQuit,null])},t.reqQuit=function(){f.Club.reqQuitClub()},t.start=function(){this.onSubClose();this.updateTitle("club_D_title",!0);this.get700(f.Club.ClubVo)},t.onSubClose=function(){this.mIsAdmin=this.mIsCreater=!1;this.Container.ItemRemove(this.mMenuA);this.Container.ItemRemove(this.mMenuM)},t.getResult=function(n){0==n&&this.doClose()},t.get700=function(n){this.parent&&(this.onSubClose(),this.mIsCreater=0==n.job,this.mIsAdmin=n.job<2,this.updateTitle(n.name,!1),this.mBase.showClub(n,!1),this.mBase.CanEdit=this.mIsAdmin,this.Container.ItemAdd(this.mIsAdmin?this.mMenuA:this.mMenuM),this.mBtnQuit.label=u.lang(this.mIsCreater?"clubHome_dis":"clubHome_quit"),this.mDpi.showVal(this.mDpi.sID=n.cID,0),f.Sql.reqClubDpiVal(n.cID,this.mDpiTime))},t.get706=function(n,t){0==n&&this.mBase.updateLev(t)},t.getClubDPi=function(n,t,i){this.mDpi.showVal(t,i)},i}(nt),ppt=function(n){function t(){var r,i,n;this.mInput=null;t.__super.call(this,"lea_sh_0");this.Container.ItemAdd(new ee("mainUi/club_join.png","lea_sh_1",30,"#b2d6fb"));r=s.MAX_W>>1;this.mInput=new yr(468);this.mInput.initRight(!0,64,64);this.mInput.type=ci.T_NUMBER;this.mInput.maxChars=6;this.mInput.restrict="0-9";this.mInput.align="center";this.mInput.prompt=u.lang("lea_sh_2");this.mInput.x=this.mWidth-this.mInput.width>>1;this.Container.ItemAdd(this.mInput,32);i=200;n=k.crt_Btn(null,"btnAlert1",null,s.MAX_W-i>>1,0,i);n.label=u.lang("lea_sh_0");n.on("click",this,this.checkInput);this.Container.ItemAdd(n,56);f.Leagues.regist(904,this.getResult,this);c.onPC&&this.mInput.on("keydown",this,this.onKeyDown);this.onDisable()}r(t,"games.windows._leagues.Win_Lea_Search",n);var i=t.prototype;return i.onDisable=function(){this.mInput.text=""},i.onKeyDown=function(n){n.keyCode==13&&this.checkInput()},i.checkInput=function(){var n="lea_sh_2",t=this.mInput.text;b.CheckCharLength(t,6,n,n)&&f.Leagues.reqJoin(Number(t))},i.getResult=function(n){0==n&&this.doClose()},t}(nt),wpt=function(n){function t(){this.mTarget=null;this.mBg=null;this.mTitle=null;this.mHtml=null;this.mMenu=null;this.mMenuCfg=null;this.mCaller=null;this.mCallbacks=null;t.__super.call(this,!0);t.sInit();this.mouseEnabled=!0;this.mBg=new tr;this.mBg.mouseEnabled=!1;k.loadImgBg(this.mBg,"alert_bg",null,this.mWidth=t.sCfg_minW,t.sCfg_minH);this.addChild(this.mBg);t.sGrids||(t.sGrids=this.mBg.scaleGrids,t.sTy=t.sGrids[0]+t.sCfg_gap>>0);this.mTitle=new g;this.mTitle.mouseEnabled=!1;this.addChild(this.mTitle);this.mHtml=new g("center",!0);this.mHtml.width=t.sCfg_minW-t.sCfg_gap-t.sCfg_gap;this.mHtml.style.color=u.lang("alert_htm_color");this.mHtml.style.fontSize=parseInt(u.lang("alert_htm_size"));this.mHtml.style.leading=parseInt(u.lang("alert_htm_leading"));this.mMenuCfg=[];this.mMenu=new ob(this.mWidth,h.create(this,this.doClick,null,!1),t.sGrids[2]);this.addChild(this.mMenu)}r(t,"games.UD_Displays.alert.AlertView",n);var i=t.prototype;return i.onDisable=function(){this.doReset();l.recyle(this)},i.doReset=function(){for(this.mHeight=0;this.mMenuCfg.length>0;)l.recyle(this.mMenuCfg.shift());this.mHtml.removeSelf();this.mTarget&&this.mTarget.removeSelf();this.mTarget=null;this.mCaller=null;this.mCallbacks=null},i.doClick=function(n){var i=this.mCaller,t;this.mCallbacks&&(t=this.mCallbacks[n]);t&&t.call(i);this.removeSelf();this.timer.frameOnce(1,pt,pt.CheckNext)},i.Alert=function(n,i,r,f,e){var c,o,b,y,a;this.doReset();this.mCaller=i;this.mCallbacks=f;var p=typeof n=="string",v=0,h=0,w=t.sGrids[2];for(p?(this.mHtml.innerHTML=n,v=this.mHtml.width>>0,h=this.mHtml.contextHeight>>0,this.mTarget=this.mHtml):(this.mTarget=n,v=this.mTarget.width>>0,h=this.mTarget.height>>0),this.mTarget.x=this.mWidth-v>>1,this.addChildAt(this.mTarget,2),h>t.sCfg_minH?(this.mHeight=t.sTy+w+t.sCfg_gap+h>>0,this.mTarget.y=t.sTy,c=s.MAX_H*.75>>0,p&&this.mHeight>c&&(this.mHtml.height=c-(this.mHeight-h-20),this.mHeight=c)):(this.mHeight=t.sTy+w+t.sCfg_gap+t.sCfg_minH>>0,this.mTarget.y=t.sTy+.5*(t.sCfg_minH-h)>>0),this.mBg.height=this.mHeight,o=0,b=r.length,o=0;o<b;o++)(y=r[o],y)&&(a=l.get(ku),a.label=y,a.data=o,this.mMenuCfg[o]=a);this.mMenu.y=this.mHeight-this.mMenu.height>>0;this.mMenu.creat(this.mMenuCfg);this.pos(s.MAX_W-this.mWidth>>1,s.MAX_H-this.mHeight-80>>1);this.updateMask(t.sCfg_blockColor);this.mTitle.innerHTML=u.lang("alert_title",e);this.mTitle.pos(this.mWidth-this.mTitle.width>>1,t.sGrids[0]-this.mTitle.contextHeight>>1);this.stage.addChild(this)},t.sInit=function(){t.sCfg_blockColor||(t.sCfg_blockColor=u.lang("alertview_color1"),t.sCfg_minW=parseInt(u.lang("alert_minW")),t.sCfg_minH=parseInt(u.lang("alert_minH")),t.sCfg_gap=parseInt(u.lang("alert_gap")),t.sCfg_btn_colors=u.obj("alert_btn_colors"))},t.sCfg_blockColor=null,t.sCfg_minW=0,t.sCfg_minH=0,t.sCfg_gap=0,t.sCfg_btn_colors=null,t.sGrids=null,t.sTy=0,t}(ff),bpt=function(n){function i(){this.mDs=null;this.mHzParams=null;this.mS_ID=0;i.__super.call(this,null);this.Container.setCallback(h.create(this,this.doTabRequest,null,!1))}r(i,"games.windows._commons.hz.Win_CU_HzSum",n);var t=i.prototype;return t.onDisable=function(){this.Container.ItemClean(!0);this.mHzParams&&this.mDs&&this.mDs.remove(this.mHzParams.CmdVec,this.getVecs,this);this.mDs=null;this.mHzParams=null;this.mS_ID=0},t.start=function(n){this.onDisable();this.mHzParams=n[0];this.updateTitle(this.mHzParams.text+this.mHzParams.tStr,!1);this.mDs=this.mHzParams.isClub?f.Club:f.Leagues;this.mDs.regist(this.mHzParams.CmdVec,this.getVecs,this);this.doTabRequest(!1,!0)},t.doTabRequest=function(n,t){return(t===void 0&&(t=!1),t||!n&&this.mS_ID>0)?(this.Container.showWating(!0),this.mDs.reqFundPageVec(this.mHzParams.CmdVec,this.mHzParams.ts,this.mHzParams.te,this.mS_ID,this.mHzParams.type),!0):!1},t.getVecs=function(n,t){var r=n.length,i;if(r>0)for(i=0,i;i<r;i++)this.addLogItem(n[i]);this.mS_ID=t;this.Container.doWaitComplete()},t.addLogItem=function(n){var t=l.get(aii);return t.setBase(n.text,n.type,n.fund,n.roomID,n.time),t.showIcon(wt.getFundIcon(n.type)),t.showTime(n.time,0,n.targeter),t.showRest(u.lang("resRest")+" "+n.rest),n.roomID>0?t.setOpType(1):this.mHzParams.isClub&&16==n.type?t.setOpType(2):this.mHzParams.isClub||18!=n.type||t.setOpType(3),t.update(),this.Container.ItemAdd(t),t},i}(nt),hc=function(n){function f(n,t){this.mBtn=null;this.mDcIndex=0;this.mHandler=null;t===void 0&&(t=!1);f.__super.call(this,t?12:2,"login_2_n","login_2_p",360,t);this.iInput.maxChars=8;this.iInput.restrict="0-9";this.mHandler=n;this.mBtn=k.crt_Btn(this,"forget",null,t?372:382,12);this.mBtn.y=this.iInput.y+.5*(this.iInput.height-this.mBtn.height)>>0;this.mBtn.label=u.lang("reg_0");this.mBtn.autoWidth();this.mBtn.setClick(h.create(this,this.onCode,null,!1));this.mDcIndex=au.addIns(this,60,0,!1,!1)}r(f,"games.windows.accounts.utils.AccInput_Code",n);var t=f.prototype;return i.imps(t,{"FioLibs.interfaces.IFio_DC":!0}),t.onDisable=function(){oi.remove(100,this.runCD,this)},t.onEnable=function(){oi.regist(100,this.runCD,this)},t.runCD=function(){this.mBtn.disabled=!0;au.reStart(this.mDcIndex,60)},t.onCode=function(){var n=!1;this.mHandler&&(n=this.mHandler.run())},t.getValue=function(n){n===void 0&&(n=!1);var t=this.iInput.text;return t.length<1&&(t=null,n&&(ut.showMessage(this.iInput.prompt,!1),this.iInput.focus=!0)),t},t.updateDC=function(n){n>0?this.mBtn.label=u.lang("reg_1",n):(this.mBtn.label=u.lang("reg_0"),this.mBtn.disabled=!1)},t.ClearDC=function(){au.stop(this.mDcIndex);this.updateDC(0)},f.RE_TIME=60,f}(ls),vk=function(n){function t(n,i){this.mImg=null;this.Callback=null;t.__super.call(this,n,null,10);this.updateTopH(108);var u,r,f,e=h.create(this,this.onClkItem,null,!1);for(u in i){if(f=i[u],!f){this.Container.pushLineGap(10);continue}r=new iv("udList2",i[u],!1);r.setClick(e);this.toXCenter(r);this.Container.ItemAdd(r)}this.mImg=st.CrtGG();this.mImg.pos(r.width-this.mImg.width-24>>0,r.height-this.mImg.height>>1)}r(t,"games.windows.me.setting.countryAndLang.CountryAndLang_Base",n);var i=t.prototype;return i.start=function(){this.onSubClose()},i.onSubClose=function(){this.ShowCur(null);this.Callback&&this.Callback.recover();this.Callback=null},i.ShowCur=function(n){n?(this.mImg.TmpData=n,n.addChild(this.mImg)):(this.mImg.TmpData=null,this.mImg.removeSelf())},i.onClkItem=function(n){return n==this.mImg.TmpData?!1:(this.ShowCur(n),this.Callback&&this.Callback.runWith(n.TmpData),this.doClose(),!0)},t}(nt),yk=function(n){function i(n){this.mTab=null;this.mTabX=null;this.mKey=null;this.mPreKey=null;this.mLastIdx=0;this.mCrtType=0;this.mDicModus=null;this.mCurMod=null;i.__super.call(this,n?"cm_t1":"cm_t0",null,0,!1);this.graphics.clear();this.Container.removeSelf();this.mLastIdx=0;this.mKey=n?"cm_zd_":"cm_sj_";this.mPreKey=this.mKey+"subMenu_";this.mTab=new ka;this.mTab.creat(u.obj(this.mKey+"Menus"),n?56:98);this.mTab.setClick(h.create(this,this.onTab,null,!1));this.mTab.pos(1,this.Container.y-12);this.addChild(this.mTab);this.mTabX=new rr;this.mTabX.create(u.obj("invite_tabs"),710);this.mTabX.setClick(h.create(this,this.onTabSub,null,!1));this.mTabX.pos(this.mWidth-this.mTabX.width>>1,this.mTab.y+this.mTab.height+16);this.addChild(this.mTabX);this.mDicModus={};var t=this.initModus(this.mTabX.y+this.mTabX.height+16);for(var r in this.mDicModus)this.mDicModus[r].y=t;f.Desk.regist(301,this.getResult,this);f.SNG.regist(801,this.getResult,this);f.MTT.regist(1401,this.getResult,this);f.MTT.regist(1402,this.getResult,this)}r(i,"games.windows.matches.creators.Win_MatchCrt_Base",n);var t=i.prototype;return t.initModus=function(n){return n},t.getResult=function(n){0==n&&this.doClose()},t.onDisable=function(){oi.notify(360)},t.onSubClose=function(){this.Container.ItemClean()},t.start=function(n){var t=0,i=-1,r,u,e;n&&(n.length>0&&(t=n[0]),n.length>1&&(i=n[1]));r=0;u=f.Bag.CanCrt(t);this.mCrtType=0;t>0&&(r=nt.MyDetail.Lev==2?2:1,this.mCrtType=u?1:2);ot.Tick_Init(t);rt.Crt_Match_ZdID=t;rt.Crt_Match_IsZD=t>0;rt.Crt_Match_IDLev=r;rt.Crt_Match_IsPlat=u;e=this.mTab.getBtn(i);i=e?this.mTab.getChildIndex(e):-1;i=-1;this.mTab.select(i>-1?i:this.mLastIdx)},t.onTab=function(n){this.mLastIdx=this.mTab.getChildIndex(n);this.mCurMod&&(this.mCurMod.stop(),this.mCurMod=null);var t=""+n.TmpData;"1"==t&&(t+=this.mCrtType);this.mTabX.create(u.obj(this.mPreKey+t),710);this.mTabX.select(0)},t.onTabSub=function(n){this.mCurMod&&(this.mCurMod.stop(),this.mCurMod=null);this.mCurMod=this.mDicModus[n];this.mCurMod&&(this.mCurMod.start(),this.mCurMod.parent||this.addChild(this.mCurMod))},i}(nt),kpt=function(n){function i(n,t){this.mRoomID=0;this.mLast=0;this.mVecLogs=null;this.mMyID=0;i.__super.call(this,n,t,12);this.mVecLogs=[];f.Match.regist(400,this.get400,this);f.Match.regist(465,this.get465,this);f.Match.regist(466,this.get466,this)}r(i,"games.matchCores.panels.chat.MpChat_Core",n);var t=i.prototype;return t.Start=function(n,t){if(this.mMyID=n,t!=this.mRoomID){while(this.mVecLogs.length>0)l.recyle(this.mVecLogs.shift());this.mLast=0;this.ItemClean(!0);f.Match.reqChatLists()}},t.get400=function(){this.mRoomID=0},t.get465=function(n){this.mVecLogs.push(n)},t.get466=function(n,t){if(f.Match.MatchVo.sID==n){this.mRoomID=n;var i=0,r=t.length;for(i;i<r;i++)this.mVecLogs.push(t.shift())}},t.render=function(n,t,i){var r,u;if(FioLibs.displays.coms.FioSp.prototype.render.call(this,n,t,i),r=this.mVecLogs.length,r>0){for(r>10&&(r=10),u=0,u;u<r;u++)this.addALog(this.mVecLogs.shift());this.timer.once(50,this,this.toBottom,[!0])}},t.addALog=function(n){var i,t,r;n.time-this.mLast>=300&&(this.mLast=n.time,i=new fu,i.crtTitle(u.lang("chat_style_time",a.GTos(this.mLast,!0))),this.toXCenter(i),this.ItemAdd(i));t=l.get(cgt);r=n.sID==this.mMyID;t.setVo(n,r);t.x=r?this.width-t.width-6:4;this.ItemAdd(t);l.recyle(n)},i}(br),dpt=function(n){function t(){var n,i;this.mIcon=null;this.mTname=null;this.mTdesc=null;this.mPrice=null;t.__super.call(this);this.mWidth=345;this.mHeight=256;n=68;this.MixCon.toSize(this.mWidth,this.mHeight);i=new tr;k.loadImgBg(i,"shopItemBg",null,this.mWidth,this.mHeight);this.MixCon.addChild(i);this.mIcon=new s;this.mIcon.size(n,n);this.mIcon.pos(this.mWidth-n>>1,16);this.MixCon.addChild(this.mIcon);this.mTname=w.quickCreate(30,"#b2d6fb");this.mTname.align="center";this.mTname.width=this.mWidth;this.mTname.y=98;this.MixCon.addChild(this.mTname);this.mTdesc=w.quickCreate(24,"#6391d5");this.mTdesc.align="center";this.mTdesc.leading=8;this.mTdesc.width=this.mWidth;this.mTdesc.y=140;this.MixCon.addChild(this.mTdesc);this.mPrice=new uk(30,"#4bc65c");this.mPrice.y=this.mHeight-40;this.MixCon.addChild(this.mPrice)}r(t,"games.windows.me.shop.ShopGood_Normal",n);var i=t.prototype;return i.doSetVo=function(n){this.mIcon.loadImage(wt.getShopIcon(n.icon));this.mTname.text=n.title;this.mTdesc.text=n.desc;this.mTdesc.y=170-.5*this.mTdesc.textHeight>>0;this.mPrice.setPriceType(n.pi);this.mPrice.showValue(n.price);this.toXCenter(this.mPrice)},t}(ib),pk=function(n){function i(n){this.mBtnBrands=null;this.mBtnView=null;this.mP=null;this.mCallback=null;this.mMenuIdx=0;this.mMenus=null;this.mHeader=null;this.mBest3=null;this.mTitleHead=null;this.mRoomID=0;this.mMatchType=0;i.__super.call(this,"settle_t",null,0);var t=this.Container.y;this.mBtnBrands=k.crt_Btn(this,null,"mainUi/roomB_brands.png");this.mBtnBrands.pos(this.mWidth-this.mBtnBrands.width-32,nt.BASE_Y-this.mBtnBrands.height>>1);this.mBtnBrands.setClick(h.create(this,this.gotoBrands,null,!1));this.mBtnView=k.crt_Btn(null,null,"mainUi/coms_btn_menu.png");this.mBtnView.pos(this.mWidth-this.mBtnView.width-32,nt.BASE_Y-this.mBtnView.height>>1);this.mBtnView.setClick(h.create(this,this.onClkBtn,null,!1));this.mP=new kt(this.mBtnView.x,this.mBtnView.y+this.mBtnView.height+4>>0);this.mCallback=h.create(this,this.onMenu,null,!1);this.mMenuIdx=-1;this.mHeader=new rlt(n?"settle_dz_head":"settle_mtt_head");this.mHeader.y=t;this.addChild(this.mHeader);t+=this.mHeader.height+10>>0;this.mBest3=new ovt(n);this.mBest3.y=t;this.addChild(this.mBest3);t+=this.mBest3.height+20>>0;this.graphics.drawRoundRect(20,this.mWidth,this.mHeight-t+32,"#386ebf40",0,t);this.mTitleHead=new p;this.mTitleHead.toSize(this.mWidth,82);this.mTitleHead.y=t;this.addChild(this.mTitleHead);this.updateTopH(t+this.mTitleHead.height>>0)}r(i,"games.windows.matches.settler.Win_Settler_Base",n);var t=i.prototype;return t.onSubClose=function(){this.mMenuIdx=-1;this.mHeader.DoReset();this.mBest3.DoReset()},t.SetTitleHead=function(n){ft.makeTitle(this.mTitleHead,n,this.mTitleHead.width,this.mTitleHead.height,!0)},t.onMenu=function(){},t.gotoBrands=function(){this.onMenu(0,this.mMenus[0])},t.onClkBtn=function(){this.mMenus&&gs.ins.Show(this.mCallback,this.mMenus,this.mP,this.mMenuIdx)},i}(nt),gpt=function(n){function i(){var e,n,t,r;this.WIN_CONIFG={1:182,2:181,4:3,28:186,29:184,161:216};this.mCookie=null;this.mTxtAcc=null;this.mTxtLang=null;this.mS_Game=null;this.mS_Shake=null;i.__super.call(this,"setting_title",null,10);this.mCookie=f.Account.Cookie;this.updateTopH(108);e=h.create(this,this.onClickItem,null,!1);n=new ys("setting_box",e);this.Container.ItemAdd(n);t=n.getMenuIns(100);t.textOffX=0;t.DelArrow();this.mTxtAcc=this.crtRTxt(n.getMenuIns(1));this.mTxtLang=this.crtRTxt(n.getMenuIns(4));this.mS_Game=this.crtRS(n.getMenuIns(11));this.mS_Shake=this.crtRS(n.getMenuIns(12));r=ai.CrtIns(0,u.lang("setting_ver","5.2."+wt.version),28,"#6391d5");this.toXCenter(r);this.Container.pushLineGap(32);this.Container.ItemAdd(r);this.onLangChanged(f.Login.Lang)}r(i,"games.windows.me.setting.Win_Setting",n);var t=i.prototype;return t.crtRTxt=function(n){var t=w.quickCreate(32,"#64ace9");return t.TmpData=n.width,t.mouseEnabled=!1,t.text="啊",t.y=n.height-t.height>>1,n.addChild(t),t},t.crtRS=function(n){var t=k.crt_Switch(n,null);return t.pos(this.mWidth-t.width-68,n.height-t.height>>1),t.mouseEnabled=!1,n.addChild(t),n.DelArrow(),t},t.updateTxt=function(n,t){n.text=t;n.x=n.TmpData-n.width-68>>0},t.start=function(){this.updateTxt(this.mTxtAcc,f.Login.CurAcc.Nick);this.mS_Game.selected=this.mCookie.Sound_Game;this.mS_Shake.selected=this.mCookie.MessageShake},t.onClickItem=function(n){switch(n){case 2:var t=f.Login.CurAcc;b.OpenWin(this.WIN_CONIFG[n],!1,t.user,t.country);break;case 4:b.OpenWin(this.WIN_CONIFG[n],h.create(this,this.onLangChanged));break;case 11:this.mS_Game.selected=!this.mS_Game.selected;this.mCookie.Sound_Game=this.mS_Game.selected;this.mS_Game.selected&&ei.PlayEff(100,0,!0);this.mCookie.save();break;case 12:this.mS_Shake.selected=!this.mS_Shake.selected;this.mCookie.MessageShake=this.mS_Shake.selected;this.mCookie.MessageShake&&et.shake();this.mCookie.save();break;case 21:b.OpenWin(8,"shengming");break;case 100:pt.Alert(u.lang("setting_askQuit"),this,null,[this.doQuit,null]);break;default:b.OpenWin(this.WIN_CONIFG[n])}},t.doQuit=function(){f.Login.reqQuit()},t.onLangChanged=function(n){var i=rt.GameConfigs.lang,r,t;for(r in i)if(t=i[r],t&&n==t.data){this.updateTxt(this.mTxtLang,t.label);return}},i}(nt),nwt=function(n){function t(){this.mClub=null;this.mBtnJoin=null;this.mBlocker=null;t.__super.call(this,"club_joinR_title");this.Container.updateRealHeight(4);this.Container.ItemAdd(this.mClub=new lk);this.mBtnJoin=new di("club_joinR_join",h.create(this,this.doSubmit,null,!1));this.addChild(this.mBtnJoin);this.mBlocker=new sb(this.Container.y)}r(t,"games.windows._club.search.Win_Club_Search_Result",n);var i=t.prototype;return i.start=function(n){var t=n.shift();this.mClub.showClub(t,!1);this.mBtnJoin.TmpData=t.cID;f.Club.ClubState==1&&(this.addChild(this.mBlocker),this.mBtnJoin.disabled=!0)},i.onSubClose=function(){this.mBlocker.removeSelf();this.mBtnJoin.disabled=!1},i.doSubmit=function(){f.Club.reqJoinClub(this.mBtnJoin.TmpData)},t}(nt),twt=function(n){function t(n){this.mCScore=null;this.mMScore=null;this.mInput=null;this.mBtn=null;this.mMax=0;t.__super.call(this,n,2,0,!1);var i=this.mHeight=8;this.mCScore=new tb(1);this.mCScore.updateLabel("fundsCm_0",!0,"#40608e");this.mCScore.y=this.mHeight;this.addChild(this.mCScore);this.mHeight+=this.mCScore.height+i;this.mMScore=new tb(1);this.mMScore.updateLabel("fundsCm_1",!0,"#40608e");this.mMScore.y=this.mHeight;this.addChild(this.mMScore);this.mHeight+=this.mMScore.height+i;this.mInput=new nk;this.mInput.updateLabel(u.lang("fundsCm_2"));this.mInput.y=this.mHeight;this.mInput.setPrompt(u.lang("fundsCm_3"));this.addChild(this.mInput);this.mHeight+=this.mInput.height+i*6;i=512;this.mBtn=k.crt_Btn(this,"login",null,s.MAX_W-i>>1,this.mHeight,i);this.mBtn.label=u.lang("sure");this.mBtn.disabled=!0;this.mBtn.setClick(h.create(this,this.doSubmit,null,!1));this.mHeight+=this.mBtn.height+i;f.Account.regist(201,this.updateRes,this);f.Club.regist(765,this.updateRes,this)}r(t,"games.windows._club.funds.mgr.Modu_Score_Recharge",n);var i=t.prototype;return i.start=function(){this.updateRes();this.mInput.value=""},i.updateRes=function(){this.parent&&(this.mCScore.updateValue(f.Club.Members.Score),this.mMScore.updateValue(this.mMax=f.Account.Detail.Score,!0),this.mBtn.disabled=this.mMax<1)},i.doSubmit=function(){var n=a.getNumber(this.mInput.value);n<1?ut.showMessage("fundsCm_3"):n>this.mMax?ut.showMessage("fundsCm_4"):(f.Club.req765(n),this.mBtn.disabled=!0)},t}(ir),da=function(n){function i(n){this.mDicIns=null;this.mTe=0;this.iZdID=0;this.mImgNo=null;i.__super.call(this,710,n,10);this.toXCenter();this.ShowNoTip=!1;this.mImgNo=new ee("mainUi/cds_no.png","match_noLists");this.mImgNo.x-=36;this.mImgNo.y=32;this.mDicIns={};this.setCallback(h.create(this,this.doScroll,null,!1))}r(i,"games.windows.matches.matchLists.MatchList_Base",n);var t=i.prototype;return t.onDisable=function(){n.prototype.onDisable.call(this);this.DoReset()},t.onEnable=function(){laya.display.Node.prototype.onEnable.call(this);this.DoReset()},t.render=function(n,t,i){this.mTe>0&&this.timer.currTimer>this.mTe&&(this.mTe=0,this.reqLists());FioLibs.displays.coms.FioSp.prototype.render.call(this,n,t,i)},t.autoFresh=function(n){this.mTe=0;n>0&&(this.mTe=this.timer.currTimer+n*1e3)},t.Stop=function(){this.removeSelf()},t.Start=function(){this.callLater(this.reqLists)},t.setZdID=function(n){this.iZdID=n},t.reqLists=function(){this.DoReset();this.showWating(!0);this.autoFresh(8)},t.DoReset=function(){this.mTe=0;this.mImgNo.removeSelf();this.ItemClean(!1);for(var n in this.mDicIns)n=Number(n),this.ItemRemove(this.mDicIns[n],!0),this.mDicIns[n]=null,delete this.mDicIns[n]},t.getUpdates=function(n){var t=0,r=n.length,i;for(t;t<r;t++)i=this.mDicIns[n.shift()],i&&i.update()},t.getDels=function(n){var t=0,r=n.length,i=0;for(t;t<r;t++)i=n[t],this.ItemRemove(this.mDicIns[i],!0),this.mDicIns[i]=null,delete this.mDicIns[i]},t.doScroll=function(){return!1},t.Ins_Add=function(n){if(n){var t=n.C_Idx;this.mDicIns[t]=n;n.update();this.ItemAdd(n)}},t.showNoImg=function(){this.mImgNo.parent||this.addChild(this.mImgNo)},i}(br),iwt=function(n){function t(){this.mHtm=null;t.__super.call(this,!1,!0);this.mHtm=new ue;this.mHtm.mouseEnabled=!1;this.mHtm.width=this.mWidth*.7>>0;this.mHtm.style.color="#b2d6fb";this.mHtm.style.fontSize=24;this.mHtm.style.leading=8;this.mHtm.style.wordWrap=!0;this.mHtm.pos(10,10);this.addChild(this.mHtm)}r(t,"FioLibs.displays.tips.Tip_Ins",n);var i=t.prototype;return i.show=function(n,t){if(this.Close(),n){this.mHtm.style.color=t||"#b2d6fb";this.mHtm.innerHTML=n;this.mWidth=this.mHtm.contextWidth+10+10>>0;this.mHeight=this.mHtm.contextHeight+10+10-8+s.LEADING_SIZE>>0;var i=this.stage.mouseX>>0,r=this.stage.mouseY>>0;i+this.mWidth>=s.MAX_W&&(i=i-this.mWidth);i<10&&(i=10);r+this.mHeight>=s.MAX_H&&(r=r-this.mHeight);r<10&&(r=10);this.pos(i,r);this.updateMask();this.graphics.drawRoundRect(8,this.mWidth,this.mHeight,"#305e75",0,0,"#5493a588",2);this.stage.addChild(this)}},i.Close=function(){n.prototype.Close.call(this);this.graphics.clear();this.mHtm.innerHTML=""},t.s_gap=10,t.s_leading=8,t}(ff),rwt=function(n){function t(){this.mModu=null;t.__super.call(this,"zjL_title",null,0);var n=this.Container.y-4;this.Container.removeSelf();this.mModu=new rdt(s.MAX_H-n);this.mModu.y=n}r(t,"games.windows._leagues.zj.Win_Lea_ZJ",n);var i=t.prototype;return i.onDisable=function(){this.mModu.stop();f.Sql.quit()},i.start=function(){this.mModu.parent||this.addChild(this.mModu);this.mModu.start()},t}(nt),uwt=function(n){function t(){this.mTname=null;this.mTdesc=null;this.mPrice=null;t.__super.call(this);this.mWidth=668;this.mHeight=188;this.toXCenter();this.MixCon.toSize(this.mWidth,this.mHeight);this.mTname=new g;this.mTname.style.color="#ffffff";this.mTname.style.fontSize=36;this.mTname.pos(50,28);this.MixCon.addChild(this.mTname);this.mTdesc=w.quickCreate(24,"#000000");this.mTdesc.leading=8;this.mTdesc.pos(this.mTname.x,88);this.MixCon.addChild(this.mTdesc);this.mPrice=new uk(28,"#ffffff");this.mPrice.y=128;this.mPrice.TmpData=this.mWidth-86;this.MixCon.addChild(this.mPrice)}r(t,"games.windows.me.shop.ShopGood_Vip",n);var i=t.prototype;return i.doSetVo=function(n){this.MixCon.loadImage(wt.getShopIcon(n.icon));this.mTname.innerHTML=n.title;this.mTdesc.text=n.desc;this.mPrice.setPriceType(n.pi);this.mPrice.showValue(n.price);this.mPrice.x=this.mPrice.TmpData-.5*this.mPrice.width>>0},t}(ib),fwt=function(n){function t(n){this.mVecModus=null;this.mBtnAdmin=null;this.mHeadOp=0;this.mRaceID=0;t.__super.call(this,n,10,710,!0);this.toXCenter();this.mBtnAdmin=new ont;this.mBtnAdmin.pos(710-this.mBtnAdmin.width>>0,-156);this.addChild(this.mBtnAdmin);this.mVecModus=[];this.mVecModus.push(new bii);this.mVecModus.push(new gii);this.mVecModus.push(new dii);this.mVecModus.push(new clt);var i=0,r=this.mVecModus.length;for(i;i<r;i++)this.toXCenter(this.mVecModus[i])}r(t,"games.windows.matches.mttWins.details.WinMttDtl_0_Detail",n);var i=t.prototype;return i.setDetail=function(n){this.mSCon.ItemClean();this.mBtnAdmin.updateDetail(n);var t=0,r=this.mVecModus.length,i;for(t;t<r;t++)i=this.mVecModus[t],i.updateDetail(n),i.IsValid&&this.mSCon.ItemAdd(i)},t}(ir),ewt=function(n){function t(n,i,r,f){var e;t.__super.call(this,!1,!0);this.pos(r,f);this.mHeight=i;var c=rt.GameConfigs.chatConfigs,l,h,s=8,o=new br(n-4,i-4,10);o.pos(2,2);o.pushLineGap(s);this.mWidth=s;for(l in c)h=c[l],h&&(e=new fu,e.TmpData=h.msg,e.crtTitle(u.lang("chat_style_quick",h.msg)),e.x=s,e.mouseEnabled=!0,this.mWidth=Math.max(this.mWidth,s+e.width+s),o.ItemAdd(e));o.updateRect(this.mWidth);this.addChild(o);this.updateMask("#ff000000");this.graphics.drawRoundRect(12,this.mWidth,this.mHeight,"#305e75");o.on("click",this,this.onClk)}r(t,"games.matchCores.panels.chat.MpChat_QuickLists",n);var i=t.prototype;return i.onClk=function(n){n.target!=n.currentTarget&&(f.Match.sendChat(n.target.TmpData),this.Close())},i.Show=function(){this.stage.addChild(this)},t}(ff),owt=function(n){function t(){this.mCore=null;t.__super.call(this,null,null,0,!1);var n=this.Container.y+28;this.mCore=new idt(ot.YJS_SUB,this.mHeight-n);this.mCore.ICloseHd=h.create(this,this.doClose,null,!1);this.mCore.y=n}r(t,"games.windows.matches.creators.yujuesai.matchSet.Win_Yjs_MatchSet",n);var i=t.prototype;return i.onSubClose=function(){this.mCore.stop()},i.start=function(n){this.onSubClose();var t=n[0];this.updateTitle(u.lang("yjsDtl_t",t.name),!1);this.mCore.DoStart(t,n[1]);this.addChild(this.mCore)},t}(nt),swt=function(n){function t(){this.mTitle=null;this.mDc=null;this.mTe=0;t.__super.call(this,"matches/mttDcBg.png");this.mouseEnabled=!1;this.mTe=0;this.mTitle=new fu;this.mTitle.y=38+(c.onPC?0:-4);this.addChild(this.mTitle);this.mDc=new yb(null);this.mDc.scale(.8,.8);this.mDc.pos(254,115);this.addChild(this.mDc)}r(t,"games.matchCores.desk.views.boards.DmBoard_Dc",n);var i=t.prototype;return i.Show=function(n,t){this.mTitle.crtTitle(n);this.mTitle.x=258-this.mTitle.width*.5>>0;this.mDc.setTime(t,!0);this.mTe=this.timer.currTimer+t*1e3+3},i.onDisable=function(){this.mTe=0},i.render=function(n,t,i){this.mTe<this.timer.currTimer&&this.callLater(this.removeSelf);laya.display.Sprite.prototype.render.call(this,n,t,i)},t}(st),hwt=function(n){function e(){this.mTnum=null;this.mCtrlPage=null;this.mMenu=null;this.mMenuIns=null;this.mOpItem=null;e.__super.call(this,"winNote_title",null,10);this.mTnum=new ai(!1,0);this.mTnum.y=this.mHeight-40;this.addChild(this.mTnum);this.Container.y=108;this.Container.updateRect(0,this.mTnum.y-20-this.Container.y);this.Container.setCallback(h.create(this,this.doScroll,null,!1));this.mCtrlPage=new su(this);og.sHanlder=h.create(this,this.onClickItem,null,!1);this.mMenu=u.obj("winNote_menus");this.mMenuIns=new ec(h.create(this,this.onMenuCall,null,!1));f.Room.regist(525,this.getVec,this);f.Room.regist(526,this.getUpdate,this);f.Room.regist(527,this.getDel,this)}r(e,"games.windows.me.notes.Win_Me_NoteMgr",n);var t=e.prototype;return i.imps(t,{"FioLibs.interfaces.IFio_PageStep":!0}),t.onDisable=function(){this.updateNum(0,0);this.mOpItem=null;this.mCtrlPage.recyle();this.Container.ItemClean(!0)},t.start=function(){f.Room.reqNoteVec();this.updateNum(0,0)},t.doScroll=function(n){return n?!1:(this.Container.doWaitComplete(),this.mCtrlPage.showNext())},t.getVec=function(n,t){var i=0;t&&(this.mOpItem=null,i=t.length,this.mCtrlPage.setSource(t),this.doScroll(!1));this.updateNum(i,n)},t.addStepItem=function(n){var t=l.get(og);t.setVo(n);this.Container.ItemAdd(t)},t.getUpdate=function(n,t,i){if(0==n){var r=this.Container.findItem("TmpData",t);r&&r.updateNote(i)}},t.getDel=function(n,t){if(0==n){var i=this.Container.findItem("TmpData",t);if(i&&(this.Container.ItemRemove(i,!0),this.mOpItem&&this.mOpItem==i)){this.mOpItem=null;this.Container.ItemRemove(this.mMenuIns);return}}},t.updateNum=function(n,t){this.mTnum.show(u.lang("winNote_0",n,t));this.toXCenter(this.mTnum)},t.onClickItem=function(n){if(this.Container.ItemRemove(this.mMenuIns),this.mOpItem&&this.mOpItem==n){this.mOpItem=null;return}this.mOpItem=n;this.mMenuIns.showMenus(this.mMenu);this.Container.ItemAdd(this.mMenuIns,0,this.Container.getIndex(n))},t.onMenuCall=function(n){switch(n){case 0:this.onClickItem(this.mOpItem);break;case 1:var t=this.mOpItem.Vo;b.OpenWin(6,t.sID,t.note,t.nick,wt.getUserIcon(t.icon),0);break;case 2:pt.Alert(u.lang("winNote_2"),this,null,[this.doDel,null])}},t.doDel=function(){f.Room.reqNoteDel(this.mOpItem.TmpData)},e}(nt),cwt=function(n){function t(n,i){this.mTab=null;this.mLists=null;this.mCookie=null;this.mCookieData=null;t.__super.call(this,n,0,0,!1);this.mTab=new rr;this.mTab.create(u.obj("hall_tabSize"),710);this.mTab.setClick(h.create(this,this.onTab,null,!1));this.mTab.pos(this.mWidth-this.mTab.width>>1,1);this.addChild(this.mTab);var r=this.mTab.y+this.mTab.height+20;this.mLists=new fv(this.mHeight-r,i?2:3);this.mLists.setZdID(0);this.mLists.y=r;this.addChild(this.mLists);this.mCookie=new nu("hallSelect__"+(i?"dz":"dp"));this.mCookieData=this.mCookie.getCookie();this.mCookieData&&this.mCookieData.hasOwnProperty("idx")||(this.mCookieData={idx:0},this.mCookie.Save(this.mCookieData));this.mTab.select(this.mCookieData.idx)}r(t,"games.scene.modules.hall.HallModu_DzDp",n);var i=t.prototype;return i.start=function(){this.mLists.Start()},i.onTab=function(n){this.mCookieData.idx=this.mTab.selectIndex;this.mCookie.Save(this.mCookieData);this.mLists.setArea(n.min,n.max);this.parent&&this.mLists.Start()},t}(ir),lwt=function(n){function i(){this.mTab=null;this.mIndex=-1;i.__super.call(this,"jsshop_title",null,20);var n=h.create(this,this.onTab,null,!1);this.mTab=new he;this.mTab.create(u.obj("jsshop_tabs"),null,null,-1,0,!0,n);this.mTab.auto(s.MAX_W-64);this.mTab.pos(this.mWidth-this.mTab.width>>1,this.Container.y-10>>0);this.addChild(this.mTab);this.updateTopH(this.mTab.y+this.mTab.height+20>>0);pd.sHander=h.create(this,this.onClick,null,!1)}r(i,"games.windows.me.ticket.Win_JF_Shop_Home",n);var t=i.prototype;return t.start=function(){this.mTab.select(0)},t.onSubClose=function(){this.mIndex=-1;this.doClear()},t.doClear=function(){while(this.Container.numChildren>0)l.recyle(this.Container.removeChildAt(0));this.Container.toTop()},t.onTab=function(n){var t=n.TmpData;t!=this.mIndex&&(this.mIndex=t,this.doClear(),this.showLists(py.getPrimaryList(this.mIndex)))},t.showLists=function(n){var f;if(n){var i=0,e=n.length,t,r=42,u=0;for(i;i<e;i++)t=l.get(pd),t.setVo(n[i]),u=i%2,t.x=r+u*(t.width+r),t.y=4+(t.height+20)*(i>>1),this.Container.addChild(t);f=t?t.y+t.height+20:4;this.Container.updateRealHeight(f)}},t.onClick=function(n){b.OpenWin(201,this.mIndex,n)},i}(nt),awt=function(n){function t(){var r;this.mImgState=null;this.mVecBtns=null;this.mTip;t.__super.call(this,"ejmm_home_title",null,40);this.mImgState=new st("mainUi/img_bag_lock_0.png");this.mImgState.y=128;this.toXCenter(this.mImgState);this.addChild(this.mImgState);this.updateTopH(this.mImgState.y+this.mImgState.height+72);r=u.obj("ejmm_home_menu");this.mVecBtns=[];var f=0,e=r.length,n,o=h.create(this,this.onClkMemu,null,!1),i;for(f;f<e;f++)i=r.shift(),n=new di(null,o,i.resIcon==1),n.label=i.label,n.TmpData=i.data,n.y=0,this.mVecBtns[i.data]=n;this.mTip=new g("center");this.mTip.style.leading=12;this.mTip.innerHTML=u.lang("ejmm_home_tips");this.toXCenter(this.mTip)}r(t,"games.windows.accounts.ejmm.Win_Acc_Ejmm_Home",n);var i=t.prototype;return i.onSubClose=function(){this.Container.ItemClean();f.Account.remove(201,this.updateView,this)},i.start=function(){this.onSubClose();f.Account.regist(201,this.updateView,this);this.updateView()},i.updateView=function(){this.Container.ItemClean();nt.MyDetail.hasSecondaryPass?(this.Container.ItemAdd(this.mVecBtns[2]),this.Container.ItemAdd(this.mVecBtns[3])):this.Container.ItemAdd(this.mVecBtns[1]);this.Container.ItemAdd(this.mTip);this.mImgState.setRes("mainUi/img_bag_lock_"+(nt.MyDetail.hasSecondaryPass?1:0)+".png")},i.onClkMemu=function(n){b.OpenWin(191,n.TmpData)},t}(nt),vwt=function(n){function i(){this.mAdd=null;this.mFlag=null;this.mOpItem=null;this.mMenus=null;this.mMenusSelf=null;this.mMenuIns=null;this.mVecAccs=null;i.__super.call(this,"accountMgr_title",null,10);this.mVecAccs=f.Login.VecAccs;this.addChild(this.mAdd=new di("addTab_title",h.create(this,this.openTab,null,!1)));this.Container.updateRect(0,nt.WIN_HEIGHT_VIEW-128);this.mFlag=st.CrtUsing();this.mFlag.pos(568,30);this.mMenus=u.obj("acc_menus");this.mMenusSelf=this.mMenus.slice();this.mMenusSelf.splice(0,1);this.mMenuIns=new ec(h.create(this,this.onMenuCall,null,!1));fg.s_handler=h.create(this,this.onClickItem,null,!1);f.Login.regist(103,this.get103,this);f.Login.regist(105,this.get105,this)}r(i,"games.windows.accounts.accMgr.Win_Acc_Manager",n);var t=i.prototype;return t.openTab=function(){b.OpenWin(183)},t.start=function(){this.get103(0)},t.get103=function(){this.mOpItem=null;this.mFlag.removeSelf();this.Container.ItemRemove(this.mMenuIns);this.Container.ItemClean(!0);var n=0,r=this.mVecAccs.length,t,i;for(n;n<r;n++)t=this.mVecAccs[n],t&&(i=l.get(fg),i.setVo(t),t.sID==nt.MyDetail.SID&&i.addChild(this.mFlag),this.Container.ItemAdd(i))},t.get105=function(n){if(cr.show(0),0==n)this.mOpItem&&this.mOpItem.addChild(this.mFlag),this.doClose(),ut.showMessage("acc_tab_ok");else if(4!=n)this.onMenuCall(2)},t.onClickItem=function(n){this.Container.ItemRemove(this.mMenuIns);var t=n.TmpData;this.mOpItem!=n?(this.mOpItem=n,this.mMenuIns.showMenus(t.sID==nt.MyDetail.SID?this.mMenusSelf:this.mMenus),this.Container.ItemAdd(this.mMenuIns,0,this.Container.getIndex(n))):this.mOpItem=null},t.onMenuCall=function(n){this.Container.ItemRemove(this.mMenuIns);switch(n){case 0:this.mOpItem=null;break;case 1:this.mOpItem&&f.Login.reqTabAcc(this.mOpItem.TmpData);cr.show(1,u.lang("acc_tab_ing"));break;case 2:this.mOpItem&&this.delSubAcc(this.mOpItem.TmpData.sID);this.mOpItem=null}},t.delSubAcc=function(n){var i=this.mVecAccs.length,t=0;for(t;t<i;t++)if(this.mVecAccs[t].sID==n){this.mVecAccs.splice(t,1);this.Container.ItemRemove(this.mOpItem,!0);f.Login.saveAllAccs();break}},i}(nt),ywt=function(n){function i(){this.mTab=null;this.mVecRps=null;this.mBtn=null;this.mVecTitles=null;this.mDicParsers=null;this.mParser=null;this.mType=0;this.mPreState=0;this.mVecSlts=null;this.mVecMenus=null;this.mHdFeet=null;i.__super.call(this,null);this.initAdmin();this.mVecTitles=[];var t=0,n;for(t;t<3;t++)n=new g,n.mouseEnabled=!1,n.height=56,n.innerHTML=" <br/>"+u.lang("msgState_"+t),this.toXCenter(n),this.mVecTitles[t]=n;this.mDicParsers={};this.mDicParsers[1]=new iot;this.mDicParsers[3]=new tot;this.mDicParsers[4]=new not;this.Container.setCallback(h.create(this,this.doRequest,null,!1));f.Message.regist(331,this.getResult,this);f.Message.regist(332,this.getANums,this);f.Message.regist(334,this.getLists,this);f.Message.regist(336,this.toRefresh,this);f.Message.regist(337,this.toRefresh,this)}r(i,"games.windows.messages.Win_Message_List",n);var t=i.prototype;return t.initAdmin=function(){var f=h.create(this,this.onTab,null,!1),r;this.mTab=new he;this.mTab.create(u.obj("msg_admin"),null,null,-1,0,!0,f);this.mTab.auto(s.MAX_W-128);this.mTab.pos(64,this.Container.y>>0);var t=this.mTab.getDisplays(),n=0,i=t.length;for(this.mVecRps=vr(i),n;n<i;n++)this.mVecRps[n]=r=new bu(t[n]),r.pos(t[n].width-8>>0,-10);this.mBtn=k.crt_Btn(this,"text1");this.mBtn.label=u.lang("msg_op_btn");this.mBtn.pos(this.mWidth-this.mBtn.width-8,nt.BASE_Y-this.mBtn.height>>1);this.mBtn.setClick(h.create(this,this.onClkBtn,null,!1));this.mVecSlts=[];this.mVecMenus=u.obj("msg_opMenus");this.mHdFeet=h.create(this,this.onFeetback,null,!1)},t.onClkBtn=function(){dr.ins.pop(this.mVecMenus[vv.Show_Radio?0:1],this.mHdFeet)},t.onFeetback=function(n){switch(n){case 1:pt.Alert(u.lang("msg_op_2"),this,null,[this.extReadAll,null]);break;case 2:this.toBatDel()}},t.extReadAll=function(){f.Message.reqReadAll(this.mType)},t.toBatDel=function(){this.mVecSlts.length=0;var i=this.Container.getItems(),r=i.length,n=0,t;for(n;n<r;n++)t=i[n],t instanceof games.windows.messages.Message_Item&&t.isSelect()&&this.mVecSlts.push(t.getMailID());this.mVecSlts.length>0?pt.Alert(u.lang("msg_op_1"),this,null,[this.extBatDel,null]):ut.showMessage("msg_op_11")},t.extBatDel=function(){f.Message.reqBatDel(this.mVecSlts)},t.toRefresh=function(){this.doRequest(!0)},t.onDisable=function(){f.Message.reqNums();this.mParser=null},t.onSubClose=function(){var n=0,t=this.mVecTitles.length;for(n;n<t;n++)this.Container.ItemRemove(this.mVecTitles[n]);dr.ins.Close();this.mTab.removeSelf();this.Container.ItemClean(!0);this.Container.doWaitComplete()},t.start=function(n){var t,i,r;this.onSubClose();t=n[0];t&&(this.updateTitle(t.label,!1),this.mType=t.data,vv.Show_Radio=4!=this.mType,this.mParser=this.mDicParsers[this.mType],i=!0,r=nt.BASE_Y,3==this.mType&&(i=!1,this.mTab.select(0),this.addChild(this.mTab),r+=this.mTab.height),this.updateTopH(r+16),i&&this.doRequest(!0))},t.onTab=function(n){f.Message.reqANums();this.mType=n.TmpData;this.doRequest(!0)},t.getANums=function(){var n=0,t=arguments.length;for(n;n<t;n++)this.mVecRps[n]&&this.mVecRps[n].showValue(arguments[n])},t.doRequest=function(n){var t=!1;return n?(t=!0,this.mPreState=9,this.Container.ItemClean(!0)):0==this.Container.getItems().length&&(t=!0),f.Message.reqPageLists(t,this.mType),!0},t.getLists=function(n,t){var u,r,f,i;if(this.parent&&this.mType==n){if(u=t.length,u>0)for(r=0,r;r<u;r++)i=t[r],i.state!=this.mPreState&&(this.mPreState=this.mPreState==0&&i.state==1&&i.subType==0?2:i.state,this.Container.ItemAdd(this.mVecTitles[this.mPreState])),f=l.get(vv),this.mParser.parse(f,i),this.Container.ItemAdd(f);this.Container.doWaitComplete()}},t.getResult=function(n,t,i){if(0==n){var e=this.Container.getItems(),o=e.length,r=0,u;for(r;r<o;r++)u=e[r],u instanceof games.windows.messages.Message_Item&&u.getMailID()==i&&u.updateState(t);f.Message.reqANums()}},i}(nt),pwt=function(n){function i(){var t,n;this.mInput=null;i.__super.call(this,"club_join");this.Container.pushLineGap(64);this.Container.ItemAdd(new ee("mainUi/club_join.png","club_crt_tips2",30),12);t=s.MAX_W>>1;this.mInput=new yr(560,"inputBg2");this.mInput.initRight(!0,64,64,26,null,null,"center");this.mInput.type=ci.T_NUMBER;this.mInput.maxChars=6;this.mInput.restrict="0-9";this.mInput.prompt=u.lang("club_code");this.mInput.mInput.ReturnKeyType=6;this.mInput.x=this.mWidth-this.mInput.width>>1;this.Container.ItemAdd(this.mInput,40);n=k.crt_Btn(null,"btn_ty_1");n.x=this.mWidth-n.width>>1;n.label=u.lang("search");n.on("click",this,this.checkInput);this.Container.ItemAdd(n,56);f.Club.regist(710,this.getC710,this);f.Club.regist(711,this.getC711,this);this.mInput.mInput.on("enter",this,this.onKeyDown);this.onDisable()}r(i,"games.windows._club.search.Win_Club_Search",n);var t=i.prototype;return t.onDisable=function(){this.mInput.text=""},t.onKeyDown=function(){this.checkInput()},t.checkInput=function(){var n=a.getNumber(this.mInput.text);0==n?ut.showMessage("club_err_tips1"):(f.Club.reqSearch(n),this.mInput.mInput.focus=!1)},t.getC710=function(n){n&&b.OpenWin(54,n)},t.getC711=function(n){0==n&&this.doClose()},i}(nt),wwt=function(n){function i(n){var r,t;this.mTab=null;this.mLists=null;this.mCookie=null;this.mCookieData=null;this.mShowType=null;this.mSt_Menus=null;this.mSt_Hd=null;this.mSt_p=null;this.mSt_idx=0;i.__super.call(this,n,0,0,!1);r=h.create(this,this.onTab,null,!1);this.mTab=new rr;this.mTab.create(u.obj("mtt_list_hallTab"),624);this.mTab.setClick(r);this.mTab.pos(20,1);this.addChild(this.mTab);this.initShowType();t=this.mTab.y+this.mTab.height+20;this.mLists=new ug(this.mHeight-t);this.mLists.setZdID(0);this.mLists.y=t;this.addChild(this.mLists);this.mCookie=new nu("hallSelect__mtt");this.mCookieData=this.mCookie.getCookie();this.mCookieData&&this.mCookieData.hasOwnProperty("idx")||(this.mCookieData={idx:0},this.mCookie.Save(this.mCookieData));this.mTab.select(this.mCookieData.idx)}r(i,"games.scene.modules.hall.HallModu_Mtt",n);var t=i.prototype;return t.initShowType=function(){this.mSt_Menus=u.obj("mtt_list_hallBox");this.mSt_Hd=h.create(this,this.onStC,null,!1);this.mSt_p=new kt;this.mSt_idx=0;this.mShowType=k.crt_Btn(this,null,"mainUi/hall_mtt_type_-1.png");this.mShowType.pos(this.mTab.x+this.mTab.width+18>>0,this.mTab.y+.5*(this.mTab.height-this.mShowType.height)>>0);this.mShowType.on("click",this,this.onClkSt);this.onEnable()},t.onClkSt=function(){this.mSt_p.setTo(this.mShowType.x-36,this.mShowType.height+8);this.localToGlobal(this.mSt_p);gs.ins.Show(this.mSt_Hd,this.mSt_Menus,this.mSt_p,this.mSt_idx)},t.onStC=function(n,t){this.mSt_idx=n;this.mShowType.TmpData=t.data;this.mShowType.res="mainUi/hall_mtt_type_"+t.data+".png";this.onTab()},t.onEnable=function(){this.onStC(0,this.mSt_Menus[0])},t.start=function(){this.mLists.Start()},t.onTab=function(){this.callLater(this.changeOptions)},t.changeOptions=function(){this.mCookieData.idx=this.mTab.selectIndex;this.mCookie.Save(this.mCookieData);this.mLists.setOption(this.mShowType.TmpData,this.mTab.TmpData)},i}(ir),bwt=function(n){function i(){this.mView=null;i.__super.call(this,"addTab_title",null,0);this.updateTopH(108);this.mView=new hat(h.create(this,this.doSubmit,null,!1));this.Container.ItemAdd(this.mView);f.Login.regist(103,this.getResult,this)}r(i,"games.windows.accounts.accMgr.tab.Win_Acc_Tab",n);var t=i.prototype;return t.start=function(){this.mView.I_User.updateCountry(f.Login.DEF_LANG);this.onSubClose()},t.onSubClose=function(){this.mView.I_User.setValue("");this.mView.I_Psw.setValue("");this.mView.Radio.selected=!1;a.StopInsOp(this.mView.Submit,500)},t.getResult=function(n){0==n&&this.doClose()},t.doSubmit=function(){var t=this.mView.I_User.getValue(!0),n;if(t&&(n=this.mView.I_Psw.getValue(!0),n)){if(!this.mView.Radio.selected){pt.Alert(u.lang("login_mzsm_0"),this,u.obj("login_mzsm_1"),[this.onReaded,null]);return}a.StopInsOp(this.mView.Submit,1500);f.Login.reqSubAdd(this.mView.I_User.getCountry(),t,n)}},t.onReaded=function(){this.mView.Radio.selected=!0;this.doSubmit()},i}(nt),kwt=function(n){function e(){this.RE_TIME=60;this.mIcon=null;this.mTxtPhone=null;this.mInput=null;this.mBtnCode=null;this.mDsLogin=null;this.mDcIndex=999999;this.mType=0;e.__super.call(this,null);this.Container.updateRealHeight(64);this.mIcon=new hi(180);this.mIcon.mouseEnabled=!1;this.mIcon.toXCenter();this.Container.ItemAdd(this.mIcon,88);this.mTxtPhone=w.quickCreate(30,"#b2d6fb");this.mTxtPhone.height=32;this.Container.ItemAdd(this.mTxtPhone,20);this.mInput=new yr(710);this.mInput.initLeft();this.mInput.updateLeft(u.lang("dis_8"));this.mInput.initRight(!0,148,28,0,null,null,"center",206);this.mInput.x=72;this.mInput.restrict="0-9";this.mInput.maxChars=4;this.mInput.type=ci.T_NUMBER;this.mInput.prompt=u.lang("dis_4");this.mInput.toXCenter();this.Container.ItemAdd(this.mInput);var n=h.create(this,this.onClickFun,null,!1);this.mBtnCode=k.crt_Btn(this.Container,"edit",null,0,0,200);this.mBtnCode.label=u.lang("dis_6");this.mBtnCode.TmpData=0;this.mBtnCode.pos(this.mInput.x+this.mInput.width-this.mBtnCode.width-24,this.mInput.y+.5*(this.mInput.height-this.mBtnCode.height)>>0);this.mBtnCode.setClick(n);this.initFeet(n);this.mDsLogin=f.Login;f.Club.regist(704,this.getResult,this);f.Leagues.regist(909,this.getResult,this)}r(e,"games.windows._commons.Win_CU_Dismiss",n);var t=e.prototype;return i.imps(t,{"FioLibs.interfaces.IFio_DC":!0}),t.initFeet=function(n){var i=new di("dis_7",n,!0),t;i.TmpData=1;this.addChild(i);t=w.quickCreate(24,"#ff0000");t.text=u.lang("dis_5");t.pos(this.mWidth-t.width>>1,i.y-t.height-24>>0);this.addChild(t)},t.start=function(n){this.mType=n[0];this.updateTitle("dis_"+this.mType,!0);this.mTxtPhone.text=u.lang("dis_3",this.mDsLogin.CurAcc.user);this.mTxtPhone.x=this.mWidth-this.mTxtPhone.width>>1;this.mInput.text="";this.mIcon.loadIcon(f.Club.ClubVo.icon,1)},t.onClickFun=function(n){switch(n.TmpData){case 0:this.mDsLogin.reqCode(this.mDsLogin.CurAcc.country,this.mDsLogin.CurAcc.user,this.mType==0?5:6);au.delIns(this.mDcIndex);this.mDcIndex=au.addIns(this,this.RE_TIME,0);this.mBtnCode.disabled=!0;break;case 1:var t=a.getNumber(this.mInput.text);0==t?ut.showMessage("dis_4"):this.mType==0?f.Club.reqDis(t):f.Leagues.reqDis(t)}},t.getResult=function(n){0==n&&ea.ins.toCloseAll()},t.updateDC=function(n){n>0?this.mBtnCode.label=u.lang("dis_8")+"("+n+")":(this.mBtnCode.disabled=!1,this.mBtnCode.label=u.lang("dis_6"))},e}(nt),dwt=function(n){function t(){this.mBtnSort=null;this.mBraView=null;this.mAllVec=null;this.mRoomID=0;this.mDataOk=!1;this.mPageID=0;this.mPageTotal=0;this.mDataNum=0;this.mRealNum=0;this.mMenuAdmin=null;this.mMenuNormal=null;this.mShowSafe=!1;t.__super.call(this,"roomBrands_title",null,10);this.mMenuAdmin=u.obj("roomBrands_ordersAdmin");this.mMenuNormal=u.obj("roomBrands_orders");this.mBtnSort=new hf("combox_5");this.mBtnSort.width=188;this.mBtnSort.setClick(h.create(this,this.onType,null,!1));this.addChild(this.mBtnSort);this.mBraView=new cc(504,!1,!0);this.mAllVec=[];this.Container.setCallback(h.create(this,this.showPage,null,!1));this.Container.on("click",this,this.onClickItem);f.Room.regist(516,this.getLists,this)}r(t,"games.windows.matches.brands.roomBrands.Win_RoomBrands",n);var i=t.prototype;return i.onClickItem=function(n){var t=n.target;t!=this.Container&&(this.addChild(this.mBraView),this.mBraView.setBrandInfo(this.mRoomID,t.TmpData,this.mRealNum,!1,t.DealIdx))},i.start=function(n){this.onDisable();var i=f.Club.ClubVo.job<2;this.mBtnSort.creat(i?this.mMenuAdmin:this.mMenuNormal);this.mBtnSort.pos(s.MAX_W-this.mBtnSort.width-16,100-this.mBtnSort.height>>1);t.mType=this.mBtnSort.data;this.mShowSafe=t.mType>2;this.mRoomID=a.getNumber(n[0]);this.Container.showWating(!0);f.Room.reqSettleBrands(this.mRoomID)},i.onDisable=function(){for(this.mDataNum=this.mRealNum=0,this.mDataOk=!1,this.mBraView.removeSelf(),this.Container.ItemClean(!0);this.mAllVec.length>0;)l.recyle(this.mAllVec.shift())},i.onType=function(n){this.Container.ItemClean(!0);t.mType=n.data;this.mShowSafe=t.mType>2;this.doSort()},i.doSort=function(){this.mBraView.removeSelf();this.mPageID=0;this.mDataOk&&(this.mAllVec.sort(this.doCompare),this.showPage(!1))},i.doCompare=function(n,i){switch(t.mType){case 0:if(n.handID<i.handID)return-1;if(n.handID>i.handID)return 1;if(n.DealIdx<i.DealIdx)return-1;if(n.DealIdx>i.DealIdx)return 1;break;case 1:if(n.score<i.score)return 1;if(n.score>i.score)return-1;break;case 2:if(n.score<i.score)return-1;if(n.score>i.score)return 1;break;case 4:if(n.safeYK<i.safeYK)return 1;if(n.safeYK>i.safeYK||n.handID<i.handID)return-1;if(n.handID>i.handID)return 1;break;case 3:if(n.safeYK<i.safeYK)return-1;if(n.safeYK>i.safeYK)return 1;if(n.handID<i.handID)return-1;if(n.handID>i.handID)return 1}return 0},i.showPage=function(n){var t,i,u,r;if(this.mDataOk&&!n&&this.mPageID<this.mPageTotal){for(t=this.mPageID*32,i=t+32,i>=this.mDataNum&&(i=this.mDataNum),t;t<i;t++)u=this.mAllVec[t],r=l.get(od),r.setVo(u,this.mShowSafe),this.Container.ItemAdd(r);return this.mPageID+=1,this.Container.doWaitComplete(50),!0}return!1},i.getLists=function(n){this.onDisable();this.mRealNum=0;var i=0,r=n.length,t,u=0;for(i;i<r;i++)t=n.shift(),this.mAllVec.push(t),u!=t.C_ID&&(u=t.C_ID,this.mRealNum+=1);this.mDataOk=!0;this.mDataNum=r;this.mPageTotal=Math.ceil(this.mDataNum/32);this.mDataNum>0&&this.doSort();this.Container.doWaitComplete(200)},t.PAGE_SIZE=32,t.mType=0,t}(nt),gwt=function(n){function t(){this.mBtnSort=null;this.mBraView=null;this.mAllVec=null;this.mRoomID=0;this.mMatchType=0;this.mDataOk=!1;this.mPageID=0;this.mPageTotal=0;this.mDataNum=0;this.mMenuNormal=null;t.__super.call(this,"roomBrands_title",null,10);this.mMenuNormal=u.obj("roomBrands_orders");this.mBtnSort=new hf("combox_5");this.mBtnSort.width=188;this.mBtnSort.creat(this.mMenuNormal);this.mBtnSort.pos(s.MAX_W-this.mBtnSort.width-18,100-this.mBtnSort.height>>1);this.mBtnSort.setClick(h.create(this,this.onType,null,!1));this.addChild(this.mBtnSort);this.mBraView=new sv(!1);this.mAllVec=[];this.Container.setCallback(h.create(this,this.showPage,null,!1));this.Container.on("click",this,this.onClickItem);f.Room.regist(517,this.getLists,this)}r(t,"games.windows.matches.brands.roomBrands.Win_RoomBrands_MTT",n);var i=t.prototype;return i.onClickItem=function(n){var t=n.target;t!=this.Container&&(this.addChild(this.mBraView),this.mBraView.setBrandInfo(this.mRoomID,t.TmpData,this.mDataNum,this.mMatchType==1))},i.start=function(n){this.mRoomID=n[0];this.mMatchType=n[1];this.onDisable();t.mType=this.mBtnSort.data;this.Container.showWating(!0);f.Room.reqMTTSettleBrands(this.mRoomID,this.mMatchType)},i.onDisable=function(){for(this.mDataNum=0,this.mDataOk=!1,this.mBraView.removeSelf(),this.Container.ItemClean(!0);this.mAllVec.length>0;)l.recyle(this.mAllVec.shift())},i.onType=function(n){this.Container.ItemClean(!0);t.mType=n.data;this.doSort()},i.doSort=function(){this.mBraView.removeSelf();this.mPageID=0;this.mDataOk&&(this.mAllVec.sort(this.doCompare),this.showPage(!1))},i.doCompare=function(n,i){switch(t.mType){case 0:if(n.handID<i.handID)return-1;if(n.handID>i.handID)return 1;if(n.DealIdx<i.DealIdx)return-1;if(n.DealIdx>i.DealIdx)return 1;break;case 3:if(n.handID>i.handID)return-1;if(n.handID<i.handID)return 1;if(n.DealIdx>i.DealIdx)return-1;if(n.DealIdx<i.DealIdx)return 1;break;case 1:if(n.score<i.score)return 1;if(n.score>i.score)return-1;break;case 2:if(n.score<i.score)return-1;if(n.score>i.score)return 1}return 0},i.showPage=function(n){var t,i,u,r;if(this.mDataOk&&!n&&this.mPageID<this.mPageTotal){for(t=this.mPageID*32,i=t+32,i>=this.mDataNum&&(i=this.mDataNum),t;t<i;t++)u=this.mAllVec[t],r=l.get(od),r.setVo(u,!1),this.Container.ItemAdd(r);return this.mPageID+=1,this.Container.doWaitComplete(50),!0}return!1},i.getLists=function(n){this.onDisable();var t=0;for(this.mDataNum=n.length,t;t<this.mDataNum;t++)this.mAllVec.push(n.shift());this.mPageTotal=Math.ceil(this.mDataNum/32);this.mDataOk=!0;this.mDataNum>0&&this.doSort();this.Container.doWaitComplete(200)},t.PAGE_SIZE=32,t.mType=0,t}(nt),nbt=function(n){function t(n){this.mTab=null;this.mLists=null;this.mCookie=null;this.mCookieData=null;t.__super.call(this,n,0,0,!1);this.mTab=new rr;this.mTab.create(u.obj("sng_list_hallTabs"),710);this.mTab.setClick(h.create(this,this.onTab,null,!1));this.mTab.pos(this.mWidth-this.mTab.width>>1,1);this.addChild(this.mTab);var i=this.mTab.y+this.mTab.height+20;this.mLists=new uv(this.mHeight-i,!1);this.mLists.setZdID(0);this.mLists.y=i;this.addChild(this.mLists);this.mCookie=new nu("hallSelect__sng");this.mCookieData=this.mCookie.getCookie();this.mCookieData&&this.mCookieData.hasOwnProperty("idx")||(this.mCookieData={idx:0},this.mCookie.Save(this.mCookieData));this.mTab.select(this.mCookieData.idx)}r(t,"games.scene.modules.hall.HallModu_Sng",n);var i=t.prototype;return i.start=function(){this.mLists.Start()},i.onTab=function(){this.mCookieData.idx=this.mTab.selectIndex;this.mCookie.Save(this.mCookieData);this.mLists.setType(this.mTab.TmpData);this.parent&&this.mLists.Start()},t}(ir),tbt=function(n){function t(n){this.mFlip=!1;this.mIconSize=0;this.mLastState=-1;t.__super.call(this,null);this.y=5;this.mIconSize=n}r(t,"games.matchCores.desk.role.DmRole_BetState",n);var i=t.prototype;return i.DoReset=function(){this.removeSelf();this.mLastState=-1},i.initFlip=function(n){this.mFlip=n},i.showState=function(n,t){if(this.mLastState!=n){n==20&&(n+=t);this.mLastState=n;var i="mm_state_"+n+".png";this.setRes("matches/"+(this.mFlip?"r_":"")+i);this.x=this.mFlip?-8-this.mWidth:this.mIconSize+8}},t}(st),ibt=function(n){function i(){var n,o,c,l,t,e,r;this.MAX_CHARS=16;this.mIcon=null;this.mCost=null;this.mCostV=null;this.mIname=null;this.mIwx=null;this.mI_notice=null;this.mBtnBig=null;this.mCID=0;this.mDs=null;i.__super.call(this,"club_create_and_edit0");this.mDs=f.Club;this.Container.updateRealHeight(16);n=160;this.mIcon=new hi(n,!0);this.mIcon.loadIcon(null,1);this.mIcon.pos(s.MAX_W-n>>1,16);this.mIcon.mLabel.fontSize=30;this.mIcon.mLabel.color="#40608e";this.mIcon.mLabel.y=n+40>>0;this.mIcon.setLabel(u.lang("club_set_icon"));this.mIcon.on("click",this,this.onClickIcon);this.Container.ItemAdd(this.mIcon,112);o=20;n=646;c=s.MAX_W-n>>1;this.mIname=new yr(n);this.mIname.initLeft();this.mIname.updateLeft(u.lang("club_name"));this.mIname.initRight(!0,200,28,0,null,null,"left",-16);this.mIname.prompt=u.lang("club_err_name_min");this.mIname.x=c;this.mIname.maxChars=this.MAX_CHARS;this.Container.ItemAdd(this.mIname,o);this.mCost=new g;this.mCost.innerHTML=u.lang("club_crt_val");this.mCost.pos(n-this.mCost.contextWidth-44,this.mIname.height-this.mCost.contextHeight>>1);this.mIname.addChild(this.mCost);this.mIwx=new yr(n);this.mIwx.initLeft();this.mIwx.updateLeft(u.lang("club_WX"));this.mIwx.initRight(!0,200,28,0,null,null,"left",-16);this.mIwx.prompt=u.lang("club_input_tips1");this.mIwx.x=c;this.mIwx.maxChars=26;this.mIwx.restrict="-_a-zA-Z0-9";this.Container.ItemAdd(this.mIwx,o);l=340;t=new tr;k.loadImgBg(t,"BroBg",null,n,l);t.x=c;this.Container.ItemAdd(t,o);e=20;r=w.quickCreate(28,"#b2d6fb");r.text=u.lang("club_notic");r.pos(n-r.width>>1,e);t.addChild(r);e+=r.height+20>>0;this.mI_notice=new ci;this.mI_notice.color="#b2d6fb";this.mI_notice.fontSize=26;this.mI_notice.size(n-64,l-e-20);this.mI_notice.align="left";this.mI_notice.valign="top";this.mI_notice.leading=10;this.mI_notice.wordWrap=this.mI_notice.multiline=!0;this.mI_notice.maxChars=240;this.mI_notice.pos(32,e);this.mI_notice.prompt=u.lang("club_input_tips2");this.mI_notice.promptColor="#6391d5";this.mI_notice.overflow="hide";this.mI_notice.restrict="^<>";t.addChild(this.mI_notice);this.addChild(this.mBtnBig=new di("club_create_and_edit0",h.create(this,this.onClickBig,null,!1)));this.Container.updateRect(0,this.mHeight-this.Container.y-128);f.Club.regist(701,this.getResult,this);f.Club.regist(702,this.getResult,this);f.Club.regist(704,this.getResult,this);oi.regist(350,this.updateICon,this,!1)}r(i,"games.windows._club.Win_Club_CAndE",n);var t=i.prototype;return t.onClickIcon=function(){this.mCID<1?ut.showMessage("club_crt_tips4"):ph.openUpload(1)},t.onClickBig=function(){this.check(this.mBtnBig.TmpData)},t.check=function(n){var r=this.mIwx.text,t=this.mIname.text,f=this.mI_notice.text,i;b.CheckCharLength(t,this.MAX_CHARS,"club_err_name_min","club_err_name_max")&&(n?this.mDs.reqEdit(0,t,r,f):(i=this.mDs.ClubVo.name,t!=i&&this.mDs.ReTimes==0?pt.Alert(u.lang("club_crt_ask",this.mCostV),this,null,[this.doSubmit,null]):this.doSubmit()))},t.doSubmit=function(){this.mDs.reqEdit(this.mCID,this.mIname.text,this.mIwx.text,this.mI_notice.text)},t.onDisable=function(){this.mCID=0;this.mIname.changeIW(0);this.mCost.visible=!1;this.mIname.text=this.mIwx.text=this.mI_notice.text=""},t.start=function(n){if(this.onDisable(),this.mCID=n[0],this.updateTitle("club_create_and_edit"+(0==this.mCID?0:1),!0),this.mCID<1)this.mIcon.loadIcon(null,1),this.mBtnBig.label=u.lang("club_create_and_edit0"),this.mBtnBig.TmpData=!0;else{var t=this.mDs.ClubVo;this.mIname.text=t.name;this.mIwx.text=t.wx;this.mI_notice.text=t.notice;this.mCostV=this.mDs.ReNameCost;this.mBtnBig.label=u.lang("club_save");this.mBtnBig.TmpData=!1;this.mIcon.loadIcon(t.icon,1);this.mDs.ReTimes==0&&(this.mCost.visible=!0,this.mIname.changeIW(-this.mCost.width))}},t.getResult=function(n){0==n&&this.doClose()},t.updateICon=function(){this.mIcon.loadIcon(this.mDs.ClubVo.icon,1)},i}(nt),rbt=function(n){function t(){var n,i,r;for(this.mTimeStrs=null,this.mTname=null,this.mRank=null,t.__super.call(this,null,null,0,!1),this.mTimeStrs=[],n=u.obj("dpi_rank_days");n.length>0;)i=n.shift(),this.mTimeStrs[i.data]=i.label;this.mTname=new g("center");this.mTname.mouseEnabled=!1;this.mTname.style.fontSize=38;this.mTname.style.color="#b2d6fb";this.mTname.style.leading=20;this.mTname.y=32;this.addChild(this.mTname);r=128;this.mRank=new ya(this.mHeight-r,2);this.mRank.y=r}r(t,"games.windows.dpi.Win_DPI_Club",n);var i=t.prototype;return i.start=function(n){this.onDisable();var t=n[0],i=n[1];this.mTname.innerHTML=u.lang("dpi_club_t",t.name,this.mTimeStrs[i]);this.toXCenter(this.mTname);this.mRank.setQuery(i,t.sID);this.addChild(this.mRank)},i.onDisable=function(){this.mRank.stop();this.mTname.innerHTML=""},t}(nt),wk=function(n){function t(){this.mImg=null;this.mVo=null;this.mActOk=!1;t.__super.call(this,null,null,0);this.mImg=new s;this.mImg.mouseEnabled=!1}r(t,"games.windows.Win_ActNotice",n);var i=t.prototype;return i.start=function(n){var t=n[0];t&&(this.mVo!=t||!this.mActOk)&&(this.mVo=t,this.updateTitle(t.label,!1),this.Container.ItemClean(),this.mActOk=!1,this.mImg.texture=null,kf.NT.load(this.mVo.data,h.create(this,this.onImgLoaded,[t.data])))},i.onImgLoaded=function(n,t){n==this.mVo.data&&!this.mActOk&&t&&(this.mActOk=!0,this.mImg.texture=t,this.mImg.x=s.MAX_W-t.width>>1,this.Container.ItemAdd(this.mImg))},t}(nt),ubt=function(n){function i(){this.mVecRadios=null;this.mFlag=null;this.mData=null;this.mHdCls=null;this.mTabIdx=0;i.__super.call(this,"mttBmzg_t",null,0);this.mBtnBack.removeSelf();var n=new di("sure",h.create(this,this.doSave,null,!1));this.addChild(n);this.initUI(n.y-8)}r(i,"games.windows.matches.creators.mtt.Win_Mtt_Tzzg",n);var t=i.prototype;return t.initUI=function(n){var c=ot.CFG_MTT.OtherCfgs[0].data,r=0,a=c.length,t,s;this.mVecRadios=[];var i,l=h.create(this,this.onRadio,null,!1),v=h.create(this,this.onSlider,null,!1),f=nt.BASE_Y,u=0,e,o;for(r;r<a;r++){if(t=c[r],0==t.step)o=i=new rc(t,l,-1,null);else{for(i=new rc(t,l,120+t.data,v),u=t.min,e=[];u<=t.max;)e.push(u),u+=t.step;i.Slider.setIntervals(e,0)}i.y=f;f+=i.height+10;this.mVecRadios[r]=i;this.addChild(i)}s=710;this.Container.updateRect(s,n-f);this.Container.pos(0,o.height);this.Container.on("click",this,this.onClkCon);o.addIns(this.Container);this.mFlag=new ks(s,64,!0)},t.updateView=function(n){var i,r,f,t,u;for(this.mTabIdx=n,i=0,r=this.mVecRadios.length,n<0?n=0:n>r-1&&(n=r-1),f=nt.BASE_Y,i=0;i<r;i++){if(t=this.mVecRadios[i],t.y=f,n==i){if(t.selected=!0,t.Slider)this.onSlider(t.Slider.getValue(),t.Slider);else if(this.mFlag.TmpData&&(u=this.Container.findItem("CID",this.mFlag.TmpData),u)){this.onClkTicket(u);this.Container.selectItem(u)}}else t.DoReset();f+=t.height+10}},t.onRadio=function(n){var t=n.TmpData;t!=this.mTabIdx?this.updateView(t):n.selected=!0},t.onSlider=function(n,t){var i=t.TmpData;i.updateText(a.NumToStr(n+" + "+(n*.1>>0)))},t.onClkTicket=function(n){this.mFlag.TmpData=n.CID;n.addChildAt(this.mFlag,0);this.mVecRadios[2].updateText(n.TmpData)},t.onClkCon=function(n){if(n.target!=n.currentTarget)this.onClkTicket(n.target)},t.onSubClose=function(){this.mFlag.removeSelf();this.mFlag.TmpData=0;this.Container.ItemClean(!0);this.mData=null;this.mHdCls&&this.mHdCls.recover();this.mHdCls=null},t.start=function(n){var r;this.onSubClose();var f=ot.Tick_GetAll(!0),i=0,e=f.length,t,u;for(i;i<e;i++)u=f[i],u&&(t=l.get(vvt),t.setVo(u,1),this.Container.ItemAdd(t));this.mData=n[0];this.mHdCls=n[1];r=this.mData.type;r<2?(this.mVecRadios[r].Slider.setSelect(this.mData.idx),t=this.Container.getItems()[0]):t=this.Container.findItem("CID",this.mData.val);this.onClkTicket(t);this.Container.selectItem(t);this.updateView(r)},t.doSave=function(){for(var n,t=0,i=this.mVecRadios.length,t=0;t<i;t++)if(n=this.mVecRadios[t],n.selected){this.mData.type=n.TmpData;n.Slider?(this.mData.idx=n.Slider.getIndex(),this.mData.val=n.Slider.getValue()):(this.mData.idx=0,this.mData.val=this.mFlag.TmpData);break}this.mHdCls&&this.mHdCls.run();this.doClose()},i}(nt),fbt=function(n){function t(){this.mDate=null;this.mYm=null;this.mDay=null;this.mBind=null;this.mP_year=0;this.mP_month=0;this.mP_day=0;t.__super.call(this,!1,!0);var n=h.create(this,this.onClickBtn,null,!1);this.addChild(this.mYm=new evt(n));this.mDay=new iat(n);this.mDay.y=this.mYm.height;this.addChild(this.mDay);this.mDate=new Date}r(t,"FioLibs.displays.coms.extendComs.dates.FioDateMgr",n);var i=t.prototype;return i.Close=function(){this.removeSelf();this.mBind=null},i.show=function(n,t){this.Close();t&&(this.mBind=t,this.mDate.setTime(n*1e3),this.mP_year=this.mDate.getFullYear(),this.mP_month=this.mDate.getMonth()+1,this.mP_day=this.mDate.getDate(),this.update(),this.stage.addChild(this))},i.update=function(){var n=a.getDT(this.mP_year,this.mP_month);this.mYm.show(this.mP_year,this.mP_month);this.mP_day>n.t&&(this.mP_day=n.t);this.mDay.show(n.w,this.mP_day,n.t);this.callLater(this.rePos)},i.rePos=function(){this.mHeight=this.mDay.y+this.mDay.height>>0;this.y=s.MAX_H-this.mHeight-1;this.updateMask()},i.onClickBtn=function(n){switch(n.TmpData){case-100:this.mP_year-=1;break;case 100:this.mP_year+=1;break;case-1e3:this.mP_month-=1;0==this.mP_month&&(this.mP_month=12,this.mP_year-=1);break;case 1e3:this.mP_month+=1;13==this.mP_month&&(this.mP_month=1,this.mP_year+=1);break;default:this.mP_day=n.TmpData;this.mBind&&this.mBind.setDate(this.mP_year+"-"+this.mP_month+"-"+this.mP_day,!0);this.Close();return}this.update()},e(1,t,"ins",function(){return t.s_Ins||(t.s_locked=!1,t.s_Ins=new t,t.s_locked=!0),t.s_Ins},FioLibs.displays.Mask_Area._$SET_ins),t.s_locked=!0,t.s_Ins=null,t}(ff),ebt=function(n){function t(){t.__super.call(this,!0)}return r(t,"FioLibs.displays.flyMessage._MsgItem_Center",n),t}(lb),obt=function(n){function f(){this.mDicBtns=null;this.mRecord=null;f.__super.call(this);this.mouseThrough=!0;this.texture=i.loader.getRes("matches/mu_roomMainBtn_bg.png");this.toSize(this.texture.width>>0,this.texture.height>>0);this.y=s.MAX_H-this.mHeight;var o=h.create(this,this.onClkMenu,null,!1),e=u.obj("match_menus"),r=0,c=e.length,n,t;for(this.mDicBtns={},r;r<c;r++)n=e.shift(),t=k.crt_Btn(this,"main","matches/mu_btn_"+n.res+".png"),t.TmpData=n.data,t.pos(n.x,this.mHeight-n.y>>0),t.setClick(o),this.mDicBtns[n.data]=t;this.mRecord=new kct(this.mDicBtns[13]);this.initAtCost(this.mDicBtns[12]);oi.regist(400,this.showQuikQuit,this);oi.regist(401,this.showAddTime,this)}r(f,"games.matchCores.desk.views.DMView_Menus",n);var t=f.prototype;return t.initAtCost=function(n){var t=fi.create(40,0,0);t.mouseEnabled=!0;t.setFont("#b2d6fb",22);t.pos(n.width>>0,n.height-t.height>>0);n.addChild(t);pe.regRes(0,t);this.showAddTime(!1)},t.DoReset=function(){this.mRecord.doReset();this.showBtn(this.mDicBtns[12],!1);this.showBtn(this.mDicBtns[13],!1);this.showBtn(this.mDicBtns[14],!1);this.showBtn(this.mDicBtns[15],!1)},t.showChat=function(n){n===void 0&&(n=!0);this.showBtn(this.mDicBtns[13],n);this.showBtn(this.mDicBtns[14],n)},t.showQuikQuit=function(n){this.showBtn(this.mDicBtns[15],n)},t.showAddTime=function(n){this.showBtn(this.mDicBtns[12],n)},t.showBtn=function(n,t){t?n.parent||this.addChild(n):n.removeSelf()},t.onClkMenu=function(n){var i,t;ei.PlayEff(101);i=n.TmpData;switch(i){case 1:t=22;o.MatchVo.isSNG()?t=50:o.MatchVo.isMTT()&&(t=42);ki.open(t);break;case 3:o.MatchVo.isMTT()?ki.open(41):o.MatchVo.IsXlsDz?ki.open(29):ki.open(28);break;case 11:ki.open(1);break;case 12:o.DsMatch.reqAddTime();break;case 14:ki.open(3);break;case 15:o.DsMatch.reqQuit();break;case 99:o.AutoFollow=n.selected}},f}(o),oo=function(n){function t(n,i,r,u){i===void 0&&(i=0);t.__super.call(this,n?1:11,u?u:"login_11_n",r?r:"login_11_p",i);this.iInput.type="password";this.iInput.maxChars=15}r(t,"games.windows.accounts.utils.AccInput_Psw",n);var i=t.prototype;return i.setIsCzmm=function(){this.iInput.restrict="0-9";this.iInput.maxChars=6},t}(ls),sbt=function(n){function i(){var t,r,n;this.mTab=null;this.mBtnGk=null;this.mDeskID=0;this.mCID=0;this.mUID=0;this.mValCfg=null;i.__super.call(this,null,null,2,!0);this.mTitleIns.fontSize=32;t=710;this.mTab=new rr;this.mTab.create(u.obj("xlsDz_tabs"),t);this.mTab.y=this.Container.y-12;this.toXCenter(this.mTab);this.addChild(this.mTab);this.mTab.select(0);this.Container.y=this.mTab.y+this.mTab.height+20;this.mBtnGk=new di("xlsDz_0",h.create(this,this.toGk,null,!1));this.mBtnGk.TmpData=0;this.addChild(this.mBtnGk);r=this.mBtnGk.y-24-this.Container.y;this.graphics.drawRoundRect(24,t,r,"#386ebf40",this.mTab.x,this.Container.y);n=new p;n.mouseEnabled=!1;ft.makeTitle(n,"xlsDz_head",t,80);n.pos(this.mTab.x,this.Container.y);this.addChild(n);this.Container.x=this.mTab.x;this.Container.y+=n.height;this.Container.updateRect(t,r-n.height);this.Container.on("click",this,this.onClkItem);this.mValCfg=ft.sGetTab("xlsDz_val");f.Desk.regist(309,this.getDzLists,this)}r(i,"games.windows.matches.matchLists.dzdp.Win_Desk_XlsDzLists",n);var t=i.prototype;return t.onSubClose=function(){this.mDeskID=this.mCID=this.mUID=0;this.mBtnGk.visible=!1;this.Container.ItemClean(!0)},t.start=function(n){this.onSubClose();this.updateTitle(u.lang("xlsDz_t",n[0]),!1);this.mDeskID=n[1];this.mCID=n[2];this.mUID=n[3];f.Desk.reqDzLists(this.mDeskID)},t.onClkItem=function(n){n.currentTarget!=n.target&&this.toGk(n.target)},t.toGk=function(n){f.Desk.reqJoin(this.mDeskID,this.mCID,this.mUID,n.TmpData)},t.getDzLists=function(n,t,i){if(this.mDeskID==n){this.Container.ItemClean(!0);var f=0,e=i.length,r,u;for(ft.crtStart(this.mValCfg,710,72,!1,!0),f;f<e;f++)r=l.get(lr),r.mouseEnabled=!0,u=i.shift(),r.TmpData=u.dNo,r.updateValue(0,u.dNo),r.updateValue(1,u.num),r.updateValue(2,a.NumToStr(u.val)),r.Tex_Make(!0),this.Container.ItemAdd(r),l.recyle(u);ft.crtDone();this.mBtnGk.visible=!0}},i}(nt),bk=function(n){function e(n,t){this.mIsClub=!1;this.mCmdID=0;this.mDataOk=!1;this.mCtrlPage=null;this.mGoods=null;this.mStates=null;e.__super.call(this,n,2);this.mIsClub=t;this.mCmdID=this.mIsClub?767:771;f.Club.regist(this.mCmdID,this.getLogs,this);this.mGoods=rt.GameConfigs.scoreEc;this.mStates=u.obj("fundsLogs_states");this.mCtrlPage=new su(this)}r(e,"games.windows._club.funds.mgr.Modu_Score_EcLogs",n);var t=e.prototype;return i.imps(t,{"FioLibs.interfaces.IFio_PageStep":!0}),t.onDisable=function(){this.mDataOk=!1;this.mCtrlPage.setSource(null);this.mSCon.ItemClean(!0)},t.start=function(){this.onDisable();f.Club.reqEcLogs(this.mCmdID)},t.doScroll=function(n){return this.mDataOk&&!n?(this.mSCon.doWaitComplete(30),this.mCtrlPage.showNext()):!1},t.addStepItem=function(n){var t=l.get(kat),i=n,r=this.mGoods[i.gID];t.showState(this.mStates[i.state]);t.showIcon(wt.getShopIcon(r.icon));t.showLabel(u.lang("fundsLogs_0",r.title,i.num));t.showTime(i.time);t.showValue(i.cost);t.showRest(u.lang("fundsLogs_1",i.rest));this.mSCon.ItemAdd(t)},t.getLogs=function(n){this.parent&&(this.mDataOk=!0,this.mCtrlPage.setSource(n),this.doScroll(!1))},e}(ir),hbt=function(n){function t(){t.__super.call(this,!1)}return r(t,"FioLibs.displays.flyMessage._MsgItem_TL",n),t}(lb),cbt=function(t){function f(){this.CONFIGS_ANGLES={};this.NUM_MAX=5;this.mBtnDrop=null;this.mBtnFollow=null;this.mAccAdd=null;this.mBtnJz=null;this.mJz=null;this.mCon=null;this.mVecBets=null;this.mIsMyTurn=!1;this.mCanPass=!1;this.mLastOp=-1;this.mLastValue=0;this.mMin=NaN;this.mBetted=NaN;this.mStr=null;this.mTs=0;this.ReqIng=!1;f.__super.call(this);this.mouseThrough=!0;this.y=ui.toRealY(1044);this.initSubsCoords();var o=u.obj("match_betBtns"),c=h.create(this,this.onClickMain,null,!1),i=0,l=o.length,n,t,r=0,e={};for(i;i<l;i++)n=o.shift(),2==n.data?(this.mAccAdd=new pyt("matches/mm_btn_"+n.res+".png",h.create(this,this.onAccAdd,null,!1)),this.mAccAdd.y=n.y,this.mAccAdd.x=s.MAX_W-this.mAccAdd.mBtnAcc.width>>1):4==n.data?(this.mBtnJz=k.crt_Btn(null,"dmJzjz"),this.mBtnJz.y=n.y,this.mBtnJz.x=s.MAX_W-this.mBtnJz.width>>1,this.mBtnJz.label=u.lang("betStr_5"),this.mBtnJz.mText.stroke=.5,this.mBtnJz.mText.strokeColor="#555555aa",this.mBtnJz.setClick(c)):(t=new lc("matches/mm_btn_"+n.res+".png"),t.pos(n.x,n.y),t.toggle=!0,t.doPrint(u.lang("betStr_1_"+n.data)),t.setClick(c),this.addChild(t),e[n.data]=t,r=Math.max(r,t.y+t.height));this.size(s.MAX_W,r);this.mBtnDrop=e[1];this.mBtnFollow=e[3];this.mCon=new s;this.mCon.addChild(this.mAccAdd);this.mCon.addChild(this.mBtnJz);this.mJz=new dat(h.create(this,this.onAccJz,null,!1));this.mJz.pos(this.mWidth-this.mJz.width>>1,this.mAccAdd.y-this.mJz.height);this.initQuickBets()}r(f,"games.matchCores.desk.views.betBtns.DM_Bet",t);var i=f.prototype;return i.initSubsCoords=function(){var i,n,t;for(i in rt.GameConfigs.betSubAngles)n=rt.GameConfigs.betSubAngles[i],t=this.CONFIGS_ANGLES[n.num],t||(t=this.CONFIGS_ANGLES[n.num]=[]),t.push(n)},i.initQuickBets=function(){this.mVecBets=vr(this.NUM_MAX);var i=h.create(this,this.onClkQuick,null,!1),n=0,t;for(n;n<this.NUM_MAX;n++)this.mVecBets[n]=t=new lti,t.setClick(i)},i.updateBets=function(){var n=0,h=o.Cookie.BetVals,i=0,r=0,t;for(n;n<this.NUM_MAX;n++)this.mVecBets[n].removeSelf(),i=h[n],i>0&&(t=this.mVecBets[r],t.ShowStr(i+"%",u.lang("pot")),t.Rates=i/100,r+=1);var c=this.CONFIGS_ANGLES[r],f,e=1,s=o.MatchVo.gameType==2;for(this.mMin=o.MatchVo.littleBB*(s?1:2),o.MatchVo.IsStraddle&&o.ValidPlayers>3&&(this.mMin+=this.mMin,e=2),n=0;n<r;n++)t=this.mVecBets[n],t.IsShort=s,t.StradRate=e,t.Index=n,t.BigBB=this.mMin,f=c[n],t.pos(f.x>>0,f.y>>0),this.mCon.addChildAt(t,0)},i.doReset=function(){this.removeSelf();this.mIsMyTurn=this.mCanPass=!1;this.mLastOp=-1;this.mLastValue=0;this.mBtnDrop.selected=this.mBtnFollow.selected=!1;this.mCon.removeSelf();this.mJz.removeSelf();this.mAccAdd.doReset();this.ReqIng=!1},i.checkAction=function(n,t,i,r){var y,h,c,f,e,w,b;if(!o.MyPlayer.canClearState())return!1;this.mBtnDrop.disabled=!r;r||1!=this.mLastOp||(this.mLastOp=-1);this.mIsMyTurn=n;y=o.MyPlayer.PlayerVo;h=y.score;this.mBetted=y.betted;var s=a.toNumber(o.MatchVo.potBase-this.mBetted,o.IsIntBet),p=s>=h,it=this.mLastValue,g=s==this.mLastValue;if(this.updateFollow(p?h:s,p),n){if(this.ReqIng)return this.doReset(),!1;if(this.mBtnDrop.doPrint(u.lang("betStr_1_2")),this.mBtnDrop.res="matches/mm_btn_drop.png",this.mBtnFollow.res="matches/mm_btn_follow.png",this.mCanPass=0==s,this.mStr=o.MyDetail.Nick,1==this.mLastOp)return this.mStr+=" [预弃牌]",this.mCanPass?this.reqBet(0,0):this.sendDrop(),!1;if(0==this.mLastOp)return this.mStr+=" [预跟注]",this.reqBet(0,this.mLastValue),!1;if(c=o.MatchVo.betType,p||c>2)1;else if(c<3){ei.PlayEff(23);this.updateBets();var l=0,nt=this.mVecBets.length,k=o.MatchVo.potTotal,v=o.MatchVo.IsDcxz?k+o.MatchVo.potBase*2-this.mBetted:999999999,tt=s,d=this.mMin;for(i>0&&(d=i+o.MatchVo.potBase-this.mBetted),l;l<nt;l++)this.mVecBets[l].setValue(k,tt,h,o.IsIntBet,c,d,o.IsShowBB,v);f=i+o.MatchVo.potBase;0==f&&(f=this.mMin);e=h+this.mBetted;w=!1;v+=this.mBetted;e>v&&(e=v,w=!0);b=this.mMin;f>e&&(f=e,b=0);this.mJz.showArea(f,e);this.mAccAdd.showArea(f,e,b,w);this.mCon.parent||this.addChild(this.mCon)}}else return 0==s?!1:(this.mBtnDrop.doPrint(u.lang("betStr_1_1")),this.mBtnDrop.res="matches/mm_btn_drop1.png",this.mBtnFollow.res="matches/mm_btn_follow1.png",!g);return!0},i.updateFollow=function(n,t){this.mLastOp==0&&n>0&&this.mLastValue!=n&&(this.mLastOp=-1,this.mLastValue=0,this.mBtnFollow.selected=!1);this.mBtnFollow.mText.fontSize=22;var i;i=t?"betStr_1_0":n>0?"betStr_1_3":"betStr_1_4";this.mBtnFollow.TmpData=n;this.mBtnFollow.doPrint(u.lang(i,o.getValueBB(n)))},i.showConfirmDrop=function(){pt.Alert(u.lang("confirmDrop"),this,[u.lang("betState6"),u.lang("cancel")],[this.sendDrop,null])},i.sendDrop=function(){this.reqBet(1,0)},i.onClickMain=function(n){switch(n){case this.mBtnDrop:this.doOp(n,1,0);break;case this.mBtnFollow:this.doOp(n,0,this.mBtnFollow.TmpData);break;case this.mBtnJz:this.mJz.parent?this.mJz.removeSelf():this.mCon.addChild(this.mJz)}},i.doOp=function(n,t,i){this.mIsMyTurn?n==this.mBtnDrop&&this.mCanPass?this.showConfirmDrop():this.reqBet(t,i):n.selected?(this.mLastOp=t,this.mLastValue=i,n==this.mBtnDrop?this.mBtnFollow.selected=!1:this.mBtnDrop.selected=!1):this.mLastOp=this.mLastValue=-1},i.onClkQuick=function(n){this.reqBet(0,n.Value,1)},i.onAccAdd=function(n){n>0&&this.reqBet(0,n-this.mBetted,2)},i.onAccJz=function(n){n>0&&this.reqBet(0,n-this.mBetted,3)},i.reqBet=function(t,i,r){r===void 0&&(r=0);var u=this.mStr+" (";r>0?1==r?u+=" 快捷下注":2==r?u+=" 滑动下注":3==r&&(u+=" 精准下注"):u+=t>0?" 弃牌":" 跟注";u+=" 下注:"+i;u+=" Ver:5.2";u+=" 下注时间:"+a.getNowStr(3)+" "+c.nowSeconds();u+=" "+n.navigator.platform+(et.isShell()?"App":"Web");u+=" "+et.ShellVer;u+=" )";u="";this.removeSelf();o.DsMatch.reqBet(t,i,u)},e(0,i,"height",function(){return this.mBtnJz.y+this.mBtnJz.height+12>>0},t.prototype._$set_height),f}(o),lbt=function(n){function e(){this.mTab=null;this.mSortBox=null;this.mInOut=null;this.mCtrlPage=null;this.mAllVec=null;this.mTs=0;e.__super.call(this,"fundPer_title",null,0);var n=this.Container.y-10;this.mTab=new he;this.mTab.create(u.obj("fundPer_tabs"),"tab1",null,120,16,!0,h.create(this,this.onTab,null,!1));this.mTab.pos(32,n);this.addChild(this.mTab);n+=this.mTab.height>>0;this.mSortBox=new hf;this.mSortBox.creat(u.obj("fundPer_sort"));this.mSortBox.setClick(h.create(this,this.onSortChanged,null,!1));this.mSortBox.pos(this.mTab.x+this.mTab.width+32>>0,n-this.mSortBox.height>>0);this.addChild(this.mSortBox);n+=16;this.mInOut=new pht(!0,"fundPer_",1);this.mInOut.y=n;this.addChild(this.mInOut);n+=this.mInOut.height+2;this.updateTopH(n);this.Container.setCallback(h.create(this,this.doScroll,null,!1));this.mCtrlPage=new su(this);f.Account.regist(230,this.get230,this)}r(e,"games.windows.me.Win_Me_Funds",n);var t=e.prototype;return i.imps(t,{"FioLibs.interfaces.IFio_PageStep":!0}),t.start=function(){this.mTab.select(2)},t.onSubClose=function(){if(this.mAllVec)while(this.mAllVec.length>0)l.recyle(this.mAllVec.shift());this.mAllVec=null;this.doSort()},t.addStepItem=function(n){var t=n,i=l.get(vc);i.setBase(t.text,t.type,t.fund,t.roomID,t.time);i.showIcon("mainUi/icon_diamond_"+t.type+".png");i.showTime(t.time);i.showRest(u.lang("resRest")+" "+t.rest);i.update();this.Container.ItemAdd(i);t.roomID>0&&i.setOpType(1)},t.updateInOut=function(n,t){this.mInOut.updateInout(n,t)},t.onTab=function(n){this.onSubClose();var t=a.toTimeS_E(n.TmpData);f.Account.reqFundVec(this.mTs=t.s,t.e)},t.onSortChanged=function(n){e.mSortTypes=n.data;this.mAllVec&&this.doSort()},t.get230=function(n,t){if(this.parent&&n==this.mTs)this.mAllVec=t,this.doSort();else while(t.length>0)l.recyle(t.shift())},t.doSort=function(){if(this.updateInOut(0,0),this.mCtrlPage.setSource(null),this.Container.ItemClean(!0),this.mAllVec){var t=0,f=this.mAllVec.length,n,r=0,u=0,i=[];for(t;t<f;t++)n=this.mAllVec[t],(!e.mSortTypes||e.mSortTypes.indexOf(n.type)>-1)&&(i.push(n),n.fund>=0?r+=n.fund:u+=n.fund);this.updateInOut(r,u);i.length>0&&(this.mCtrlPage.setSource(i),this.doScroll(!1))}},t.doScroll=function(n){return this.mAllVec&&!n?(this.Container.doWaitComplete(),this.mCtrlPage.showNext()):!1},e.mSortTypes=null,e}(nt),kk=function(n){function i(){this.mArrow=null;this.msCon=null;this.mResType=0;this.mTar=null;this.mHdItems=null;i.__super.call(this,!1,!0);this.toSize(520,360);this.mArrow=st.CrtImg("mainUi/mtt_sjx.png");this.mArrow.pivotX=this.mArrow.width>>1;this.mArrow.y=1-this.mArrow.height;this.addChild(this.mArrow);this.msCon=new br(this.mWidth-8,this.mHeight-8,0);this.msCon.pos(4,4);this.addChild(this.msCon);this.mHdItems=h.create(this,this.onNumC,null,!1)}r(i,"games.windows.matches.creators.RewardsZdy.RwdZdy_Selecter",n);var t=i.prototype;return t.onNumC=function(n){var t,i,r;this.mTar&&(t=this.mTar.CID,i=n.CID,t>0&&t!=i&&(r=this.msCon.findItem("CID",t),r&&r.setPageStart(0)),this.mTar.updateItem(i,n.Num,this.mResType))},t.toPos=function(n,t){this.pos(n,t+4+this.mArrow.height);this.updateMask();this.graphics.drawRoundRect(8,this.mWidth,this.mHeight,"#305278")},t.DoReset=function(){this.mTar=null;this.msCon.ItemClean(!0);this.Close()},t.Show=function(n,t){var u=this.msCon.getItems(),f=u.length,e,i,r;if(0==f){ut.showMessage("sngRwdZdy_err0");return}for(kb.sCallback=this.mHdItems,this.mTar=t,e=t.CID,i=0,i;i<f;i++)r=u[i],r.CID==e?(r.setPageStart(t.Num),this.msCon.selectItem(r)):r.setPageStart(0);this.mArrow.x=n;this.parent||this.stage.addChild(this)},t.initItems=function(n){this.msCon.ItemClean(!0);this.mResType=n;var u=ot.Tick_GetAll(rt.Crt_Match_IsPlat),t=0,f=u.length,i,r;for(t;t<f;t++)r=u[t],r&&(i=l.get(kb),i.setVo(r,n),this.toXCenter(i),this.msCon.ItemAdd(i))},i}(ff),abt=function(n){function t(){this.mInput=null;t.__super.call(this,"lea_crt_0");this.Container.ItemAdd(new ee("mainUi/club_icon_union_def.png","lea_crt_1",30,"#b2d6fb"));var n=s.MAX_W>>1;this.mInput=new yr(468);this.mInput.initRight(!0,64,64);this.mInput.type="text";this.mInput.maxChars=6;this.mInput.restrict="^ ";this.mInput.align="center";this.mInput.prompt=u.lang("lea_crt_2");this.mInput.x=this.mWidth-this.mInput.width>>1;this.Container.ItemAdd(this.mInput,32);this.addChild(new di("lea_crt_0",h.create(this,this.checkInput,null,!1)));f.Leagues.regist(902,this.getResult,this);c.onPC&&this.mInput.on("keydown",this,this.onKeyDown);this.onDisable()}r(t,"games.windows._leagues.Win_Lea_Create",n);var i=t.prototype;return i.onDisable=function(){this.mInput.text=""},i.onKeyDown=function(n){n.keyCode==13&&this.checkInput()},i.checkInput=function(){var n="lea_crt_2",t=this.mInput.text;b.CheckCharLength(t,16,n,n)&&f.Leagues.reqCrt(t)},i.getResult=function(n){0==n&&this.doClose()},t}(nt),vbt=function(n){function t(){this.mTxtName=null;this.mTxtUrl=null;this.mBtnLink=null;this.mBottom=null;this.mCurID=0;this.mClubID=0;this.mQRCode=null;t.__super.call(this,"QR_code_title");var n=new s;n.loadImage("mainUi/qr_code_title.png");n.pos(178,32);this.Container.addChild(n);this.mTxtName=w.quickCreate(32,"#b2d6fb");this.mTxtName.align="center";this.Container.addChild(this.mTxtName);this.Container.graphics.drawRect(240,252,268,268,"#3d4463");this.mQRCode=new s;this.mQRCode.pos(250,262);this.mQRCode.size(248,248);this.Container.addChild(this.mQRCode);this.Container.graphics.fillText(u.lang("QR_code_tips"),383,540,32,"#b2d6fb","center");this.Container.graphics.drawRect(66,600,618,152,"#5493a570");this.mTxtUrl=w.quickCreate(28,"#b2d6fb");this.mTxtUrl.wordWrap=!0;this.mTxtUrl.size(512,104);this.mTxtUrl.pos(122,642);this.Container.addChild(this.mTxtUrl);this.mBtnLink=k.crt_Btn(this.Container,"login",null,132,794,486,76);this.mBtnLink.label=u.lang("QR_code_copy");this.mBtnLink.on("click",this,this.onClickLink);this.mBottom=new s;this.mBottom.pos(0,s.MAX_H-108);this.mBottom.size(s.MAX_W,108);this.mBottom.graphics.drawRect(0,0,s.MAX_W,108,"#000000");this.mBottom.graphics.fillText(u.lang("QR_code_tips1"),375,40,28,"#b2d6fb","center");this.mBottom.graphics.drawTexture(i.loader.getRes("mainUi/qr_code_load.png"),600,36);this.addChild(this.mBottom);this.mBottom.on("click",this,this.onClickLoad)}r(t,"games.windows.me.setting.Win_QR_Code",n);var e=t.prototype;return e.start=function(){var i=f.Account.Detail.SID,n=f.Account.Detail.ClubNum,t;n>0?(!this.mCurID!=i||this.mClubID!=n)&&(this.mCurID=i,this.mClubID=n,t=u.lang("QR_code_club",n),c.window.createQr(t,this,this.drawQRCode),this.mTxtName.text=f.Club.ClubVo.name+"  ID："+n,this.mTxtName.pos(s.MAX_W-this.mTxtName.width>>1,192),this.mTxtUrl.text=this.mBtnLink.TmpData=t):this.doClose()},e.drawQRCode=function(n){this.mQRCode.loadImage(n)},e.onClickLink=function(){et.copy(this.mBtnLink.TmpData)},e.onClickLoad=function(){},t}(nt),ybt=function(n){function t(){this.mBtn=null;this.mHno=0;this.mHhas=0;this.mVo=null;t.__super.call(this,null);this.updateTopH(108);ud.sHander=h.create(this,this.onClick,null,!1);this.mBtn=k.crt_Btn(this,"btnCrt",null,0,0,560);this.mBtn.pos(this.mWidth-this.mBtn.width>>1,this.mHeight-this.mBtn.height-24);this.mBtn.setClick(h.create(this,this.openIntro,null,!1));this.mHno=this.Container.height;this.mHhas=this.mBtn.y-24-this.Container.y;this.mVo=new ku}r(t,"games.windows.me.ticket.Win_JF_Shop_Sub",n);var i=t.prototype;return i.start=function(n){var f,t,r,e,u,i;for(this.Container.ItemClean(!0),f=n[0],t=n[1],this.updateTitle(t.title,!1),this.mBtn.removeSelf(),t.introTitle?(this.Container.updateRect(0,this.mHhas),this.mBtn.label=this.mVo.label=t.introTitle,this.mVo.data=wt.getPpImg(t.icon),this.addChild(this.mBtn)):this.Container.updateRect(0,this.mHno),r=py.getSubVoList(t.index,f),e=r.length,i=0;i<e;i++)t=r[i],u=l.get(ud),u.setVo(t),this.Container.ItemAdd(u)},i.onSubClose=function(){this.Container.ItemClean(!0);this.mBtn.removeSelf()},i.onClick=function(n){b.OpenWin(202,n)},i.openIntro=function(){b.OpenWin(22,this.mVo)},t}(nt),pbt=function(n){function i(){this.mH_jl=null;this.mBtn=null;this.mShareVo=null;this.mQr=null;this.mPage=0;this.mPageTotal=0;i.__super.call(this,"yqhy_home_t",null,10);var n=ai.CrtIns(0,u.lang("yqhy_home_0"));this.toXCenter(n);n.y=this.mHeight-n.height-24;this.addChild(n);this.mBtn=new di("yqhy_home_1",h.create(this,this.onIvt,null,!1));this.mBtn.label=u.lang(wr.IsApp?"yqhy_home_2":"yqhy_home_1");this.mBtn.y=n.y-this.mBtn.height-24;this.addChild(this.mBtn);this.mH_jl=ai.CrtIns(0,u.lang("yqhy_home_3",0));this.mH_jl.y=this.mBtn.y-20-this.mH_jl.height>>0;this.toXCenter(this.mH_jl);this.addChild(this.mH_jl);this.Container.y=108;this.Container.updateRect(0,this.mH_jl.y-this.Container.y-24);this.Container.setCallback(h.create(this,this.doScroll,null,!1));this.mShareVo=new gv;this.mShareVo.title=u.lang("yqhy_home_share_t");f.Account.regist(270,this.getLists,this);f.Account.regist(271,this.getRet,this);wr.IsApp||(this.mQr=new pnt)}r(i,"games.windows.me.ivtFriends.Win_IvtFriends",n);var t=i.prototype;return t.start=function(){this.onDisable();this.mShareVo.desc=u.lang("yqhy_home_share_desc",nt.MyDetail.Nick);this.mShareVo.url=u.lang("yqhy_home_share_link",nt.MyDetail.SID);this.doScroll(!1,!0)},t.onDisable=function(){this.mQr&&this.mQr.removeSelf();this.mPage=this.mPageTotal=1;ay.clear();this.Container.ItemClean(!0)},t.doScroll=function(n,t){if(t===void 0&&(t=!1),!n){if(t)this.mPage=1;else if(this.mPageTotal>this.mPage)this.mPage+=1;else return!1;return this.Container.showWating(!0),f.Account.req270(this.mPage,16),!0}return!1},t.getLists=function(n,t,i,r){this.mH_jl.show(u.lang("yqhy_home_3",a.NumToStr(n)));this.toXCenter(this.mH_jl);this.mPageTotal=Math.ceil(t/16);var f=0,s=r.length,o,e;for(f;f<s;f++)e=l.get(hti),e.setVo(o=r.shift()),this.Container.ItemAdd(e),l.recyle(o);this.Container.doWaitComplete()},t.getRet=function(n,t){if(n==0){ut.showMessage("yqhy_home_6");var i=this.Container.findItem("TmpData",t);i&&i.updateActiv(2)}},t.onIvt=function(){a.StopInsOp(this.mBtn);wr.IsApp?dr.ins.Share(this.mShareVo):this.mQr.Show(nt.MyDetail,this.mShareVo.url)},i}(nt),wbt=function(n){function i(){var e;this.mHead=null;this.mTab=null;this.mBtnCrt=null;this.mBlocker=null;this.mCookie=null;this.mVecRps=null;this.mTe=0;this.mTy=0;this.mZdID=0;this.mCur=null;this.mCurIdx=0;this.mDicMods=null;i.__super.call(this,null,null,0,!1);this.mHead=new dlt;this.mHead.y=this.mTy=nt.BASE_Y;this.addChild(this.mHead);this.mTy+=this.mHead.height+20>>0;this.mBtnCrt=new di("club_deskCrt",h.create(this,this.onClkBtn,null,!1));this.mBtnCrt.TmpData=1;this.mTab=new rr;this.mTab.create(u.obj("club_deskTabs"),710);this.mTab.setClick(h.create(this,this.onTab,null,!1));this.mTab.pos(s.MAX_W-this.mTab.width>>1,this.mTy);this.addChild(this.mTab);this.mVecRps=[];var t=0,f=this.mTab.getTxts(),o=f.length,r,n,c=et.isShell()?0:2;for(t;t<o;t++)n=f[t],r=new bu(this.mTab,"redPoint1",20),r.pos(n.x+n.width+4>>0,n.y+.5*(n.height-r.height)-c>>0),this.mVecRps[n.TmpData]=r;this.mTy+=this.mTab.height+20>>0;this.mDicMods={};this.mDicMods[0]=new fv(0,1);this.mDicMods[1]=new ug(0);this.mDicMods[2]=new uv(0,!1);for(e in this.mDicMods)this.mDicMods[e].y=this.mTy;this.mBlocker=new sb(this.mHead.y+this.mHead.height);this.mCookie=new nu("zdDesk_slt",!0)}r(i,"games.windows._club.Win_Club_Desk",n);var t=i.prototype;return t.onDisable=function(){laya.display.Node.prototype.onDisable.call(this);this.mCur&&this.mCur.Stop();this.mCur=null;this.mCurIdx=-1;this.mBtnCrt.removeSelf();this.mBlocker.removeSelf();f.Club.remove(700,this.get700,this);f.Club.remove(712,this.get302,this);f.Desk.remove(302,this.get302,this);f.Desk.remove(325,this.get325,this)},t.render=function(n,t,i){var r=this.timer.currTimer;r>=this.mTe&&(this.mTe=r+5e3,this.mZdID>0&&f.Desk.reqZdMcNums(this.mZdID));laya.display.Sprite.prototype.render.call(this,n,t,i)},t.start=function(n){var t,r,u,i;this.onDisable();this.mZdID=n[0];this.updateTitle(n[1],!1);t=this.mHeight-this.mTy-2;r=n[2];r<2?(t-=128,this.addChild(this.mBtnCrt)):(t-=16,this.mBtnCrt.removeSelf());for(u in this.mDicMods)i=this.mDicMods[u],i&&(i.updateRect(0,t),i.setZdID(this.mZdID));f.Club.regist(700,this.get700,this);f.Club.regist(712,this.get302,this);f.Desk.regist(302,this.get302,this);f.Desk.regist(325,this.get325,this);this.get325(this.mZdID,0,0,0);this.mTe=this.timer.currTimer+3e3;f.Club.reqClubInfo(this.mZdID)},t.onClkBtn=function(){b.OpenWin(31,this.mZdID,this.mCurIdx)},t.onTab=function(n){if(n!=this.mCurIdx){this.mZdID>0&&f.Desk.reqZdMcNums(this.mZdID);this.mCurIdx=n;this.mCookie.SaveSingePro(this.mTab.selectIndex);var t=this.mDicMods[n];t&&(this.mCur&&this.mCur.Stop(),this.mCur=null,this.mCur=t,this.addChild(this.mCur),this.mCur.Start())}},t.get302=function(n){0==n&&this.doClose()},t.get325=function(n,t,i,r){this.mZdID==n&&(this.mVecRps[0].showValue(t),this.mVecRps[1].showValue(r),this.mVecRps[2].showValue(i))},t.get700=function(n){if(this.mHead.showClub(n),f.Club.ClubState==0){var t=this.mCookie.getSingePro();this.mTab.select(t<0?0:t)}else this.mBtnCrt.removeSelf(),this.addChild(this.mBlocker)},i}(nt),bbt=function(n){function i(){this.mOpenItem=null;this.mOpenSc=null;this.mItemTime=null;this.mVecIns=null;this.mBtn=null;this.mCookie=null;this.mHdCls=null;this.mMinLb=NaN;i.__super.call(this,"cm_zm_title",null,36);var n=this.Container.y+=6;this.mOpenItem=new ub(u.lang("cm_zm_0"),!1,null,!1);this.mOpenItem.y=n;this.mOpenSc=k.crt_Switch(this.mOpenItem,null);this.mOpenSc.pos(this.mWidth-this.mOpenSc.width-64,this.mOpenItem.height-this.mOpenSc.height-4>>1);this.mOpenSc.setClick(h.create(this,this.onClkOpen,null,!1));this.addChild(this.mOpenItem);n=this.initSubs(n+this.mOpenItem.height-8);this.Container.y=n;n=this.mHeight-126;this.Container.updateRect(0,n-this.Container.y);this.mBtn=new di("cm_zm_save",h.create(this,this.doCheck,null,!1));this.mBtn.y=n+32;this.addChild(this.mBtn)}r(i,"games.windows.matches.creators.dzdp.Win_Match_ZM",n);var t=i.prototype;return t.initSubs=function(n){this.mItemTime=new se(ot.CFG_DZ.ZmTimeConfig,h.create(this,this.onSldC,null,!1));this.mItemTime.y=n;n+=this.mItemTime.height+36;this.mVecIns=[];var i=h.create(this,this.onItemOpen,null,!1),t=0;for(t;t<3;t++)this.mVecIns[t]=new uat(i);return n},t.onSldC=function(n){var t=n.getValue();n.updateTips(t)},t.onDisable=function(){this.mItemTime.removeSelf();this.Container.ItemClean()},t.start=function(n){this.onSubClose();this.mMinLb=n[0];this.mCookie=n[1];this.mOpenSc.selected=this.mCookie.open;this.mHdCls=n[2];this.mItemTime.updateDef(this.mCookie.timeIdx);this.mItemTime.DoReset();var i=this.mCookie.Configs,r=this.mCookie.DataSrc.VecSliders[0],t=0;for(t;t<3;t++)this.mVecIns[t].setVo(i[t],r,this.mCookie.IsDp);this.onClkOpen()},t.onSubClose=function(){this.mHdCls&&this.mHdCls.recover();this.mHdCls=null},t.updateView=function(){var n,t;if(this.mItemTime.removeSelf(),this.Container.ItemClean(),n=0,this.mOpenSc.selected){for(this.addChild(this.mItemTime),n;n<3;n++)t=this.mVecIns[n],t.getOpen()&&this.Container.ItemAdd(t);this.callLater(this.checkNext)}else for(n=0;n<3;n++)this.mVecIns[n].Show(!1)},t.reOrder=function(){var t=this.Container.getItems(),i=t.length,n=0,r=2;for(n;n<i;n++)t[n].setIdx(r),r+=1;return i},t.checkNext=function(){var i=this.reOrder(),n,t;if(0==i)this.mVecIns[0].Show(!0),this.Container.ItemAdd(this.mVecIns[0]),this.Container.ItemAdd(this.mVecIns[1]),this.reOrder();else if(i<3){for(n=0,n;n<3;n++)if(t=this.mVecIns[n],!t.getOpen()){this.Container.ItemAdd(t);break}this.reOrder()}},t.onClkOpen=function(){var n=this.mOpenSc.selected;this.mOpenItem.updateText(u.lang(n?"cm_zm_open":"cm_zm_close"));this.callLater(this.updateView)},t.onItemOpen=function(n){var i=this.Container.getItems().length,t=n.parent;n.selected?t.Show(!0):(t.Show(!1),this.Container.ItemRemove(t));this.callLater(this.updateView)},t.doCheck=function(){var f=this.Container.getItems(),o=f.length,n=0,e,t,i=this.mCookie.SendArr,r;for(i.length=0,r=this.mMinLb,n;n<o;n++)if(e=f[n],t=e.DoSave(),t){if(t.lbVal<=r){ut.showMessage(u.lang("cm_zm_err",n+2,n+1),!1);return}r=t.lbVal;i.push(t.qz?1:0,t.lbVal,t.anteVal,t.minBring)}for(n=0;n<3;n++)this.mVecIns[n].DoSave();this.mCookie.timeIdx=this.mItemTime.getIndex();this.mCookie.time=this.mItemTime.getValue();this.mCookie.open=i.length>0;this.mCookie.doSave();this.mHdCls&&this.mHdCls.run();this.doClose()},i}(nt),kbt=function(n){function i(){var t,n,r;this.mTypeImg=null;this.mTypeBtn=null;this.mMyBtn=null;this.mTab=null;this.mClubVo=null;this.mVecTabs=null;this.mType=0;this.mModus=null;this.mModuCur=null;i.__super.call(this,"dpi_rank_title",null,0,!1);this.mTitleIns.removeSelf();this.mBtnBack.res="mainUi/coms_btn_back1.png";t=st.CrtImg("mainUi/dpiRank_head.png");this.toXCenter(t);this.addChildAt(t,0);this.mTypeImg=new st(null);this.mTypeImg.pos(348,116);this.addChild(this.mTypeImg);n=h.create(this,this.onClk,null,!1);this.mMyBtn=k.crt_Btn(null,null,"mainUi/ui_dpi_btn.png");this.mMyBtn.pos(644,26);this.mMyBtn.TmpData=10;this.mMyBtn.setClick(n);this.mClubVo=new uh;this.mTypeBtn=k.crt_Btn(this,"xiaoanniu2",null,560,250,156);this.mTypeBtn.setClick(n);n=h.create(this,this.omTime,null,!1);this.mTab=new he;this.mTab.create(u.obj("dpi_rank_days"),"tab1",null,0,0,!0,n);this.mTab.pos(this.mWidth-this.mTab.width>>1,t.height+28);this.addChild(this.mTab);this.mVecTabs=u.obj("dpi_rank_tab");r=this.mTab.y+this.mTab.height+28;this.initModules(r)}r(i,"games.windows.dpi.Win_DPI_Home",n);var t=i.prototype;return t.initModules=function(n){var i=this.mHeight-n,r,t;for(this.mModus=[],this.mModus[0]=new ya(i,0),this.mModus[1]=new ya(i,1),r=this.mModus.length,t=0;t<r;t++)this.mModus[t].y=n},t.start=function(n){this.mClubVo.sID=n?n[0]:0;this.onType(this.mClubVo.sID)},t.onDisable=function(){this.mMyBtn.removeSelf();this.mModuCur&&this.mModuCur.stop();this.mModuCur=null},t.onClk=function(n){var t=n.TmpData;if(10==t)b.OpenWin(162,null,this.mTab.getVal());else this.onType(t)},t.onType=function(n){var i=this.mVecTabs.length,r,t;n>i&&(n=i-1);n<0&&(n=0);this.mType=n;this.mTypeImg.setRes("mainUi/dpiRank_"+n+".png");this.onDisable();this.mModuCur=this.mModus[n];this.mModuCur&&this.addChild(this.mModuCur);r=0==n?1:0;t=this.mVecTabs[r];this.mTypeBtn.label=t.label;this.mTypeBtn.TmpData=t.data;n!=0?this.mMyBtn.removeSelf():this.mMyBtn.parent||this.addChild(this.mMyBtn);this.mTab.select(1)},t.omTime=function(n){this.mModuCur&&this.mModuCur.setQuery(n.TmpData,0)},i}(nt),dbt=function(n){function t(){var i,n;this.mModu=null;t.__super.call(this,"leagueFund_title",null,4);i=this.Container.y-4;this.Container.removeSelf();this.mModu=new cnt(s.MAX_H-i);this.mModu.y=i;this.addChild(this.mModu);n=new int;n.create("leagueFund_link","leagueFund_uMenus",h.create(this,this.onPopMenu,null,!1));n.pos(s.MAX_W-n.width-24,98-n.height>>1);this.addChild(n)}r(t,"games.windows._leagues.funds.Win_Lea_Funds",n);var i=t.prototype;return i.onDisable=function(){this.mModu.stop()},i.start=function(){this.mModu.parent||this.addChild(this.mModu);this.mModu.start()},i.onPopMenu=function(n){b.OpenWin(87,n)},t}(nt),gbt=function(n){function i(){var t,r,n,e;this.mTab=null;this.mBtn=null;this.mDs=null;this.mVo=null;this.msID=0;this.mCur=null;this.mDicMods=null;i.__super.call(this,null,null,0,!1);this.mDs=f.MTT;this.mTab=new rr;this.mTab.create(u.obj("mtt_winDtl_tab"),s.MAX_W-80);this.mTab.setClick(h.create(this,this.onTab,null,!1));this.mTab.pos(this.mWidth-this.mTab.width>>1,nt.BASE_Y>>0);this.addChild(this.mTab);t=this.mHeight-136;this.mBtn=new di("mtt_list_op_0",h.create(this,this.onClk,null,!1));this.mBtn.y=t+38;this.addChild(this.mBtn);r=this.mTab.y+this.mTab.height+20>>0;n=t-r;this.mDicMods={};this.mDicMods[0]=new fwt(n);this.mDicMods[1]=new ov(n,!1);this.mDicMods[2]=new ng(n,!1);this.mDicMods[3]=new rg(n,!1);this.mDicMods[4]=new yc(n,!1);for(e in this.mDicMods)this.mDicMods[e].y=r}r(i,"games.windows.matches.mttWins.details.Win_MTT_Details",n);var t=i.prototype;return t.onSubClose=function(){this.mTab.visible=this.mBtn.visible=!1;this.mCur&&this.mCur.stop();this.mCur=null;this.mVo=null;this.mDs.remove(1403,this.onFlagsC,this);this.mDs.remove(1423,this.onDelMtt,this);this.mDs.remove(1431,this.getDetail,this);this.mDs.remove(1432,this.getAwards,this);this.mDs.remove(1433,this.getDesks,this);this.mDs.remove(1434,this.getPlayers,this);this.mDs.remove(1440,this.getBmResult,this);this.mDs.remove(1441,this.getBmResult,this);this.mDs.remove(1444,this.getStartDis,this);this.mDs.remove(1445,this.getStartDis,this);this.mDs.remove(1446,this.getTop,this)},t.start=function(n){this.onSubClose();this.msID=n[0];this.updateTitle(n[1],!1);this.mDs.regist(1403,this.onFlagsC,this);this.mDs.regist(1423,this.onDelMtt,this);this.mDs.regist(1431,this.getDetail,this);this.mDs.regist(1432,this.getAwards,this);this.mDs.regist(1433,this.getDesks,this);this.mDs.regist(1434,this.getPlayers,this);this.mDs.regist(1440,this.getBmResult,this);this.mDs.regist(1441,this.getBmResult,this);this.mDs.regist(1444,this.getStartDis,this);this.mDs.regist(1445,this.getStartDis,this);this.mDs.regist(1446,this.getTop,this);this.mDs.reqDetailWin(this.msID)},t.onTab=function(n){var t=this.mDicMods[n];if(t&&t!=this.mCur){this.mCur&&this.mCur.stop();this.mCur=null;this.mCur=t;this.addChild(this.mCur);this.mCur.start();switch(n){case 1:this.mDs.reqAwards(this.msID);break;case 2:this.mDs.reqDesks(this.msID);break;case 3:this.mDs.reqPlayers(this.msID);break;case 4:this.mDicMods[4].setType(1,this.mVo.gameType,this.mVo.blindType,this.mVo.zmTime,this.mVo.blindLv)}}},t.getDetail=function(n,t){this.msID==n?(this.mTab.visible=this.mBtn.visible=!0,this.mVo=t,this.getTop(0),this.updateBtn(),this.mDicMods[1].setHunt(t.Flag.lierensai),this.mDicMods[3].setHunt(t.Flag.lierensai),this.mTab.select(0)):this.doClose()},t.onFlagsC=function(n){n==this.msID&&this.mDs.reqDetailWin(this.msID)},t.onDelMtt=function(n){this.msID>0&&n&&n.indexOf(this.msID)>-1&&this.doClose()},t.getStartDis=function(n){0==n&&this.doClose()},t.getTop=function(n){0==n&&this.mDicMods[0].setDetail(this.mVo)},t.getBmResult=function(n,t,i){0==n&&this.msID==t&&(this.mVo.Flag.bm=i,this.mVo.updateType(),this.updateBtn())},t.updateBtn=function(){var n=this.mVo.C_Op;this.mBtn.label=u.lang("mtt_list_op_"+n);this.mBtn.TmpData=n},t.onClk=function(){switch(this.mBtn.TmpData){case 0:case 1:case 2:ef.onMttWin(this.mVo,this.mBtn.TmpData);break;case 3:case 4:f.MTT.reqEntry(this.mVo.RaceID,0)}},t.getAwards=function(n,t,i,r,u){this.msID==n&&this.mDicMods[1].setRanks(t,i,r,u)},t.getDesks=function(n,t){this.msID==n&&this.mDicMods[2].setRanks(t)},t.getPlayers=function(n,t){this.msID==n&&this.mDicMods[3].setRanks(t)},i}(nt),nkt=function(n){function i(){this.mTab=null;this.mVecRed=null;this.mBraView=null;this.mGt=0;this.mMt=0;this.mIdxNo=0;i.__super.call(this,"paiPu_t",null,10);this.mTab=new ka;this.mTab.setClick(h.create(this,this.onTabChange,null,!1));this.mTab.creat(u.obj("paiPu_tab"),100);this.mTab.y=this.Container.y-12;this.addChild(this.mTab);this.mVecRed=[];for(var n,e=this.mTab.getDisplays(),r,t=0,o=e.length,t=0;t<o;t++)n=e[t],r=new bu(n,"redPoint1",20),r.pos(n.width,0),this.mVecRed[n.TmpData[1]]=r;this.updateTopH(this.mTab.y+this.mTab.height+16);this.mBraView=new cc(504,!1,!1);cd.sHandler=h.create(this,this.handlerFun,null,!1);f.Room.regist(502,this.get502,this);f.Room.regist(509,this.get509,this);f.Room.regist(506,this.get506,this)}r(i,"games.windows.me.fav.Win_Me_Fav",n);var t=i.prototype;return t.start=function(){this.mTab.select(0);f.Room.reqFavNums()},t.onSubClose=function(){this.Container.ItemClean(!0)},t.onTabChange=function(n){this.mIdxNo=1;this.Container.ItemClean(!0);this.mGt=n.TmpData[0];this.mMt=n.TmpData[1];f.Room.reqFavLists(this.mGt,this.mMt)},t.handlerFun=function(n){this.addChild(this.mBraView);this.mBraView.setBrandInfo(n.roomID,n.handID,0,this.mMt==1,n.DealIdx)},t.get509=function(n){for(var i,t=0,r=n.length,t=0;t<r;t++)i=this.mVecRed[t],i&&i.showValue(n[t]||0)},t.get502=function(n,t,i){var e=i.length,r=0,u,f;if(this.mGt==n&&this.mMt==t){for(r=0;r<e;r++)u=l.get(cd),f=i.shift(),u.setVo(f),this.Container.ItemAdd(u);this.reOrder();this.Container.doWaitComplete()}},t.get506=function(n,t,i){if(0==n){for(var u=dl.sMakeCID(t,i),r=!1;this.doDel(u);)r=!0;r&&this.reOrder()}},t.reOrder=function(){var n=0,r=this.Container.getItems(),u=r.length,i,t;for(this.mIdxNo=0,i=0,n;n<u;n++)t=r[n],i!=t.TmpData&&(i=t.TmpData,this.mIdxNo+=1),t.setIdxNo(this.mIdxNo);f.Room.reqFavNums()},t.doDel=function(n){var t=this.Container.findItem("TmpData",n);return t?(this.Container.ItemRemove(t,!0),!0):!1},i}(nt),dr=function(n){function t(){this.mVecBtns=null;this.mHandle=null;this.mAorF_menu=null;this.mRorF_menu=null;this.mShareMenu=null;this.mShareHd=null;this.mShareVo=null;t.__super.call(this,!1,!0);this.mWidth=s.MAX_W;this.mHeight=296;this.y=s.MAX_H-this.mHeight;this.updateMask();this.graphics.drawRoundRect(24,this.mWidth,this.mHeight+60,"#dde4ee");this.graphics.drawRect(0,196,this.mWidth,2,"#c1c1c1");this.graphics.fillText(u.lang("cancel"),this.mWidth>>1,232,32,"#444444","center");this.mVecBtns=[]}r(t,"FioLibs.displays.coms.extendComs.menus.FioMenu_Feet",n);var i=t.prototype;return i.Close=function(){this.removeSelf();this.mHandle&&this.mHandle.recover();this.mHandle=null;var n=0,t=this.mVecBtns.length;for(n;n<t;n++)this.mVecBtns[n].removeSelf()},i.pop=function(n,t){if(this.Close(),n){this.mHandle=t;var r=0,e=n.length,i,u,o=0;for(r;r<e;r++)(u=n[r],u)&&(i=this.mVecBtns[r],i||(i=k.crt_Btn(null,"feetMenu"),i.mText.mouseEnabled=!0,i.y=30,this.mVecBtns[r]=i),i.res=u.icon,i.label=u.label,i.TmpData=i.mText.TmpData=u.data,o+=1);var f=16,h=this.mWidth-f-f,s=h/(e+1)>>0,c=f+s;for(r=0;r<o;r++)i=this.mVecBtns[r],i.x=c+s*r-.5*i.width>>0,this.addChild(i);tu.Add(this)}},i.AgreeOrRefuse=function(n){this.mAorF_menu||(this.mAorF_menu=u.obj("feetMenu_AorF"));this.pop(this.mAorF_menu,n)},i.ReEditOrRefuse=function(n){this.mRorF_menu||(this.mRorF_menu=u.obj("feetMenu_RorF"));this.pop(this.mRorF_menu,n)},i.Share=function(n){this.mShareMenu||(this.mShareMenu=u.obj("share_menus"),this.mShareHd=h.create(this,this.onShare,null,!1));this.mShareVo=n;this.pop(this.mShareMenu,this.mShareHd)},i.onShare=function(n){this.mShareVo&&(this.mShareVo.platform=n,et.shareUrl(this.mShareVo))},i.onClickCheck=function(n){var i=this.mouseY,t;if(i>196)1;else if(i>0)if(t=n.target,t!=this)this.mHandle&&this.mHandle.runWith(t.TmpData);else return;this.Close()},e(1,t,"ins",function(){return t.s_Ins||(t.s_locked=!1,t.s_Ins=new t,t.s_locked=!0),t.s_Ins},FioLibs.displays.Mask_Area._$SET_ins),t.s_locked=!0,t.s_Ins=null,t}(ff),tkt=function(n){function t(n){this.mRooter=null;this.mVecBtns=null;this.mVecIdxs=null;this.mShare=null;this.mTips=null;this.mDc=null;t.__super.call(this);this.mRooter=n;var i=ui.toRealY(u.obj("board_coords"));this.initBtns(i);this.mShare=new lgt;this.mTips=new ae(2);this.mTips.y=i-this.mTips.height-8>>0;this.mDc=new swt;this.mDc.pos(this.mWidth-this.mDc.width>>1,i-.5*this.mDc.height>>0)}r(t,"games.matchCores.desk.views.boards.DM_Board",n);var i=t.prototype;return i.initBtns=function(n){this.mVecBtns=[];this.mVecIdxs=[];var e=h.create(this,this.onClkBtn,null,!1),f=u.obj("board_btns"),r=0,o=f.length,t,i;for(r;r<o;r++)i=f.shift(),i&&(t=k.crt_Btn(null,null,"matches/mmBtn_"+i.data+".png"),t.y=n,t.TmpData=i.data,t.setClick(e),this.mVecBtns[i.data]=t)},i.onClkBtn=function(n){switch(n.TmpData){case 1:pt.Alert(u.lang("board_askDis"),o.DsMatch,null,[o.DsMatch.reqDisband,null]);break;case 2:case 3:o.DsMatch.reqStart();break;case 11:this.mShare.Show(o.MyDetail,o.MatchVo)}},i.DoReset=function(){this.mShare.Close();this.mTips.removeSelf();this.mDc.removeSelf();this.mVecIdxs.length=0;var t,n;for(t in this.mVecBtns)n=this.mVecBtns[t],n&&n.removeSelf()},i.update=function(n){var c,r,f,e;this.DoReset();var s=o.MatchVo.roomState,a=o.MatchVo.openNum,h=o.MatchVo.isAdmin,i,l=!1;switch(o.MatchVo.matchType){case 0:s==0&&this.mVecIdxs.push(11);s==1?(i=u.lang("tip_pause"),h&&this.mVecIdxs.push(3)):s==7?i=u.lang("tip_wait_over"):h?(this.mVecIdxs.unshift(1),this.mVecIdxs.push(2)):i=u.lang(a>0?"tip_wait1":"tip_wait",a);break;case 2:s==0&&(i=u.lang("tip_wait_sng_st"),o.MatchVo.createType==0?(h&&this.mVecIdxs.unshift(1),this.mVecIdxs.push(11)):h&&this.mVecIdxs.unshift(1));break;case 1:case 3:switch(s){case 1:i=u.lang("tip_pause");oi.notify(413);break;case 4:this.mDc.Show(u.lang("tip_wait_mtt_rest"),n);l=!0;break;case 5:n<1?i=u.lang("tip_wait_mtt_st"):n>0&&(this.mDc.Show(u.lang("tip_wait_mtt_dc"),n),l=!0);break;case 6:i=u.lang("tip_wait_mtt_sync");break;case 7:i=u.lang("tip_wait_over");break;case 8:i=u.lang("tip_wait_over_other")}}if(c=this.mVecIdxs.length,c>0){for(r=0,e=0,r;r<c;r++)f=this.mVecBtns[this.mVecIdxs[r]],f&&(e>0&&(e+=t.BTN_GAP),e+=f.width);for(e=this.mWidth-e>>1,r=0;r<c;r++)f=this.mVecBtns[this.mVecIdxs[r]],f&&(f.x=e,e+=f.width+t.BTN_GAP,this.mRooter.addChild(f))}i&&(this.mTips.Show(i),this.mRooter.addChild(this.mTips));l&&!this.mDc.parent&&this.mRooter.addChild(this.mDc)},t.OP_DIS=1,t.OP_START=2,t.OP_CONTINUE=3,t.OP_SHARE=11,t.BTN_GAP=-12,t}(o),ikt=function(n){function i(){var n,t;this.mAll=null;this.mVecItems=null;this.mDicItems=null;i.__super.call(this,"clubST_open_title");n=h.create(this,this.onClickMenu,null,!1);this.mAll=k.crt_Radio(this);this.mAll.mText.fontSize=28;this.mAll.label=u.lang("clubST_open_all");this.mAll.TmpData=0;this.mAll.pos(this.mWidth-this.mAll.width-36>>0,72-this.mAll.height>>0);this.mAll.setClick(n);this.initConfigs();t=new di("clubST_open_save",n);t.TmpData=1;this.addChild(t);f.Club.regist(708,this.getC708,this)}r(i,"games.windows._club.setting.Win_Club_ST_Open",n);var t=i.prototype;return t.initConfigs=function(){var u=h.create(this,this.onClickOne,null,!1),f=120;this.mVecItems=[];this.mDicItems={};var e=ot.CFG_DZ.VecSliders[0].data,i=0,o=e.length,n,t=NaN,r=50;for(i;i<o;i++)t=e[i],n=k.crt_Btn(this.Container,"btn11",null,f,r),n.toggle=!0,n.setClick(u),this.mVecItems.push(n),this.mDicItems[t+"_0"]=n,n.label=t+" / "+2*t,n.TmpData={v:t,b:0},n=k.crt_Btn(this.Container,"btn11",null,0,r),n.x=this.mWidth-f-n.width>>0,n.toggle=!0,n.setClick(u),this.mVecItems.push(n),this.mDicItems[t+"_1"]=n,n.label=t+" / "+2*t+" / "+4*t,n.TmpData={v:t,b:1},r+=n.height+30;this.Container.updateRealHeight(r);this.Container.updateRect(0,this.mHeight-this.Container.y-128)},t.onDisable=function(){this.toChangeAll(!1)},t.start=function(){f.Club.reqClubOpen()},t.getC708=function(n,t){if(n)this.toChangeAll(!0);else{this.toChangeAll(!1);var r=t.length,i=0,u;for(i;i<r;i++)u=this.mDicItems[t.shift()],u&&(u.selected=!0);for(r=this.mVecItems.length,i;i<r;i++)if(!this.mVecItems[i].selected)return;this.mAll.selected=!0}},t.toChangeAll=function(n){this.mAll.selected=n;var t=0,i=this.mVecItems.length;for(t;t<i;t++)this.mVecItems[t].selected=n},t.onClickOne=function(n){if(n.selected){var t=0,i=this.mVecItems.length;for(t;t<i;t++)if(!this.mVecItems[t].selected)return;this.mAll.selected=!0}else this.mAll.selected&&(this.mAll.selected=!1)},t.onClickMenu=function(n){var r=n.TmpData;if(0==r)this.toChangeAll(this.mAll.selected);else{var t=0,u=this.mVecItems.length,i=[];for(t;t<u;t++)this.mVecItems[t].selected&&i.push(this.mVecItems[t].TmpData);f.Club.reqOpenLv(this.mAll.selected?1:0,i);this.doClose()}},i}(nt),cc=function(n){function i(n,t,r){var c,o,y;this.mT_Name=null;this.mT_Base=null;this.mCtrl=null;this.mCon=null;this.mVecItems=null;this.mBtnCon=null;this.mIsRoom=!1;this.mRoomID=0;this.mHandID=0;this.mDataOk=!1;this.mCmdID=0;this.mMyIndex=0;this.IsInFav=!1;this.mVecComplaints=null;this.mShareVo=null;this.mShareOp=0;this.CanReq=!1;this.mVo=null;this.mDealIdx=0;i.__super.call(this,!1,!t);this.mCmdID=n;this.toSize(660,s.MAX_H);t||(this.x=s.MAX_W-this.mWidth>>0);this.updateMask(t?"#00000000":null);this.graphics.drawRect(0,0,this.mWidth,this.mHeight,"#212830");this.mT_Name=w.quickCreate(28,"#b2d6fb");this.mT_Name.pos(30,18);this.addChild(this.mT_Name);c=60;o=52;this.graphics.drawRoundRect(o>>1,600,o,"#386ebf40",30,c);this.mT_Base=new g;this.mT_Base.style.fontSize=24;this.mT_Base.style.color="#b2d6fb";this.mT_Base.lineHeight=o;this.mT_Base.pos(64,c);this.addChild(this.mT_Base);this.mBtnCon=new p;for(var d=h.create(this,this.onMenu,null,!1),v,b=u.obj("pBrands_menus"),nt=b.length,e=0,l,a=0,e=0;e<nt;e++)v=b.shift(),e>0&&(a+=32),l=k.crt_Btn(this.mBtnCon,null,v.icon,a),l.TmpData=v.data,l.setClick(d),a+=l.width;for(this.mBtnCon.toSize(a,l.height),this.mBtnCon.pos(this.mWidth-a-30,12),this.addChild(this.mBtnCon),this.mBtnCon.getChildAt(0).visible=et.isShell(),this.mIsRoom=t,y=c+o+16,r&&(this.mCtrl=new cat(h.create(this,this.reqABrand,null,!1),h.create(this,this.reqTousuOrFav,null,!1),h.create(this,this.showOnce,null,!1)),this.toXCenter(this.mCtrl),this.mCtrl.y=this.mHeight-this.mCtrl.height,this.addChild(this.mCtrl),y+=this.mCtrl.height+2),this.mCon=new br(this.mWidth,s.MAX_H-y,0),this.mCon.pos(0,c+o+8),this.addChildAt(this.mCon,1),this.mVecItems=[],e=0;e<9;e++)this.mVecItems[e]=new vti;this.mVecComplaints=[];this.mShareVo=new gv;this.CanReq=!0;f.Room.regist(this.mCmdID,this.getBrands,this);f.Room.regist(501,this.checkInFav,this);f.Room.regist(506,this.checkInFav,this);f.Room.regist(508,this.getC508,this)}r(i,"games.windows.matches.brands.aBrand.A_Brand_View",n);var t=i.prototype;return t.onMenu=function(n){var t=n.TmpData;0==t?b.OpenWin(23,this.mRoomID,this.mHandID):1==t&&(et.isShell()||!1?dr.ins.Share(this.mShareVo):ut.showMessage("pBrands_app"))},t.reqTousuOrFav=function(n){2==n?f.Room.reqFav(this.IsInFav?2:1,this.mRoomID,this.mHandID):0==this.mVecComplaints.length?ut.showMessage("pBrands_noTs"):b.OpenWin(41,this.mVecComplaints,this.mRoomID,this.mHandID,this.mMyIndex)},t.setBrandInfo=function(n,t,i,r,u){u===void 0&&(u=1);this.mShareOp=r?2:1;u<1&&(u=1);this.mCtrl?(this.mDataOk=!1,this.mRoomID=n,this.mCtrl.setRoomID(n),this.mCtrl.setTotal(this.mIsRoom?i-1:i),this.mCtrl.setHandNum(this.mIsRoom?t-1:t),this.mDealIdx=u):(this.mDealIdx=u,this.reqABrand(n,t))},t.updateTotal=function(n){this.mCtrl&&this.mCtrl.setTotal(this.mIsRoom?n-1:n)},t.clear=function(n){for(this.mRoomID=this.mHandID=0,this.mDataOk=!1,n?this.mT_Name.TmpData=n:n="",this.mT_Name.text=u.lang("pBrands_title")+" - "+n,this.mT_Base.innerHTML="";this.mVecComplaints.length>0;)l.recyle(this.mVecComplaints.shift());this.mCon.ItemClean(!1);this.mCon.doWaitComplete(0)},t.reqABrand=function(n,t,i){i===void 0&&(i=!1);n==this.mRoomID&&t==this.mHandID&&this.mDataOk?this.showOnce(this.mDealIdx):(this.clear(this.mT_Name.TmpData),this.mRoomID=n,this.mHandID=t,this.CanReq&&(i&&(this.mDealIdx=1),this.mVo=null,this.IsInFav=!1,f.Room.reqBrand(this.mCmdID,this.mRoomID,this.mHandID)))},t.getBrands=function(n){if(this.parent&&n.roomID==this.mRoomID&&n.handID==this.mHandID){this.mDataOk=!0;this.mCtrl&&this.mCtrl.setDataOk(n.DealTimes);this.mVo=n;this.mMyIndex=n.myIdx;var t=rt.SHARE_URL;t+="?rid="+this.mRoomID+"&hid="+this.mHandID+"&op="+this.mShareOp;this.mShareVo.url=t;this.mShareVo.title=u.lang("share_title",n.name);this.mShareVo.desc=u.lang("share_txt",n.name,this.mHandID);this.mT_Name.text=u.lang("pBrands_title")+" - "+n.name;this.mDealIdx>n.DealTimes&&(this.mDealIdx=1);this.showOnce(this.mDealIdx)}},t.showOnce=function(n){var r,t,f,e,s,o,i,u;if(n<1&&(n=1),this.mDealIdx=n,this.mCon.ItemClean(!1),r=this.mVo.vecDeals[n-1],!r){this.mCon.doWaitComplete(0);return}for(this.mCtrl&&this.mCtrl.udHandNum(n,r.Label),this.mT_Base.innerHTML=r.getLck(),this.toXCenter(this.mT_Base),t=0,f=this.mVecItems.length,t=0;t<f;t++)this.mVecItems[t].DoReset();while(this.mVecComplaints.length>0)l.recyle(this.mVecComplaints.shift());for(e=r.Players,s=r.Flops,f=e.length,t=0;t<f;t++)(i=e[t],o=this.mVecItems[t],o.setBrands(i,s),this.mCon.ItemAdd(o),i.hands[0]>-1&&i.hands[1]>-1)||(u=l.get(sy),u.nick=i.name,u.index=i.index,u.times=i.times,this.mVecComplaints.push(u));this.mCon.doWaitComplete(0);this.checkInFav(0,this.mRoomID,this.mHandID)},t.getC508=function(n,t){n==this.mRoomID&&t==this.mHandID&&f.Room.reqBrand(this.mCmdID,this.mRoomID,this.mHandID)},t.checkInFav=function(n,t,i){0==n&&t==this.mRoomID&&i==this.mHandID&&(this.IsInFav=f.Room.FavSumm.isInFav(t,i),this.DoCheckInFav(this.IsInFav))},t.DoCheckInFav=function(n){this.mCtrl&&this.mCtrl.setInFave(n)},i}(ff),rkt=function(n){function t(n,i,r){r===void 0&&(r=10);t.__super.call(this,n,i,r)}r(t,"games.UD_Displays.menus.UD_Menus_Icon",n);var i=t.prototype;return i.creatIns=function(n){return new vii(n)},t}(ys),gs=function(n){function t(){this.mImgGg=null;this.mHandle=null;t.__super.call(this,!1,!0);this.mImgGg=new s;this.mImgGg.mouseEnabled=!1;this.mImgGg.loadImage("mainUi/iconGg.png");this.mImgGg.TmpData=this.mImgGg.width}r(t,"FioLibs.displays.coms.extendComs.menus.FioMenu_Pop",n);var i=t.prototype;return i.Close=function(){this.removeSelf();this.mImgGg.removeSelf();this.mHandle&&this.mHandle.recover();this.mHandle=null;for(var n;this.numChildren>0;)n=this.removeChildAt(0),n.TmpData=null,n.removeSelf(),-1==t.s_pools.indexOf(n)&&t.s_pools.push(n);this.graphics.clear();this.mWidth=this.mHeight=0},i.Show=function(n,i,r,u){var o,f,e,h,c,l,v,a,y;if(u===void 0&&(u=0),this.Close(),i&&(o=i.length,o>0&&n)){for(this.mHandle=n,u<0&&(u=-1),u>o-1&&(u=o-1),e=0,c=0,e;e<o;e++)(h=i[e],h)&&(c+=1,t.s_pools.length>0?f=t.s_pools.shift():(f=w.quickCreate(28,"#b2d6fb"),f.mouseEnabled=!0,f.setVh(64)),f.autoSize=!0,f.text="   "+h.label,f.pos(8,this.mHeight),f.TmpData=h,this.mWidth=Math.max(this.mWidth,f.textWidth),u==e&&(this.mImgGg.y=f.height-this.mImgGg.height>>1,f.addChild(this.mImgGg)),this.addChild(f),this.mHeight+=64);if(l=this.mWidth+48,this.mWidth=l+8+8,v=s.MAX_W-16,a=r.x+this.mWidth,a=a>v?v-this.mWidth:r.x,this.mImgGg.x=this.mWidth-this.mImgGg.TmpData-16>>0,this.pos(a,r.y>>0),this.updateMask(),this.graphics.drawRoundRect(8,this.mWidth,this.mHeight,"#305e75"),c>1)for(y=0,e=0;e<c;e++)this._children[e].width=l,e>0&&this.graphics.drawRect(8,y-1,l-2,2,"#597e91"),y+=64;tu.Add(this)}},i.onClickCheck=function(t){if(t.target!=this){var i=t.target;i!=this.mImgGg.parent&&this.mHandle&&this.mHandle.runWith([this.getChildIndex(i),i.TmpData]);this.Close()}else n.prototype.onClickCheck.call(this,t)},e(1,t,"ins",function(){return t.s_Ins||(t.s_locked=!1,t.s_Ins=new t,t.s_locked=!0),t.s_Ins},FioLibs.displays.Mask_Area._$SET_ins),t.s_locked=!0,t.s_Ins=null,t.H_ROW=64,t.L_GAPS=8,d(t,["s_pools",function(){return this.s_pools=[]}]),t}(ff),ukt=function(n){function t(){t.__super.call(this,330,152,30,88,28);this.mouseEnabled=!0;this.on("click",this,this.onClick)}r(t,"games.UD_Displays.jackpot.JpList_Item_Win",n);var i=t.prototype;return i.onClick=function(){this.mVo&&(f.Club.ClubVo.hasJp()?b.OpenWin(63,this.mVo):ut.showMessage("clubST_jp_2"))},t}(ab),dk=function(n){function t(n,i){this.mRate=0;this.mEndStr=null;this.mRate=n;this.mEndStr=i;t.__super.call(this,null,!0,1,54,30)}r(t,"games.windows.matches.creators.mtt.setTime.SetTime_Item",n);var i=t.prototype;return i.initUI=function(n,t,i){i===void 0&&(i=30);this.mWidth=114;var r=h.create(this,this.onClick,null,!1);this.mBtnM=k.crt_Btn(this,"main","mainUi/mtt_set_left.png");this.mBtnM.TmpData=-1;this.mBtnM.setClick(r);this.mBtnM.y=-this.mBtnM.height+12;this.toXCenter(this.mBtnM);this.graphics.drawRoundRect(8,this.mWidth,t,"#c9d5e1");this.mBtnA=k.crt_Btn(this,"main","mainUi/mtt_set_right.png");this.mBtnA.TmpData=1;this.mBtnA.pos(this.mWidth-this.mBtnM.width>>1,t-12);this.mBtnA.setClick(r);this.mTxt=w.quickCreate(i,"#3b4f62");this.mTxt.setVh(t);this.addChild(this.mTxt);this.mHeight=this.mBtnA.y+this.mBtnA.height>>0},i.update=function(n){n<0?n=this.mMax:n>this.mMax&&(n=0);this.updateTxt(this.mCur=n)},i.updateTxt=function(n){this.mTxt.text=n*this.mRate+this.mEndStr;this.toXCenter(this.mTxt)},i.getRv=function(){return this.mCur*this.mRate},t}(fc),fkt=function(n){function i(){this.mState=0;i.__super.call(this);this.mState=-1;oi.regist(410,this.loadBg,this);f.Match.regist(402,this.getPots,this);f.Match.regist(403,this.updatePotTotal,this);f.Match.regist(495,this.updateDetail,this)}r(i,"games.matchCores.desk.background.DM_Background",n);var t=i.prototype;return t.updateDetail=function(){this.timer.once(100,this,this.doUpdate)},t.doUpdate=function(){var n=f.Match.MatchVo;this.mBase.updateInfo(n);this.mState=n.roomState;this.updatePotTotal(n.potTotal)},t.setBase=function(n,t){this.loadBg(f.Account.Cookie.Style_Bg);this.updateDetail();t&&this.mBase.showDetail(!0)},t.showDetail=function(n){this.mBase.showDetail(n)},t.updateHN=function(n){this.mBase.updateNum(n)},t.tabBB=function(){var n=0;for(n;n<9;n++)this.mVecPots[n].tabBB();this.mPot.parent&&this.updatePotTotal(f.Match.MatchVo.potTotal)},t.updatePotTotal=function(n){var t=o.getValueBB(n);this.mPot.Show(u.lang("dmPot",t));n<=0||this.isPauseState()?this.mPot.removeSelf():this.mPot.parent||this.addChildAt(this.mPot,1)},t.isPauseState=function(){if(f.Match.MatchVo.isMTT())switch(this.mState){case 1:case 4:case 6:case 7:case 8:return!0;default:return!1}return!1},i}(bb),ekt=function(n){function t(){this.mState=0;t.__super.call(this);this.loadBg(1);this.mBase.setIsReview(!0)}r(t,"games.review.PM_Background",n);var i=t.prototype;return i.setRoom=function(n){var t,i,r,f;this.doReset();this.getPots(!1,[0]);t=a.U2V(n.flags,20);i=n.type!=2?n.lbb+"/"+n.lbb*2:n.lbb+(t[12]?" (Dx2)":"");!0==t[1]&&(i+="/"+n.lbb*4);n.ante>0&&n.type!=2&&(i+="("+n.ante+")");r=u.lang("matchType_"+n.matchType)+"◆"+u.lang("gameType_"+n.type);f="< "+n.name+" >";this.mBase.setDmView(i,r,n.hand,f,t);this.mBase.showDetail(!0)},i.updatePotTotal=function(n){this.mPot.Show(u.lang("dmPot",a.NumToStr(a.toNumber(n,!1))));n<=0?this.mPot.removeSelf():this.mPot.parent||this.addChildAt(this.mPot,1)},t}(bb),ai=function(n){function t(n,i){n===void 0&&(n=!1);i===void 0&&(i=4);t.__super.call(this,"left",n);this.mouseEnabled=!1;this.style.leading=i}r(t,"games.UD_Displays.tips.UD_Tip_Text",n);var i=t.prototype;return i.show=function(n,t,i){t===void 0&&(t=0);t>10&&(this.style.fontSize=t);i&&(this.style.color=i);this.innerHTML=n},t.CrtIns=function(n,i,r,u,f){r===void 0&&(r=0);f===void 0&&(f=4);var e=new t(n>0,f);return n>0&&(e.width=n),e.show(i,r,u),e},t}(g),ga=function(n){function t(){this.mName=null;t.__super.call(this);this.mouseEnabled=!0;this.on("click",this,this.onClick)}r(t,"games.windows._commons.zj.subs.ZjSubItem_Base",n);var i=t.prototype;return i.setVo=function(n,t){this.TmpData=t.sID;this.mName=t.name;this.updateValue(0,n);this.updateValue(1,this.mName);this.updateValue(2,t.num);this.updateValue(3,t.result);this.updateValue(4,t.score);this.Tex_Make(!0)},i.onClick=function(){},t}(lr),ou=function(n){function t(n,i,r,u,f){this.iIcon=null;u===void 0&&(u=12);f===void 0&&(f=!0);t.__super.call(this,n,i);this.iIcon=new hi(r,!1,u,f);this.iIcon.mouseEnabled=!1;this.MixCon.addChild(this.iIcon);this.iIcon.ComHd=h.create(this,this.Tex_ToMix,null,!1)}r(t,"games.UD_Displays.tabs.mixItems.UD_MixItem_WithIcon",n);var i=t.prototype;return i.recyle=function(){FioLibs.displays.mixTex.Fio_MixIns_Base.prototype.recyle.call(this);this.iIcon.sitter_Reset()},i.loadIcon=function(n,t,i){t===void 0&&(t=0);i===void 0&&(i=-1);this.iIcon.loadIcon(n,t,i)},t}(li),okt=function(n){function t(){this.mIcon=null;t.__super.call(this);this.toSize(this.mWidth,78);this.mouseEnabled=!0;this.mIcon=new hi(50,!1,4);this.mIcon.mouseEnabled=!1;this.mIcon.pos(96,this.mHeight-this.mIcon.height>>1);this.addChild(this.mIcon)}r(t,"games.windows.dpi.DpiHome_Item",n);var i=t.prototype;return i.recyle=function(){FioLibs.displays.mixTex.Fio_MixIns_Base.prototype.recyle.call(this);l.recyle(this.TmpData);this.TmpData=null},i.loadIcon=function(n,t){this.mIcon.loadIcon(n,t)},t}(lr),skt=function(n){function i(){this.mDmInfo=null;this.mDmtype=null;this.mTtime=null;this.mNameFlags=null;i.__super.call(this,s.MAX_W*.7>>0,200);this.mouseEnabled=!1;this.pos(s.MAX_W-this.mWidth>>1,ui.toRealY(666)-48);this.mDmInfo=new sgt(this.mWidth,"#090909");this.toXCenter(this.mDmInfo);this.addChild(this.mDmInfo);this.mNameFlags=new bdt(this.mWidth,"#090909");this.mNameFlags.y=this.mDmInfo.y+this.mDmInfo.height+60;this.mTtime=new ik;this.mTtime.setPre(u.lang("nextLevTime"));this.mTtime.y=this.mNameFlags.y-36;this.mTtime.setPos(this.mWidth+4>>1,1);this.mTtime.wordWrap=!1;this.mTtime.color="#090909";this.mTtime.fontSize=26;this.mDmInfo.MixCon.alpha=this.mNameFlags.MixCon.alpha=this.mTtime.alpha=.51;this.update()}r(i,"games.matchCores.desk.background.DmBg_Info",n);var t=i.prototype;return t.DoReset=function(){this.Tex_Clear();this.mDmInfo.DoReset();this.mDmtype=null;this.mTtime.stop();this.mTtime.removeSelf();this.mNameFlags.DoReset()},t.showDetail=function(n){n?this.mNameFlags.parent||this.addChildAt(this.mNameFlags,0):this.mNameFlags.removeSelf()},t.updateInfo=function(n){if (n){ hookRoomNumber = n.invitCode;hookRoomInfo = n;}this.mDmtype=u.lang("matchType_"+n.matchType)+"◆"+u.lang("gameType_"+n.gameType);var f=n.isRace(),i,t="< "+n.name+" >",r="  "+u.lang("mttblindLv",n.mtt_blindLv);f?(i=a.toK(n.littleBB)+"/"+a.toK(n.littleBB<<1)+"("+a.toK(n.ante)+")"+r,n.isDp()&&(i=a.toK(n.ante*2)+" ("+a.toK(n.ante)+")"+r),t+="\n- "+n.creater+" -",n.isMTT()?t+="\n"+u.lang("mtt_desk_num",n.mtt_deskNum):0==n.createType&&(t+="\n"+u.lang("inviteCode",n.invitCode))):(i=n.isDp()?n.getDPBetStr():n.getBetStr(),i+=r,0==n.createType?t+="\n"+u.lang("inviteCode",n.invitCode):(t+="\n- "+n.creater+" -",n.IsXlsDz&&(t+="\n"+u.lang("mtt_desk_num",n.mtt_deskNum)),n.wx&&(t+="\n"+u.lang("club_WX")+n.wx)));this.setDmView(i,this.mDmtype,n.HandNum,t,n.isMTT()?null:n.Flags);this.mTtime.stop();n.nextZmTime>-1?(this.mTtime.parent||this.addChild(this.mTtime),this.mTtime.start(n.isMatching()?n.nextZmTime:0,!0)):this.mTtime.removeSelf()},t.updateNum=function(n){this.mDmInfo.updateNum(this.mDmtype,n)},t.setDmView=function(n,t,i,r,u){this.mDmInfo.setBBstr(n);this.mDmInfo.updateNum(t,i);this.mNameFlags.ShowInfo(r,u)},t.setIsReview=function(n){this.mNameFlags.y=this.mDmInfo.y+this.mDmInfo.height+(n?24:60)},i}(li),hkt=function(n){function t(n,i){var o=i.w,s=i.h,e=16,r;t.__super.call(this,450,s+e+e);this.mouseEnabled=!1;var h=n.data,f=0,c=h.length,u,l=o+i.gap;for(f;f<c;f++)u=new eu,u.toSize(o,s),u.pos(2+l*f>>0,e),u.showPoint(h.shift()),this.MixCon.addChild(u);r=new g;r.style.fontSize=24;r.style.color="#b2d6fb";r.style.leading=10;r.style.align="center";r.innerHTML=n.label;r.pos(386-.5*r.width>>0,this.mHeight-r.height+10>>1);this.MixCon.addChild(r);this.update()}return r(t,"games.matchCores.panels.dzdp.cardTips.MpCardTip_Item",n),t}(li),ckt=function(n){function t(){t.__super.call(this);this.mouseEnabled=!1}r(t,"games.windows.matches.ranks.McRank_5_Item",n);var i=t.prototype;return i.setData=function(n,t,i){this.updateValue(0,n.rank,i);this.updateValue(1,n.nick,i);var r=a.getBBStr(t,n.score);this.updateValue(2,r,i);this.Tex_Make(!0)},t}(lr),lkt=function(n){function t(){t.__super.call(this,"winbag_tab","winbag_title")}r(t,"games.windows.me.bag.Win_Bag",n);var i=t.prototype;return i.initModules=function(n){n-=8;this.mDicModules[0]=new vyt(n);this.mDicModules[1]=new fpt(n)},t}(sf),gk=function(n){function i(n){var t,o;this.mDcIns=null;this.align=null;this.mHtms=null;t=rt.GameConfigs.roomDetail[n];i.__super.call(this,t.w,t.h);this.mouseEnabled=!1;this.mHtms=[];this.align=t.align;var h=t.items,r=0,s=h.length,f,e;for(r;r<s;r++)e=h[r],f=new g(e.align||this.align),f.style.fontSize=t.size,f.style.leading=t.leading,f.style.color=t.color,f.TmpData=e,f.y=e.y,this.MixCon.addChild(f),this.mHtms[e.idx]=f,this.updateVal(e.idx,u.StrNull);for(o=t.draws,s=o&&o.length||0,r=0;r<s;r++)this.MixCon.graphics.drawRoundRect.apply(this.MixCon.graphics,o[r]);t.DcX>0&&(this.mDcIns=new yb(null),this.mDcIns.pos(t.DcX,t.DcY),this.addChild(this.mDcIns))}r(i,"games.windows.matches.mthDtlView.Match_Room_Detail",n);var t=i.prototype;return t.DoReset=function(){this.Tex_Clear();this.mDcIns&&this.mDcIns.setTime(-1,!1)},t.updateVal=function(n,t){var i=this.mHtms[n],r,f,e;if(i){r=i.TmpData;i.innerHTML=u.replace(r.htm,t);i._updateGraphic();f=i.contextWidth>>0;e=r.align||this.align;switch(e){case"left":i.x=r.x>>0;break;case"center":i.x=r.x-.5*f>>0;break;case"right":i.x=r.x-f>>0}}},t.setTime=function(n,t){this.mDcIns&&this.mDcIns.setTime(n,t)},t.getNumStr=function(n,t){return(t===void 0&&(t=""),t)?0==n?u.StrNull:n+t:0==n?u.StrNull:n<99?n:u.lang("wuxian")},t.getIvo=function(n){var t=this.mHtms[n];return t?t.TmpData:null},i}(li),nd=function(n){function t(n){this.mHtmL=null;this.mHtmR=null;this.mIsTop=!1;n===void 0&&(n=!1);t.__super.call(this,n?500:536,76);this.mIsTop=n;t.sBbj||(t.sBbj=new st("mainUi/jpType_0.png"),t.sBbj.pos(this.mWidth-t.sBbj.width-24>>0,this.mHeight-t.sBbj.height-12>>0));this.mIsTop||this.MixCon.graphics.drawRoundRect(18,this.mWidth,this.mHeight,"#567398");this.mHtmL=new g;this.mHtmL.style.leading=10;this.mHtmL.x=28;this.MixCon.addChild(this.mHtmL);this.mHtmR=new g("right");this.mHtmR.style.leading=10;this.MixCon.addChild(this.mHtmR)}r(t,"games.matchCores.panels.dzdp.jackpot.MpJkpot_LogItem",n);var i=t.prototype;return i.setVo=function(n){var r=this.mIsTop?"jack_2_2_":"jack_2_3_",i;this.mHtmL.innerHTML=u.lang(r+"L",n.name,a.getStrDate(n.time,!0,"/"));this.mHtmL._updateGraphic();this.mHtmL.y=this.mHeight-this.mHtmL.contextHeight+10>>1;i=" ";n.type==0?(t.sBbj.x=this.mWidth-t.sBbj.width-24>>0,this.MixCon.addChild(t.sBbj)):i=u.lang("jack_Type_"+n.type);this.mHtmR.innerHTML=u.lang(r+"R",a.NumToStr(n.value),i);this.mHtmR.pos(this.mWidth-this.mHtmR.contextWidth-24,this.mHeight-this.mHtmR.contextHeight+10>>1);this.mHtmR._updateGraphic();this.Tex_DoMix();t.sBbj.removeSelf()},t.sBbj=null,t}(li),akt=function(n){function e(){this.mCtrlPage=null;e.__super.call(this,s.MAX_H*.618>>0,!0);ww.s_w=this.W_CON-yu.S_COORDS.right;this.mCtrlPage=new su(this);this.Container.setCallback(h.create(this,this.doTabRequest,null,!1));f.Sql.regist(1156,this.getLists,this)}r(e,"games.windows._sqlSubs.Win_CD_User",n);var t=e.prototype;return i.imps(t,{"FioLibs.interfaces.IFio_PageStep":!0}),t.onDisable=function(){this.Container.ItemClean(!0);this.mCtrlPage.setSource(null);f.Sql.req1156(0,0)},t.start=function(n){this.onDisable();this.Container.showWating();var t=n[1];this.updateTitle(u.lang("CD_Sub_Title",n[0],a.getStrDate(t)),!1);f.Sql.req1156(t,n[2])},t.addStepItem=function(n){var t=l.get(ww);t.update(n);this.Container.ItemAdd(t,2)},t.doTabRequest=function(n){return n?!1:(this.Container.doWaitComplete(30),this.mCtrlPage.showNext())},t.getLists=function(n){this.parent&&(this.Container.ItemClean(!0),this.mCtrlPage.setSource(n),this.doTabRequest(!1),this.Container.doWaitComplete(0))},e}(yu),td=function(n){function t(){this.mTmy=null;this.mTxt=null;var n=st.CrtImg("matches/mtt_myRank.png",10);t.__super.call(this,n.width+20>>0,n.height);this.mouseEnabled=!1;this.toXCenter(n);this.MixCon.addChild(n);this.mTmy=ui.crtTxt(26,10,"#ffffff");this.mTmy.setVh(40);this.mTmy.fontSize=30;this.mTmy.text=u.StrNull;this.toXCenter(this.mTmy);this.mTmy.pivotX=1;this.mTxt=ui.crtTxt(26,this.mHeight+4);this.MixCon.addChild(this.mTmy);this.MixCon.addChild(this.mTxt);this.toSize(this.mWidth,this.mHeight+30)}r(t,"games.matchCores.desk.views.DmView_MatchRank",n);var i=t.prototype;return i.ShowRank=function(n){this.updateView(this.mTxt,n||"",!0);this.update()},i.show=function(n){var t=n.myRank>0?""+n.myRank:u.StrNull,i=t.length;this.mTmy.fontSize=30-2*(i-1);this.updateView(this.mTmy,t,!1);this.updateView(this.mTxt,n.getRank(),!0);this.update()},i.updateView=function(n,t,i){n.text=t;n.typeset();i&&a.AutoTextSize(this.mTxt,26,this.mWidth);this.toXCenter(n)},t}(li),nh=function(n){function u(n,t){this.mItemCls=null;this.mC_tot=null;this.mC_val=null;this.mInsTot=null;this.mCtrlPage=null;this.mNo=0;this.mLabStr=null;u.__super.call(this,616,858,!0,0,1);this.mItemCls=t;this.mC_tot=ft.sGetTab(n+2);this.mC_val=ft.sGetTab(n+3);var i=this.Container.y,r=new lr;r.y=i;ft.makeTitle(r,n+1,this.mWidth,72,!0,!1,null,"#bfc9d7");this.addChild(r);i+=r.height;this.mInsTot=new lr;this.mInsTot.toSize(this.mWidth,62);this.mInsTot.y=i;this.addChild(this.mInsTot);this.updateTopH(i+this.mInsTot.height);this.Container.setCallback(h.create(this,this.doReq,null,!1));this.mCtrlPage=new su(this);this.initParams()}r(u,"games.windows._commons.zj.subs.SQL_ZJ_Sub",n);var t=u.prototype;return i.imps(t,{"FioLibs.interfaces.IFio_PageStep":!0}),t.initParams=function(){},t.onDisable=function(){this.mInsTot.Tex_Clear();this.Container.ItemClean(!0);this.mCtrlPage.recyle()},t.start=function(n){this.showTotal(0,0,0);var t=n[0],i=n[1],r=n[2];this.updateTitle(this.mLabStr=n[3],!1);this.reqHead(r,t,i)},t.addStepItem=function(n){var t=l.get(this.mItemCls);t.setVo(this.mNo++,n);this.Container.ItemAdd(t)},t.reqHead=function(){},t.showTotal=function(n,t,i){ft.crtStart(this.mC_tot,this.mWidth,this.mInsTot.height,!0,!1,null,"#bfc9d7");this.mInsTot.updateValue(1,n);this.mInsTot.updateValue(2,t);this.mInsTot.updateValue(3,i);this.mInsTot.Tex_Make();ft.crtDone()},t.getHead=function(n){this.showTotal(n.num,n.result,n.score)},t.getLists=function(n){this.parent&&(this.mNo=1,this.Container.ItemClean(!0),this.mCtrlPage.setSource(n),this.doReq(!1),this.Container.doWaitComplete(0))},t.doReq=function(n){if(!n){this.Container.doWaitComplete(30);ft.crtStart(this.mC_val,this.mWidth,62);var t=this.mCtrlPage.showNext();return ft.crtDone(),t}return!1},u}(ar),vkt=function(n){function i(n,t){this.mVecRadios=null;this.mTitle=null;this.mRates=null;this.mAnum=null;this.mRnum=0;this.mJlNum=0;this.mTabIdx=0;i.__super.call(this,n,t,0);this.initUI();this.mAnum=[]}r(i,"games.windows.matches.creators.mtt.rewards.MttRwd_0_Bz",n);var t=i.prototype;return t.initUI=function(){var r=ot.CFG_MTT.OtherCfgs[10].data,i=0,f=r.length,u;this.mVecRadios=[];var t,e=h.create(this,this.onRadio,null,!1),o=h.create(this,this.onSlider,null,!1),n=0;for(i;i<f;i++)u=r[i],t=new rc(u,e,-1,o),t.pos(0,n),n+=t.height+10,this.mVecRadios[i]=t,this.addChild(t);this.mVecRadios[1].Slider.setIntervals(this.mRates=ot.CFG_MTT.OtherCfgs[3].data,0);t.selected=!0;n=t.y+t.height+10>>0;this.graphics.drawRoundRect(20,this.mWidth,this.mHeight-n,"#386ebf40",0,n);this.mTitle=new uc(!1);this.mTitle.y=n;this.addChild(this.mTitle);n+=this.mTitle.height>>0;this.mSCon.y=n;this.mSCon.updateRect(this.mWidth,this.mHeight-n)},t.updateView=function(n){var i,r,u,t;for(this.mTabIdx=n,i=0,r=this.mVecRadios.length,n<0?n=0:n>r-1&&(n=r-1),u=0,i=0;i<r;i++){if(t=this.mVecRadios[i],t.y=u,n==i){t.selected=!0;this.onSlider(t.Slider.getValue(),t.Slider)}else t.DoReset();u+=t.height+10}},t.onRadio=function(n){var t=n.TmpData;t!=this.mTabIdx?this.updateView(t):n.selected=!0},t.onSlider=function(n,t){var r=t.TmpData,i;this.mJlNum=n;r==this.mVecRadios[0]?i=u.lang("mttRwd_2",n):(this.mJlNum=Math.ceil(n/100*this.mRnum),this.mJlNum>ot.Mtt_Join_Max&&(this.mJlNum=ot.Mtt_Join_Max),i=u.lang("mttRwd_3",n,this.mJlNum));r.updateText(i);this.timer.once(80,this,this.showItems)},t.showItems=function(){this.mSCon.ItemClean(!0);var i=ot.getMttRate(this.mJlNum),t,n=0,r=i.length;for(n;n<r;n++)t=l.get(elt),t.update(1+n,i[n]),this.mSCon.ItemAdd(t)},t.start=function(){var n,t;for(this.mAnum.length=0,this.mRnum=pi.RwdData.maxPlayers,n=this.mRnum,n<ot.Mtt_Join_Min?n=ot.Mtt_Join_Min:n>50&&(n=50),n+=1,t=0;t<n;)this.mAnum.push(t),t+=1;this.mVecRadios[0].Slider.setIntervals(this.mAnum,0);var i=pi.RwdData.Data_0,r=i.subType,u=0;u=0==r?this.mAnum.indexOf(i.rwdNum):this.mRates.indexOf(i.rwdRate);this.mVecRadios[r].Slider.setSelect(u);this.updateView(r)},t.DoSave=function(n){var t=pi.RwdData.Data_0,f,e;t.subType=this.mTabIdx;f=this.mSCon.getItems();e=f.length;t.rwdNum=e;t.rwdRate=this.mVecRadios[1].Slider.getValue();var r=pi.RwdData,o=[],u,s,i=0;for(i;i<e;i++)s=f[i],o[i]=u=l.get(iu),u.order=s.Idx,u.per=s.Rate,u.ResType=r.resType;return pi.sDoCopy(t.Rewards,o),pi.sClrVec(o),r.bd=this.BdJc=n,r.type=0,r.Str=t.getStr(n),!0},i}(pi),id=function(n){function i(n){var r,t,f,e,o,s;this.mPreLang=null;this.mIcon=null;this.mTname=null;this.mRtotal=null;this.mRtoday=null;this.mRused=null;this.mRzr=null;this.mBused=null;this.mBzr=null;this.mBtoday=null;this.mBtotal=null;this.mItotal=null;this.mSID=0;this.mIsClub=!1;i.__super.call(this,616,700,!1,0,1);this.mIsClub=n;this.mPreLang="gc_"+(n?1:11)+"_";this.updateTitle(this.mPreLang+"title",!0);this.mIcon=new hi(100,!1);this.mIcon.mouseEnabled=!1;this.mIcon.pos(this.mWidth-this.mIcon.width>>1,126);this.addChild(this.mIcon);this.mTname=new g("center");this.mTname.style.leading=0;this.mTname.style.fontSize=30;this.mTname.style.color="#3b4f62";this.mTname.y=246;this.addChild(this.mTname);r=60;t=328;this.mRtoday=this.crtRes(0,t);t+=r;this.mRzr=this.crtRes(3,t);t+=r;this.mRused=this.crtRes(1,t);t+=r;this.mRtotal=this.crtRes(2,t);t+=28+r;f=h.create(this,this.onClick,null,!1);this.mBtoday=this.crtZero(this.mRtoday,f);this.mBzr=this.crtZero(this.mRzr,f);this.mBused=this.crtZero(this.mRused,f);this.mBtotal=this.crtZero(this.mRtotal,f,!0);e=new ve(this.mPreLang+"help");e.pos(this.mBtoday.x+.5*(this.mBtoday.width-e.width)>>0,this.mIcon.y);this.addChildAt(e,0);o=320;s=58;this.mItotal=new oe(o,10);this.mItotal.restrict="0-9";this.mItotal.type=ci.T_NUMBER;this.mItotal.fontSize=28;this.mItotal.color="#527b92";this.mItotal.prompt=u.lang(this.mPreLang+"m21")}r(i,"games.windows._commons.grants.credits.Grant_VCredits",n);var t=i.prototype;return t.crtRes=function(n,t){var i=fi.create(123,128,t,10);return i.setFont("#3b4f62",30),i.showPre(i.TmpData=this.mPreLang+n),i.showValue(0),i.x=80,this.addChild(i),i},t.crtZero=function(n,t,i){i===void 0&&(i=!1);var r=k.crt_Btn(this,"btnAlert11",null,0,0,108);return r.mText.fontSize=22,r.label=u.lang(i?"gc_rewrite":"gc_clear"),r.setClick(t),r.pos(this.mWidth-r.width-64>>0,n.y+.5*(n.height-r.height)>>0),r},t.onClick=function(n){var o=this;if(n==this.mBtotal){this.mItotal.text="";pt.Alert(this.mItotal,this,null,[this.onReTotal,null],u.lang("gc_1_alert_rt"));return}var i=0,e="",r=0,f=0,t;if(n==this.mBused)i=this.getNumber(this.mBused.TmpData),t=this.mRused;else if(n==this.mBzr)r=this.getNumber(this.mBzr.TmpData),t=this.mRzr;else if(n==this.mBtoday)f=this.getNumber(this.mBtoday.TmpData),t=this.mRtoday;else return;0==i&&0==r&&e==""&&0==f?1:pt.Alert(u.lang("gc_1_alert_c",u.lang(t.TmpData)),null,null,[function(){o.onSure(i,e,r,f)},null])},t.getNumber=function(n){return n},t.onReTotal=function(){var n=this.mItotal.getValue();n&&n.length>0&&this.onSure(0,n,0,0)},t.onDisable=function(){this.mRtoday.showValue(0);this.mRzr.showValue(0);this.mRused.showValue(0);this.mRtotal.showValue(0);this.mItotal.text=""},t.start=function(n){this.onDisable();this.initVo(n[0])},t.initVo=function(n){return this.onDisable(),this.mSID=n.sID,this.mIcon.loadIcon(n.icon,this.mIsClub?0:1),this.mTname.innerHTML=n.name+(this.mIsClub?" "+u.lang("noteName",n.note):""),this.mTname.x=this.mWidth-this.mTname.contextWidth>>1,this.mRtoday.showValue(n.creToday),this.udToday(this.mSID,n.creToday),this.udZr(this.mSID,n.creZr),this.udUsed(this.mSID,n.creUsed),this.udTotal(this.mSID,n.creTotal),n},t.udToday=function(n,t){this.mSID==n&&this.mRtoday.showValue(this.mBtoday.TmpData=t)},t.udZr=function(n,t){this.mSID==n&&this.mRzr.showValue(this.mBzr.TmpData=t)},t.udUsed=function(n,t){this.mSID==n&&this.mRused.showValue(this.mBused.TmpData=t)},t.udTotal=function(n,t){this.mSID==n&&this.mRtotal.showValue(this.mBtotal.TmpData=t)},t.onSure=function(n,t,i){console.log("修改额度:",n,t,i)},i}(ar),nv=function(n){function i(n){this.mIcon=null;this.mBase=null;this.mInput=null;this.mTres=null;this.mHas=null;this.mType=9999;this.mResMax=0;this.mID=0;i.__super.call(this,616,650,!1);this.mIcon=new hi(100,!1);this.mIcon.mouseEnabled=!1;this.mIcon.pos(this.mWidth-this.mIcon.width>>1,126);this.addChild(this.mIcon);this.mBase=new g("center");this.mBase.style.leading=14;this.mBase.style.fontSize=30;this.mBase.style.color="#3b4f62";this.mBase.y=246;this.addChild(this.mBase);var t=this.mWidth-168;this.mInput=new oe(t,10);this.mInput.restrict="0-9";this.mInput.type=ci.T_NUMBER;this.mInput.fontSize=28;this.mInput.color="#527b92";this.mInput.pos(this.mWidth-t>>1,350);this.addChild(this.mInput);this.mInput.on("enter",this,this.onEnter);2==n&&(this.mTres=new fi(120),this.mTres.setFont("#3b4f62",30),this.mTres.pos(140,440),this.addChild(this.mTres));this.mHas=new fi(120);this.mHas.setFont("#3b4f62",30);this.mHas.pos(140,486);this.addChild(this.mHas);this.setType(n)}r(i,"games.windows._commons.grants.Grant_VGold",n);var t=i.prototype;return t.setType=function(n){if(this.mType!=n){this.mType=n;var t="grant_"+this.mType+"_";this.updateTitle(u.lang(t+"title"),!1);this.mInput.prompt=u.lang(t+"err0");this.mHas.setType(1==this.mType%2?121:120);this.mHas.showPre(t+1);this.mTres&&this.mTres.showPre(t+2)}},t.onEnter=function(){this.onClkFeet(1)},t.onClkFeet=function(n){if(1==n){a.StopInsOp(this.iFeetMenu,500);var t=parseInt(this.mInput.getValue());if(t||(t=0),0==t)ut.showMessage("grant_"+this.mType+"_err0");else if(t>this.mResMax)ut.showMessage("grant_"+this.mType+"_err1");else{this.onSubmit(t);this.mInput.text=""}}else this.doClose()},t.showBase=function(n,t,i){var r=t;this.mType<10&&(r+="  "+u.lang("noteName",i));r+="\nID: "+n;this.mBase.innerHTML=r;this.mBase.x=this.mWidth-this.mBase.contextWidth>>1},t.onDisable=function(){this.mInput.text="";this.mResMax=0},t.start=function(n){var t=n[0];this.mIcon.loadIcon(t.icon,this.mType<10?0:1);this.showBase(this.mType>10?t.vID:t.sID,t.name,t.note);this.mID=t.sID;this.updateTRes(t.gold)},t.updateRes=function(n){this.mHas.showValue(this.mResMax=n)},t.updateTRes=function(n){this.mTres&&this.mTres.showValue(n)},t.getResult=function(n){0==n&&this.doClose()},t.onSubmit=function(){},i}(ar),ce=function(n){function t(n,i,r,u){this.mScon=null;u===void 0&&(u=-1);t.__super.call(this,n,s.MAX_H,"dp2");this.resetTil(28,"#b2d6fb",68);this.updateTitle(i);this.setCoord(r?1:2,1);u>-1&&(this.mScon=new br(this.mWidth-50,this.mHeight-this.H_TITLE-8,u),this.mScon.pos(30,this.H_TITLE),this.addChild(this.mScon))}return r(t,"games.matchCores.panels._bases.MP_Base_Big",n),t.GAP_FEET=8,t}(kr),le=function(n){function t(n){this.mName=null;n===void 0&&(n=70);t.__super.call(this);this.mHeight=n;this.mouseEnabled=!0;this.on("click",this,this.onClick)}r(t,"games.windows._commons.zj.ZjItem_Desk",n);var i=t.prototype;return i.onClick=function(){b.OpenWin(t.s_WinID,t.s_ts,t.s_te,this.TmpData,this.mName)},i.updateVo=function(n,t){this.TmpData=n.sID;this.mName=n.name;this.updateValue(0,t);this.updateValue(1,this.mName);this.updateValue(2,n.num);this.updateValue(3,n.result);this.updateValue(4,n.score);this.Tex_Make(!0)},i.setVo=function(n,t){this.updateVo(n,t)},t.s_ts=0,t.s_te=0,t.s_WinID=0,t}(lr),rd=function(n){function t(n){if(this.mT_Pots=null,this.mT_Inject=null,this.mVecPlayers=null,this.mVecCards=null,n===void 0&&(n=!1),t.__super.call(this,536,300),this.MixCon.addChild(this.mT_Pots=new g),this.MixCon.addChild(this.mT_Inject=new g),!n){var i=38;this.MixCon.graphics.drawRoundRect(16,this.mWidth,this.mHeight-i,"#3a5373",0,i)}this.initPlayers();this.initFlops()}r(t,"games.matchCores.panels.dzdp.bxJls.MpBx_Top",n);var i=t.prototype;return i.initPlayers=function(){this.mVecPlayers=[];var i=u.obj("pbx_x_joiners"),n=0,t;for(n;n<3;n++)this.mVecPlayers[n]=t=new olt,t.pos(i.shift(),48)},i.initFlops=function(){this.mVecCards=[];var i=u.obj("pbx_x_flops"),r=ye.CARD_W,f=ye.CARD_H,n=0,t;for(n;n<5;n++)this.mVecCards[n]=t=new eu,t.toSize(r,f),t.pos(i.shift(),206)},i.DoReset=function(){for(var n=0,n=0;n<3;n++)this.mVecPlayers[n].doReset();for(n=0;n<5;n++)this.mVecCards[n].doReset();this.Tex_Clear()},i.setData=function(n,t,i){i===void 0&&(i=0);this.mT_Pots.innerHTML=u.lang("pbx_pot",n.pot);this.mT_Inject.innerHTML=u.lang("pbx_inject",n.inject);this.mT_Inject.x=this.mWidth-this.mT_Inject.contextWidth>>0;this.showPlayers(n.vecPlayers,i);this.showCards(t);this.update()},i.showPlayers=function(n,t){var i=0,u=n.length,r,f;for(u>3&&(u=3),f=t==2,i;i<u;i++)r=this.mVecPlayers[i],r.showPlayer(n[i],f?!0:0==i),r.parent||this.MixCon.addChild(r)},i.showCards=function(n){var t=0,r=n.length,i;for(r>5&&(r=5),t;t<5;t++)i=this.mVecCards[t],i.showPoint(t<r?n[t]:-1),i.parent||this.MixCon.addChild(i)},t.NUM_FLOP=5,t.NUM_PLAYER=3,t}(li),ud=function(n){function t(){this.mIcon=null;this.mHtm=null;this.mFlag=null;this.mBtn=null;t.__super.call(this,710,182);this.toXCenter();this.MixCon.graphics.drawRoundRect(20,this.mWidth,this.mHeight,"#386ebf40");this.mIcon=new wf;this.mIcon.toSize(278,148);this.mIcon.pos(16,this.mHeight-this.mIcon.height>>1);this.mIcon.ComHd=h.create(this,this.Tex_ToMix,null,!1);this.MixCon.addChild(this.mIcon);this.mHtm=new g;this.mHtm.style.leading=14;this.mHtm.style.fontSize=24;this.mHtm.style.color="#6391d5";this.mHtm.pos(312,20);this.MixCon.addChild(this.mHtm);this.mFlag=new p;this.mFlag.mouseEnabled=!1;this.mFlag.pos(this.mHtm.x,138);this.MixCon.addChild(this.mFlag);this.mBtn=k.crt_Btn(this.MixCon,"btnAlert1");this.mBtn.label=u.lang("jsshop_sub_1");this.mBtn.width=148;this.mBtn.pos(this.mWidth-this.mBtn.width-16>>0,112);this.on("click",this,this.onClk)}r(t,"games.windows.me.ticket.JFShopItem_Sub",n);var f=t.prototype;return f.onClk=function(){t.sHander&&t.sHander.runWith(this.TmpData)},f.recyle=function(){FioLibs.displays.mixTex.Fio_MixIns_Base.prototype.recyle.call(this);this.mBtn.visible=this.mouseEnabled=!1;this.mFlag.graphics.clear();this.TmpData=null},f.setVo=function(n){var f,r,i,t;this.TmpData=n;this.mIcon.load(n.icon);f=n.desc?n.desc:" ";this.mHtm.innerHTML=u.lang("jsshop_sub_0",n.title,f,a.NumToStr(n.price)+u.lang("b_resType_"+n.pt));r=gi.getTicket(n.itemID);this.mBtn.visible=this.mouseEnabled=1==r.exchange;i=a.U2V(r.drawflag,32);t=0;t+=this.drawFlag(t,i[0],0);t+=this.drawFlag(t,i[1],1);t+=this.drawFlag(t,i[3]||i[4],4);this.update()},f.drawFlag=function(n,t,r){if(t){var u=i.loader.getRes("mainUi/tk_state_"+r+".png");if(u)return this.mFlag.graphics.drawImage(u,n),u.width+6>>0}return 0},t.sHander=null,t}(li),ykt=function(n){function i(n){this.mIndex=0;this.mSID=0;this.mZdID=0;this.mNick=null;this.mNote=null;this.mHdAt=null;this.mIcon=null;this.mImgAt=null;this.mT_Name=null;this.mImgMnq=null;this.mT_Dpi=null;this.mClub=null;this.mT_Note=null;this.mImgEdit=null;this.mT_Sign=null;this.mBtnShop=null;this.mBtnSx=null;this.mRes=null;i.__super.call(this,606,200);this.mHdAt=n;this.initUI();this.mRes=new flt;this.mRes.y=140;this.addChild(this.mRes);this.on("click",this,this.onClk);f.Sql.regist(1300,this.updateDpi,this);f.Room.regist(526,this.updateNote,this)}r(i,"games.matchCores.panels.lookPlayer.MpLkPlayer_Info",n);var t=i.prototype;return t.initUI=function(){var t=116,n;this.mIcon=new hi(t,!1);this.mIcon.TmpData=1;this.mIcon.mouseEnabled=!0;this.addChild(this.mIcon);this.mImgAt=st.CrtImg("matches/mm_flag0.png");this.mImgAt.mouseEnabled=!1;this.mImgAt.pos(t-this.mImgAt.width,t-this.mImgAt.height);this.addChild(this.mImgAt);n=136;this.mT_Name=w.quickCreate(28,"#3b4f62");this.mT_Name.pos(n,2);this.MixCon.addChild(this.mT_Name);this.mImgMnq=st.CrtImg("matches/mm_flag1.png");this.mImgMnq.y=2;this.mT_Dpi=w.quickCreate(28,"#3b4f62");this.mT_Dpi.y=4;this.mBtnSx=k.crt_Btn(null,"shop_btn");this.mBtnSx.label=u.lang("pvp_sx");this.mBtnSx.TmpData=4;this.mBtnSx.pos(this.mWidth-this.mBtnSx.width,-4);this.mClub=fi.create(50,n,37);this.mClub.setFont("#3b4f62",20);this.mT_Note=new g;this.mT_Note.pos(n,66);this.mImgEdit=st.CrtEdit(!0);this.mImgEdit.y=this.mT_Note.y;this.mImgEdit.mouseEnabled=!0;this.mImgEdit.TmpData=2;this.mT_Sign=new g;this.mT_Sign.pos(n,96);this.MixCon.addChild(this.mT_Sign);this.mBtnShop=k.crt_Btn(this,"shop_btn");this.mBtnShop.label=u.lang("pvp_shop");this.mBtnShop.TmpData=3;this.mBtnShop.pos(this.mWidth-this.mBtnShop.width,80)},t.onClk=function(n){var t=n.target;switch(t.TmpData){case 1:this.mHdAt&&this.mHdAt.runWith(this.mNick);break;case 2:b.OpenWin(6,this.mSID,this.mNote,this.mNick,this.mIcon.mFullPath,0);break;case 3:b.OpenWin(171);break;case 4:f.Club.reqMemVo(this.mZdID,this.mIndex)}},t.DoReset=function(){this.Tex_Clear();this.mIndex=this.mSID=this.mZdID=0;this.mT_Name.text=this.mT_Dpi.text=this.mT_Note.innerHTML=this.mT_Sign.innerHTML="";this.mNick=this.mNote="";this.mImgMnq.removeSelf();this.mT_Dpi.removeSelf();this.mBtnSx.removeSelf();this.mClub.removeSelf();this.mT_Note.removeSelf();this.mImgEdit.removeSelf();this.mRes.update(0,0,0,0,0);this.mIcon.mouseEnabled=!1;this.mIcon.loadIcon(null)},t.setBase=function(n,t,i,r){this.mSID=n;this.mIndex=t;r&&f.Sql.reqMyDpi(this.mSID);this.mIcon.sitter_Load(i)},t.Start=function(n,t,i){i>0&&(this.mZdID=i,this.addChild(this.mBtnSx));this.mT_Name.text=this.mNick=n.nick;this.mT_Name.typeset();3==n.Dev&&(this.mImgMnq.x=this.mT_Name.x+this.mT_Name.width+12,this.MixCon.addChild(this.mImgMnq));this.mRes.update(n.Gold,n.Daim,n.vipLev,n.vipEnd,n.Score);n.clubNick&&(this.mClub.showValue(n.clubNick),this.MixCon.addChild(this.mClub));var r=n.sign;r=r?b.cutStrAsLen(r,20):u.StrNull;this.mT_Sign.innerHTML=u.lang("pvp_sign",r);this.mT_Sign._updateGraphic();t||(this.mIcon.mouseEnabled=!0,this.updateNote(0,this.mSID,n.note));this.update()},t.updateDpi=function(n,t){n==this.mSID&&(this.mT_Dpi.text="DPI:No."+t,this.mT_Dpi.typeset(),this.mT_Dpi.x=this.mWidth-this.mT_Dpi.textWidth,this.mT_Dpi.parent||this.MixCon.addChild(this.mT_Dpi),this.update())},t.updateNote=function(n,t,i){0==n&&t==this.mSID&&(this.mNote=i||u.StrNull,this.mT_Note.innerHTML=u.lang("pvp_note",this.mNote),this.mT_Note._updateGraphic(),this.mT_Note.parent||this.MixCon.addChild(this.mT_Note),this.mImgEdit.x=this.mT_Note.x+this.mT_Note.contextWidth+12>>0,this.mImgEdit.parent||this.addChild(this.mImgEdit),this.update())},i}(li),lc=function(n){function t(n){this.mHtm=null;this.mGap=0;this.mKey=null;t.__super.call(this,!0);this.res=n||"matches/mm_btn_set.png";this.mGap=c.onPC?4:0;this.mKey=u.lang(c.onPC?"betStr_0":"betStr_0app");this.mHtm=new g("center");this.mHtm.mouseEnabled=!1;this.mHtm.style.leading=4;this.mHtm.style.stroke=.5;this.mHtm.style.strokeColor="#66666699";this.addChild(this.mHtm)}r(t,"games.matchCores.desk.eles.DmEle_BetBtn",n);var i=t.prototype;return i.ShowAdd=function(){this.doPrint(this.mKey)},i.ShowStr=function(n,t){this.doPrint(u.lang("betStr_1",n,t))},i.doPrint=function(n){this.mHtm.innerHTML=n;this.mHtm.y=this.height-this.mHtm.contextHeight+this.mGap>>1;this.toXCenter(this.mHtm)},t}(wi),pkt=function(n){function t(){var r,o,e;this.mVecInses=null;this.mSID=0;this.mSname=null;this.mSendVo=null;t.__super.call(this,616,708,!1);r=[8,11,12,30];o=[!1,!0,!1,!1];this.mVecInses=[];var i=0,h=r.length,n,s=nt.BASE_Y+36;for(i;i<h;i++)n=new svt("winbag_get_"+i,r[i],o[i]),n.pos(this.mWidth-n.width>>1,s),this.addChild(n),this.mVecInses[i]=n,s+=n.height+28;e=ai.CrtIns(n.width,u.lang("winbag_get_tip"),26,"#527b92",12);e.pos(n.x,n.y+n.height+36);this.addChild(e);this.mSendVo=new htt;f.Bag.regist(295,this.getRet,this)}r(t,"games.windows.me.bag.lq.Win_Bag_Get",n);var i=t.prototype;return i.start=function(n){this.mSendVo.DoReset();var t=n[0];this.mSID=t.sID;this.updateTitle(u.lang("winbag_get_t",this.mSname=t.name),!1)},i.getRet=function(n){if(n==0){var t=0,i=this.mVecInses.length;for(t;t<i;t++)this.mVecInses[t].Clear();this.doClose()}},i.onClkFeet=function(n){if(1==n){var t=0,i=this.mVecInses.length;for(t;t<i;t++)if(!this.mVecInses[t].getValue(!0))return;this.mSendVo.name=this.mVecInses[0].getValue(!1);this.mSendVo.itemname=this.mSname;this.mSendVo.phone=parseInt(this.mVecInses[1].getValue(!1));this.mSendVo.area=this.mVecInses[2].getValue(!1);this.mSendVo.detail=this.mVecInses[3].getValue(!1);f.Bag.reqTicketGet(this.mSID,this.mSendVo);a.StopInsOp(this.iFeetMenu)}else this.doClose()},t}(ar),fd=function(n){function t(){t.__super.call(this)}r(t,"games.windows.matches.ranks.McRank_4_Item",n);var i=t.prototype;return i.setData=function(n,i,r,u,f){var e,o;u===void 0&&(u=0);f===void 0&&(f=!1);e=n.lv;this.updateValue(0,e);f?(this.updateValue(1,a.toK(n.pre*2)+" ("+a.toK(n.pre)+")"),this.updateValue(2,n.ZmTime+" min")):(this.updateValue(1,a.toK(n.lt)+"/"+a.toK(n.big)),this.updateValue(2,a.toK(n.pre)),this.updateValue(3,n.ZmTime+" min"));o=t.SX;r&&e<=i&&(t.sFlgR.x=o,this.Tex_AddIns(t.sFlgR),o+=t.sFlgR.width+8);i==e&&(t.sFlgB.x=o,this.Tex_AddIns(t.sFlgB));u>0&&u==e&&(t.sFlgA.x=o,this.Tex_AddIns(t.sFlgA));this.Tex_Make(!0);t.sFlgR.removeSelf();t.sFlgB.removeSelf();t.sFlgA.removeSelf()},t.SX=80,d(t,["sFlgB",function(){return this.sFlgB=st.CrtImg("mainUi/mtt_icon_delaysign.png",0,14)},"sFlgR",function(){return this.sFlgR=st.CrtImg("mainUi/mtt_icon_res.png",0,14)},"sFlgA",function(){return this.sFlgA=st.CrtImg("mainUi/mtt_icon_jjLev.png",0,14)}]),t}(lr),wkt=function(n){function i(){this.mScon=null;this.mStrCur=null;i.__super.call(this,616,662);this.updateTitle("mttRooms_t");this.mScon=new br(562,this.mHeight-this.H_TITLE-18,9);this.mScon.pos(this.mWidth-this.mScon.width>>1,this.H_TITLE);this.mScon.setCallback(h.create(this,this.reqVec,null,!1));this.mScon.on("click",this,this.onClkCon);this.addChild(this.mScon);this.mStrCur=u.lang("mttRooms_cur");f.MTT.regist(1404,this.getVec,this)}r(i,"games.matchCores.panels.mtts.myrooms.MP_MTT_MyRooms",n);var t=i.prototype;return t.onDisable=function(){this.mScon.ItemClean(!0)},t.start=function(){this.onDisable();this.reqVec(!0)},t.reqVec=function(n){return n&&f.MTT.reqMyMttRooms(),!1},t.getVec=function(n){var i,t,r,u;if(this.mScon.ItemClean(!0),i=n.length,i>0)for(t=0,t;t<i;t++)u=n[t],r=l.get(sii),r.setVo(u),this.mScon.ItemAdd(r);this.mScon.doWaitComplete()},t.onClkCon=function(n){var t=n.target.TmpData;t>0&&f.MTT.reqEntry(t,0)},i}(kr),bkt=function(n){function i(){this.mTnum=null;this.mSlider=null;this.mThz=null;this.mVo=null;i.__super.call(this,616,548,!1);this.mTnum=new g;this.mTnum.y=136;this.addChild(this.mTnum);var n=48,t=this.mWidth-n-n;this.mSlider=new ps(t,h.create(this,this.onItemChange,null,!1));this.mSlider.Slider.setIntervals([1,2,3,4,5]);this.mSlider.Slider.showInterval(!0);this.mSlider.pos(n,186);this.addChild(this.mSlider);this.mThz=new g("center");this.mThz.style.leading=16;this.mThz.y=320;this.addChild(this.mThz);f.Bag.regist(296,this.getRet,this)}r(i,"games.windows.me.ticket.Win_JF_Shop_Exchange",n);var t=i.prototype;return t.start=function(n){this.mVo=n[0];this.updateTitle(this.mVo.title,!1);this.mSlider.Slider.setSelect(0)},t.onSubClose=function(){this.mVo=null},t.onItemChange=function(n){this.mTnum.innerHTML=u.lang("jsshop_exc_0",n);this.toXCenter(this.mTnum);this.mThz.innerHTML=u.lang("jsshop_exc_1",n,this.mVo.title,a.NumToStr(this.mVo.price*n>>0)+u.lang("b_resType_"+this.mVo.pt),a.NumToStr(nt.MyDetail.Score));this.toXCenter(this.mThz)},t.onClkFeet=function(n){1==n?(a.StopInsOp(this.iFeetMenu),f.Bag.reqExcTicket(this.mVo.pt,this.mVo.itemID,this.mSlider.Slider.getValue())):this.doClose()},t.getRet=function(n){n==0&&this.doClose()},i}(ar),kkt=function(n){function t(){var i,n;for(this.mDate=null,this.mDateBox=null,this.mDateMenu=null,this.mInsH=null,this.mInsM=null,this.mHdCls=null,t.__super.call(this,616,506,!1),this.updateTitle("mttSetTim_t",!0),this.mDate=new Date,this.mDateMenu=[],i=0,i;i<7;i++)this.mDateMenu.push(new ku);n=158;this.crtLabel(n,"mttSetTim_d");this.mDateBox=new hf("combox_4");this.mDateBox.width=270;this.mDateBox.pos(240,n);this.addChild(this.mDateBox);n=276;this.crtLabel(n,"mttSetTim_h");this.mInsH=new dk(1,u.lang("time_h"));this.mInsH.pos(this.mDateBox.x,n);this.addChild(this.mInsH);this.mInsM=new dk(5,u.lang("time_m"));this.mInsM.pos(396,this.mInsH.y);this.addChild(this.mInsM);this.graphics.drawCircle(374,296,4,"#3b4f62");this.graphics.drawCircle(374,312,4,"#3b4f62")}r(t,"games.windows.matches.creators.mtt.setTime.Win_Mtt_SetTime",n);var i=t.prototype;return i.crtLabel=function(n,t){var i=w.quickCreate(30,"#3b4f62");i.setVh(54);i.leading=0;i.text=u.lang(t);i.pos(96,n);this.addChild(i)},i.onSubClose=function(){this.mHdCls&&this.mHdCls.recover();this.mHdCls=null},i.start=function(n){var i;this.onSubClose();i=n[0];this.mHdCls=n[1];var e=c.now()/1e3>>0,u=e%86400,f=e-u,o=0,s=0,t=0,h=this.mDateMenu.length,r=this.mDateMenu[0];if(f!=r.data){for(t;t<h;t++)r=this.mDateMenu[t],r.data=f+86400*t,r.label=a.getStrDate(r.data,!0);this.mDateBox.creat(this.mDateMenu,0)}else for(i<f?i=f:(u=i%86400,i=i-u),t;t<h;t++)if(r=this.mDateMenu[t],r.data==i){this.mDateBox.clearSel(t);break}this.mDate.setTime(u*1e3);o=this.mDate.getHours();s=Math.ceil(this.mDate.getMinutes()/5);this.mInsH.start(o,23);this.mInsM.start(s,11)},i.onClkFeet=function(n){1==n&&(this.mDate.setTime(this.mDateBox.data*1e3),this.mDate.setHours(this.mInsH.getRv()),this.mDate.setMinutes(this.mInsM.getRv()),this.mDate.setSeconds(0),this.mHdCls&&this.mHdCls.runWith(this.mDate.getTime()/1e3>>0));this.doClose()},t}(ar),dkt=function(n){function i(n){this.mHead=null;this.mIsEnd=!1;this.mStartID=0;this.mMTTStartID=0;this.mCtrl=null;this.mReqIdx=0;i.__super.call(this,n,0,10);this.mReqIdx=0;this.mCtrl=new oot(this.mSCon);f.Room.regist(521,this.get521,this);f.Room.regist(522,this.get522,this);f.Room.regist(523,this.get523,this);f.Room.regist(524,this.get524,this)}r(i,"games.windows.me.shengya.Shengya_Zj",n);var t=i.prototype;return t.initSub=function(n){return this.mHead=new aa(200,3,0),this.mHead.setConfig("shengya_0_idx","shengya_0_di","shengya_0_"),this.mHead.y=n,this.addChild(this.mHead),n+this.mHead.height+24},t.start=function(){n.prototype.start.call(this);this.mTab.select(this.mCookie[0])},t.doSubStop=function(){n.prototype.doSubStop.call(this);this.mCtrl.doReset()},t.DoReset=function(){this.mHead.DoReset()},t.reqData=function(n,t,i){this.mReqIdx+=1;f.Room.req521(n,t,i)},t.doScroll=function(n){if(!n&&!this.mIsEnd){var t,i=0;switch(this.mMatchType){case 1:t=f.Room.req523;i=this.mMTTStartID;this.mCtrl.IsMatch=!0;break;case 2:t=f.Room.req524;i=this.mMTTStartID;this.mCtrl.IsMatch=!0;break;default:i=this.mStartID;t=f.Room.req522;this.mCtrl.IsMatch=!1}return t.call(null,this.mDay,i,this.mGameType,this.mReqIdx),!0}return!1},t.get521=function(n){this.mHead.updateDatas(n);this.mIsEnd=!1;this.mStartID=0;this.mMTTStartID=0;this.mCtrl.doReset();this.doScroll(!1)},t.get522=function(n,t,i){this.mReqIdx==i&&(this.mStartID=n,this.mIsEnd=0==this.mStartID,this.mCtrl.showVec(t),this.mSCon.doWaitComplete())},t.get523=function(n,t,i){this.mReqIdx==i&&(this.mMTTStartID=n,this.mIsEnd=0==this.mMTTStartID,co.MatchType=1,this.mCtrl.showVec(t),this.mSCon.doWaitComplete())},t.get524=function(n,t,i){this.mReqIdx==i&&(this.mMTTStartID=n,this.mIsEnd=0==this.mMTTStartID,co.MatchType=2,this.mCtrl.showVec(t),this.mSCon.doWaitComplete())},i}(fk),gkt=function(n){function t(){t.__super.call(this,!1)}return r(t,"games.windows._sqlSubs.Win_CD_Union",n),t}(rk),ndt=function(n){function t(){this.mBg=null;this.mTval=null;this.mBg=st.CrtImg("matches/mmhuntbg.png");t.__super.call(this,this.mBg.width,this.mBg.height);this.mouseEnabled=!1;this.MixCon.addChild(this.mBg);this.toSize(this.mBg.width>>0,this.mBg.height>>0);this.mTval=w.quickCreate(16,"#b2d6fb");this.mTval.leading=0;this.mTval.align="center";this.mTval.width=40;this.mTval.setVh(this.mHeight);this.mTval.y=c.onPC?1:-2;this.MixCon.addChild(this.mTval)}r(t,"games.matchCores.desk.role.DmRole_Hunt",n);var i=t.prototype;return i.DoReset=function(){this.removeSelf();this.Tex_Clear()},i.initFlip=function(n){n?(this.mBg.scaleX=-1,this.mBg.x=this.mWidth,this.mTval.x=6):(this.mBg.scaleX=1,this.mBg.x=0,this.mTval.x=28)},i.updateSj=function(n){return this.mTval.text=n+"",this.mTval.typeset(),this.update(),n>0},t}(li),tdt=function(n){function i(){this.mTab=null;this.mSub0=null;this.mTvalN=null;this.mTvalV=null;this.mTvalTip=null;this.mSub1=null;this.mVecItems=null;this.mSub2=null;this.mTrate=null;this.mTrest=null;this.mTnoRate=null;this.mMax=0;this.mSlt=null;this.mData=null;this.mHdCls=null;i.__super.call(this,616,838,!1);this.initUI();this.initVal();this.initItems()}r(i,"games.windows.matches.creators.RewardsZdy.Win_Rewards_Zdy",n);var t=i.prototype;return t.initUI=function(){var i,e;this.mTab=new rr(2);this.mTab.create(u.obj("sngRwdZdy_tab"),520);this.mTab.setClick(h.create(this,this.onTab,null,!1));this.mTab.pos(this.mWidth-this.mTab.width>>1,120);this.addChild(this.mTab);var t=560,r=this.mWidth-t>>1,n=this.mTab.y+this.mTab.height+30,f=192;this.mSub0=this.crtCon(t,f,r,n);this.mSub1=this.crtCon(t,f,r,n);n+=f+20;i=ai.CrtIns(t,u.lang("sngRwdZdy_tip0"),24,"#527b92",10);i.pos(r+7,n);this.addChildAt(i,0);n+=i.height+20;this.graphics.drawRect(r,n,t,1,"#bfc9d7");n+=28;f=58;e=this.crtCon(t,f,r,n);this.initRate(e);this.addChild(e);n+=f+28;i=ai.CrtIns(t,u.lang("sngRwdZdy_tip1"),22,"#527b92",10);i.pos(r+7,n);this.addChildAt(i,0)},t.crtCon=function(n,t,i,r){var u=new p;return u.mouseEnabled=!0,u.toSize(n,t),u.pos(i,r),u},t.initVal=function(){this.mTvalN=new oe(this.mSub0.width,25);this.mTvalN.pos(0,20);this.mTvalN.restrict="^ <>";this.mTvalN.prompt=u.lang("sngRwdZdy_1");this.mSub0.addChild(this.mTvalN);this.mTvalV=new oe(300,10);this.mTvalV.color="#1e99e6";this.mTvalV.restrict="0-9";this.mTvalV.type=ci.T_NUMBER;this.mTvalV.pos(this.mSub0.width-this.mTvalV.width>>0,120);this.mSub0.addChild(this.mTvalV);this.mTvalTip=w.quickCreate(30,"#3b4f62");this.mTvalTip.text=u.lang("sngRwdZdy_2");this.mTvalTip.pos(0,this.mTvalV.y+.5*(this.mTvalV.height-this.mTvalTip.height)+1>>0);this.mSub0.addChild(this.mTvalTip)},t.initItems=function(){var r=ai.CrtIns(0,u.lang("sngRwdZdy_5"),30),i,n,t;for(r.y=4,this.mSub1.addChild(r),this.mVecItems=[],i=16,t=0,t;t<3;t++){n=new pb;n.pos(i+188*t,56);n.TmpData=n.x-i+.5*n.width>>0;n.on("click",this,this.onClkItem);this.mVecItems[t]=n;this.mSub1.addChild(n)}},t.initRate=function(n){this.mSub2=new p;var t=w.quickCreate(30,"#3b4f62");t.text=u.lang("sngRwdZdy_10");t.pos(0,n.height-t.height+2>>1);this.mSub2.addChild(t);this.mTrate=new oe(136,6);this.mTrate.color="#1e99e6";this.mTrate.input.align="right";this.mTrate.input.width-=28;this.mTrate.restrict="0-9.";this.mTrate.graphics.fillText("%",this.mTrate.width-4,14-.5*s.LEADING_SIZE>>0,30,"#1e99e6","right");this.mTrate.pos(t.x+t.width+10>>0,n.height-this.mTrate.height>>1);this.mTrate.input.on("blur",this,this.checkInputRate);this.mSub2.addChild(this.mTrate);this.mTrest=new g;this.mTrest.style.fontSize=24;this.mTrest.pos(this.mTrate.x+this.mTrate.width+20>>0,t.y+1);this.mSub2.addChild(this.mTrest);this.mSub2.visible=!1;n.addChild(this.mSub2);this.mTnoRate=new g;this.mTnoRate.style.fontSize=24;this.mTnoRate.innerHTML="阿";this.mTnoRate.y=n.height-this.mTnoRate.contextHeight>>1;this.mTnoRate.TmpData=n.width;this.mTnoRate.visible=!1;n.addChild(this.mTnoRate)},t.checkInputRate=function(){var n=this.mTrate.getNumber(),t=this.mMax-n;n>this.mMax&&(n=this.mMax,t=0);this.updateRate(n,t)},t.updateRate=function(n,t){var i=a.toFixed(n,2);this.mTrate.text=i;this.mTnoRate.innerHTML=u.lang("sngRwdZdy_11",i);this.mTnoRate.x=this.mTnoRate.TmpData-this.mTnoRate.contextWidth>>1;this.mTrest.innerHTML=u.lang("sngRwdZdy_12",a.toFixed(t,2))},t.onTab=function(n){this.mSub0.removeSelf();this.mSub1.removeSelf();this.addChild(0==n?this.mSub0:this.mSub1)},t.onClkItem=function(n){var r=n.currentTarget,t,i;this.mSlt||(t=this.mVecItems[0],this.mSlt=new kk,i=t.localToGlobal(new kt(0,t.height),!0),this.mSlt.toPos(i.x,i.y),this.mSlt.initItems(this.mData.ResType));this.mSlt.Show(r.TmpData,r)},t.onClkFeet=function(n){var u,i,t,o,r,f,e;if(1==n){if(this.mData.clrItems(),u=!1,1==this.mTab.selectIndex){for(t=0,o=this.mVecItems.length,t;t<o;t++)i=this.mVecItems[t],i.CID>0&&(r=l.get(fl),r.cID=i.CID,r.num=i.Num,this.mData.items[t]=r);this.mTvalN.text="";this.mTvalV.text="0";u=!0}if(f=this.mTvalN.getValue(),e=this.mTvalV.getNumber(),!u&&e>0&&!f){ut.showMessage("sngRwdZdy_1");return}this.mData.locked=!0;this.mData.name=f;this.mData.money=e;this.mData.per=this.mTrate.getNumber();this.mHdCls&&this.mHdCls.run()}this.doClose()},t.start=function(n){var f,i;this.onSubClose();this.mData=n[0];this.mHdCls=n[1];f=n[2];this.mSub2.visible=f;this.mTnoRate.visible=!f;this.updateTitle(u.lang("sngRwdZdy_t",this.mData.order),!1);i=this.mData.ResType;this.mTvalN.text=""+this.mData.name;this.mTvalV.text=""+this.mData.money;this.mTvalTip.text=u.lang("sngRwdZdy_"+(2+i));this.mMax=iu.RestRate;this.updateRate(this.mData.per,iu.RestRate);for(var o=!1,t=0,s=this.mData.items.length,r,e,t=0;t<s;t++)r=this.mData.items[t],r&&(e=this.mVecItems[t],e&&(e.updateItem(r.cID,r.num,i),o=!0));this.mSlt&&this.mSlt.initItems(i);this.mTab.select(o?1:0)},t.onSubClose=function(){var n=0,t=this.mVecItems.length;for(n;n<t;n++)this.mVecItems[n].DoReset();this.mSlt&&this.mSlt.DoReset();this.mData=null;this.mHdCls&&this.mHdCls.recover();this.mHdCls=null},i}(ar),di=function(n){function t(n,i,r){r===void 0&&(r=!1);t.__super.call(this,!0);this.setResConfig(r?"BigRed":"btnCrt");n&&(this.label=u.lang(n));this.pos(s.MAX_W-this.width>>1,s.MAX_H-this.height-32>>0);this.setClick(i)}return r(t,"games.UD_Displays.btns.UD_Btn_BigCrt",n),t}(wi),idt=function(n){function i(n,t){var r,f;this.ICloseHd=null;this.mVoTar=null;this.mType=0;this.mHdCls=null;this.mTime=0;this.mMzMenu=null;this.mzIdx=0;this.mzStr=null;this.mJsType=0;this.mSwh=null;this.mBox=null;i.__super.call(this,n,"yjsDtl_s",t,99);this.mMzMenu=this.mConfig.VecMenus[1].data;this.mBox=new hf("combox_2");this.mBox.creat(this.mConfig.OtherCfgs[0].data,0);this.mBox.setClick(h.create(this,this.onJsCdc,null,!1));r=this.getSliderIns(6);this.mBox.width=200;this.mBox.pos(r.width-this.mBox.width>>0,8);r.addChild(this.mBox);f=680;this.mSwh=k.crt_Switch(null);this.mSwh.label=u.lang("yjsDtl_2");this.mSwh.setRealWidth(f);this.mSwh.x=this.mWidth-f>>1;this.mSwh.setClick(h.create(this,this.onOpen,null,!1))}r(i,"games.windows.matches.creators.yujuesai.matchSet.Yjs_MatchSet",n);var t=i.prototype;return t.getVecView=function(n){return 2==this.mType?n.View_GM:1==this.mType?n.View_ZD:n.View_SJ},t.doSubStop=function(){this.mVoTar=null;this.mSCon.ItemClean();this.mHdCls&&this.mHdCls.recover();this.mHdCls=null},t.DoStart=function(n,t){this.mVoTar=n;this.mType=n.type;this.mHdCls=t;this.start();this.onMzC(n.mzIdx);this.updateTime(n.sTime);this.mBox.clearSel(n.JsType);this.onJsCdc();var f=n.sliders,i,r,u;for(r in f)i=this.getSliderIns(r),u=f[r],i&&u&&(i.updateDef(u.idx||0),i.DoReset());this.syncSliders();1==this.mType?(this.addChildAt(this.mSwh,0),this.mSCon.y=this.mSwh.height+40,this.mSCon.updateRect(0,this.mHscon-this.mSCon.y),this.mSwh.selected=n.open,this.onOpen()):(this.mSwh.removeSelf(),this.mSCon.y=0,this.mSCon.updateRect(0,this.mHscon),this.addChild(this.mSCon))},t.onClkBigBtn=function(){if(n.prototype.onClkBigBtn.call(this),this.mTime<1&&(1!=this.mType||this.mSwh.selected)){ut.showMessage("yjsDtl_err_0");this.mSCon.selectItem(this.getMenuIns(21));return}if(1==this.mType&&0==this.mJsType){var t=this.getSliderIns(7).getValue(),i=this.getSliderIns(6).getValue();if(i<t){ut.showMessage("yjsDtl_err_1");this.mSCon.selectItem(this.getSliderIns(6));return}}this.mVoTar.open=1==this.mType?this.mSwh.selected:!0;this.mVoTar.sTime=this.mTime;this.mVoTar.mzIdx=this.mzIdx;this.mVoTar.mzStr=this.mzStr;this.mVoTar.JsType=this.mJsType;this.syncSliders();this.mHdCls&&this.mHdCls.run();this.ICloseHd&&this.ICloseHd.run()},t.syncSliders=function(){var u=this.mVoTar.sliders,n,r,t,i;for(r in u)n=this.getSliderIns(r),t=u[r],n&&t&&(t.idx=n.getIndex(),i=n.getValue(),t.val=typeof i=="number"?i:i.data)},t.onClkMenu=function(n){var t=n.TmpData;switch(t){case 21:b.OpenWin(37,this.mTime,h.create(this,this.updateTime));break;case 22:b.OpenWin(46,3,0,this.mzIdx,this.mMzMenu,h.create(this,this.onMzC),this.getSliderIns(0).getValue())}},t.onSliderC=function(n){var t=n.getValue(),r=0,i;switch(n.ID){case 1:t=t.label;break;case 2:r=t.data;i=this.getSliderIns(3);0==r?(i.ShowHide(!1),n.updateTips(u.lang("mmt_main_xxno")),i.updateTips(u.lang("mmt_main_xxno"))):(n.updateTips(u.lang("mmt_main_xxlev",r)),i.ShowHide(!0));return;case 3:t=t+"min";break;case 6:n.updateTips(u.lang("yjsDtl_"+this.mJsType,t));return}n.updateTips(t)},t.onOpen=function(){this.mSwh.selected?this.addChild(this.mSCon):this.mSCon.removeSelf()},t.onJsCdc=function(){this.mJsType=this.mBox.data;var t=this.getSliderIns(6),n=this.mConfig.OtherCfgs[1+this.mJsType];t.setIntervals(n.data,n.def)},t.updateTime=function(n){this.mTime=n;var t=this.getMenuIns(21);n==0?t.updateText(u.lang("mmt_main_unSet")):t.updateText(a.G2S(this.mTime,4))},t.onMzC=function(n){var t=this.mMzMenu[n];t||(t=this.mMzMenu[n=0]);this.mzIdx=n;this.getMenuIns(22).updateText(this.mzStr=t.label)},i}(ek),rdt=function(n){function t(n){t.__super.call(this,n,"zj_l",uii,142)}r(t,"games.windows._leagues.zj.Modu_Lea_ZJ",n);var i=t.prototype;return i.initParams=function(){f.Sql.regist(1200,this.getHead,this);f.Sql.regist(1201,this.getLists,this)},i.doSubmit=function(n,t){f.Sql.reqHead_ZjL(n,t)},t}(oc),udt=function(n){function t(){this.mWidth=0;this.mHeight=0;t.__super.call(this)}r(t,"FioLibs.displays.coms.FioRadio",n);var i=t.prototype;return i.reset=function(){this.mWidth=this.mHeight=0;n.prototype.reset.call(this)},i.doSub_Resize=function(){this.mText.parent&&(this.mText.x=this._width+8>>0,this.mWidth=this.mText.x+this.mText.width>>0,this.mText.y=this._height-this.mText.fontSize>>1,this.mHeight=this.mText.height>this._height?this.mText.height:this._height)},e(0,i,"width",function(){return this.mWidth},function(){}),e(0,i,"height",function(){return this.mHeight},function(){}),t}(wi),fdt=function(n){function t(){t.__super.call(this,"shengya_menus","shengya_title")}r(t,"games.windows.me.shengya.Win_Shengya",n);var i=t.prototype;return i.initModules=function(n){this.mDicModules[0]=new dkt(n);this.mDicModules[1]=new ogt(n)},t}(sf),ed=function(n){function t(n){this.mVecHtms=null;t.__super.call(this,s.MAX_W,s.LEADING_SIZE+(n?72:114));this.mouseEnabled=!1;this.MixCon.graphics.drawRect(0,0,this.mWidth,this.mHeight,"#305278");var i=u.obj("settle_rate_cfg"),f=i.res,e=i.data;this.crtHtm(f,e,i,i.label);var o=u.obj("settle_rate_vals"),r=0,h=n?3:5;for(this.mVecHtms=[],r;r<h;r++)this.mVecHtms[r]=this.crtHtm(f,e,o.shift());t.sVecDzIds||(t.sVecDzIds=u.obj("settle_dz_rateIds"));t.sVecMatchIds||(t.sVecMatchIds=u.obj("settle_mtt_rateIds"))}r(t,"games.windows.matches.settler.Settler_Rate",n);var i=t.prototype;return i.crtHtm=function(n,t,i,r){var u=new g;return u.style.fontSize=t,u.style.color=n,r&&(u.innerHTML=r),u.pos(i.x,i.y),this.MixCon.addChild(u),u},i.getHtm=function(n,t){var i=rt.GameConfigs.scoreConfigs[t];return i.label+":"+u.toColor(n+i.flag,a.getAreaColor(n,i))},i.showData=function(n){for(var e=[],t=1,o=arguments.length;t<o;t++)e.push(arguments[t]);var t=0,s=this.mVecHtms.length,r,h=rt.GameConfigs.scoreConfigs,i,f;for(t;t<s;t++)r=this.mVecHtms[t],i=h[n[t]],f=e[t],r.innerHTML=i.label+":"+u.toColor(f+i.flag,a.getAreaColor(f,i)),r._updateGraphic();this.update()},i.updateDz=function(n){this.showData(t.sVecDzIds,n.rateIn,n.rateWin,n.ratePreWin)},i.updateMatch=function(n){this.showData(t.sVecMatchIds,n.rateIn,n.resNum,n.JJD/100,n.rateAdd,a.FormatTime(n.matchTime,3))},t.sVecDzIds=null,t.sVecMatchIds=null,t}(li),od=function(n){function t(){this.DealIdx=0;this.mTno=null;this.mTv=null;this.mVecCard=null;t.__super.call(this,710,108);this.toXCenter();this.MixCon.graphics.drawRoundRect(20,this.mWidth,this.mHeight,"#386ebf40");this.mTno=w.quickCreate(30,"#b2d6fb");this.mTno.setVh(this.mHeight);this.MixCon.addChild(this.mTno);this.mTv=new g("right");this.mTv.style.leading=14;this.mTv.style.fontSize=28;this.MixCon.addChild(this.mTv);this.mVecCard=[]}r(t,"games.windows.matches.brands.roomBrands.RoomBrands_Item",n);var i=t.prototype;return i.recyle=function(){for(FioLibs.displays.mixTex.Fio_MixIns_Base.prototype.recyle.call(this),this.TmpData=0;this.mVecCard.length>0;)l.recyle(this.mVecCard.shift())},i.setVo=function(n,t){this.TmpData=n.handID;this.DealIdx=n.DealIdx;this.mTv.innerHTML=t?n.getSafe():n.getLck(!0);this.mTv._updateGraphic();this.mTv.pos(this.mWidth-this.mTv.contextWidth-18>>0,this.mHeight-(this.mTv.contextHeight-this.mTv.style.leading)>>1);var i=0,u=n.cards,f=u.length,r,e=ii.getBc_Config("js_x_"+n.HcNum);for(i;i<f;i++)this.mVecCard[i]=r=l.get(eu),r.toSize(56,80),r.pos(e[i],this.mHeight-r.height>>1),r.showPoint(u[i]),this.MixCon.addChild(r);this.mTno.text=n.handID+n.endStr;this.mTno.x=36-.5*this.mTno.width>>0;this.update()},t}(li),sd=function(n){function t(){this.Vo=null;this.mIcon=null;this.mHtm=null;this.mTnum=null;t.__super.call(this,710,162);this.toXCenter();this.MixCon.graphics.drawRoundRect(20,this.mWidth,this.mHeight,"#386ebf40");this.mIcon=new wf;this.mIcon.toSize(242,130);this.mIcon.pos(18,this.mHeight-this.mIcon.height>>1);this.mIcon.ComHd=h.create(this,this.Tex_ToMix,null,!1);this.MixCon.addChild(this.mIcon);this.mHtm=new g;this.mHtm.style.leading=18;this.mHtm.style.fontSize=24;this.mHtm.style.color="#6391d5";this.mHtm.x=286;this.MixCon.addChild(this.mHtm);var n=st.CrtArrow();n.pivot(n.width>>1,n.height>>1);n.rotation=90;n.pos(this.mWidth-24-n.width,this.mHeight+16>>1);this.MixCon.addChild(n);this.mTnum=w.quickCreate(24,"#6391d5");this.mTnum.TmpData=n.x;this.mTnum.y=this.mHeight-48;this.MixCon.addChild(this.mTnum);this.on("click",this,this.onClk)}r(t,"games.windows.me.bag.BagItem_MyBag",n);var i=t.prototype;return i.onClk=function(){t.sHander&&t.sHander.runWith(this)},i.recyle=function(){FioLibs.displays.mixTex.Fio_MixIns_Base.prototype.recyle.call(this);l.recyle(this.Vo);this.Vo=null},i.setVo=function(n){l.recyle(this.Vo);this.Vo=n;this.updateNum(n.count);this.mIcon.load(n.icon)},i.updateNum=function(n){if(this.Vo){var i=this.Vo.name,r=gi.getVal(this.Vo.entry,1,!0)+" ",t=u.lang("winbag_own_1");t+=this.Vo.validity==0?u.lang("winbag_time_wx"):a.getStrDate(this.Vo.validity,!0);this.mHtm.innerHTML=u.lang("winbag_own_0",i,r,t);this.mHtm._updateGraphic();this.mHtm.y=this.mHeight-this.mHtm.contextHeight+16>>1;this.mTnum.text="X "+n;this.mTnum.x=this.mTnum.TmpData-.5*this.mTnum.width>>0;this.mTnum.typeset();this.update()}},t.sHander=null,t}(li),edt=function(n){function t(){this.mBgs=null;this.mPokers=null;this.mQuicks=null;this.mDicSwcs=null;this.mDicValues=null;this.mType=-1;t.__super.call(this,616,982);this.updateTitle("pDesk_title");var i=28,n=this.H_TITLE;this.mBgs=new rb(!1);this.mBgs.pos(this.mWidth-this.mBgs.width>>1,n);this.addChild(this.mBgs);n+=this.mBgs.height+i;this.mPokers=new rb(!0);this.mPokers.pos(this.mWidth-this.mPokers.width>>1,n);this.addChild(this.mPokers);n+=this.mPokers.height+i;this.mQuicks=new ilt;this.mQuicks.pos(this.mWidth-this.mQuicks.width>>1,n);this.addChild(this.mQuicks);n+=this.mQuicks.height+i;this.initSwitches()}r(t,"games.matchCores.panels.styles.MP_Style",n);var i=t.prototype;return i.initSwitches=function(){this.mDicSwcs={};this.mDicValues={};var f=h.create(this,this.onSwitch,null,!1),r=u.obj("pDesk_sAll"),e=r.length,i=0,t=0,n;for(i;i<e;i++)t=r.shift(),n=k.crt_Switch(null,"s2"),n.label=u.lang("pDesk_"+t),n.TmpData=t,n.setClick(f),this.mDicSwcs[t]=n},i.onSwitch=function(n){var t=n.TmpData;switch(t){case 4:o.Cookie.Sound_Block=n.selected;break;case 3:o.Cookie.Sound_Game=n.selected;break;case 8:o.Cookie.Show_BestPoker=n.selected;break;case 9:o.Cookie.Show_BB=n.selected;o.setShowBB(n.selected)}o.Cookie.save()},i.start=function(){var e,i;this.mBgs.select(o.Cookie.Style_Bg);this.mPokers.select(o.Cookie.Style_Poker);var r=o.MatchVo.isRace()?1:0,f=0,s=0,n,t;if(r!=this.mType){this.mType=r;for(t in this.mDicSwcs)n=this.mDicSwcs[t],n&&n.removeSelf();for(e=u.obj("pDesk_s"+r),s=e.length,i=0,f;f<s;f++)t=e.shift(),n=this.mDicSwcs[t],n&&(n.y=864+(i/2>>0)*54,n.x=i%2==0?468:190,this.addChild(n),i+=1)}this.mDicValues[3]=o.Cookie.Sound_Game;this.mDicValues[4]=o.Cookie.Sound_Block;this.mDicValues[8]=o.Cookie.Show_BestPoker;this.mDicValues[9]=o.Cookie.Show_BB;for(t in this.mDicSwcs)n=this.mDicSwcs[t],n&&(n.selected=this.mDicValues[t])},t}(kr),odt=function(n){function t(){this.mRaceID=0;this.mdID=0;this.mIsMacthing=!1;t.__super.call(this);this.mouseEnabled=!0;this.on("click",this,this.onClk)}r(t,"games.windows.matches.ranks.McRank_3_Item",n);var i=t.prototype;return i.recyle=function(){FioLibs.displays.mixTex.Fio_MixIns_Base.prototype.recyle.call(this);this.mRaceID=this.mdID=0;this.mIsMacthing=!1},i.setData=function(n,t,i,r,u,f){this.mRaceID=n.RaceID;this.mdID=n.dID;this.mIsMacthing=u;this.updateValue(0,n.rank,f);this.updateValue(1,n.nick,f);var e=a.getBBStr(r,n.score),o=0==this.mdID?"/":this.mdID;i?(this.updateValue(2,e,f),t?(this.updateValue(3,a.NumToStr(n.huntPrice+" / "+n.huntVal),f),this.updateValue(4,o,f),this.updateValue(5,n.tFh+" / "+n.tCg+" / "+n.tZg,f)):(this.updateValue(3,o,f),this.updateValue(4,n.tFh+" / "+n.tCg+" / "+n.tZg,f))):(this.updateValue(2,o,f),t?(this.updateValue(3,a.NumToStr(n.huntPrice+" / "+n.huntVal),f),this.updateValue(4,e,f)):this.updateValue(3,e,f));this.Tex_Make(!0)},i.onClk=function(){if(this.mIsMacthing){ut.showMessage("match_err_0");return}this.mdID>0&&f.MTT.reqEntry(this.mRaceID,this.mdID)},t}(lr),sdt=function(n){function t(n){this.Config=null;this.GY=0;this.IsValid=!1;t.__super.call(this,148,198);this.MixCon.graphics.drawRoundRect(20,this.mWidth,this.mHeight,"#386ebf40");this.Config=n;this.MixCon.graphics.fillText(n.name,this.mWidth>>1,10,24,"#64ace9","center");this.MixCon.graphics.fillText(n.from,this.mWidth>>1,164,24,"#64ace9","center");var r=108,u=42,f=i.loader.getRes(wt.getIfImg(n.index));f&&this.MixCon.graphics.drawImage(f,this.mWidth-r>>1,u,r,r);this.GY=u+.5*r>>0;this.update()}r(t,"games.windows.me.iconFrames.IconFrams_Item",n);var u=t.prototype;return u.toReset=function(n){this.removeSelf();n&&(this.IsValid=!1)},u.setRT=function(n){this.IsValid=1==this.Config.isdef||n!=0},t}(li),hdt=function(n){function t(){this.mBase=null;this.mData=null;this.mFace=null;this.mMenu=null;this.mIndex=0;this.mSID=0;t.__super.call(this,660,800);this.mBase=new ykt(h.create(this,this.openChat,null,!1));this.mBase.pos(this.mWidth-this.mBase.width>>1,28);this.addChild(this.mBase);this.mData=new lvt;this.mData.pos(this.mWidth-this.mData.width>>1,this.mBase.y+this.mBase.height+24);this.addChild(this.mData);this.mFace=new glt;this.mFace.pos(this.mWidth-this.mFace.width>>1,this.mData.y+this.mData.height+24);this.addChild(this.mFace);this.mMenu=new vct(h.create(this,this.close,null,!1));this.toXCenter(this.mMenu);o.DsMatch.regist(472,this.getBase,this)}r(t,"games.matchCores.panels.lookPlayer.MP_LookPlayer",n);var i=t.prototype;return i.onDisable=function(){this.mBase.DoReset();this.mData.DoReset();this.mFace.DoReset();this.mMenu.DoReset()},i.start=function(n){var i,r,t;this.onDisable();this.mIndex=n[1];this.mSID=n[2]?n[2]:this.mIndex;i=o.MatchVo.isRace();r=this.mSID==o.MyDetail.SID;this.mBase.setBase(this.mSID,this.mIndex,n[0],i);this.mData.setBase(this.mSID,this.mIndex,o.MyDetail.Vip,i);this.mFace.setBase(r,this.mIndex);this.mMenu.setBase(this.mSID,this.mIndex);t=this.mFace.y+this.mFace.height+24>>0;!r&&o.MatchVo.isAdmin&&(this.mMenu.y=t,this.addChild(this.mMenu),t+=this.mMenu.height+24);this.updateHeight(t);o.DsMatch.reqViewPlayer(this.mIndex)},i.getBase=function(n){var t=this.mSID==o.MyDetail.SID,i=n.clubID>0;this.mBase.Start(n,t,n.clubID);this.mData.Start(n);this.mMenu.Start(n.nick,o.MatchVo.isRace(),n.Flags);t||!i||this.mMenu.parent||(this.mMenu.y=this.mFace.y+this.mFace.height+24>>0,this.addChild(this.mMenu),this.updateHeight(this.mMenu.y+this.mMenu.height+24>>0))},i.openChat=function(n){var t=!1;switch(o.MatchVo.matchType){case 1:t=f.MTT.MatchDtl.Flag.jinyan;break;case 2:t=f.SNG.MatchDtl.C_Vjy}if(t){ut.showMessage("pvp_sign_nochat",!0);return}ki.open(3,n)},t.sGap=24,t}(kr),ac=function(n){function i(n,t,r){this.iInput=null;this.iFlag=null;i.__super.call(this,t,"cm_doCrt",s.MAX_H-n,r);this.iInput=new yr(710);this.iInput.initLeft(28,28,"#b2d6fb");this.iInput.updateLeft(u.lang("cm_name_label"));this.iInput.initRight(!0,240,28,28,"#6391d5",null,"center",-16);this.iInput.maxChars=30;this.iInput.restrict="^ <>";this.iInput.prompt=t.prompt;this.toXCenter(this.iInput);this.addChild(this.iInput);var f=this.iInput.y+this.iInput.height+10>>0;this.mSCon.y=f;this.mSCon.updateRect(0,this.mHeight-f-136);this.IsAmh||this.iFlag.UnShowFlags.push(19)}r(i,"games.windows.matches.creators.CrtMac_Base",n);var t=i.prototype;return t.initBaseView=function(){n.prototype.initBaseView.call(this);this.iFlag=new ca(this.mConfig,h.create(this,this.onSwitch,null,!1))},t.start=function(){n.prototype.start.call(this);this.iFlag.setLev(this.getVecFlags());this.mSCon.ItemAdd(this.iFlag)},t.getVecFlags=function(){return rt.Crt_Match_IDLev},t.onClkBigBtn=function(){n.prototype.onClkBigBtn.call(this);var t=this.iInput.text;b.CheckCharLength(t,this.iInput.maxChars,"cm_err_rname_min","cm_err_rname_max")&&this.doCrtCheck(t)},t.doCrtCheck=function(){},t.onSwitch=function(){},i}(ek),hd=function(n){function t(){t.__super.call(this,!0);this.size(64,50);this.setResConfig("QuickMenu","mainUi/cons_btn_QuickMenuSub.png")}r(t,"FioLibs.displays.coms.extendComs.menus.popIconMenu.PopMenu_Item",n);var i=t.prototype;return i.reset=function(){this.removeSelf();this.TmpData=null},i.doSubClick=function(){t.S_Handler&&t.S_Handler.runWith(this.TmpData)},e(0,i,"height",function(){return 50},n.prototype._$set_height),t.H_ITEM=50,t.S_Handler=null,t}(wi),cdt=function(n){function t(){t.__super.call(this,"league_mgr_tabs","league_mgr_title")}r(t,"games.windows._leagues.memAndCre.Win_Lea_MemAndCre",n);var i=t.prototype;return i.initModules=function(n){this.mDicModules[1]=new kyt(n);this.mDicModules[2]=new hk(n,!1)},t}(sf),cd=function(n){function t(){this.roomID=0;this.handID=0;this.DealIdx=0;this.mEndStr="";this.mTno=null;this.mTv=null;this.mBtnDel=null;this.mVecCard=null;t.__super.call(this,710,108);this.toXCenter();this.MixCon.graphics.drawRoundRect(20,this.mWidth,this.mHeight,"#386ebf40");this.mTno=w.quickCreate(30,"#b2d6fb");this.mTno.setVh(this.mHeight);this.addChild(this.mTno);var n=st.CrtArrow();n.pos(this.width-n.width-12>>0,this.mHeight-n.height>>1);this.MixCon.addChild(n);this.mBtnDel=k.crt_Btn(this,null,"mainUi/coms_btn_del.png");this.mBtnDel.pos(n.x-this.mBtnDel.width-12>>0,this.mHeight-this.mBtnDel.height>>1);this.mTv=new g;this.mTv.lineHeight=this.mHeight;this.mTv.style.fontSize=28;this.MixCon.addChild(this.mTv);this.mVecCard=[];this.on("click",this,this.onClick)}r(t,"games.windows.me.fav.MeFav_Item",n);var i=t.prototype;return i.recyle=function(){for(FioLibs.displays.mixTex.Fio_MixIns_Base.prototype.recyle.call(this),this.TmpData=this.handID=this.roomID=0;this.mVecCard.length>0;)l.recyle(this.mVecCard.shift())},i.setIdxNo=function(n){this.mTno.text=n+this.mEndStr;this.mTno.x=32-.5*this.mTno.width>>0;this.update()},i.setVo=function(n){this.TmpData=n.C_ID;this.handID=n.handID;this.roomID=n.roomID;this.DealIdx=n.DealIdx;this.mEndStr=n.endStr;this.mTv.innerHTML=a.ToColorStr(n.score);this.mTv._updateGraphic();this.mTv.x=this.mBtnDel.x-this.mTv.contextWidth-24>>0;var i=0,r=n.cards,u=r.length,t,f=ii.getBc_Config("fav_x_"+n.HcNum);for(i;i<u;i++)this.mVecCard[i]=t=l.get(eu),t.toSize(56,80),t.pos(f[i],this.mHeight-t.height>>1),t.showPoint(r.shift()),this.MixCon.addChild(t)},i.onClick=function(n){n.target==this.mBtnDel?pt.Alert(u.lang("paiPu_ask"),this,null,[this.doDel,null]):t.sHandler&&t.sHandler.runWith(this)},i.doDel=function(){f.Room.reqFavDelA(this.roomID,this.handID)},t.sHandler=null,t}(li),ae=function(n){function t(n){if(this.mHtm=null,this.mType=999,n===void 0&&(n=1),!t.sVecTexs){t.sVecTexs=[];t.sVecGrids=[];var r=1,u=0,f;for(r;r<5;r++)f=i.loader.getRes("matches/dmTxtBg_"+r+".png"),u=f.width>>1,t.sVecTexs[r]=f,t.sVecGrids[r]=[0,u+2,0,u-2]}t.__super.call(this,2,2);this.mouseEnabled=!1;this.setType(n);this.mHtm=new g;this.mHtm.style.color="#b2d6fb";this.mHtm.style.fontSize=26;this.mHtm.style.leading=s.LEADING_SIZE<<1;this.MixCon.addChild(this.mHtm)}r(t,"games.matchCores.desk.eles.DM_TextWithBg",n);var f=t.prototype;return f.setType=function(n){if(n===void 0&&(n=0),this.mType!=n){this.MixCon.graphics.clear();var i=t.sVecTexs[n]||t.sVecTexs[n=2];this.mType=n;this.toSize(i.width>>0,i.height>>0)}},f.Show=function(n){var f,e;if(n){this.MixCon.graphics.clear();var i=this.mType,r=t.sVecTexs[i],u=r.width;this.mHtm.innerHTML=n;this.mHtm._updateGraphic();this.mHtm.y=this.mHeight-this.mHtm.contextHeight>>1;f=this.mHtm.contextWidth>>0;this.mWidth=u>f?u:f;e=this.mWidth>>1;0==i?(this.MixCon.graphics.drawImage(r,e,0,u,this.mHeight),this.pivotX=e):(this.mWidth+=64,this.MixCon.graphics.draw9Grid(r,0,0,this.mWidth,this.mHeight,t.sVecGrids[i]),3!=i&&this.toXCenter());this.toXCenter(this.mHtm);this.update()}else this.Tex_Clear(),this.removeSelf()},t.CrtIns=function(n,i,r,f){r===void 0&&(r=2);f===void 0&&(f=!0);var e=l.get(t);return e.setType(r),e.Show(f?u.lang(n):n),e.y=ui.toRealY(i),e},t.sVecTexs=null,t.sVecGrids=null,t}(li),ldt=function(n){function i(){var t,e,r,n;for(this.mVecRadios=null,this.mRoomID=0,this.mHand=0,this.mVecIdxs=null,this.mAskCon=null,this.mRes=null,i.__super.call(this,616,556,!1),this.updateTitle("tousu_t",!0),this.initCon(),this.mVecRadios=[],t=0,e=128,t;t<9;t++)r=k.crt_Radio(null,"r4"),r.pos(0==t%2?70:330,e+(t/2>>0)*76),this.mVecRadios.push(r);n=new g;n.style.fontSize=22;n.style.color="#6391d5";n.innerHTML=u.lang("tousu_tips");n.pos(this.mWidth-n.contextWidth>>1,this.iFeetMenu.y-n.contextHeight-18>>0);this.addChild(n);this.mVecIdxs=[];f.Room.regist(507,this.get507,this)}r(i,"games.windows.matches.brands.Win_Tousu",n);var t=i.prototype;return t.initCon=function(){this.mAskCon=new p;this.mAskCon.toSize(360,120);this.mRes=new fi(120);this.mRes.setFont("#444444",26);this.mRes.showPre("tousu_resPre");this.mRes.y=20;this.mAskCon.addChild(this.mRes);var n=new g;n.style.fontSize=26;n.style.color="#444444";n.innerHTML=u.lang("tousu_ask");n.pos(this.mAskCon.width-n.contextWidth>>1,this.mAskCon.height-n.contextHeight-18>>0);this.mAskCon.addChild(n)},t.onDisable=function(){var n=0,t;for(n;n<9;n++)t=this.mVecRadios[n],t&&(t.selected=!1,t.removeSelf());ao.hide()},t.start=function(n){this.onDisable();this.iFeetMenu.visible=!0;var o=n[3],f=n[0],r=0,s=f.length,i,t,e=0;for(r;r<s;r++)(t=f[r],o!=t.index)&&(t.hands[0]>-1&&t.hands[1]>-1||(i=this.mVecRadios[e],i&&(i.selected=!1,i.TmpData=t.index,i.label=t.times>0?t.nick+" ("+u.lang("tousu_ta",t.times)+")":t.nick,this.addChild(i),e+=1)));this.mRoomID=n[1];this.mHand=n[2]},t.onClkFeet=function(n){if(1==n){var i=0,t;for(this.mVecIdxs.length=0,i;i<9;i++)t=this.mVecRadios[i],t&&t.selected&&t.parent&&this.mVecIdxs.push(t.TmpData);if(this.mVecIdxs.length){f.Room.reqTousu(!0,this.mRoomID,this.mHand,this.mVecIdxs);this.iFeetMenu.visible=!1;ao.show();this.timer.once(2e3,this,this.toShowBtns)}}else this.doClose()},t.toShowBtns=function(){this.iFeetMenu.visible=!0;ao.hide()},t.get507=function(n,t){this.toShowBtns();0==n&&(this.mRes.showValue(t),this.mRes.x=this.mAskCon.width-this.mRes.width>>1,pt.Alert(this.mAskCon,this,null,[this.sendTousu,null]))},t.sendTousu=function(){this.mVecIdxs.length>0&&f.Room.reqTousu(!1,this.mRoomID,this.mHand,this.mVecIdxs);this.doClose()},i.MAX_NUM=9,i}(ar),adt=function(n){function i(){this.mTxtW=0;this.mRealy=!1;i.__super.call(this);this.mTxtW=0;this.mText.align="right"}r(i,"FioLibs.displays.coms.FioSwitch",n);var t=i.prototype;return t.toX=function(n){this.x=n+this.mTxtW>>0},t.reset=function(){n.prototype.reset.call(this);this.mTxtW=0;this.restoreTxt()},t.restoreTxt=function(){this.mRealy&&(this.mText.align="right",this.pivotX=0,this.mRealy=!1)},t.setRealWidth=function(n){if(n=n>>0,n>0){this.mText.align="left";var t=n-this._width;this.pivotX=-t;this.mText.x=-t+8;this.mRealy=!0}else this.restoreTxt()},t.doSub_Resize=function(){this.mText.parent&&(this.mRealy||(this.mTxtW=8,this.textOffX>0?(this.mTxtW+=this.textOffX,this.mText.width=this.textOffX):this.mTxtW+=this.mText.width,this.mText.x=-this.mTxtW),this.mText.y=this._height-this.mText.height>>1)},e(0,t,"width",n.prototype._$get_width,function(){}),e(0,t,"height",n.prototype._$get_height,function(){}),i}(wi),vdt=function(n){function t(){this.mIcon=null;this.mHtm=null;this.mTway=null;t.__super.call(this,710,132);this.toXCenter();this.MixCon.graphics.drawRoundRect(20,this.mWidth,this.mHeight,"#386ebf40");this.mIcon=new wf;this.mIcon.toSize(180,96);this.mIcon.pos(18,this.mHeight-this.mIcon.height>>1);this.mIcon.ComHd=h.create(this,this.Tex_ToMix,null,!1);this.MixCon.addChild(this.mIcon);this.mHtm=new g;this.mHtm.style.leading=8;this.mHtm.style.fontSize=24;this.mHtm.style.color="#6391d5";this.mHtm.x=222;this.MixCon.addChild(this.mHtm);this.mTway=new g;this.mTway.style.fontSize=24;this.mTway.style.color="#d3e6f9";this.mTway.y=this.mHeight-24>>1;this.MixCon.addChild(this.mTway)}r(t,"games.windows.me.bag.BagItem_Log",n);var i=t.prototype;return i.setVo=function(n){var t=n.name+(n.count>1?" X "+n.count:""),i=n.validity==0?u.lang("winbag_time_wx"):a.G2S(n.validity,1),r=n.desc?u.lang(101==n.state?"winbag_log_1":"winbag_log_2",n.desc):"",f=u.lang("winbag_log_0",t,i)+r;this.mHtm.innerHTML=f;this.mHtm._updateGraphic();this.mHtm.y=this.mHeight-this.mHtm.contextHeight+8>>1;this.mTway.innerHTML=u.lang("winbag_log_state_"+n.state);this.mTway._updateGraphic();this.mTway.x=this.mWidth-20-this.mTway.width>>0;this.mIcon.load(n.icon);this.update()},t}(li),ydt=function(n){function i(){var n;this.mInput=null;i.__super.call(this,616,468,!1);this.updateTitle("ejmmSet_yz_t",!0);var e=128,t=32,o=60,r=this.mWidth-t-t;this.graphics.drawRoundRect(10,r,o,"#c9d5e1",t,e);r-=t+t;this.mInput=new ci;this.mInput.align="center";this.mInput.setVh(o);this.mInput.width=r;this.mInput.restrict="0-9";this.mInput.type="password";this.mInput.maxChars=6;this.mInput.prompt=u.lang("ejmmSet_yz_0");this.mInput.fontSize=28;this.mInput.color="#527b92";this.mInput.pos(this.mWidth-r>>1,e);this.mInput.on("enter",this,this.onEnter);this.addChild(this.mInput);n=new g("center");n.style.leading=16;n.mouseEnabled=!0;n.innerHTML=u.lang("ejmmSet_yz_1");n.on("link",this,this.openWin);n.pos(this.mWidth-n.contextWidth>>1,220);this.addChild(n);f.Account.regist(241,this.getRet,this);f.Account.regist(242,this.getRet,this)}r(i,"games.windows.accounts.ejmm.Win_Acc_Ejmm_Verify",n);var t=i.prototype;return t.start=function(){this.mInput.text=""},t.getRet=function(n){0==n&&this.doClose()},t.openWin=function(){this.onClkFeet(10)},t.onEnter=function(){this.onClkFeet(1)},t.onClkFeet=function(n){switch(n){case 1:f.Account.reqVerifySp(this.mInput.text);break;case 10:b.OpenWin(191,2);break;default:this.doClose()}},i}(ar),pdt=function(n){function i(){this.mSearch=null;this.mTips=null;this.mResult=null;i.__super.call(this,616,646,!1,0,1);this.updateTitle("winbag_yq_t",!0);this.mSearch=new va(1,560,h.create(this,this.doSearch,null,!1),10);this.mSearch.setPrompt(u.lang("winbag_yq_0"));this.mSearch.setType(ci.T_NUMBER);this.mSearch.setRestrict("0-9");this.mSearch.pos(this.mWidth-this.mSearch.width>>1,120);this.addChild(this.mSearch);this.mTips=new ai;this.addChild(this.mTips);this.mResult=new yat(this.mWidth,this.mHeight-298);this.mResult.y=200;f.Bag.regist(292,this.getQuery,this);f.Bag.regist(291,this.getRet,this)}r(i,"games.windows.me.bag.invit.Win_Bag_Invit",n);var t=i.prototype;return t.start=function(n){this.onSubClose();this.mResult.ShowTicket(n[0])},t.onSubClose=function(){this.mSearch.DoReset();this.mSearch.mouseEnabled=!0;this.doReset()},t.onClkFeet=function(n){1==n?(a.StopInsOp(this.iFeetMenu,500),this.mResult.parent&&this.mResult.doSubmit()):this.doClose()},t.doReset=function(){this.iFeetMenu.CrtDef(1);this.mResult.removeSelf();this.showTip(this.mResult.y,"winbag_yq_1")},t.showTip=function(n,t){this.mTips.show(u.lang(t));this.mTips.y=n;this.toXCenter(this.mTips)},t.doSearch=function(n,t){var i=parseInt(this.mSearch.getValue(!t))||0;i>0&&(this.doReset(),a.StopInsOp(this.mSearch,1200),f.Bag.reqPlayerInfo(i))},t.getQuery=function(n,t,i){this.showTip(372,"winbag_yq_2");this.mResult.ShowPlayer(n,t,i);this.mResult.parent||this.addChild(this.mResult);this.iFeetMenu.CrtDef(4)},t.getRet=function(n){n==0&&this.doClose()},i}(ar),wdt=function(n){function i(){this.mIcon=null;this.mBase=null;this.mInput=null;this.mBtnAll=null;this.mRes=null;this.mBtnSubmit=null;this.mIsC=!1;this.mMax=0;i.__super.call(this,600,!1,null,700);var t=120,n=98;this.mIcon=new hi(t);this.mIcon.mouseEnabled=!1;this.mIcon.pos(this.W_CON-t>>1,n);this.mIcon.loadIcon(null,0,5);this.mCon.addChild(this.mIcon);n+=t+20;this.mBase=new g("center");this.mBase.style.leading=16;this.mBase.style.fontSize=24;this.mBase.style.color="#5680be";this.mBase.y=n;this.mCon.addChild(this.mBase);n+=100;this.mInput=new nk(this.W_CON-64);this.mInput.pos(32,n);this.mCon.addChild(this.mInput);t=128;this.mBtnAll=k.crt_Btn(this.mCon,null,null,0,0,t,48);this.mBtnAll.pos(this.W_CON-t-52>>0,n+.5*(this.mInput.height-this.mBtnAll.height)>>0);this.mBtnAll.label=u.lang("leagueFund_ct_all");this.mBtnAll.on("click",this,this.doAll);n+=this.mInput.height+20;this.mRes=new fi(1);this.mRes.pos(this.W_CON>>1,n);this.mCon.addChild(this.mRes);n+=this.mRes.height+20;t=this.W_CON-160;this.mBtnSubmit=k.crt_Btn(this.mCon,"login",null,this.W_CON-t>>1,n,t);this.mBtnSubmit.label=u.lang("sure");this.mBtnSubmit.on("click",this,this.doSubmit);f.Account.regist(201,this.updateRes,this);f.Leagues.regist(901,this.updateRes,this);f.Leagues.regist(936,this.getResult,this);f.Leagues.regist(937,this.getResult,this)}r(i,"games.windows._leagues.funds.Win_Lea_TQCZ",n);var t=i.prototype;return t.start=function(n){var i,r,t;this.mBtnAll.removeSelf();this.mBtnSubmit.disabled=!1;i=n[0];this.updateTitle(i.label,!1);this.mIsC=0==i.data;r=f.Leagues.League;this.mBase.innerHTML=u.lang("leagueFund_ct_base",r.name,r.vID);this.mBase.x=this.W_CON-this.mBase.contextWidth>>1;t="leagueFund_ct_"+(this.mIsC?0:1);this.mInput.updateLabel(u.lang(t+0));this.mInput.setPrompt(u.lang(t+1));this.mInput.value="";this.mIsC?this.mInput.updateIw(0):(this.mInput.updateIw(this.mBtnAll.width+8),this.mCon.addChild(this.mBtnAll));this.mRes.showPre(t+2);this.mBtnAll.TmpData=t+1;this.mBtnSubmit.TmpData=t+3;this.updateRes()},t.updateRes=function(){this.parent&&(this.mMax=f.Leagues.League.Fund,this.mIsC&&(this.mMax=f.Account.Detail.Score),this.mRes.showValue(this.mMax,!0),this.mRes.x=this.W_CON-this.mRes.width>>1)},t.doAll=function(){this.mInput.value=this.mMax},t.doSubmit=function(){var n=a.getNumber(this.mInput.value);n<1?ut.showMessage(this.mBtnAll.TmpData):n>this.mMax?ut.showMessage(this.mBtnSubmit.TmpData):(f.Leagues.reqFundOp(this.mIsC,n),this.mBtnSubmit.disabled=!0)},t.getResult=function(n){this.mBtnSubmit.disabled=!1;0==n&&this.doClose()},i}(yu),hf=function(n){function i(n){this.mXl=0;this.mXr=0;this.mIndex=-1;this.mDatas=null;this.mHdCallback=null;this.mHdList=null;n===void 0&&(n="combox_1");i.__super.call(this,!0);var t=this.setResConfig(n);this.mXl=t.tx;this.mXr=t.grids[1];this.mHdList=h.create(this,this.onListClick,null,!1)}r(i,"FioLibs.displays.coms.extendComs.FioComboxBtn",n);var t=i.prototype;return t.onDisable=function(){gs.ins.Close()},t.setClick=function(n){this.mHdCallback&&this.mHdCallback.recover();this.mHdCallback=n},t.clearSel=function(n){n===void 0&&(n=0);this.mIndex=n;var t=this.mDatas?this.mDatas[this.mIndex]:null;t&&(this.label=t.label)},t.creat=function(n,t){var r,i;t===void 0&&(t=0);this.mDatas=n;this.mIndex=t;this.mIndex<0&&(this.mIndex=0);r="";this.mDatas&&(i=this.mDatas.length,i>0?(this.mIndex>i-1&&(this.mIndex=i-1),r=this.mDatas[this.mIndex].label):this.mDatas=null);this.label=r},t.doSub_Resize=function(){n.prototype.doSub_Resize.call(this);this.mText.x=this.mXl+.5*(this._width-this.mXl-this.mXr-this.mText.width)>>0},t.doSubClick=function(){this.mDatas&&(i.S_Point.setTo(0,this._height+8),this.localToGlobal(i.S_Point),gs.ins.Show(this.mHdList,this.mDatas,i.S_Point,this.mIndex))},t.onListClick=function(n,t){this.mIndex=n;this.label=t.label;this.mHdCallback&&this.mHdCallback.runWith(t)},e(0,t,"data",function(){return this.mDatas&&this.mDatas[this.mIndex]?this.mDatas[this.mIndex].data:null}),e(0,t,"selectIndex",function(){return this.mIndex}),d(i,["S_Point",function(){return this.S_Point=new kt}]),i}(wi),ld=function(n){function t(n){this.mCost=null;t.__super.call(this,!0);this.setResConfig("dmSee");n?(this.mCost=new fi(20,4),pe.regRes(1,this.mCost)):this.mCost=new fi(6,1);this.mCost.AutoCx=!0;this.mCost.pos(this._width>>1,n?34:32);this.mCost.setFont(this.mColors[0],this.mText.fontSize);this.addChild(this.mCost)}r(t,"games.matchCores.desk.views.DmView_SeeBtn",n);var i=t.prototype;return i.setStraddle=function(n){this.mCost.showValue("Straddle X"+n)},t}(wi),bdt=function(n){function t(n,i){this.mT_info=null;this.mVecFlagIndes=null;this.mIconMap=null;this.mIconCon=null;t.__super.call(this,n,10);this.mouseEnabled=!1;this.mT_info=w.quickCreate(26,i);this.mT_info.width=this.mWidth;this.mT_info.align="center";this.mT_info.leading=8;this.mT_info.y=2;this.MixCon.addChild(this.mT_info);this.mIconMap={};this.mIconCon=new s;this.mVecFlagIndes=u.obj("dm_desk_nmlFlags");var r=0,e=this.mVecFlagIndes.length,f=0;for(r;r<e;r++)f=this.mVecFlagIndes[r],this.mIconMap[f]=st.CrtImg("matches/deskFlag_"+f+".png")}r(t,"games.matchCores.desk.background.DmBg_NameFlags",n);var i=t.prototype;return i.DoReset=function(){this.recyle();this.mIconCon.removeSelf();this.mIconCon.removeChildren()},i.ShowInfo=function(n,t){this.mT_info.text=n;this.mHeight=this.mT_info.y+this.mT_info.height+4>>0;this.mIconCon.removeSelf();this.mIconCon.removeChildren();t&&this.showFlags(t);this.update()},i.showFlags=function(n){var r=0,e=this.mVecFlagIndes.length,f=0,t,i=0,u=0;for(r;r<e;r++)f=this.mVecFlagIndes[r],t=this.mIconMap[f],t&&(!0==n[f]?(i>0&&(i+=12),u=Math.max(u,t.height),t.x=i,i+=t.width,this.mIconCon.addChild(t)):t.removeSelf());u>0&&(this.mIconCon.pos(this.mWidth-i>>1,this.mHeight),this.MixCon.addChild(this.mIconCon),this.mHeight+=u+4)},t}(li),kdt=function(n){function t(){this.mIcon=null;this.mHtm=null;this.mInput=null;this.mID=0;this.mType=0;t.__super.call(this,616,568,!1);this.updateTitle("noteEdit_t",!0);this.mIcon=new hi(100,!0,8);this.mIcon.mLabel.y+=12;this.toXCenter(this.mIcon);this.mIcon.y=144;this.addChild(this.mIcon);this.mHtm=new g;this.mHtm.y=this.mIcon.y+this.mIcon.height+80;this.addChild(this.mHtm);var n=32,i=this.mWidth-n-n;i-=n+n;this.mInput=new oe(i,16);this.mInput.restrict="^ <>";this.mInput.prompt=u.lang("noteEdit_2");this.mInput.fontSize=28;this.mInput.color="#527b92";this.mInput.pos(this.mWidth-i>>1,372);this.addChild(this.mInput);this.mInput.on("enter",this,this.onEnter)}r(t,"games.windows.me.notes.Win_NoteEdit",n);var i=t.prototype;return i.start=function(n){this.mInput.text="";this.mID=n[0];var t=n[1];this.mHtm.innerHTML=u.lang("noteEdit_"+(t?1:0),t);this.toXCenter(this.mHtm);this.mIcon.setLabel(n[2],30,"#3b4f62");this.mIcon.sitter_Load(n[3]);this.mType=n[4]||0},i.onEnter=function(){this.onClkFeet(1)},i.onClkFeet=function(n){if(1==n){var t=this.mInput.getValue();if(b.CheckCharLength(t,16,"noteEdit_2","noteEdit_3"))0==this.mType?f.Room.reqNoteEdit(this.mID,t):1==this.mType&&f.Club.reqNote(this.mID,t);else return}this.doClose()},t}(ar),ddt=function(n){function t(){var i,n,r;this.mAdmin=null;this.mJoiner=null;this.mFlags=null;t.__super.call(this,616,580);this.updateTitle("pSet_title");i=this.H_TITLE;n=this.mWidth-80;this.toXCenter(this.mJoiner=new vlt(n)).y=i;r=h.create(this,this.doSubmit,null,!1);this.toXCenter(this.mAdmin=new pct(n,r)).y=i;this.addChild(this.toXCenter(this.mFlags=new fct(n,r)));o.DsMatch.regist(411,this.get411,this);o.DsMatch.regist(414,this.doUpdate,this)}r(t,"games.matchCores.panels.settings.dzdp.MP_Setting_Dzdp",n);var i=t.prototype;return i.start=function(){var i=o.MatchVo.isAdmin,n=0,t;i?(this.mJoiner.removeSelf(),this.addChild(this.mAdmin),n=this.mAdmin.y+this.mAdmin.height>>0):(this.mAdmin.removeSelf(),this.addChild(this.mJoiner),n=this.mJoiner.y+this.mJoiner.height>>0);n+=32;this.mFlags.y=n;this.updateHeight(n+this.mFlags.height+20>>0);t=o.MatchVo.gameType;o.MatchVo.IsXlsDz&&(t=3);o.MatchVo.createType==2&&(t+=10);this.mFlags.setType(t,i);this.doUpdate()},i.get411=function(n){0==n&&this.close()},i.doUpdate=function(){this.mFlags.updateValues(o.MatchVo.Flags);var n=o.MatchVo.gameType==2?o.MatchVo.getDPBetStr():o.MatchVo.getBetStr();this.mJoiner.update(o.MatchVo.creater,o.MatchVo.timeRest,n,o.MatchVo.suringMax)},i.doSubmit=function(n){var t=n.TmpData,i=0,r;t<0&&(i=this.mAdmin.getTime());r=this.mAdmin.getMaxBring();o.DsMatch.reqSetRoom(this.mFlags.getValue(),i,r);t<0&&this.close()},t}(kr),gdt=function(n){function t(){var n,f,i;this.mTab=null;this.mVecSubs=null;t.__super.call(this,616,800);this.updateTitle("jack_t");n=536;this.mTab=new rr(2);this.mTab.create(u.obj("jack_configs"),n);this.mTab.setClick(h.create(this,this.onTab,null,!1));this.mTab.pos(this.mWidth-this.mTab.width>>1,this.H_TITLE);this.addChild(this.mTab);f=182;i=this.mHeight-f-20;this.mVecSubs=[];this.mVecSubs[0]=new cct(n,i);this.mVecSubs[1]=new act(n,i);this.mVecSubs[2]=new nvt(n,i);var r=0,e=this.mVecSubs.length,o=this.mWidth-n>>1;for(r;r<e;r++)this.mVecSubs[r].pos(o,f)}r(t,"games.matchCores.panels.dzdp.jackpot.MP_Jackpot",n);var i=t.prototype;return i.onDisable=function(){var n=0,t=this.mVecSubs.length;for(n;n<t;n++)this.mVecSubs[n].removeSelf()},i.start=function(){this.mTab.select(1)},i.onTab=function(n){this.onDisable();var t=this.mVecSubs[n];t&&this.addChild(t)},t}(kr),ngt=function(n){function i(){var t,n;this.mI_User=null;this.mI_Code=null;i.__super.call(this,616,700,!1);this.updateTitle("accDel_Cfm_t",!0);t=540;this.mI_User=new eo(!1,!0);this.mI_User.pos(this.mWidth-this.mI_User.width>>1,124);this.addChild(this.mI_User);this.mI_Code=new hc(h.create(this,this.reqCode,null,!1),!0);this.mI_Code.pos(this.mWidth-this.mI_Code.width>>1,262);this.addChild(this.mI_Code);n=ai.CrtIns(t,u.lang("accDel_Cfm_tip"),26,"#ff0000",12);n.align="center";n.pos(this.mWidth-n.width>>1,420);this.addChild(n);f.Login.regist(110,this.getRet,this)}r(i,"games.windows.accounts.accMgr.del.Win_Acc_Del_Confirm",n);var t=i.prototype;return t.start=function(){this.mI_User.setValue(f.Login.CurAcc.user);this.mI_User.updateCountry(f.Login.CurAcc.country)},t.onDisable=function(){this.mI_User.setValue("");this.mI_Code.setValue("")},t.getRet=function(n){n==0&&(this.mI_Code.ClearDC(),f.Login.reqQuit())},t.reqCode=function(){var n=this.mI_User.getValue(!0);return n?(f.Login.reqCode(this.mI_User.getCountry(),n,7),!0):!1},t.onClkFeet=function(n){var i,t;if(1==n){if(i=this.mI_User.getValue(!0),!i)return;if(t=parseInt(this.mI_Code.getValue(!0)),!t)return;f.Login.reqDelAcc(t);a.StopInsOp(this.iFeetMenu)}else this.doClose()},i}(ar),vc=function(n){function i(n){this.Type=0;this.OpType=0;this.label=null;this.mIcon=null;this.mT_name=null;this.mT_time=null;this.mT_value=null;this.mT_rest=null;this.mHandleClick=null;this.mRoomID=0;this.mTime=0;n===void 0&&(n=0);i.__super.call(this,n||s.MAX_W,98);var t=32;n=66;this.mIcon=new s;this.mIcon.mouseEnabled=!1;this.mIcon.pos(t,this.mHeight-n>>1);this.mIcon.size(n,n);this.MixCon.addChild(this.mIcon);t=122;this.mT_name=new g;this.mT_name.style.color="#b2d6fb";this.mT_name.style.fontSize=28;this.mT_name.pos(t,18);this.MixCon.addChild(this.mT_name);this.mT_value=w.quickCreate(28,"#6391d5");this.mT_value.y=this.mT_name.y;this.MixCon.addChild(this.mT_value);this.mT_time=w.quickCreate(22,"#6391d5");this.mT_time.pos(t,60);this.MixCon.addChild(this.mT_time);this.mT_rest=w.quickCreate(22,"#6391d5");this.mT_rest.y=this.mT_time.y;this.MixCon.addChild(this.mT_rest);this.on("click",this,this.onClick)}r(i,"games.windows._commons.funds.Funds_Item",n);var t=i.prototype;return t.onClick=function(){switch(this.OpType){case 1:this.mRoomID>0&&b.OpenWin(42,this.mRoomID);break;case 2:b.OpenWin(100,this.mTime);break;case 3:b.OpenWin(102,this.mTime)}this.mHandleClick&&this.mHandleClick.runWith(this)},t.recyle=function(){FioLibs.displays.mixTex.Fio_MixIns_Base.prototype.recyle.call(this);this.mHandleClick=null;this.mRoomID=this.mTime=this.Type=this.OpType=0;this.label=null},t.setOpType=function(n){this.OpType=n;n>0&&this.showArrow(2)},t.showArrow=function(){},t.setClick=function(n){this.mHandleClick&&this.mHandleClick.recover();this.mHandleClick=n},t.setBase=function(n,t,i,r,u){r===void 0&&(r=0);u===void 0&&(u=0);this.label=n;this.mT_name.innerHTML=n;this.Type=t;this.showValue(i);this.mRoomID=r;this.mTime=u},t.showValue=function(n){this.mT_value.color=a.getColor(n);this.mT_value.text=a.NumToStr(n,9);this.mT_value.x=this.mWidth-this.mT_value.width-32>>0},t.showIcon=function(n){this.mIcon.loadImage(n)},t.showTime=function(n,t,i){t===void 0&&(t=0);var r=a.GTos(n,!0);t>0&&(r+=" ~ "+a.GTos(t,!0));i&&(r+="  - "+i);this.mT_time.text=r},t.showRest=function(n){this.mT_rest.text=a.NumToStr(n);this.mT_rest.x=this.mWidth-this.mT_rest.width-32>>0},i}(li),tgt=function(n){function t(){this.mTop=null;this.mMenus=null;t.__super.call(this,596,818,"jlsBg");this.mTop=new rd(!0);this.mTop.pos(this.mWidth-this.mTop.width>>1,340);this.addChild(this.mTop);this.mMenus=new fvt(this.mWidth);this.mMenus.pos(this.mWidth-this.mMenus.width>>1,660);this.addChild(this.mMenus);o.DsMatch.regist(485,this.close,this)}r(t,"games.matchCores.panels.dzdp.bxJls.MP_Jls",n);var i=t.prototype;return i.start=function(n){var t,r,i;this.doSubClose();ei.PlayEff(21);t=n[0];r=o.MatchVo.mySeat==t.opIdx;this.C_IsSpecial=r;i=t.opType*10;r&&(i=t.opType,1==i&&t.JoinNum>2&&(i=3));this.mTop.setData(t,o.FlopCards,t.JoinNum);this.mMenus.Show(t.opTime,i)},i.doSubClose=function(){this.mTop.DoReset();this.mMenus.DoReset()},t}(kr),igt=function(n){function i(){this.mView=null;this.mJackNum=null;this.mBoard=null;this.mRoomState=0;this.mPokerStyle=0;this.mRestTime=0;i.__super.call(this);this.mView=new vpt;this.mBoard=new tkt(this.mView);this.mJackNum=new bs(!0);this.mJackNum.scale(.58,.58);this.mJackNum.pos(s.MAX_W-.58*this.mJackNum.width>>1,8);this.mJackNum.mouseEnabled=!0;this.mJackNum.on("click",this,this.openJack);this.initNotifies()}r(i,"games.matchCores.desk.Match_Core",n);var t=i.prototype;return t.initNotifies=function(){oi.regist(411,this.changePokerStyle,this);o.DsMatch.regist(400,this.get400,this);o.DsMatch.regist(401,this.getPlayers,this);o.DsMatch.regist(402,this.clearBets,this);o.DsMatch.regist(404,this.doClear404,this);o.DsMatch.regist(408,this.updateHuntPrice,this);o.DsMatch.regist(414,this.updateRoom,this);o.DsMatch.regist(420,this.getSit,this);o.DsMatch.regist(421,this.playerAdd,this);o.DsMatch.regist(423,this.playerDel,this);o.DsMatch.regist(424,this.playerUpdateScroe,this);o.DsMatch.regist(425,this.playerUpdateStates,this);o.DsMatch.regist(427,this.updatePlayerOffCD,this);o.DsMatch.regist(430,this.onHandStart,this);o.DsMatch.regist(431,this.updateBlinds,this);o.DsMatch.regist(432,this.onActStart,this);o.DsMatch.regist(433,this.onActEnd,this);o.DsMatch.regist(434,this.onRoundOver,this);o.DsMatch.regist(435,this.onHandOver,this);o.DsMatch.regist(440,this.getForceAdd,this);o.DsMatch.regist(476,this.updateJack,this);o.DsMatch.regist(480,this.showSafeBox,this);o.DsMatch.regist(487,this.showJls,this);o.DsMatch.regist(489,this.onD2Rst,this);o.DsMatch.regist(490,this.dealFlops,this);o.DsMatch.regist(491,this.dealHands,this);o.DsMatch.regist(492,this.updateOtherCards,this);o.DsMatch.regist(493,this.updateMyCards,this);o.DsMatch.regist(494,this.getShowResult,this);f.MTT.regist(1452,this.getRestTime,this);f.MTT.regist(1453,this.get_mtt_Jlq,this);f.Room.regist(526,this.updateNote,this)},t.openJack=function(){ki.open(25)},t.start=function(){this.doStart();this.timerOnce(150,this,this.reqBase)},t.reqBase=function(){o.DsMatch.reqBase()},t.stop=function(){this.removeSelf();this.timer.clear(this,this.reqBase);this.doReset()},t.doStart=function(){this.mRoomState=9;this.doReset();lo.doReset();this.changePokerStyle(o.Cookie.Style_Poker)},t.get400=function(n,t,i){(i===void 0&&(i=!1),et.reqGps(),n==1)&&(this.doStart(),this.setRoomVo(t,i),this.mView.Start(),this.mView.parent||this.addChild(this.mView))},t.changePokerStyle=function(n){this.mPokerStyle=n},t.getPlayers=function(n){while(n.length>0)this.playerAdd(n.shift(),!0);this.updateSitDown()},t.getSit=function(n,t){0==n&&this.updatePlayerCoords(t,!0)},t.getForceAdd=function(){ki.open(21,!0)},t.getShowResult=function(n,t){o.MyPlayer&&o.MyPlayer.getShowResult(n,t)},t.updateJack=function(n){this.mJackNum.showValue(n);!this.mJackNum.parent&&o.MatchVo.IsJp&&this.addChild(this.mJackNum)},t.showSafeBox=function(n){ki.open(23,n);oi.notify(413)},t.showJls=function(n){ki.open(24,n);oi.notify(413)},t.doClear404=function(){this.doClear();this.onSubHandStart()},t.updateNote=function(n,t,i){if(0==n){var u=0,f=o.VecPlayers.length,r;for(u;u<f;u++)if(r=o.VecPlayers[u],r&&r.PlayerVo&&t==r.PlayerVo.sID){r.updateNick(r.PlayerVo.nick,i);return}}},t.changeRoomState=function(n){if(this.mRoomState!=n){this.mRoomState=n;switch(this.mRoomState){case 0:case 1:case 4:case 5:case 6:case 7:case 8:this.mBackground.clearPots();this.mBoard.update(this.mRestTime);this.mBoard.parent||this.addChild(this.mBoard);break;default:this.mBoard.DoReset();this.mRestTime=0}}eu.sSetStyle(this.mPokerStyle);this.mPokerStyle=0},t.doSubReset=function(){this.mView.DoReset();this.mJackNum.removeSelf();this.onSubHandStart();this.mBoard.DoReset()},t.onSubHandStart=function(){this.mView.onSubHandStart()},t.onSubHandStop=function(){this.mView.onSubHandStop()},t.getRestTime=function(n){this.mBackground.clearPots();this.mBoard.update(this.mRestTime=n);this.mBoard.parent||this.addChild(this.mBoard)},t.get_mtt_Jlq=function(n,t){this.mBackground.clearPots();this.mView.ShowJlq(n,t)},i}(ipt),rgt=function(n){function t(){this.mCookie=null;t.__super.call(this,"lspjC_bigtabs","lspjC_title");this.mCookie=new nu("zdLspj_slt",!0)}r(t,"games.windows._club.lspj.Win_Club_Lspj",n);var i=t.prototype;return i.initModules=function(n){this.mDicModules[0]=new kgt(n);this.mDicModules[1]=new wd(n,2);this.mDicModules[2]=new wd(n,1)},i.onTab=function(t){n.prototype.onTab.call(this,t);this.mCookie.SaveSingePro(this.mTab.getChildIndex(t))},i.start=function(){var n=this.mCookie.getSingePro();this.mTab.select(n<0?0:n)},t}(sf),ad=function(n){function t(){t.__super.call(this);this.mouseEnabled=!1;this.toSize(612,70);this.x=s.MAX_W-this.mWidth>>0}r(t,"games.windows.matches.settler.dz.SettlerDz_TitHead",n);var i=t.prototype;return i.update=function(n,t){return ft.crtStart(n,this.mWidth,this.mHeight,!0),this.updateValue(1,t),this.Tex_Make(),ft.crtDone(),this},t}(lr),vd=function(n){function t(){this.mCallback=null;this.mXl=0;this.mXr=0;t.__super.call(this,!0);var n=this.setResConfig("combox_3");this.mXl=n.tx;this.mXr=n.grids[1];this.setDate(a.getNowDate(),!1)}r(t,"FioLibs.displays.coms.extendComs.dates.FioDateBtn",n);var i=t.prototype;return i.setClick=function(n){this.mCallback=n},i.setDate=function(n,t){this.label=n;this.TmpData=a.D2G(n);t&&this.mCallback&&this.mCallback.runWith(this)},i.doSub_Resize=function(){n.prototype.doSub_Resize.call(this);this.mText.x=this.mXl+.5*(this._width-this.mXl-this.mXr-this.mText.width)>>0},i.doSubClick=function(){fbt.ins.show(this.TmpData,this)},t}(wi),tv=function(n){function t(n,i,r,u){this.mConfig=null;t.__super.call(this);this.toSize(n,i);this.TmpData=u?1:null;this.mouseEnabled=!1;this.mConfig=ft.sGetTab(r);u&&this.graphics.drawRoundRect(this.mHeight>>1,n,i,"#386ebf40")}r(t,"games.matchCores.panels.ranks.dzdp.MpRankDzdp_Head",n);var i=t.prototype;return i.update=function(n){1!=this.TmpData&&(ft.crtStart(this.mConfig,this.mWidth,this.mHeight),this.updateValue(1,n),this.Tex_Make(),ft.crtDone())},t}(lr),ugt=function(n){function i(){this.mVecItems=null;this.mSlt=null;this.mData=null;this.mHdCls=null;this.mMaxVal=0;i.__super.call(this,616,440,!1);this.initItems()}r(i,"games.windows.matches.creators.RewardsZdy.Win_Rewards_Zdy_MttTkt",n);var t=i.prototype;return t.initItems=function(){var r=128,i=ai.CrtIns(0,u.lang("sngRwdZdy_5"),30),f,e,n,t;for(i.pos(this.mWidth-i.width>>1,r),this.addChild(i),r+=i.height+20,f=188,e=this.mWidth-144-f-f>>1,this.mVecItems=[],t=0,t;t<3;t++){n=new pb;n.pos(e+188*t,r);n.TmpData=n.x-e+.5*n.width>>0;n.on("click",this,this.onClkItem);this.mVecItems[t]=n;this.addChild(n)}},t.onClkItem=function(n){var r=n.currentTarget,t,i;this.mSlt||(t=this.mVecItems[0],this.mSlt=new kk,i=t.localToGlobal(new kt(0,t.height),!0),this.mSlt.toPos(i.x,i.y),this.mSlt.initItems(this.mData.ResType));this.mSlt.Show(r.TmpData,r)},t.onClkFeet=function(n){var r;if(1==n){for(var i,t=0,f=this.mVecItems.length,o=this.mData.ResType,e=0,t=0;t<f;t++)e+=this.mVecItems[t].TotalVals;if(e>this.mMaxVal){ut.showMessage(u.lang("sngRwdZdy_err"+(1+o),a.NumToStr(this.mMaxVal)),!1);return}for(this.mData.clrItems(),t=0;t<f;t++)i=this.mVecItems[t],i.CID>0&&(r=l.get(fl),r.cID=i.CID,r.num=i.Num,this.mData.items[t]=r);this.mData.locked=!0;this.mHdCls&&this.mHdCls.run()}this.doClose()},t.start=function(n){this.onSubClose();this.mData=n[0];this.mMaxVal=n[1];this.mHdCls=n[2];this.updateTitle(u.lang("sngRwdZdy_t",this.mData.order),!1);for(var f=this.mData.ResType,t=0,e=this.mData.items.length,i,r,t=0;t<e;t++)i=this.mData.items[t],i&&(r=this.mVecItems[t],r&&r.updateItem(i.cID,i.num,f));this.mSlt&&this.mSlt.initItems(f)},t.onSubClose=function(){var n=0,t=this.mVecItems.length;for(n;n<t;n++)this.mVecItems[n].DoReset();this.mSlt&&this.mSlt.DoReset();this.mData=null;this.mHdCls&&this.mHdCls.recover();this.mHdCls=null},i}(ar),fgt=function(n){function t(){this.mBg=null;this.mTxt=null;this.mBg=st.CrtImg("matches/dmTxtBg_0.png");t.__super.call(this,this.mBg.width,this.mBg.height);this.mouseEnabled=!1;this.mTxt=ui.crtTxt(22,0);this.mTxt.setVh(this.mHeight);this.mTxt.y=1;this.MixCon.addChild(this.mTxt)}r(t,"games.matchCores.desk.role.DmRole_CardType",n);var i=t.prototype;return i.setSelf=function(n){n?(this.mBg.removeSelf(),this.mTxt.y=4):(this.MixCon.addChildAt(this.mBg,0),this.mTxt.y=1)},i.ShowType=function(n){var t=u.lang("cardType"+n);return n>0&&t?(this.mTxt.text=t,this.toXCenter(this.mTxt),this.update(),!0):(this.removeSelf(),!1)},i.Tex_DoMix=function(){this.Tex_Clear();var n=0,t=this.mTxt.width>>0;t>this.mWidth?n=-this.mTxt.x:t=this.mWidth;this.pivotX=n;this.texture=cf.getTex(this.MixCon,t,this.mHeight,n,0)},t}(li),egt=function(n){function t(){this.mRaceID=0;this.mdID=0;this.mIsMacthing=!1;t.__super.call(this);this.mouseEnabled=!0;this.on("click",this,this.onClk)}r(t,"games.windows.matches.ranks.McRank_2_Item",n);var i=t.prototype;return i.recyle=function(){FioLibs.displays.mixTex.Fio_MixIns_Base.prototype.recyle.call(this);this.mRaceID=this.mdID=0;this.mIsMacthing=!1},i.setData=function(n,t,i){this.mRaceID=n.RaceID;this.mdID=n.dID;this.mIsMacthing=i;this.updateValue(0,n.dID);this.updateValue(1,n.num);var r=a.getBBStr(t,n.min)+" / "+a.getBBStr(t,n.max);this.updateValue(2,r);this.Tex_Make(!0)},i.onClk=function(){if(this.mIsMacthing){ut.showMessage("match_err_0");return}this.mdID>0&&f.MTT.reqEntry(this.mRaceID,this.mdID)},t}(lr),ogt=function(n){function i(n){this.mBase=null;this.mDet=null;i.__super.call(this,n,1,10);this.mSCon.ItemAdd(this.mBase=new aa(310,3,10),12);this.mSCon.ItemAdd(this.mDet=new aa(350,4,11));f.Room.regist(520,this.get520,this)}r(i,"games.windows.me.shengya.Shengya_Data",n);var t=i.prototype;return t.start=function(){n.prototype.start.call(this);this.mTab.select(this.mCookie[0])},t.DoReset=function(n){this.mBase.DoReset();this.mDet.DoReset();n>-1&&(this.mBase.setConfig("shengya_1_0_idx_"+n,"shengya_1_0_di_"+n,"shengya_1_0_"),this.mDet.setConfig("shengya_1_1_idx_"+n,"shengya_1_1_di_"+n,"shengya_1_1_"))},t.reqData=function(n,t,i){f.Room.req520(n,t,i)},t.doScroll=function(){return!1},t.get520=function(n){this.mBase.updateDatas(n);this.mDet.updateDatas(n)},i}(fk),sgt=function(n){function t(n,i){var u,r;this.mT_num=null;this.mBB=null;t.__super.call(this,n,100);this.mouseEnabled=!1;u=28;this.mT_num=w.quickCreate(u,i);r=st.CrtLogo();r.pos(this.mWidth-r.width-20>>1,48);this.MixCon.addChild(r);this.mBB=fi.create(41,0,0);this.mBB.setFont(i,u);this.mBB.pos(this.mWidth-this.mBB.width>>1,r.y+r.height+16+s.LEADING_SIZE*.5>>0);this.mHeight=this.mBB.y+this.mBB.height+8>>0}r(t,"games.matchCores.desk.background.DmBg_Logo",n);var i=t.prototype;return i.DoReset=function(){this.Tex_Clear();this.mT_num.removeSelf();this.mBB.removeSelf()},i.updateNum=function(n,t){this.mT_num.text=u.lang("dm_desk_hand",n,t);this.toXCenter(this.mT_num);this.mT_num.parent||this.MixCon.addChild(this.mT_num);this.update()},i.setBBstr=function(n){this.mBB.showValue(n);this.toXCenter(this.mBB);this.mBB.parent||this.MixCon.addChild(this.mBB);this.update()},t}(li),hgt=function(n){function t(n,r){var f,e,u;this.FaceID=0;this.Num=0;this.mPrice=null;t.__super.call(this,68,102);this.FaceID=n.index;this.Num=r<3?99999:0;f=i.loader.getRes("faceIcons/"+n.icon+".png");1==r?this.MixCon.graphics.drawImage(f,0,this.mHeight-this.mWidth>>1,this.mWidth,this.mWidth):(this.MixCon.graphics.drawImage(f,0,2,this.mWidth,this.mWidth),e=2+this.mWidth+6,this.MixCon.graphics.drawRoundRect(12,this.mWidth,24,"#ffffff46",0,e),u=r>2,this.mPrice=new fi(u?6:n.priceIcon,4),this.mPrice.mouseEnabled=!1,this.mPrice.setFont("#ffffff",20),u||this.mPrice.showValue(n.price),this.mPrice.pos(this.mWidth-this.mPrice.width>>1,e+.5*(24-this.mPrice.height)>>0),u?this.addChild(this.mPrice):this.MixCon.addChild(this.mPrice));this.Tex_DoMix();this.MixCon.graphics.clear(!1)}r(t,"games.matchCores.panels.lookPlayer.LkPlayer_FaceIcon",n);var u=t.prototype;return u.updateNum=function(n){this.Num=n;this.mPrice&&(this.mPrice.showValue("X "+n),this.mPrice.x=this.mWidth-this.mPrice.width>>1)},t}(li),cgt=function(n){function t(){this.Message=null;this.User=null;this.mIcon=null;this.mHtm_name=null;this.mHtm_Con=null;this.mHtm_msg=null;this.mMicIcon=null;t.__super.call(this,600,100);this.mIcon=new hi(64,!1,6);this.mIcon.y=2;this.mIcon.mouseEnabled=!0;this.mIcon.TmpData=this;this.addChild(this.mIcon);this.mHtm_name=new g;this.mHtm_name.x=12+this.mIcon.x+64;this.mHtm_msg=new g("left",!0);this.mHtm_msg.width=this.mWidth-80;this.mHtm_msg.style.leading=8;this.mHtm_msg.pos(12,12);this.mHtm_Con=new p;this.mHtm_Con.addChild(this.mHtm_msg);this.MixCon.addChild(this.mHtm_Con)}r(t,"games.matchCores.panels.chat.MpChat_Item",n);var i=t.prototype;return i.recyle=function(){FioLibs.displays.mixTex.Fio_MixIns_Base.prototype.recyle.call(this);this.Message=this.User=null;this.mHtm_name.removeSelf();this.mMicIcon&&this.mMicIcon.removeSelf()},i.setVo=function(n,t){var i,r,f;this.mIcon.loadIcon(n.icon,0,0);i=this.Message=n.msg;n.IsMicStr&&(this.mMicIcon||(this.mMicIcon=new st("matches/mm_mic2.png"),this.mMicIcon.scale(.4,.36),this.mMicIcon.pos(12,6)),this.mHtm_Con.addChild(this.mMicIcon),i="     "+i);this.mHtm_msg.innerHTML=u.lang("chat_style_msg",i);r=this.mHtm_msg.contextWidth+12+12>>0;f=this.mHtm_msg.contextHeight+12+12-8+s.LEADING_SIZE>>0;t?(this.User=null,this.mHtm_Con.pos(0,0),this.mIcon.x=r+12-this.mIcon.fx,this.toSize(this.mIcon.x+this.mIcon.width,Math.max(f,this.mIcon.height))):(this.mHtm_name.innerHTML=u.lang("chat_style_name",this.User=n.nick),this.MixCon.addChild(this.mHtm_name),this.mIcon.x=2-this.mIcon.fx,this.mHtm_name.x=this.mIcon.x+this.mIcon.width+12,this.mHtm_Con.pos(this.mHtm_name.x,this.mHtm_name.contextHeight+8),this.toSize(Math.max(this.mHtm_Con.x+r+2,this.mHtm_name.x+this.mHtm_name.contextWidth+4>>0),Math.max(this.mHtm_Con.y+f,this.mIcon.height)));this.mHtm_Con.graphics.clear();this.mHtm_Con.graphics.drawRoundRect(8,r,f,"#1e99e6");this.update()},t.s_gap=12,t.s_leading=8,t.s_IconSize=64,t}(li),lgt=function(n){function t(){var f,n;this.mIcon=null;this.mNums=null;this.mHjt=null;this.mHname=null;this.mRes_BB=null;this.mRes_Num=null;this.mRes_Time=null;this.mHtpis=null;this.mRoomID=0;this.mClubID=0;t.__super.call(this,null);this.setRes(wt.getAssImg("match_share.png"),!1,594,846);this.mBtnCls.pos(this.mWidth-this.mBtnCls.width-20,12);this.mIcon=new hi(92,!0,4);this.mIcon.pos(this.mWidth-this.mIcon.width>>1,132);this.mIcon.mLabel.y+=4;this.addChild(this.mIcon);this.mNums=new wb("mainUi/num_2_");this.mNums.y=this.mIcon.y+this.mIcon.height+64;this.addChild(this.mNums);this.mHjt=new g;this.mHjt.y=this.mNums.y+64;this.addChild(this.mHjt);f=90;this.mHname=new g;this.mHname.pos(f,418);this.addChild(this.mHname);var i=504,r=28,u="#3b4f62";this.addChild(this.mRes_BB=fi.create(30,0,i));this.addChild(this.mRes_Num=fi.create(31,0,i));this.addChild(this.mRes_Time=fi.create(32,0,i));this.mRes_BB.setFont(u,r);this.mRes_Num.setFont(u,r);this.mRes_Time.setFont(u,r);this.mHtpis=new g("left",!0);this.mHtpis.width=296;this.mHtpis.style.leading=10;this.mHtpis.pos(228,560);this.addChild(this.mHtpis);et.isShell()&&(this.mHeight+=24,n=new di("dshare_share",h.create(this,this.onShare,null,!1)),n.width=this.mWidth*.75>>0,n.pos(this.mWidth-n.width>>1,this.mHeight),this.addChild(n),this.mHeight+=n.height+8>>0)}r(t,"games.matchCores.desk.views.boards.DmBoard_Share",n);var i=t.prototype;return i.onShare=function(){var n=this.drawToCanvas(this.mWidth,this.mHeight,this.x,this.y).toBase64(.2),t=n.split(",");t.length>1&&t.shift();n=t[0];et.reShareImg(n)},i.repos=function(){this.pos(s.MAX_W-this.mWidth>>1,s.MAX_H-this.mHeight*1.1>>1)},i.Show=function(n,t){var f=t.roomID,r=t.ClubID,i,e;(f!=this.mRoomID||r!=this.mClubID)&&(this.mIcon.loadIcon(n.getIcon(),0,0),this.mIcon.setLabel(n.Nick,30,"#1e99e6"),this.mRoomID=f,this.mClubID=r,r>0?(this.mNums.show(r),this.mHjt.innerHTML=u.lang("dshare_20"),this.mHname.innerHTML=u.lang("dshare_21",t.ClubName),this.mHtpis.innerHTML=u.lang("dshare_22")):(this.mNums.show(t.invitCode),this.mHjt.innerHTML=u.lang("dshare_10"),this.mHname.innerHTML=u.lang("dshare_11",t.name),this.mHtpis.innerHTML=u.lang("dshare_12")),this.toXCenter(this.mNums),this.toXCenter(this.mHjt),this.toXCenter(this.mHname),this.mHtpis.y=670-.5*this.mHtpis.contextHeight>>0,this.mRes_BB.showValue(t.getBetStr()),this.mRes_Num.showValue(t.numMax),this.mRes_Time.showValue(a.getStrSeconds(t.isRace()?t.timeMax*60:t.timeMax)),i=24,e=this.mRes_BB.width+i+this.mRes_Num.width+i+this.mRes_Time.width>>0,this.mRes_BB.x=this.mWidth-e>>1,this.mRes_Num.x=this.mRes_BB.x+this.mRes_BB.width+i>>0,this.mRes_Time.x=this.mRes_Num.x+this.mRes_Num.width+i>>0);this.parent||this.stage.addChild(this)},t}(sc),ve=function(n){function t(n,i){this.mTips=null;i===void 0&&(i="");t.__super.call(this,!0);this.setResConfig("main","mainUi/help"+i+".png");this.setLang(n)}r(t,"games.UD_Displays.btns.UD_Btn_Help",n);var i=t.prototype;return i.doSubClick=function(){this.mTips&&wo.show(this.mTips)},i.setLang=function(n){n&&this.setTips(u.lang(n))},i.setTips=function(n){this.mTips=null;n&&(this.mTips=n)},t}(wi),yd=function(n){function t(){this.DealIdx=0;this.mTno=null;this.mTv=null;this.mVecCard=null;t.__super.call(this,660,100);this.mTno=w.quickCreate(26,"#b2d6fb");this.mTno.setVh(this.mHeight);this.MixCon.addChild(this.mTno);this.mTv=new g("right");this.mTv.style.leading=14;this.mTv.style.fontSize=24;this.MixCon.addChild(this.mTv);this.mVecCard=[]}r(t,"games.matchCores.panels.brands.MpBrandsMtt_Item",n);var i=t.prototype;return i.recyle=function(){for(FioLibs.displays.mixTex.Fio_MixIns_Base.prototype.recyle.call(this),this.TmpData=0,this.DealIdx=1;this.mVecCard.length>0;)l.recyle(this.mVecCard.shift())},i.setVo=function(n){this.TmpData=n.handID;this.DealIdx=n.DealIdx;this.mTv.innerHTML=n.getLck(!0);this.mTv._updateGraphic();this.mTv.pos(this.mWidth-this.mTv.contextWidth-10>>0,this.mHeight-(this.mTv.contextHeight-this.mTv.style.leading-8+s.LEADING_SIZE)>>1);var t=0,r=n.cards,u=r.length,i,f=ii.getBc_Config("mtt_x_"+n.HcNum);for(t;t<u;t++)this.mVecCard[t]=i=l.get(eu),i.toSize(56,80),i.pos(f[t],this.mHeight-i.height>>1),i.showPoint(r[t]),this.MixCon.addChild(i);this.mTno.text=n.handID+n.endStr;this.mTno.x=36-.5*this.mTno.width>>0;this.update()},t}(li),pd=function(n){function t(){this.mIcon=null;this.mHtm=null;t.__super.call(this,312,334);this.MixCon.graphics.drawRoundRect(20,this.mWidth,this.mHeight,"#386ebf40");this.mIcon=new wf;this.mIcon.toSize(252,200);this.mIcon.pos(this.mWidth-this.mIcon.width>>1,20);this.mIcon.ComHd=h.create(this,this.Tex_ToMix,null,!1);this.MixCon.addChild(this.mIcon);this.mHtm=new g("center");this.mHtm.style.leading=16;this.mHtm.style.fontSize=24;this.mHtm.style.color="#6391d5";this.mHtm.y=246;this.MixCon.addChild(this.mHtm);this.on("click",this,this.onClk)}r(t,"games.windows.me.ticket.JFShopItem_Home",n);var i=t.prototype;return i.onClk=function(){t.sHander&&t.sHander.runWith(this.TmpData)},i.recyle=function(){FioLibs.displays.mixTex.Fio_MixIns_Base.prototype.recyle.call(this);this.TmpData=null},i.setVo=function(n){this.TmpData=n;this.mIcon.load(n.icon,!0);this.mHtm.innerHTML=u.lang("jsshop_home_0",n.title,n.desc);this.mHtm.x=this.mWidth-this.mHtm.contextWidth>>1;this.update()},t.sHander=null,t}(li),agt=function(n){function t(){this.mTxt=null;this.mTe=0;var n=st.CrtImg("mainUi/netDelay.png");t.__super.call(this,n.width,n.height);this.mouseEnabled=!1;this.pos(s.MAX_W-this.mWidth,88);this.MixCon.addChild(n);this.mTxt=w.quickCreate(16);this.mTxt.pos(18,this.mHeight-(c.onPC?17:18));this.MixCon.addChild(this.mTxt);this.mTe=this.timer.currTimer+1e3}r(t,"games.matchCores.desk.views.DmView_Ping",n);var i=t.prototype;return i.render=function(n,t,i){var u=this.timer.currTimer,r;u>this.mTe&&(this.mTe=u+3e3,r=io.ins.getPing(),r<1?r=1:r>9999&&(r=9999),this.mTxt.text=r+"ms",this.mTxt.color=this.getColor(r),this.mTxt.x=this.width-this.mTxt.width>>1,this.update());laya.display.Sprite.prototype.render.call(this,n,t,i)},i.getColor=function(n){return n<500?"#4bc65c":n<1e3?"#e5ba73":"#ff0000"},t}(li),vgt=function(n){function t(n,i){t.__super.call(this,n,i,gti,140)}r(t,"games.windows._club.zj.Modu_Club_ZJ_P",n);var i=t.prototype;return i.initParams=function(){f.Sql.regist(1100,this.getHead,this);f.Sql.regist(1101,this.getLists,this)},i.doSubmit=function(n,t){f.Sql.reqHead_ZjC_P(n,t)},t}(oc),ygt=function(n){function i(){this.mLabel=null;this.mJp=null;this.mR_Gold=null;this.mInput=null;this.mVo=null;this.mMax=0;i.__super.call(this,616,528,!1);this.updateTitle("clubST_jp_10",!0);this.mLabel=w.quickCreate(28,"#3b4f62");this.mLabel.y=124;this.addChild(this.mLabel);this.mJp=new bs(!1);this.mJp.pos(this.mWidth-this.mJp.width>>1,176);this.mJp.mouseEnabled=!1;this.addChild(this.mJp);this.mR_Gold=new fi(120);this.mR_Gold.setFont("#3b4f62",30);this.mR_Gold.showPre("clubST_jp_11");this.mR_Gold.pos(32,278);this.addChild(this.mR_Gold);var t=540,e=64,n=this.mWidth-t>>1,r=336;this.graphics.drawRoundRect(10,t,e,"#c9d5e1",n,r);n+=28;this.graphics.fillText(u.lang("clubST_jp_12"),n,r+18,30,"#3b4f62");n+=88;this.mInput=new oe(t-n+32,10,e);this.mInput.restrict="0-9";this.mInput.input.align="left";this.mInput.type=ci.T_NUMBER;this.mInput.prompt=u.lang("clubST_jp_13");this.mInput.fontSize=26;this.mInput.color="#527b92";this.mInput.pos(n,r);this.addChild(this.mInput);this.mInput.on("enter",this,this.onEnter);f.Club.regist(705,this.updateRes,this);f.Club.regist(716,this.get716,this)}r(i,"games.windows._club.setting.jp.Win_Club_ST_JpRecharge",n);var t=i.prototype;return t.onDisable=function(){this.mVo=null;this.mJp.showValue(0);this.mInput.text=""},t.start=function(n){this.mVo=n[0];this.mLabel.text=u.lang("clubST_jp_0",this.mVo.betStr);this.toXCenter(this.mLabel);this.mJp.showValue(this.mVo.value>0?this.mVo.value:0);this.updateRes()},t.get716=function(n){0==n&&this.doClose()},t.updateRes=function(){this.mMax=f.Club.Members.JP>>0;this.mR_Gold.showValue(this.mMax);this.toXCenter(this.mR_Gold)},t.onEnter=function(){this.onClkFeet(1)},t.onClkFeet=function(n){if(1==n){var t=a.getNumber(this.mInput.getValue());t<1?ut.showMessage("clubST_jp_13"):t>this.mMax?ut.showMessage("clubST_jp_14"):(f.Club.reqJpRec(this.mVo,t),a.StopInsOp(this.iFeetMenu,500))}else this.doClose()},i}(ar),pgt=function(n){function t(){t.__super.call(this,"fundsCn_tabs","fundsCn_title")}r(t,"games.windows._club.funds.mgr.Win_Club_ScoreMem",n);var i=t.prototype;return i.initModules=function(n){this.mDicModules[1]=new ck(n,"fundsCn_",!1);this.mDicModules[2]=new bk(n,!1)},t}(sf),wgt=function(n){function t(n,i){t.__super.call(this,n,i,le,141)}r(t,"games.windows._club.zj.Modu_Club_ZJ_D",n);var i=t.prototype;return i.initParams=function(){f.Sql.regist(1104,this.getHead,this);f.Sql.regist(1105,this.getLists,this)},i.doSubmit=function(n,t){f.Sql.reqHead_ZjC_D(n,t)},t}(oc),bgt=function(n){function t(n){this._$6_mRes=null;t.__super.call(this,!0);var i=this.setResConfig("buy");this._$6_mRes=new fi(n,4);this._$6_mRes.setFont(i.colors[0],i.size);this._$6_mRes.y=this.height-this._$6_mRes.height>>1;this.addChild(this._$6_mRes)}r(t,"games.UD_Displays.btns.UD_Btn_Buy",n);var i=t.prototype;return i.setType=function(n){this._$6_mRes.setType(n);this._$6_mRes.y=this.height-this._$6_mRes.height>>1},i.showValue=function(n){this._$6_mRes.showValue(n);this._$6_mRes.x=this.width-this._$6_mRes.width>>1},t}(wi),wd=function(n){function t(n,i){this.mMatchType=0;t.__super.call(this,n,"match_"+i);this.mMatchType=i;this.mCtrl=new ket(this.mSCon);f.Club.regist(720,this.onGetVecs,this)}r(t,"games.windows._club.lspj.ClubLspj_Match",n);var i=t.prototype;return i.start=function(){co.MatchType=this.mMatchType;n.prototype.start.call(this)},i.DoReq=function(n,t,i,r){f.Club.req720(n,t,i,0,this.mMatchType,r)},t}(sk),kgt=function(n){function t(n){t.__super.call(this,n,"xls");this.mCtrl=new fot(this.mSCon);f.Club.regist(719,this.onGetVecs,this)}r(t,"games.windows._club.lspj.ClubLspj_Xls",n);var i=t.prototype;return i.DoReq=function(n,t,i,r){f.Club.req719(n,t,i,r)},t}(sk),bd=function(n){function i(n){this.mGold=0;this.mDiam=0;this.mPreLang=null;this.mSendType=0;this.mT_gold=null;this.mT_diam=null;this.mAddMin=null;this.mR_gold=null;this.mR_dim=null;n===void 0&&(n=!1);i.__super.call(this,616,656,!1);n?(this.mPreLang="fundsJp_",this.mSendType=1):(this.mPreLang="fundsCr_",this.mSendType=0);this.updateTitle(this.mPreLang+"title",!0);this.mGold=u.obj(this.mPreLang+"gold");this.mDiam=u.obj(this.mPreLang+"daim");this.mT_gold=this.crtRest(46,this.mPreLang+"0","#ff5543");this.mT_diam=this.crtRest(322,this.mPreLang+"1","#1e99e6");this.graphics.fillText(u.lang(this.mPreLang+"2"),this.mWidth>>1,298,26,"#527b92","center");this.mAddMin=new fc(h.create(this,this.onNumChanged,null,!1),!0,1,140,48);this.mAddMin.pos(this.mWidth-this.mAddMin.width>>1,350);this.addChild(this.mAddMin);this.mR_gold=new fi(120);this.mR_gold.setFont("#3b4f62",30);this.mR_gold.showPre(this.mPreLang+"3");this.mR_gold.pos(178,442);this.addChild(this.mR_gold);this.mR_dim=new fi(122);this.mR_dim.setFont("#3b4f62",30);this.mR_dim.showPre(this.mPreLang+"4");this.mR_dim.pos(this.mR_gold.x,this.mR_gold.y+52);this.addChild(this.mR_dim);f.Account.regist(201,this.updateRes,this);f.Club.regist(705,this.updateRes,this);f.Club.regist(760,this.updateRes,this)}r(i,"games.windows._club.funds.Win_Club_Recharge",n);var t=i.prototype;return t.crtRest=function(n,t,i){var f=248,e=118,r;return this.graphics.drawRoundRect(10,f,134,"#c9d5e1",n,e),this.graphics.fillText(u.lang(t),n+.5*f>>0,e+78,30,"#3b4f62","center"),r=w.quickCreate(32,i),r.singleCharRender=!0,r.width=f,r.align="center",r.pos(n,e+32),r.text="0",this.addChild(r),r},t.start=function(){this.updateRes()},t.onNumChanged=function(n){if(n==0)this.mR_gold.showValue(0),this.mR_dim.showValue(0);else{var t=el.mVec[n-1];t&&(this.mR_gold.showValue(t.gold),this.mR_dim.showValue(t.costDim))}},t.onClkFeet=function(n){if(1==n){var t=this.mAddMin.getValue();t<1?ut.showMessage(this.mPreLang+"2"):(f.Club.req760(this.mAddMin.getValue(),this.mSendType),a.StopInsOp(this.iFeetMenu,500))}else this.doClose()},t.updateRes=function(){var n,t,i;this.parent&&(n=1==this.mSendType,this.mR_gold.setType(n?123:120),this.mR_gold.showPre(this.mPreLang+"3"),this.mT_gold.text=a.NumToStr(n?f.Club.Members.JP:f.Club.Members.Gold),this.mT_diam.text=a.NumToStr(nt.MyDetail.Diamond),t=el.mVec,i=t.length,i>0&&this.mAddMin.start(1,t[i-1].count))},i}(ar),dgt=function(n){function i(){this.mQuickLists=null;this.mCore=null;this.mInput=null;this.mBtnSend=null;i.__super.call(this,s.MAX_W,s.MAX_H*.54>>0,null);this.setCoord(0,2);this.resetTil(30,"#b2d6fb",this.H_TITLE);this.updateTitle("chat_title");this.graphics.drawRoundRect(20,this.mWidth,this.mHeight+32,"#222631");var t=28,r=h.create(this,this.onClkBtn,null,!1),n=k.crt_Btn(this,"btnAlert2",null,0,0,146);n.pos(t,this.H_TITLE-n.height-16>>1);n.label=u.lang("chat_quick");n.TmpData=2;n.setClick(r);n=k.crt_Btn(this,null,"mainUi/coms_btn_close_sml.png");n.pos(this.mWidth-n.width-t,this.H_TITLE-n.height-12>>1);n.TmpData=1;n.setClick(r);this.initIpnput(t,r);var f=this.H_TITLE-8,e=this.mWidth-t-t,o=this.mBtnSend.y-f-16;this.mQuickLists=new ewt(e,o,t,this.y+f);this.mCore=new kpt(e,o);this.mCore.pos(t,f);this.mCore.on("click",this,this.onClkItem);this.addChild(this.mCore)}r(i,"games.matchCores.panels.chat.MP_Chat",n);var t=i.prototype;return t.initIpnput=function(n,t){this.mBtnSend=k.crt_Btn(this,"btnAlert11");this.mBtnSend.pos(this.mWidth-this.mBtnSend.width-n,this.mHeight-this.mBtnSend.height-16>>0);this.mBtnSend.label=u.lang("chat_btn");this.mBtnSend.TmpData=3;this.mBtnSend.setClick(t);var i=this.mBtnSend.x-16-n;this.graphics.drawRoundRect(8,i,this.mBtnSend.height,"#ffffff",n,this.mBtnSend.y);this.mInput=new ci;this.mInput.multiline=this.mInput.wordWrap=!1;this.mInput.color=this.mInput.promptColor="#3b4f62";this.mInput.fontSize=24;this.mInput.restrict="^\n<>";this.mInput.maxChars=80;this.mInput.prompt=u.lang("chat_prompt");this.mInput.width=i-24;this.mInput.setVh(this.mBtnSend.height);this.mInput.pos(n+12,this.mBtnSend.y);this.mInput.ReturnKeyType=7;this.mInput.on("enter",this,this.doSubmit);this.addChild(this.mInput)},t.onDisable=function(){this.mQuickLists.Close();this.mInput.text=""},t.start=function(n){if(this.onDisable(),this.mCore.Start(o.MyDetail.SID,o.MatchVo.sID),n&&1==n.length)this.onQuickFill(1,n.shift())},t.onClkBtn=function(n){switch(n.TmpData){case 1:this.close();break;case 2:this.mQuickLists.parent?this.mQuickLists.Close():this.mQuickLists.Show();break;case 3:this.doSubmit()}},t.onClkItem=function(n){if(n.currentTarget!=n.target){var t=n.target;if(t.TmpData&&(t=t.TmpData,t.User)){this.onQuickFill(1,t.User);return}this.onQuickFill(2,t.Message)}},t.onQuickFill=function(n,t){this.mInput.text=1==n?"@"+t+" ":t;c.onPC&&(this.mInput.focus=!0)},t.doSubmit=function(){var n=this.mInput.text;b.CheckCharLength(n,this.mInput.maxChars,"chat_min","chat_max")&&(o.DsMatch.sendChat(n),this.mInput.text="",this.close())},i}(kr),ggt=function(n){function i(n,t){this.mVecRadios=null;this.mSwc=null;this.mRates=null;this.mAnum=null;this.mRnum=0;this.mJlNum=0;this.mTabIdx=0;this.mVecItems=null;i.__super.call(this,n,t,0);this.initUI();this.mAnum=[];this.mVecItems=[];as.sCaller=h.create(this,this.onItemsC,null,!1)}r(i,"games.windows.matches.creators.mtt.rewards.MttRwd_1_Zdy",n);var t=i.prototype;return t.initUI=function(){var r;this.addChild(this.mSwc=new uc(!0));var u=ot.CFG_MTT.OtherCfgs[10].data,i=0,e=u.length,f;this.mVecRadios=[];var t,o=h.create(this,this.onRadio,null,!1),s=h.create(this,this.onSlider,null,!1),n=this.mSwc.height+10;for(i;i<e;i++)f=u[i],t=new rc(f,o,-1,s),t.pos(0,n),n+=t.height+10,this.mVecRadios[i]=t,this.addChild(t);this.mVecRadios[1].Slider.setIntervals(this.mRates=ot.CFG_MTT.OtherCfgs[3].data,0);t.selected=!0;n=t.y+t.height+10>>0;this.graphics.drawRoundRect(20,this.mWidth,this.mHeight-n,"#386ebf40",0,n);r=new uc(!1);r.y=n;this.addChild(r);n+=r.height>>0;this.mSCon.y=n;this.mSCon.updateRect(this.mWidth,this.mHeight-n)},t.updateView=function(n){var i,r,u,t;for(this.mTabIdx=n,i=0,r=this.mVecRadios.length,n<0?n=0:n>r-1&&(n=r-1),u=this.mSwc.y+this.mSwc.height+10,i=0;i<r;i++){if(t=this.mVecRadios[i],t.y=u,n==i){t.selected=!0;this.onSlider(t.Slider.getValue(),t.Slider)}else t.DoReset();u+=t.height+10}as.sIsRate=1==n},t.onRadio=function(n){var t=n.TmpData;if(t!=this.mTabIdx){while(this.mVecItems.length>0)l.recyle(this.mVecItems.shift());this.updateView(t)}else n.selected=!0},t.onSlider=function(n,t){var r=t.TmpData,i;this.mJlNum=n;r==this.mVecRadios[0]?i=u.lang("mttRwd_2",n):(this.mJlNum=Math.ceil(n/100*this.mRnum),this.mJlNum>ot.Mtt_Join_Max&&(this.mJlNum=ot.Mtt_Join_Max),i=u.lang("mttRwd_3",n,this.mJlNum));r.updateText(i);this.onItemsC()},t.onItemsC=function(){this.timer.once(80,this,this.showItems)},t.showItems=function(){this.mSCon.ItemClean(!1);var n=0,h=this.mVecItems.length,f=this.mJlNum-h,i;if(f>0)for(n;n<f;n++)this.mVecItems.push(l.get(as));var u=100,e=0,t,o=as.sIsRate;if(!o)for(n=0;n<this.mJlNum;n++)t=this.mVecItems[n].Vo,t.locked&&(u-=t.per,e+=1);iu.RestRate=u;var c=ot.getMttRate(this.mJlNum-e),s=0,r=NaN,a=pi.RwdData.resType;for(n=0;n<this.mJlNum;n++)i=this.mVecItems[n],t=i.Vo,t.ResType=a,t.order=1+n,(o||!t.locked)&&(r=u*c[s]/100,r<0&&(r=0),t.per=r,s+=1),i.update(),this.mSCon.ItemAdd(i)},t.syncItems=function(n){while(this.mVecItems.length>0)l.recyle(this.mVecItems.shift());var t=0,r=n.length,i;for(t;t<r;t++)i=l.get(as),i.Vo.copy(n[t]),this.mVecItems[t]=i},t.start=function(){var t=pi.RwdData.Data_1,n,i,r,u;for(this.syncItems(t.Rewards),this.mAnum.length=0,this.mRnum=pi.RwdData.maxPlayers,n=this.mRnum,n<ot.Mtt_Join_Min?n=ot.Mtt_Join_Min:n>50&&(n=50),n+=1,i=0;i<n;)this.mAnum.push(i),i+=1;this.mVecRadios[0].Slider.setIntervals(this.mAnum,0);r=t.subType;u=0;u=0==r?this.mAnum.indexOf(t.rwdNum):this.mRates.indexOf(t.rwdRate);this.mVecRadios[r].Slider.setSelect(u);this.updateView(r);this.mSwc.selected=t.open},t.DoSave=function(n){var t=pi.RwdData.Data_1,r,u;t.subType=this.mTabIdx;r=this.mSCon.getItems();u=r.length;t.rwdNum=u;t.rwdRate=this.mVecRadios[1].Slider.getValue();t.open=this.mSwc.selected;var f=pi.RwdData,e=[],o,s,i=0;for(i;i<u;i++)s=r[i],e[i]=o=l.get(iu),o.copy(s.Vo);return pi.sDoCopy(t.Rewards,e),pi.sClrVec(e),f.bd=this.BdJc=n,f.type=1,f.Str=t.getStr(n),!0},i}(pi),kd=function(n){function i(){this.IsJoin=!1;this.mChipEnd=new kt;i.__super.call(this);this.doReset(!1)}r(i,"games.review.PM_Player",n);var t=i.prototype;return t.doReset=function(n){for(n&&(this.removeSelf(),this.IsJoin=!1),this.updateValiad(!0),this.showAllIn(!1),this.showCardType(99),this.mBetState=0,this.showState(0,null),this.updateNick("",""),this.updateIcon("");this.VecCards.length>0;)l.recyle(this.VecCards.shift());this.updateSit(2);this.mChip&&this.mChip.doRecyle();this.mChip=null},t.flyBet=function(){switch(this.mBetState){case 0:case 7:case 6:case 5:break;default:this.showState(0,null)}return n.prototype.flyBet.call(this)},t.setCoordsVo=function(t,i){n.prototype.setCoordsVo.call(this,t,i);this.pos(this.FinalX,this.FinalY);this.mChipEnd.setTo(.5*s.MAX_W-this.FinalX>>0,ui.toRealY(460)-this.FinalY);this.HandCoords.bankX=this.FinalX+this.mCoordsVo.zx>>0;this.HandCoords.bankY=this.FinalY+this.mCoordsVo.zy>>0;this.mChipBorn.setTo(39,102);this.mChipEnd.setTo(ui.COORDS_CURPOT.x-this.FinalX,ui.COORDS_CURPOT.y-this.FinalY);this.HandCoords.IsSelf=!1;this.HandCoords.hys=ii.OH_YS;this.HandCoords.sxs=ii.OHS_XS[o.HandCard_Num];this.HandCoords.sys=ii.OHS_YS;this.HandCoords.hxs=this.mFlip?ii.OH_RXS:ii.OH_LXS},t.isValid=function(){return this.IsJoin},t.setPlayer=function(n){this.setSelf(!1);this.updateSit(3);this.updateNick(n.nick,null);var t=n.icon;t||(t="1");t=t.length<5?"sysIcons/"+t+".png":i.ICON_PATH+t+".png";this.updateIcon(t);this.updateScroe(n.score)},t.updateBetState=function(n){this.mBetState=n;switch(n){case 10:this.updateValiad(!0);break;case 0:case 7:this.updateValiad(!1);break;case 6:this.updateValiad(!1);cu.sHelpP.setTo(o.FLOP_DEAL_COORDS.x,o.FLOP_DEAL_COORDS.y);this.globalToLocal(cu.sHelpP);var t=0,i,r=0;for(t;t<5;t++)i=this.VecCards[t],i&&(this.VecCards[t]=null,r=i.width>>1,i.moveAndRemove(0==t?cu.sHelpP.x-r:cu.sHelpP.x,cu.sHelpP.y,0,0,.2,350));break;case 5:this.showAllIn(!0)}this.showState(n,u.lang("betState"+n))},t.updateStartState=function(n){n>2&&this.showState(20,n-2)},i.ICON_PATH="http://dpzx-data.oss-cn-hangzhou.aliyuncs.com/users/",i}(cu),iv=function(n){function t(n,i,r){this.mArrow=null;t.__super.call(this,!0);this.setResConfig(n);this.label=i.label;this.TmpData=i.data;r&&(this.mArrow=st.CrtArrow(),this.mArrow.pos(this.width-this.mArrow.width-24>>0,this.height-this.mArrow.height>>1),this.addChild(this.mArrow))}r(t,"games.UD_Displays.menus.UD_MenuItem_Base",n);var i=t.prototype;return i.DelArrow=function(){this.mArrow&&this.mArrow.removeSelf()},t}(wi),nnt=function(n){function t(){t.__super.call(this,!0);this.res="mainUi/btn_lock.png"}r(t,"games.scene.modules.me.SceMe_EjmmBtn",n);var i=t.prototype;return i.doSubClick=function(){b.OpenWin(190)},t}(wi),tnt=function(n){function t(){t.__super.call(this,"clubMem_tabs","clubMem_Title")}r(t,"games.windows._club.members.Win_Club_Members",n);var i=t.prototype;return i.initModules=function(n){this.mDicModules[0]=new rpt(n);this.mDicModules[1]=new hk(n,!0)},i.start=function(t){var i=f.Club.ClubVo.job<2?!0:!1;this.mTab.visible=i;n.prototype.start.call(this,t)},t}(sf),dd=function(n){function t(){this.mBtnHelp=null;t.__super.call(this);this.mouseEnabled=!0;this.mBtnHelp=new ve(null,"2")}r(t,"games.windows.matches.ranks.McRank_1_Item",n);var i=t.prototype;return i.recyle=function(){FioLibs.displays.mixTex.Fio_MixIns_Base.prototype.recyle.call(this);this.mBtnHelp.removeSelf();this.mBtnHelp.setTips(null)},i.setData=function(n,i,r,u){this.mBtnHelp.setTips(i);this.updateValue(0,n);r&&this.Tex_AddIns(u?t.sFlagS:t.sFlagB);var e=!1,f=i;b.getCharLength(f)>36&&(f=b.cutStrAsLen(i,36),e=!0,this.addChild(this.mBtnHelp));this.updateValue(1,f,null,t.X_AWD);this.Tex_Make(!0);t.sFlagS.removeSelf();t.sFlagB.removeSelf();e&&(this.mBtnHelp.pos(this.mWidth-this.mBtnHelp.width-12,this.mHeight-this.mBtnHelp.height-4>>1),this.addChild(this.mBtnHelp))},t.X_AWD=0,d(t,["sFlagS",function(){return this.sFlagS=st.CrtImg("mainUi/img_getSmall.png",8)},"sFlagB",function(){return this.sFlagB=st.CrtImg("mainUi/img_getBig.png",8)}]),t}(lr),int=function(n){function t(){this.mMenus=null;this.mHandler=null;this.mCallback=null;t.__super.call(this,!0);this.setResConfig("QuickMenu");this.autoWidth();this.mHandler=h.create(this,this.onListClick,null,!1);this.on("click",this,this.doClick)}r(t,"FioLibs.displays.coms.extendComs.menus.popIconMenu.FioPopMenuBtn",n);var i=t.prototype;return i.reset=function(){this.removeSelf();this.mCallback&&this.mCallback.recover();this.mCallback=null;this.label="";this.mMenus=null},i.doClick=function(){t.S_Point.setTo(0,0);this.localToGlobal(t.S_Point);t.S_Point.y+=this.height+16>>0;wvt.ins.showMenus(this.mMenus,this.mHandler,t.S_Point.x,t.S_Point.y,this.width)},i.create=function(n,t,i){this.setLabel(n);this.setMenus(t);this.setCallback(i)},i.setLabel=function(n){this.label=u.lang(n);this.mAuto_W&&this.autoWidth()},i.setMenus=function(n){this.mMenus=null;n&&(this.mMenus=u.obj(n))},i.setCallback=function(n){this.mCallback&&this.mCallback.recover();this.mCallback=n},i.onListClick=function(n){this.mCallback&&this.mCallback.runWith(n)},d(t,["S_Point",function(){return this.S_Point=new kt}]),t}(wi),rnt=function(n){function i(n,t){var f,e,r,o;this.mVecItems=null;this.mBtnAdd=null;this.mValTotal=0;this.mVecIds=[];i.__super.call(this,n,t,0);f=w.quickCreate(28,"#b2d6fb");f.text=u.lang("mttRwd_20");f.pos(32,24);this.addChild(f);e=ai.CrtIns(t-f.x*2,u.lang("mttRwd_21"),24,"#5680be",10);e.pos(f.x,72);this.addChild(e);r=e.y+e.height+12;this.graphics.drawRoundRect(20,t,r,"#386ebf40");r+=10;this.graphics.drawRoundRect(20,this.mWidth,this.mHeight-r,"#386ebf40",0,r);o=new uc(!1);o.y=r;this.addChild(o);r+=o.height+2>>0;this.mSCon.y=r;this.mSCon.updateRect(this.mWidth,this.mHeight-r-2);this.mVecItems=[];wa.sCaller=h.create(this,this.onItemsC,null,!1);this.mBtnAdd=k.crt_Btn(null,null,"mainUi/comsBtn_add2.png");this.mBtnAdd.x=this.mSCon.x+this.mWidth-this.mBtnAdd.width-28;this.mBtnAdd.setClick(h.create(this,this.addNew,null,!1))}r(i,"games.windows.matches.creators.mtt.rewards.MttRwd_2_Tickets",n);var t=i.prototype;return t.start=function(){this.doSubStop();this.syncItems(pi.RwdData.Data_2.Rewards)},t.doSubStop=function(){this.mSCon.ItemRemove(this.mBtnAdd);this.mSCon.ItemClean(!1)},t.DoSave=function(n){var e,i,f,t;if(this.mVecIds.length>0)return ut.showMessage(u.lang("mttRwd_err3",this.mVecIds.join(",")),!1),!1;if(e=!0,i=this.mVecItems.length,i>0&&(f=this.mVecItems[i-1],f.TotalVals>0&&(e=!1)),e)return ut.showMessage("mttRwd_err2"),!1;if(!rt.Crt_Match_IsPlat&&this.mValTotal>n)return ut.showMessage("mttRwd_err0"),!1;t=pi.RwdData.Data_2;t.subType=1;t.rwdNum=0;t.rwdRate=0;t.open=!1;var o=pi.RwdData,s=[],h,r=0;for(r;r<i;r++)f=this.mVecItems[r],s[r]=h=l.get(iu),h.copy(f.Vo);return pi.sDoCopy(t.Rewards,s),pi.sClrVec(s),o.bd=this.BdJc=n,o.type=2,o.Str=u.lang("mttRwd_52",i,a.NumToStr(n)),!0},t.addNew=function(n){var t=l.get(wa);this.mVecItems.push(t);this.updateView(!0);n&&t.openZdy()},t.syncItems=function(n){for(var t,i,r;this.mVecItems.length>0;)l.recyle(this.mVecItems.shift());if(t=0,i=n.length,i>0){for(t;t<i;t++)r=l.get(wa),r.Vo.copy(n[t]),this.mVecItems[t]=r;this.updateView(!1)}else this.addNew()},t.onItemsC=function(n){if(n){var t=this.mVecItems.indexOf(n);t>-1&&this.mVecItems.splice(t,1);l.recyle(n)}this.updateView(!0)},t.updateView=function(n){this.mSCon.ItemRemove(this.mBtnAdd);this.mSCon.ItemClean(!1);this.mValTotal=0;var i=0,o=this.mVecItems.length,t,e,s=pi.RwdData.resType,h=o>1,r=99999999,f=0;for(this.mVecIds.length=0,i=0;i<o;i++)t=this.mVecItems[i],e=t.Vo,e.ResType=s,e.order=1+i,t.update(h),f=t.TotalVals,this.mValTotal+=f,0==i?(t.MaxVals=r,r=f):f<1?t.MaxVals=r:(this.mVecIds.length>0&&this.mVecIds.push(e.order),f>r&&0==this.mVecIds.length&&this.mVecIds.push(e.order),t.MaxVals=r,r=f),this.mSCon.ItemAdd(t);this.mVecIds.length>0&&ut.showMessage(u.lang("mttRwd_err3",this.mVecIds.join(",")),!1);t&&t.TotalVals>0&&this.mSCon.ItemAdd(this.mBtnAdd);n&&this.timer.once(50,this,this.toBottom)},t.toBottom=function(){this.mSCon.toBottom(!0)},i}(pi),unt=function(n){function t(){t.__super.call(this,"zjC_tabs","zjC_title")}r(t,"games.windows._club.zj.Win_Club_ZJ",n);var i=t.prototype;return i.onDisable=function(){n.prototype.onDisable.call(this);f.Sql.quit()},i.initModules=function(n){this.mDicModules[0]=new vgt(n,"zj_p");this.mDicModules[1]=new wgt(n,"zj_d")},t}(sf),fnt=function(n){function t(n,r,u){var c,a,f,e,o,l;this.mDicBtns=null;this.mVecOps=null;u===void 0&&(u="dp1");c=i.loader.getRes("matches/mu_subMenu_bg.png");t.__super.call(this,c.width>>0,c.height>>0,null);this.texture=c;this.y=s.MAX_H-this.mHeight-54;this.mDicBtns={};this.mVecOps=[];a=h.create(this,this.onClkBtn,null,!1);f=rt.GameConfigs.base_RoomMenus;for(l in f)e=f[l],f[l]=null,delete f[l],e&&(o=k.crt_Btn(null,"subMenu"),o.label=e.label,o.TmpData=e.data,o.setClick(a),this.mDicBtns[e.data]=o)}r(t,"games.matchCores.panels.MP_Menus",n);var u=t.prototype;return u.start=function(){while(this.numChildren>0)this.removeChildAt(0);if(this.mVecOps.length=0,o.MatchVo.isMTT()){this.mVecOps.push(8);var n=f.MTT.MatchDtl;1==n.state&&(n.Flag.bm?o.MyPlayer?(n.numCg-n.myCg>0&&this.mVecOps.push(102),n.numZg-n.myZg>0&&this.mVecOps.push(103),this.mVecOps.push(105)):0==n.myScore&&this.mVecOps.push(105):this.mVecOps.push(104));this.mVecOps.push(101,9)}else o.MatchVo.isSNG()?this.mVecOps.push(8,5,101,9):(this.mVecOps.push(8),this.mVecOps.push(o.MatchVo.isSitting()?3:10),this.mVecOps.push(o.MatchVo.IsUseScore?0:1),this.mVecOps.push(4),this.mVecOps.push(2==o.MatchVo.gameType?6:5),o.MatchVo.IsXlsDz||this.mVecOps.push(2),this.mVecOps.push(9));this.showBtns()},u.showBtns=function(){for(var t=0,u=this.mVecOps.length,i=0,n,r=0,t=0;t<u;t++)(n=this.mDicBtns[this.mVecOps.shift()],n)&&(r=i/4>>0,n.pos(16+184*(i%4),16+64*r),this.addChild(n),i+=1)},u.onClkBtn=function(n){ei.PlayEff(101);switch(n.TmpData){case 0:case 1:ki.open(21,!1);break;case 2:o.DsMatch.reqHolding(0);break;case 3:o.DsMatch.reqStand();break;case 4:ki.open(20);break;case 5:case 6:ki.open(26);break;case 7:ki.open(27);break;case 8:ki.open(2);break;case 9:o.DsMatch.reqQuit();break;case 10:o.DsMatch.reqFwf();break;case 101:ki.open(40);break;case 102:ef.askZgcg(1);break;case 103:ef.askZgcg(2);break;case 104:ef.askFh(!1);break;case 105:ef.askFh(!0)}this.close()},t}(kr),gd=function(n){function t(n,i,r,f){var o,s;this.mI_nm=null;this.mI_mh=null;this.mXs=null;this.mLang=null;this.mIsBase=!1;this.mUseIdx=null;this.mHtms=null;t.__super.call(this,n,i);this.mouseEnabled=!1;this.mI_nm=u.obj(f+0);this.mI_mh=u.obj(f+1);this.mXs=u.obj(f+"x");this.mIsBase=r;this.mLang=f;o=0;s=this.mI_nm.length;this.mHtms=[];var e,h=3,c=r?12:2,l=r?92:64;for(o;o<s;o++)e=new g("center"),e.style.fontSize=26,e.style.leading=c,e.style.color="#3b4f62",this.mHtms[o]=e,e.x=e.TmpData=this.mXs[o%h],e.y=l*(o/h>>0),this.MixCon.addChild(e)}r(t,"games.matchCores.panels.lookPlayer.MpLkPlayer_Data_Maker",n);var i=t.prototype;return i.setBase=function(n){this.mUseIdx=n?this.mI_mh:this.mI_nm},i.setVo=function(n){var s=n==null,h=rt.GameConfigs.scoreConfigs,r,t=0,c=this.mUseIdx.length,f=0,e=NaN,i,o;for(t;t<c;t++)f=this.mUseIdx[t],r=h[f],e=s?0:n["v"+f],i=this.mHtms[t],o=u.toColor(e+r.flag,a.getAreaColor(e,r)),i.innerHTML=u.lang(this.mLang,r.label,o),this.mIsBase&&(i.x=i.TmpData-.5*i.contextWidth>>0);this.update()},t}(li),rv=function(n){function i(n,t,r){i.__super.call(this,n,t,r);f.Club.regist(705,this.updateHas,this)}r(i,"games.windows._club.funds.hz.Modu_C_Gold",n);var t=i.prototype;return t.start=function(){n.prototype.start.call(this);this.mParams.tID=f.Club.ClubVo.cID},t.initParams=function(){this.mParams.from=1;this.mParams.isClub=!0;f.Club.regist(this.mParams.CmdHead=740,this.getHead,this);f.Club.regist(this.mParams.CmdVec=741,this.getVecs,this);f.Club.regist(this.mParams.CmdHz=742,this.getHz,this)},t.onBtn=function(){b.OpenWin(70)},t.updateHas=function(){this.mHead.updateHas(f.Club.Members.Gold)},t.reqHead=function(n,t){this.mIsHz?f.Club.reqFundHz(this.mParams.CmdHz,n,t):f.Club.reqFundHead(this.mParams.CmdHead,n,t)},t.reqPageVec=function(n,t,i){this.mIsHz||f.Club.reqFundPageVec(this.mParams.CmdVec,n,t,i)},t.addLogItem=function(t){var i=n.prototype.addLogItem.call(this,t);return t.type==16&&i.setOpType(2),i},i}(ak),ent=function(n){function t(){t.__super.call(this,"fundsC_tabs","fundsC_title")}r(t,"games.windows._club.funds.hz.Win_Club_Funds",n);var i=t.prototype;return i.initModules=function(n){this.mDicModules[0]=new rv(n,"fundsCg_",0);this.mDicModules[1]=new pii(n,"fundsJp_",0);this.mDicModules[2]=new wii(n,"fundsCs_",1)},t}(sf),yc=function(n){function t(n,i){this.mHeadPre=null;this.mFlag=null;t.__super.call(this,n,i);this.mHeadPre=i?"blind_room_":"blind_big_";this.iPre=this.mHeadPre+"item";this.mHeadPre+="head";this.mFlag=new ks(this.mWidth,this.iH,!1)}r(t,"games.windows.matches.ranks.McRank_4_Blind",n);var i=t.prototype;return i.doSubStop=function(){this.mFlag.removeSelf();this.mSCon.ItemClean(!0)},i.start=function(){this.doSubStop()},i.setType=function(n,t,i,r,u,f,e,o){var c,s,w,a,h,b;u===void 0&&(u=-1);f===void 0&&(f=-1);e===void 0&&(e=!1);o===void 0&&(o=0);this.doSubStop();var v=2==t,y=v?"_dp":"",p=this.mHeadPre+y;if(p!=this.TmpData&&ft.makeTitle(this,this.TmpData=p,this.mWidth,this.iTH,!1,!1,this.iIsRank?"#386ebf40":null),c=ot.getBlinds(n,t,i),c){for(fd.SX=this.iIsRank?80:108,ft.crtStart(ft.sGetTab(this.iPre+y),this.mWidth,this.iH),s=1,w=c.length,s;s<w;s++)a=c[s],a.ZmTime=r,h=l.get(fd),h.setData(a,f,e,o,v),this.mSCon.ItemAdd(h),u==a.lv&&(b=h,h.addChildAt(this.mFlag,0));ft.crtDone();this.mSCon.selectItem(b)}},t}(ds),ont=function(n){function i(){this.mOrgMenus=null;this.mHeadOp=0;this.mRaceID=0;this.mMenuHd=null;this.mVecIdxs=null;this.mMenus=null;this.mFlags=null;i.__super.call(this,!0);this.res="mainUi/mttWinBtn.png";this.visible=!1;this.mOrgMenus=u.obj("mtt_winDtl_orgMenus");this.mVecIdxs=[];this.mMenus=[];this.mMenuHd=h.create(this,this.onMenus,null,!1)}r(i,"games.windows.matches.mttWins.details.WinMttDtl_AdminBtn",n);var t=i.prototype;return t.initMenus=function(n,t){var r=u.obj("mtt_winDtl_menus_"+t),f=[],i=0,e=r.length;for(i;i<e;i++)f.push(n[r.shift()]);return f},t.onDisable=function(){this.visible=!1;this.mVecIdxs.length=0;this.mMenus.length=0;dr.ins.Close()},t.updateDetail=function(n){var r,t;if(this.onDisable(),this.mRaceID=n.RaceID,n.isAdmin){var u=0==n.tStart,f=!u&&c.nowSeconds()>n.tStart,i=-1;switch(n.isTop){case 0:i=1;break;case 1:i=0}if(i>-1&&this.mVecIdxs.push(i),0==n.state&&(u?this.mVecIdxs.push(2,3,4):f?this.mVecIdxs.push(3):this.mVecIdxs.push(3,4)),r=this.mVecIdxs.length,r>0){for(t=0,t;t<r;t++)this.mMenus[t]=this.mOrgMenus[this.mVecIdxs.shift()];this.mFlags||(this.mFlags=new gat);this.mFlags.setVal(n.YjsType,n.Flag.Flag32);this.visible=!0}}},t.doSubClick=function(){this.mMenus.length>0&&dr.ins.pop(this.mMenus,this.mMenuHd)},t.onMenus=function(n){12==n?pt.Alert(this.mFlags,this,null,[this.onFlagC,null],u.lang("mtt_winDtl_flag_set")):(this.mHeadOp=n,pt.Alert(u.lang("mtt_winDtl_tip_"+this.mHeadOp),this,null,[this.onHeadAlert,null]))},t.onFlagC=function(){f.MTT.reqFlagC(this.mRaceID,this.mFlags.getVal())},t.onHeadAlert=function(){switch(this.mHeadOp){case 0:f.MTT.reqTop(this.mRaceID,!1);break;case 1:f.MTT.reqTop(this.mRaceID,!0);break;case 10:f.MTT.reqJiesan(this.mRaceID);break;case 11:f.MTT.reqStart(this.mRaceID)}},i}(wi),snt=function(n){function i(){var f;this.mT_add=null;this.mSlider=null;this.mR_n=null;this.mR_h=null;this.mCre=null;this.mAreas=null;i.__super.call(this,616,646);this.updateTitle("addChip_title");var r=20,n=this.H_TITLE,t=ai.CrtIns(0,u.lang("addChip_0"));t.pos(this.mWidth-t.width>>1,n);this.addChild(t);n+=50;this.mT_add=new g("center");this.mT_add.innerHTML=u.lang("addChip_1",99999999);this.mT_add.pos(this.mWidth-this.mT_add.width>>1,n);this.addChild(this.mT_add);n+=this.mT_add.height+r>>0;this.mSlider=new ps(536,h.create(this,this.updateAdd,null,!1));this.mSlider.pos(this.mWidth-this.mSlider.width>>1,n);this.addChild(this.mSlider);n+=this.mSlider.height+r;this.mR_n=this.crtRes("addChip_2",68,n);this.mR_h=this.crtRes("addChip_3",368,n);n+=this.mR_h.height+r+4;this.mCre=new g;this.mCre.innerHTML=u.lang("addChip_4",0,0);this.mCre.y=n;this.addChild(this.mCre);n+=this.mCre.height+r+12;t=ai.CrtIns(0,u.lang("addChip_5"));t.mouseEnabled=!0;t.pos(this.mWidth-t.width>>1,n);t.on("click",this,this.gotoShop);this.addChild(t);f=new fe(this.mWidth,null,h.create(this,this.onClkBtn,null,!1));f.y=this.mHeight-f.height-32;this.addChild(f);this.mAreas=[];o.DsMatch.regist(405,this.updateCre,this)}r(i,"games.matchCores.panels.dzdp.MP_AddChips",n);var t=i.prototype;return t.crtRes=function(n,t,i){var r=new fi(120);return r.setFont("#ff5543",28),r.showPre(n,!0,"#3b4f62"),r.pos(t,i),this.addChild(r),r},t.gotoShop=function(){b.OpenWin(171)},t.onDisable=function(){this.C_IsSpecial=!1},t.start=function(n){this.C_IsSpecial=n[0];this.mCre.visible=o.MatchVo.IsDrkz;this.mAreas.length=0;var u=o.MatchVo.littleBB*100>>0,i=o.MatchVo.suringMin,f=o.MatchVo.suringMax,t=0,r=i>>1;for(t;t<5;t++)this.mAreas.push(i+r*t>>0);this.mSlider.Slider.setIntervals(this.mAreas,0);this.mSlider.Slider.showInterval(!0,this.mAreas.length<8);this.updateAdd(i);this.updateCre();this.mR_h.showValue(o.MyDetail.Gold);this.mR_h.x=this.mWidth-this.mR_h.width-this.mR_n.x>>0},t.updateAdd=function(n){this.mT_add.innerHTML=u.lang("addChip_1",a.NumToStr(n));this.mT_add.x=this.mWidth-this.mT_add.width>>1;this.updateNeed(n)},t.updateNeed=function(n){var t=a.toNumber(n*o.MatchVo.roomCre.jfpRate,o.IsIntBet);o.MatchVo.IsUseGold?this.mR_n.showValue(a.toNumber(n*o.MatchVo.roomCre.gdRate,o.IsIntBet)+"+"+t):this.mR_n.showValue(t)},t.updateCre=function(){this.mCre.innerHTML=u.lang("addChip_4",a.NumToStr(o.MatchVo.roomCre.creUsed),a.NumToStr(o.MatchVo.roomCre.creTotal));this.mCre.x=this.mWidth-this.mCre.contextWidth>>1},t.onClkBtn=function(n){var t=n.TmpData;switch(t){case 1:o.DsMatch.reqAddScore(this.mSlider.Slider.getValue())}this.close()},i}(kr),uv=function(n){function i(n,t){this.mDs=null;this.mType=0;this.mIsPri=!1;i.__super.call(this,n);this.mIsPri=t;this.mDs=f.SNG;this.mType=0}r(i,"games.windows.matches.matchLists.sng.MatchList_SNG",n);var t=i.prototype;return t.UnWatch=function(){this.mDs.remove(801,this.getCrtRst,this);this.mDs.remove(811,this.getLists,this);this.mDs.remove(812,this.getUpdates,this);this.mDs.remove(813,this.getDels,this);this.mIsPri&&this.mDs.remove(810,this.getLists,this)},t.onDisable=function(){n.prototype.onDisable.call(this);this.UnWatch();this.mDs.quit()},t.onEnable=function(){n.prototype.onEnable.call(this);this.UnWatch();this.mDs.regist(801,this.getCrtRst,this);this.mDs.regist(811,this.getLists,this);this.mDs.regist(812,this.getUpdates,this);this.mDs.regist(813,this.getDels,this);this.mIsPri&&this.mDs.regist(810,this.getLists,this)},t.setType=function(n){this.mType=n},t.doScroll=function(n){return n?(this.Start(),!0):(this.mIsPri||(this.showWating(!0),this.mDs.reqLists(!1,this.mType,this.iZdID)),!1)},t.reqLists=function(){n.prototype.reqLists.call(this);this.mIsPri?this.mDs.reqPriLists():this.mDs.reqLists(!0,this.mType,this.iZdID)},t.getCrtRst=function(n){0==n&&this.autoFresh(1)},t.getLists=function(n,t){var u=n.length,i,r;for(t&&(this.DoReset(),0==u&&this.showNoImg()),i=0,i;i<u;i++)r=l.get(iri),r.setVo(n.shift()),this.Ins_Add(r);this.autoFresh(this.getItems().length<7?30:0);this.doWaitComplete()},i}(da),hnt=function(n){function t(){t.__super.call(this,"fundsCm_tabs","fundsCm_title")}r(t,"games.windows._club.funds.mgr.Win_Club_ScoreAdmin",n);var i=t.prototype;return i.initModules=function(n){this.mDicModules[0]=new twt(n);this.mDicModules[1]=new ck(n,"fundsCe_",!0);this.mDicModules[2]=new bk(n,!0)},t}(sf),cnt=function(n){function i(n){i.__super.call(this,n,"leagueFund_",1,!1);f.Leagues.regist(901,this.updateHas,this)}r(i,"games.windows._leagues.funds.Modu_Lea_Funds",n);var t=i.prototype;return t.start=function(){n.prototype.start.call(this);this.mParams.tID=f.Club.ClubVo.cID},t.initParams=function(){this.mParams.from=12;this.mParams.isClub=!1;f.Leagues.regist(this.mParams.CmdHead=940,this.getHead,this);f.Leagues.regist(this.mParams.CmdVec=941,this.getVecs,this);f.Leagues.regist(this.mParams.CmdHz=942,this.getHz,this)},t.updateHas=function(){this.mHead.updateHas(f.Leagues.League.Fund)},t.reqHead=function(n,t){this.mIsHz?f.Leagues.reqFundHz(this.mParams.CmdHz,n,t):f.Leagues.reqFundHead(this.mParams.CmdHead,n,t)},t.reqPageVec=function(n,t,i){this.mIsHz||f.Leagues.reqFundPageVec(this.mParams.CmdVec,n,t,i)},t.addLogItem=function(t){var i=n.prototype.addLogItem.call(this,t);return t.type==18&&i.setOpType(3),i},i}(ak),lnt=function(n){function e(){this.mTotal=null;this.mCtrlPage=null;e.__super.call(this,s.MAX_H*.85>>0,!0);hs.s_w=this.W_CON-yu.S_COORDS.right;var n=yu.S_COORDS.y,t=new hs(0);t.pos(yu.S_COORDS.x,n);this.mCon.addChild(t);n+=t.height+2;this.mTotal=new hs(1);this.mTotal.pos(yu.S_COORDS.x,n);this.mCon.addChild(this.mTotal);n+=this.mTotal.height+2;this.Container.pos(yu.S_COORDS.x,n);this.Container.updateRect(this.W_CON-yu.S_COORDS.right,this.H_CON-n-yu.S_COORDS.height);this.mCtrlPage=new su(this);this.Container.setCallback(h.create(this,this.doTabRequest,null,!1));f.Sql.regist(1256,this.getLists,this)}r(e,"games.windows._sqlSubs.Win_CD_Unions_Sub",n);var t=e.prototype;return i.imps(t,{"FioLibs.interfaces.IFio_PageStep":!0}),t.onDisable=function(){this.Container.ItemClean(!0);this.mCtrlPage.setSource(null);f.Sql.req1256(0,0)},t.start=function(n){this.onDisable();this.Container.showWating();var t=n[1];this.updateTitle(u.lang("CD_Sub_Title",n[0],a.getStrDate(t)),!1);this.mTotal.updateValue(0);hs.s_time=t;f.Sql.req1256(t,n[2])},t.addStepItem=function(n){var t=l.get(hs);t.update(n);this.Container.ItemAdd(t,2)},t.doTabRequest=function(n){return n?!1:(this.Container.doWaitComplete(30),this.mCtrlPage.showNext())},t.getLists=function(n,t){this.parent&&(this.Container.ItemClean(!0),this.mTotal.updateValue(n),this.mCtrlPage.setSource(t),this.doTabRequest(!1),this.Container.doWaitComplete(0))},e}(yu),ng=function(n){function t(n,i){t.__super.call(this,n,i);var r=i?"desk_room_":"desk_big_";this.iPre=r+"item";ft.makeTitle(this,r+"head",this.mWidth,this.iTH,!1,!1,i?"#386ebf40":null)}r(t,"games.windows.matches.ranks.McRank_2_Desks",n);var i=t.prototype;return i.doSubStop=function(){this.mSCon.ItemClean(!0)},i.start=function(){this.doSubStop();this.mSCon.showWating(!0)},i.setRanks=function(n){this.doSubStop();ft.crtStart(ft.sGetTab(this.iPre),this.mWidth,this.iH,!1,!this.iIsRank);var i=0,u=n.length,r,t;for(i;i<u;i++)(t=n.shift(),t)&&(r=l.get(egt),r.setData(t,this.iBB,this.iIsMacthing),this.mSCon.ItemAdd(r),l.recyle(t));ft.crtDone();this.mSCon.doWaitComplete(0)},t}(ds),ant=function(n){function i(){var c;this.mImgGg=null;this.mDicIcons=null;i.__super.call(this,616,706,!0,0);this.updateTitle("userinfo_sysicon_t",!0);var t=100,e=120,o=5;this.mImgGg=st.CrtGG(!0);this.mImgGg.pos(t-this.mImgGg.width>>0,t-this.mImgGg.height>>0);var h=u.obj("userinfo_sysicons"),r=0,l=h.length,n,f=0;for(this.mDicIcons={},c=new ct(0,0,t,t),r;r<l;r++)f=h.shift(),n=new s,n.size(t,t),n.loadImage(wt.getUserIcon(f)),n.TmpData=f,this.mDicIcons[f]=n,n.mouseEnabled=!0,n.hitArea=c,n.pos(14+e*(r%o),e*(r/o>>0)),this.Container.addChild(n);this.updateTopH(120);this.Container.on("click",this,this.onClkIcon)}r(i,"games.windows.accounts.Win_SysIcon",n);var t=i.prototype;return t.onDisable=function(){this.mImgGg.removeSelf();this.mImgGg.TmpData=-1},t.start=function(){this.onDisable();var n=this.mDicIcons[Number(nt.MyDetail.iconID)||0];this.sltTar(n)},t.onClkIcon=function(n){n.currentTarget!=n.target&&this.sltTar(n.target)},t.sltTar=function(n){n&&(this.mImgGg.TmpData=n.TmpData,n.addChild(this.mImgGg))},t.onClkFeet=function(n){1==n&&f.Account.reqIconUpdate(this.mImgGg.TmpData);this.doClose()},i}(ar),ye=function(n){function i(){this.mTop=null;this.mFc=null;this.mZp=null;this.mMenus=null;this.mOutsY=0;this.mCanCalc=!1;this.mMaxTotal=NaN;i.__super.call(this,616,1e3);this.updateTitle("pbx_t");this.mTop=new rd;this.mTop.pos(this.mWidth-this.mTop.width>>1,this.H_TITLE);this.addChild(this.mTop);this.mOutsY=this.mTop.y+this.mTop.height+24;var n=h.create(this,this.onSelected,null,!1),t=h.create(this,this.onSlider,null,!1);this.toXCenter(this.mFc=new db(!0,n,t));this.toXCenter(this.mZp=new db(!1,n,null));this.mMenus=new hyt(h.create(this,this.onClickBtns,null,!1));this.toXCenter(this.mMenus);this.addChild(this.mMenus);o.DsMatch.regist(484,this.syncValues,this);o.DsMatch.regist(485,this.close,this)}r(i,"games.matchCores.panels.dzdp.bxJls.MP_Bx",n);var t=i.prototype;return t.onClickBtns=function(n){switch(n.TmpData){case 0:o.DsMatch.reqsafe_Drop();a.StopInsOp(this.mMenus,3e3);break;case 1:o.DsMatch.reqSafe(this.mFc.Value,this.mFc.OutsCards,this.mZp.Value,this.mZp.OutsCards);a.StopInsOp(this.mMenus,3e3);break;case 10:o.DsMatch.reqsafe_AddTime()}},t.start=function(n){var t,f;this.doSubClose();ei.PlayEff(21);t=n[0];f=t.opIndex==o.MatchVo.mySeat;this.C_IsSpecial=f;this.mFc.IsIntBet=o.IsIntBet;this.mZp.IsIntBet=o.IsIntBet;this.mMaxTotal=t.maxTotal;this.mTop.setData(t,o.FlopCards);var i=this.mOutsY,e=0,s=t.vecItems.length,r,u;for(e;e<s;e++)(u=t.vecItems[e],u)&&(r=u.isFc?this.mFc:this.mZp,r.setVo(u,f),this.isValid(u)&&(r.y=i,this.addChild(r),i+=r.height+24>>0));this.initValues();this.mCanCalc=!0;this.mMenus.Show(t.opTime,f?null:t.vecPlayers[0].nick);this.mMenus.y=i;i+=this.mMenus.height;this.updateHeight(i+28)},t.doSubClose=function(){this.mCanCalc=!1;this.mTop.DoReset();this.mFc.DoReset();this.mZp.DoReset();this.mMenus.DoReset()},t.onDisable=function(){a.StopInsOp(this.mMenus,0)},t.isValid=function(n){return n&&n.cards.length>0},t.syncValues=function(n){var t=this.mCanCalc;this.mCanCalc=!1;this.mFc.syncData(n.fc,n.fcCards);this.mZp.syncData(n.zp,n.zpCards);this.mMenus.stopDC();this.mCanCalc=t},t.onSelected=function(){this.mCanCalc&&(this.mCanCalc=!1,this.initValues(),this.mCanCalc=!0)},t.initValues=function(){var n=0,e=this.mFc.Rate,r=this.mFc.SBVo,f=0,u=this.mMaxTotal,t,i;this.isValid(r)&&(f=this.mFc.OutsCards.length,t=a.toNumber(r.minPF/o.DsMatch.getOutsRate(f||this.mFc.OutsNum),o.IsIntBet,1),this.mFc.mSlider.setMin(t),i=0,0==f?this.mFc.updateValues(t,0,t,!1):(n=a.toNumber(r.profit/e,o.IsIntBet,1),n>u&&(n=u),i=a.toNumber(r.basis/e,o.IsIntBet,1),i>n&&(i=n),this.mFc.updateValues(t,i,n)),u-=this.mFc.mSlider.getValue());this.updateZp(u)},t.onSlider=function(n){this.mCanCalc&&this.mFc==n&&(this.mCanCalc=!1,this.updateZp(this.mMaxTotal-this.mFc.Value),this.mCanCalc=!0)},t.updateZp=function(n){var i=this.mZp.SBVo,r,u,t;this.isValid(i)&&(r=this.mZp.OutsCards.length,0==r?this.mZp.updateValues(0,0,0,!1):(u=this.mZp.Rate,t=0,n>0&&(t=a.toNumber(i.profit/(u+1),o.IsIntBet,1),t>n&&(t=n)),this.mZp.updateValues(0,0,t)))},d(i,["CARD_W",function(){return this.CARD_W=u.obj("pbx_card_w")},"CARD_H",function(){return this.CARD_H=u.obj("pbx_card_h")}]),i}(kr),vnt=function(n){function t(){this.mL=null;this.mR=null;this.mBtn=null;this.mDicStr=null;t.__super.call(this,616,432);this.updateTitle("match_sting_t");var n=98,i=32,r="#1e99e6";this.mL=new g;this.mL.style.leading=i;this.mL.style.color=r;this.mL.pos(40,n);this.addChild(this.mL);this.mR=new g;this.mR.style.leading=i;this.mR.style.color=r;this.mR.pos(346,n);this.addChild(this.mR);this.mBtn=k.crt_Btn(null,"btnAlert11");this.mBtn.label=u.lang("match_sting_pause");this.mBtn.width=188;this.mBtn.pos(this.mWidth-this.mBtn.width>>1,this.mHeight-this.mBtn.height-28);this.mBtn.setClick(h.create(this,this.doSend,null,!1));this.mDicStr={};this.mDicStr[!0]=u.lang("open");this.mDicStr[!1]=u.lang("close")}r(t,"games.matchCores.panels.settings.MP_Setting_Match",n);var i=t.prototype;return i.start=function(){this.mBtn.removeSelf();o.MatchVo.isSNG()?this.showSng():o.MatchVo.isMTT()?this.showMtt():this.close()},i.showSng=function(){var n=f.SNG.MatchDtl;this.mL.innerHTML=u.lang("match_sting_sng_0",n.numJoin+" / "+n.numMax,n.zmTime,n.getName(!0),this.mDicStr[n.C_Vipgps]);this.mR.innerHTML=u.lang("match_sting_sng_1",a.NumToStr(n.scoreDef),this.mDicStr[n.C_Vjy],this.mDicStr[n.C_Vsq],this.mDicStr[n.C_Vmnq])},i.showMtt=function(){var n=f.MTT.MatchDtl;this.mL.innerHTML=u.lang("match_sting_mtt_0",n.numJoin+" / "+n.numMax,n.zmTime,n.delayLv+1,n.getBmStr());this.mR.innerHTML=u.lang("match_sting_mtt_1",a.NumToStr(n.scoreDef),n.xxGap,n.xxTime,this.mDicStr[n.Flag.jinyan]);o.MatchVo.isPause()?(this.mBtn.label=u.lang("match_sting_goon"),this.mBtn.TmpData=!1):(this.mBtn.label=u.lang("match_sting_pause"),this.mBtn.TmpData=!0);n.isAdmin&&this.addChild(this.mBtn)},i.doSend=function(){f.MTT.reqPause(o.MatchVo.roomID,this.mBtn.TmpData);this.close()},t}(kr),ynt=function(n){function t(){t.__super.call(this,"lang_title",rt.GameConfigs.lang)}r(t,"games.windows.me.setting.countryAndLang.Win_Language",n);var i=t.prototype;return i.start=function(n){this.onSubClose();this.Callback=n[0];var t=f.Login.Lang;t>0&&this.ShowCur(this.Container.findItem("TmpData",t))},i.onClkItem=function(t){return n.prototype.onClkItem.call(this,t)&&f.Login.saveLang(t.TmpData),!0},t}(vk),pnt=function(n){function t(){this.mIcon=null;this.mQr=null;this.mMyID=0;t.__super.call(this,null);this.setRes(wt.getAssImg("img_ivtFrds.png"),!1,528,770);this.mIcon=new hi(120,!0);this.mIcon.pos(this.mWidth-this.mIcon.width>>1,32);this.mIcon.mLabel.y+=6;this.addChild(this.mIcon);this.mQr=new tk(208,208);this.mQr.pos(this.mWidth-this.mQr.width>>1,370);this.addChild(this.mQr)}r(t,"games.windows.me.ivtFriends.IvtFriends_Qr",n);var i=t.prototype;return i.Show=function(n,t){this.mIcon.loadIcon(n.getIcon(),0,0);this.mIcon.setLabel(n.Nick,30,"#ffffff");this.mMyID!=n.SID&&(this.mMyID=n.SID,this.mQr.Show(t));this.stage.addChild(this)},t}(sc),wnt=function(n){function t(){t.__super.call(this,!1)}r(t,"games.windows.matches.creators.Win_MatchCrt_Sj",n);var i=t.prototype;return i.initModus=function(n){return this.mDicModus[0]=new ho(n,ot.CFG_DZ,0),this.mDicModus[1]=new ho(n,ot.CFG_DZ,1),this.mDicModus[2]=new ho(n,ot.CFG_DP,2),this.mDicModus[20]=new so(n,ot.CFG_SNG,0),this.mDicModus[21]=new so(n,ot.CFG_SNG,1),this.mDicModus[22]=new so(n,ot.CFG_SNG,2),n},t}(yk),bnt=function(n){function t(n,i){this.mHelp=null;this.mFlag=null;t.__super.call(this,n,i);var r=i?"sng_room_":"sng_big_";this.iPre=r+"item";ft.makeTitle(this,r+"head",this.mWidth,this.iTH,!1,!1,i?"#386ebf40":null);this.mHelp=[];this.mFlag=new ks(this.mWidth,this.iH,!1)}r(t,"games.windows.matches.ranks.McRank_5_PlayersSng",n);var i=t.prototype;return i.doSubStop=function(){this.mHelp.length=0;this.mFlag.removeSelf();this.mSCon.ItemClean(!0)},i.start=function(){this.doSubStop();this.mSCon.showWating(!0)},i.setRanks=function(n){this.doSubStop();var t=0,o=n.length,r,i,s=f.Account.Detail.SID,e=!1,u;for(ft.crtStart(ft.sGetTab(this.iPre),this.mWidth,this.iH,!1,!this.iIsRank),t;t<o;t++)(i=n.shift(),i)&&(e=s==i.sID,r=l.get(ckt),u=null,e?u="#4bc65c":0==i.score&&(u="#566c88"),r.setData(i,this.iBB,u),e?(r.addChildAt(this.mFlag,0),this.mHelp.unshift(r)):this.mHelp.push(r),l.recyle(i));for(ft.crtDone(),t=0;t<o;t++)this.mSCon.ItemAdd(this.mHelp.shift());this.mHelp.length=0;this.mSCon.doWaitComplete(0)},t}(ds),fv=function(n){function i(n,t){this.mDs=null;this.mType=0;this.mCmdList=0;this.mTotal=0;this.mMin=NaN;this.mMax=NaN;i.__super.call(this,n);this.mDs=f.Desk;this.mType=t;this.mMin=this.mMax=0;switch(this.mType){case 0:this.mCmdList=300;break;case 1:this.mCmdList=320;break;case 2:case 3:this.mCmdList=310}}r(i,"games.windows.matches.matchLists.dzdp.MatchList_DZDP",n);var t=i.prototype;return t.setArea=function(n,t){this.mMin=n;this.mMax=t},t.UnWatch=function(){this.mDs.remove(301,this.getCrtRst,this);this.mDs.remove(this.mCmdList,this.getLists,this);this.mDs.remove(312,this.getUpdates,this);this.mDs.remove(313,this.getDels,this);this.mDs.remove(322,this.getUpdates,this);this.mDs.remove(323,this.getDels,this)},t.onDisable=function(){n.prototype.onDisable.call(this);this.UnWatch();this.mDs.quitYp();this.mDs.quitHall();this.mDs.quitClubDesks();this.mTotal=0},t.onEnable=function(){n.prototype.onEnable.call(this);this.UnWatch();this.mDs.regist(301,this.getCrtRst,this);this.mDs.regist(this.mCmdList,this.getLists,this);this.mDs.regist(312,this.getUpdates,this);this.mDs.regist(313,this.getDels,this);this.mDs.regist(322,this.getUpdates,this);this.mDs.regist(323,this.getDels,this)},t.doScroll=function(n){return n?(this.Start(),!0):(this.mType>0&&(this.showWating(!0),this.sendRequst(!1)),!1)},t.reqLists=function(){n.prototype.reqLists.call(this);this.sendRequst(!0)},t.sendRequst=function(n){n&&(this.mTotal=0);switch(this.mType){case 0:n&&this.mDs.reqYp();break;case 1:this.mDs.reqClubDesks(this.iZdID,100,n);break;case 2:case 3:this.mDs.reqHallLists(-1,0,this.mMin,this.mMax,n)}},t.getCrtRst=function(n){0==n&&this.autoFresh(1)},t.getLists=function(n,t,i){var u,r,f;for(this.mTotal=i,u=n.length,t&&(this.DoReset(),0==u&&this.showNoImg()),r=0,r;r<u;r++)f=l.get(rri),f.setVo(n.shift()),this.Ins_Add(f);this.autoFresh(this.getItems().length<7?30:0);this.doWaitComplete()},i}(da),knt=function(n){function i(){var n,t;this.mIcon=null;this.mTnum=null;this.mTscore=null;this.mBtn=null;i.__super.call(this,606,766,null);this.loadImage(wt.getAssImg("mtt_mdcgWin.png"));n=new fu;n.crtTitle(u.lang("mdcg_t"));n.pos(this.mWidth-n.width>>1,82-n.height>>1);this.addChild(n);t=new fu;t.crtTitle(u.lang("mdcg_tips"),this.mWidth-48,0,6);t.pos(this.mWidth-t.width>>1,680-.5*t.height>>0);this.addChild(t);this.mIcon=new wf;this.mIcon.toSize(300,160);this.mIcon.pos(this.mWidth-this.mIcon.width>>1,110);this.addChild(this.mIcon);this.addChild(this.mTnum=new g("center",!0));this.addChild(this.mTscore=new g);this.mTnum.y=296;this.mTnum.width=this.mWidth;this.mTnum.mouseEnabled=this.mTscore.mouseEnabled=!1;this.mTnum.style.leading=this.mTscore.style.leading=12;this.mBtn=k.crt_Btn(this,"reg",null,0,528,480);this.toXCenter(this.mBtn);this.mBtn.setClick(h.create(this,this.onClk,null,!1));f.MTT.regist(1470,this.getDtl,this);f.MTT.regist(1471,this.getRst,this)}r(i,"games.matchCores.panels.mtts.MP_MTT_Mdcg",n);var t=i.prototype;return t.doSubClose=function(){this.mBtn.label=u.lang("mdcg_3");this.mBtn.disabled=!0;this.mIcon.visible=!1;this.mTnum.innerHTML=this.mTscore.innerHTML=""},t.start=function(){this.doSubClose();this.getRst()},t.getDtl=function(n){if(this.doSubClose(),n&&n.RaceID==o.MatchVo.roomID){var t=gi.getTicket(n.tID);this.mIcon.load(t.displayid);this.mIcon.visible=!0;this.mTnum.innerHTML=u.lang("mdcg_0",t.name,n.tNum,n.rest);this.mTscore.innerHTML=a.NumToStr(u.lang("mdcg_1",n.need,n.has));this.mTscore.pos(this.mWidth-this.mTscore.contextWidth>>1,462-.5*this.mTscore.contextHeight>>0);this.mTscore.visible=!0;n.canDh&&n.has>=n.need&&(this.mBtn.label=u.lang("mdcg_2"),this.mBtn.disabled=!1)}},t.getRst=function(){f.MTT.reqMdcgDtl(o.MatchVo.roomID)},t.onClk=function(){this.mBtn.disabled=!0;f.MTT.reqMdcgDh(o.MatchVo.roomID)},i}(kr),tg=function(n){function t(n){this.mNumTip=null;this.mVo=null;this.mLayer=null;t.__super.call(this,!0);this.mLayer=n;this.res="mainUi/mu_btn_email.png";this.y=32;this.mNumTip=new bu(this);this.mNumTip.pos(this.width-18,-4);this.mVo=f.Message.AllVo;f.Message.regist(330,this.checkShow,this);this.checkShow()}r(t,"games.UD_Displays.messages.UD_Message_Btn",n);var i=t.prototype;return i.doSubClick=function(){b.OpenWin(20)},i.checkShow=function(){var n=this.mVo.TotalAll;this.mNumTip.showValue(n);this.mLayer&&(n>0?this.mLayer.addChild(this):this.removeSelf())},t}(wi),dnt=function(n){function t(){t.__super.call(this,!0)}r(t,"games.windows.matches.creators.Win_MatchCrt_Zd",n);var i=t.prototype;return i.initModus=function(n){return this.mDicModus[0]=new ho(n,ot.CFG_DZ,0),this.mDicModus[1]=new ho(n,ot.CFG_DZ,1),this.mDicModus[2]=new ho(n,ot.CFG_DP,2),this.mDicModus[10]=new yv(n,ot.CFG_MTT,0),this.mDicModus[11]=new yv(n,ot.CFG_MTT,1),this.mDicModus[12]=new yv(n,ot.CFG_MTT,2),this.mDicModus[13]=new eii(n,ot.YJS_MAIN),this.mDicModus[20]=new so(n,ot.CFG_SNG,0),this.mDicModus[21]=new so(n,ot.CFG_SNG,1),this.mDicModus[22]=new so(n,ot.CFG_SNG,2),n},t}(yk),ev=function(n){function t(){this.mHtm=null;this.mWidth=0;this.mHeight=0;t.__super.call(this,!0);this.toggle=!0;this.setResConfig("r3",null,!0);this.mHtm=new g;this.mHtm.style.fontSize=22;this.mHtm.style.valign="top";this.mHtm.style.color="#b2d6fb";this.mHtm.pos(this._width+10>>0,2-s.LEADING_SIZE);this.mHtm.on("link",this,this.openMzsm);this.mHtm.innerHTML=u.lang("login_mzsm");this.addChild(this.mHtm);this.mWidth=this.mHtm.x+this.mHtm.contextWidth+2>>0;var n=this.mHtm.y+this.mHtm.contextHeight>>0;this.mHeight=n>this._height?n:this._height}r(t,"games.windows.accounts.utils.MzsmRadio",n);var i=t.prototype;return i.openMzsm=function(){b.OpenWin(8,"shengming")},e(0,i,"width",function(){return this.mWidth},function(){}),e(0,i,"height",function(){return this.mHeight},function(){}),e(0,i,"label",n.prototype._$get_label,function(){}),t}(wi),gnt=function(n){function t(){this.mLists=null;t.__super.call(this,!1);this.mMenus=u.obj("settle_menus_0");this.mLists=new hit(this.Container)}r(t,"games.windows.matches.settler.matches.Win_Settler_Match",n);var i=t.prototype;return i.start=function(n){this.mRoomID=0;var t=n[0];t instanceof games.cores.dataServices.matchSvc.mtt.S_MTT_ZJ?this.showData(t):f.MTT.reqZj(100,t)},i.onSubClose=function(){n.prototype.onSubClose.call(this);this.mLists.DoReset()},i.onMenu=function(n,t){var i=t.data;10==i&&this.mRoomID>0&&b.OpenWin(45,this.mRoomID,this.mMatchType)},i.showData=function(n){if(this.onSubClose(),n){this.mRoomID=n.sID;this.mMatchType=n.matchType;this.mHeader.ShowMatch(n);this.mBest3.ShowBest3(n.Players);var t=n.Flag.lierensai,i=t?1:0;n.isJjAwd&&(i=2);this.SetTitleHead("settle_mtt_title_"+i);this.mLists.initPlayers(n.Players,t)}},t}(pk),nti=function(n){function t(){t.__super.call(this,!0);this.setResConfig("main","matches/mm_brandsBtn_play.png")}return r(t,"games.UD_Displays.btns.UD_Btn_Play",n),t}(wi),tti=function(n){function t(n){t.__super.call(this,n,"zj_a",cii,221)}r(t,"games.windows.admins.Modu_Admin_ZJ",n);var i=t.prototype;return i.initParams=function(){f.Sql.regist(1290,this.getHead,this);f.Sql.regist(1291,this.getLists,this)},i.doSubmit=function(n,t){f.Sql.req1290(n,t)},t}(oc),ig=function(n){function t(){var i,n,r,f;for(this.PlayerVo=null,this.mOFFins=null,this.mVecShowIns=null,this.mBtnHold=null,this.mSitState=0,this.mRect=null,t.__super.call(this),i=o.PlayerScale,this.sInit(),this.scale(i,i),this.mOFFins=new pvt,this.mVecShowIns=[],n=0,n;n<5;n++)this.mVecShowIns[n]=r=st.CrtImg("cards/eye.png"),f=t.sRect_Cards[n],r.pos(f.right-r.width-2>>0,f.y+4);this.mBtnHold=k.crt_Btn(null,"dmHold");this.mBtnHold.pos(t.sRealW-this.mBtnHold.width>>1,83);this.mBtnHold.label=u.lang("match_backToSit");this.hitArea=this.mRect=new ct;this.mouseEnabled=!0;this.on("click",this,this.onClk)}r(t,"games.matchCores.desk.role.DM_Role",n);var i=t.prototype;return i.sInit=function(){if(!t.sRect_Ta){0==t.sRealW&&(t.sRealW=78);t.sRect_Icon=new ct(0,0,t.sRealW,t.sRealW);t.sRect_Val=new ct(0,t.sRealW+2,t.sRealW,32);t.sRect_Cards=[];var n=0,i=ii.HAND_XS,r=ii.HAND_YS;for(n;n<5;n++)t.sRect_Cards[n]=new ct(i[n],r[n],62,86);t.sRect_Ta=new ct(0,0,t.sRealW,t.sRect_Val.bottom);t.sRect_Me=new ct(0,0,0,t.sRect_Val.bottom)}},i.reRect=function(){this.callLater(this.extRect)},i.extRect=function(){this.PlayerVo?(t.sRect_Me.width=t.sRect_Cards[o.IsAmh?4:1].right,this.mRect.copyFrom(this.mIsSelf?t.sRect_Me:t.sRect_Ta)):this.mRect.copyFrom(t.sRect_Icon)},i.onClk=function(n){var r=this.mouseX,u=this.mouseY,f,e,i,s;if(this.mRect.contains(r,u)){if(t.sRect_Icon.contains(r,u)){this.PlayerVo?ki.open(4,this.mHead.IconPath,this.PlayerVo.index,this.PlayerVo.sID):1!=this.mSitState||o.MatchVo.isMTT()||o.DsMatch.reqSit(this.OrgIndex);return}if(t.sRect_Val.contains(r,u)){n.target==this.mBtnHold?o.DsMatch.reqHolding(1):o.setShowBB(!o.IsShowBB);return}if(f=o.HandCard_Num,this.VecCards.length!=f)return;for(i=0,i;i<f;i++)if(s=t.sRect_Cards[i],e=this.mVecShowIns[i],s&&e&&s.contains(r,u)){o.DsMatch.reqShow(i,e.parent?!1:!0);break}}},i.recyle=function(){n.prototype.recyle.call(this);l.recyle(this.PlayerVo);this.PlayerVo=null;this.showSitState(0);this.mBetState=99;this.mOFFins.removeSelf();this.mBtnHold.removeSelf();this.doReset()},i.doReset=function(){var n=0,t;for(n;n<5;n++)this.mVecShowIns[n].removeSelf();while(this.VecCards.length>0)l.recyle(this.VecCards.shift());this.updateValiad(!0);this.showAllIn(!1);this.showCardType(99);this.mChip&&this.mChip.doRecyle();this.mChip=null;t=!1;this.PlayerVo?this.updateScroe(this.PlayerVo.score):t=!0;this.mBetState==12||this.mBetState==0?this.updateValiad(!1):(this.showOffCD(0),t=!0,this.mBtnHold.removeSelf());t&&(this.mBetState=99,this.showState(0,null))},i.flyBet=function(){return this.canClearState()&&this.showState(0,null),n.prototype.flyBet.call(this)},i.setCoordsVo=function(i,r){n.prototype.setCoordsVo.call(this,i,r);ri.clearTween(this);this.mFlip&&(this.FinalX-=t.sRealW-78);r?ri.to(this,{x:this.FinalX,y:this.FinalY},150):this.pos(this.FinalX,this.FinalY);this.updateHandCoords(!1)},i.updateBet=function(t){this.PlayerVo&&(this.PlayerVo.betted=t);n.prototype.updateBet.call(this,t)},i.updateScroe=function(t){this.PlayerVo&&(this.PlayerVo.score=t);n.prototype.updateScroe.call(this,t)},i.isValid=function(){switch(this.mBetState){case 0:case 6:case 7:case 9:case 99:case 12:return!1}return!0},i.updateSitDown=function(n){this.PlayerVo||(n?this.showSitState(2):this.showSitState(1))},i.tabBB=function(){this.mHead.tabBB();this.mChip&&this.mChip.parent&&this.mChip.tabBB()},i.updatePrice=function(n){this.mHead.updateSj(n)},i.showOffCD=function(n){this.mOFFins.showOffCD(n);n>0?this.mOFFins.parent||this.addChild(this.mOFFins):(this.mOFFins.removeSelf(),this.mBtnHold.removeSelf())},i.showSitState=function(n){this.mSitState!=n&&(this.reRect(),this.mSitState=n,this.updateSit(o.MatchVo.isRace()&&this.mSitState==1?2:n))},i.checkPreType=function(){var u,r,f;if(0==o.FlopNum){t.sHelpCards1.length=0;t.sHelpCards2.length=0;var n=0,i=this.VecCards.length;for(n;n<i;n++)t.sHelpCards1[n]=t.sHelpCards2[n]=this.VecCards[n].getCardPoint()%13;if(t.sHelpCards1.sort(t.sSortType),i>0&&(i-=1,t.sHelpCards1[i]>-1)){for(u=1,r=-1,n=0;n<i;n++)if(t.sHelpCards1[n]==t.sHelpCards1[n+1]){r=t.sHelpCards1[n];u=2;break}if(o.Show_BestPoker&&(i+=1,f=0,r>-1))for(n=0;n<i;n++)f<2&&r==t.sHelpCards2[n]?(this.VecCards[n].showSelect(),f+=1):this.VecCards[n].showLow();this.showCardType(u)}t.sHelpCards1.length=t.sHelpCards2.length=0}},i.setPlayer=function(n){l.recyle(this.PlayerVo);this.PlayerVo=n;this.updateValiad(!0);this.mOFFins.removeSelf();this.mBtnHold.removeSelf();n?(this.setSelf(n.isSelf),this.showSitState(3),this.updateNick(n.nick,n.note),this.updateIcon(wt.getUserIcon(n.icon)),this.updateScroe(n.score),this.updateBet(n.betted),n.startState>0?(this.updateStartState(n.startState),this.silentUdBetState(n.betState)):this.updateBetState(n.betState),n.betState==12?this.updatePlayerOffCD(n.betState,n.cd):this.updateCD(n.cd)):(this.doReset(),this.mHead.DoReset(),this.setSelf(!1),this.mBtnHold.removeSelf());this.updateHandCoords(!0)},i.updateHandCoords=function(n){n&&0==this.mCoordsVo.index&&(this.FinalX=this.mIsSelf?this.mCoordsVo.x-ii.SELF_OFF[o.HandCard_Num]:this.mCoordsVo.x,this.mFlip&&(this.FinalX-=t.sRealW-78),ri.clearTween(this),ri.to(this,{x:this.FinalX,y:this.FinalY},150,null,null,0,!0));this.HandCoords.bankX=this.FinalX+this.mCoordsVo.zx>>0;this.HandCoords.bankY=this.FinalY+this.mCoordsVo.zy>>0;this.mChip&&(this.mChip.initFlip(this.mCFlip),this.mChip.pos(this.mCoordsVo.cx,this.mCoordsVo.cy));this.mChipBorn.setTo(t.sRealW>>1,t.sRealW+8>>0);var i=0,r;if(this.mIsSelf)this.HandCoords.IsSelf=!0,this.HandCoords.hxs=this.HandCoords.sxs=ii.HAND_XS,this.HandCoords.hys=this.HandCoords.sys=ii.HAND_YS;else for(this.HandCoords.IsSelf=!1,this.HandCoords.hys=ii.OH_YS,this.HandCoords.sxs=ii.OHS_XS[o.HandCard_Num],this.HandCoords.sys=ii.OHS_YS,this.HandCoords.hxs=this.mFlip?ii.OH_RXS:ii.OH_LXS,i;i<5;i++)r=this.VecCards[i],r&&r.IsBackIns&&r.pos(this.HandCoords.hxs[i],this.HandCoords.hys[i]);this.reRect()},i.update=function(n){this.updateBetState(n.betState);this.updateScroe(n.score);this.updateCD(n.cd);this.PlayerVo&&this.PlayerVo.betted!=n.betted&&this.updateBet(n.betted)},i.updatePlayerOffCD=function(n,t){this.showOffCD(t);this.PlayerVo&&n==12&&(this.mBetState=99,this.PlayerVo.cd=t);this.updateBetState(n)},i.updateStartState=function(n){this.PlayerVo&&(this.PlayerVo.startState=n);switch(n){case 0:break;case 1:case 2:this.showState(0,null);return;default:this.showState(20,n-2)}},i.silentUdBetState=function(n){this.PlayerVo&&(this.PlayerVo.betState=this.mBetState=n)},i.updateBetState=function(n){if(this.mBetState!=n){this.showAllIn(!1);this.mBtnHold.removeSelf();this.mBetState=n;switch(this.mBetState){case 10:this.updateValiad(!0);break;case 0:case 7:this.updateValiad(!1);break;case 6:this.updateValiad(!1);cu.sHelpP.setTo(o.FLOP_DEAL_COORDS.x,o.FLOP_DEAL_COORDS.y);this.globalToLocal(cu.sHelpP);var i=0,t,r,e=this.stage.isActive,f=0;for(i;i<5;i++)t=this.VecCards[i],t&&(this.mIsSelf?(r=ha.getBack(0,t.x,t.y),r.showBack(0,t.width,t.height),t=r,this.addChild(r)):this.VecCards[i]=null,f=t.width>>1,e?t.moveAndRemove(0==i?cu.sHelpP.x-f:cu.sHelpP.x,cu.sHelpP.y,0,0,.2,350):t.doRecyle());break;case 5:this.showAllIn(!0);break;case 12:for(this.mIsSelf&&this.PlayerVo.cd>0&&!this.mBtnHold.parent&&this.addChild(this.mBtnHold);this.VecCards.length>0;)l.recyle(this.VecCards.shift());break;default:this.updateValiad(!0)}this.showState(this.mBetState,u.lang("betState"+this.mBetState))}this.silentUdBetState(n)},i.updateCD=function(n){n>0&&(this.PlayerVo&&(this.PlayerVo.cd=n),oi.notify(413,this,n))},i.canClearState=function(){switch(this.mBetState){case 0:case 6:case 7:case 8:case 9:case 5:case 12:return!1}return!0},i.checkRndValid=function(){if(this.PlayerVo&&this.PlayerVo.cd>0){var i=o.HandCard_Num,n=0,t;for(n;n<i;n++)if(t=this.VecCards[n],!t||!t.parent)return!1}return!0},i.getShowResult=function(n,t){var i=this.mVecShowIns[n];t?i.parent||this.addChild(i):i.removeSelf()},i.isShowing=function(){if(this.mBetState==8)return!0;var n=0;for(n;n<5;n++)if(this.mVecShowIns[n].parent)return!0;return!1},e(0,i,"width",function(){return t.sRealW},function(){}),e(0,i,"height",function(){return t.sRealW},function(){}),t.sSortType=function(n,t){return 0==n?-1:0==t?1:n<t?1:n>t?-1:0},t.sRealW=0,t.sRect_Icon=null,t.sRect_Val=null,t.sRect_Cards=null,t.sRect_Me=null,t.sRect_Ta=null,d(t,["sHelpCards1",function(){return this.sHelpCards1=[]},"sHelpCards2",function(){return this.sHelpCards2=[]}]),t}(cu),rg=function(n){function t(n,i){this.mHelp=null;this.mFlag=null;t.__super.call(this,n,i);this.mHelp=[];this.mFlag=new ks(this.mWidth,this.iH,!1)}r(t,"games.windows.matches.ranks.McRank_3_PlayersMtt",n);var i=t.prototype;return i.doSubStop=function(){this.mHelp.length=0;this.mFlag.removeSelf();this.mSCon.ItemClean(!0)},i.start=function(){this.doSubStop();this.mSCon.showWating(!0)},i.setHunt=function(t){n.prototype.setHunt.call(this,t);this.texture&&this.texture.destroy(!0);var i;i=this.iIsRank?t?"mtt_hunt_room_":"mtt_pt_room_":t?"mtt_hunt_big_":"mtt_pt_big_";this.iPre=i+"item";ft.makeTitle(this,i+"head",this.mWidth,this.iTH,!1,!1,this.iIsRank?"#386ebf40":null)},i.setRanks=function(n){this.doSubStop();var t=0,o=n.length,r,i,s=f.Account.Detail.SID,e=!1,u;for(ft.crtStart(ft.sGetTab(this.iPre),this.mWidth,this.iH,!1,!this.iIsRank),t;t<o;t++)(i=n.shift(),i)&&(e=s==i.sID,r=l.get(odt),u=null,e?u="#4bc65c":0==i.score&&(u="#566c88"),r.setData(i,this.iIsHunt,this.iIsRank,this.iBB,this.iIsMacthing,u),e?(r.addChildAt(this.mFlag,0),this.mHelp.unshift(r)):this.mHelp.push(r),l.recyle(i));for(ft.crtDone(),t=0;t<o;t++)this.mSCon.ItemAdd(this.mHelp.shift());this.mHelp.length=0;this.mSCon.doWaitComplete(0)},t}(ds),iti=function(n){function t(){t.__super.call(this,"country_title",rt.GameConfigs.country)}r(t,"games.windows.me.setting.countryAndLang.Win_Country",n);var i=t.prototype;return i.start=function(t){n.prototype.start.call(this,t);var i=t[0];this.Callback=t[1];i>0&&this.ShowCur(this.Container.findItem("TmpData",i))},t}(vk),rti=function(n){function t(){this.mList=null;this.mVecMenus=null;t.__super.call(this,!0);this.SetTitleHead("settle_dz_title");this.mVecMenus=[];for(var n=0;n<2;n++)this.mVecMenus[n]=u.obj("settle_menus_"+n);this.mList=new uit(this.Container)}r(t,"games.windows.matches.settler.dz.Win_Settler_Dz",n);var i=t.prototype;return i.start=function(n){this.mRoomID=0;this.mMenus=this.mVecMenus[0];var t=n[0];t instanceof games.cores.dataServices.brands.S_RoomScore?this.showData(t):f.Room.reqRoomScore(t)},i.onSubClose=function(){n.prototype.onSubClose.call(this);this.mList.DoReset()},i.onMenu=function(n,t){var i=t.data;10==i?this.mRoomID>0&&b.OpenWin(44,this.mRoomID):(this.mMenuIdx=n,this.mList.changeType(i))},i.showData=function(n){(this.onSubClose(),n)&&(n.CanViewClub&&(this.mMenuIdx=1,this.mMenus=this.mVecMenus[1]),this.mRoomID=n.roomID,this.mMatchType=n.matchType,this.mHeader.ShowDz(n),this.mBest3.ShowBest3(n.zPlayers),this.mList.initVo(n),this.mList.changeType(0))},t}(pk),ug=function(n){function i(n){this.mDs=null;this.mShowType=0;this.mShowState=0;i.__super.call(this,n);this.mDs=f.MTT;this.mShowType=this.mShowState=-1}r(i,"games.windows.matches.matchLists.mtt.MatchList_MTT",n);var t=i.prototype;return t.UnWatch=function(){this.mDs.remove(1401,this.getCrtRst,this);this.mDs.remove(1402,this.getCrtRst,this);this.mDs.remove(1421,this.getLists,this);this.mDs.remove(1422,this.getUpdates,this);this.mDs.remove(1423,this.getDels,this)},t.onDisable=function(){n.prototype.onDisable.call(this);this.UnWatch();this.mDs.quitLists()},t.onEnable=function(){n.prototype.onEnable.call(this);this.UnWatch();this.mDs.regist(1401,this.getCrtRst,this);this.mDs.regist(1402,this.getCrtRst,this);this.mDs.regist(1421,this.getLists,this);this.mDs.regist(1422,this.getUpdates,this);this.mDs.regist(1423,this.getDels,this)},t.setOption=function(n,t){this.mShowType=n;this.mShowState=t;this.showLists()},t.doScroll=function(n){return n?(this.Start(),!0):!1},t.reqLists=function(){n.prototype.reqLists.call(this);this.mDs.reqLists(this.iZdID)},t.getCrtRst=function(n){0==n&&this.autoFresh(1)},t.getLists=function(){this.doWaitComplete();this.showLists()},t.showLists=function(){var i,n,t,r;if(this.DoReset(),i=this.mDs.Sgr.getVec(this.mShowType,this.mShowState),n=i.length,this.autoFresh(n<7?30:0),0==n)this.showNoImg();else for(t=0,t;t<n;t++)r=l.get(tri),r.setVo(i.shift()),this.Ins_Add(r)},i}(da),ov=function(n){function t(n,i){var u,r;this.mTxt=null;this.mHo=0;this.mAx=0;t.__super.call(this,n,i);u=i?"award_room_":"award_big_";this.iPre=u+"item";r=ft.sGetTab(u+"head");this.mAx=r[r.length-1].x;ft.makeTitle(this,r,this.mWidth,this.iTH,!1,!1,i?"#386ebf40":null);this.updateTopH(this.iTH+1);this.mHo=this.mSCon.height;i||(this.mTxt=new g,this.mTxt.style.fontSize=24,this.mTxt.style.color="#5680be",this.mTxt.y=n+6)}r(t,"games.windows.matches.ranks.McRank_1_Award",n);var i=t.prototype;return i.doSubStop=function(){this.mTxt&&this.mTxt.removeSelf();this.mSCon.ItemClean(!0)},i.start=function(){this.doSubStop();this.mSCon.showWating(!0);dd.X_AWD=this.mAx},i.setHunt=function(t){n.prototype.setHunt.call(this,t)},i.setRanks=function(n,t,i,r){this.doSubStop();this.mTxt&&(this.mTxt.innerHTML=u.lang("mtt_winDtl_award_"+t,r,i),this.toXCenter(this.mTxt),this.addChild(this.mTxt));ft.crtStart(ft.sGetTab(this.iPre),this.mWidth,this.iH);var e=0,s=n.length,o,f;for(e;e<s;e++)(f=n.shift(),f)&&(o=l.get(dd),o.setData(f.order,f.awdStr,f.isGot,this.iIsRank),this.mSCon.ItemAdd(o),l.recyle(f));ft.crtDone();this.mSCon.doWaitComplete(0)},t}(ds),uti=function(n){function t(){this.mRes=null;this.mRects=null;this.mID=null;this.mImgWin=null;t.__super.call(this);this.mRes=[u.obj("kf_title")];this.mRects=u.obj("kf_cfgs");this.mID=u.lang("kf_ID_normal");this.mImgWin=new sc(null);this.mImg.mouseEnabled=!0;this.mImg.on("click",this,this.openKf)}r(t,"games.windows.me.kf.Win_KF",n);var i=t.prototype;return i.onSubClose=function(){this.mImgWin.removeSelf()},i.start=function(){n.prototype.start.call(this,this.mRes)},i.openKf=function(){var i=this.mImg.mouseX,r=this.mImg.mouseY,t=0,u=this.mRects.length,n;for(t;t<u;t++)if(n=this.mRects[t],n&&i>n.x&&i<n.x+n.w&&r>n.y&&r<n.y+n.h){et.isShell()&&!et.isZsb()?et.callWXCS(this.mID,n.url):this.mImgWin.setRes(n.img,!0,n.iw,n.ih);break}},t}(wk),sv=function(n){function t(n){this.mBtnFav=null;t.__super.call(this,504,n,!1);var s=h.create(this,this.onClkBtns,null,!1),o=u.obj("pBrands_btns_mtt"+(n?"_back":"")),r,e=0,c=o.length,f,i=0;for(e;e<c;e++)f=o.shift(),r=k.crt_Btn(this,"main","matches/mm_brandsBtn_"+f.data+".png",f.x,i),0==i&&(i=this.mHeight-52,r.y=i),r.TmpData=f.data,r.setClick(s),2==f.data&&(this.mBtnFav=r);i-=8;this.mCon.updateRect(0,i-this.mCon.y-8)}r(t,"games.windows.matches.brands.aBrand.A_Brand_MTTView",n);var i=t.prototype;return i.DoCheckInFav=function(n){this.mBtnFav.res="matches/mm_brandsBtn_"+(n?22:2)+".png"},i.onClkBtns=function(n){var t=n.TmpData;7==t?this.Close():this.reqTousuOrFav(t)},t}(cc),hv=function(n){function t(){this.mIcon=null;this.mStar=null;t.__super.call(this);this.mIcon=new hi(46,!1,4);this.mIcon.pos(56,8);this.addChild(this.mIcon);this.mStar=new bf;this.mStar.pos(66,36);this.addChild(this.mStar)}r(t,"games.windows._commons.zj.subs.ZjSubItem_Club",n);var i=t.prototype;return i.setVo=function(t,i){this.mStar.showStar(i.cLev);this.mIcon.loadIcon(i.icon,1);n.prototype.setVo.call(this,t,i)},i.onClick=function(){b.OpenWin(222,t.s_ts,t.s_te,this.TmpData,this.mName)},t.s_ts=0,t.s_te=0,t}(ga),fti=function(n){function t(){this.mBg=null;this.mTname=null;this.mTval=null;this.mBetState=null;t.sInitTexs();t.__super.call(this,t.sMw,t.sMh,78,8,!1);this.mouseEnabled=!1;this.iIcon.pos(t.sMp,t.sMp);this.mBg=new s;this.mTname=ui.crtTxt(22,-30);this.mTval=ui.crtTxt(22,t.sMh+(wr.IsApp?1:3));this.mBetState=new tbt(t.sMw)}r(t,"games.matchCores.desk.role.DM_Role_Icon",n);var f=t.prototype;return f.DoReset=function(){this.Tex_Clear();this.iIcon.sitter_Reset();this.iIcon.removeSelf();this.mTname.removeSelf();this.mTval.removeSelf();this.mBetState.DoReset();this.updateValiad(1);this.updateSit(0)},f.Tex_DoMix=function(){this.Tex_Clear();this.MixCon.addChildAt(this.mBg,0);var f=this.mWidth,e=this.mHeight,o=0,i=0;if(this.mTname.parent){i=-this.mTname.y;e=e+i;var r=0,s=f,h=this.MixCon.numChildren,u=0,n;for(u;u<h;u++)n=this.MixCon.getChildAt(u),n&&(r=Math.min(r,n.x),s=Math.max(s,n.x+n.width));o=-r;f=s-r}this.pivot(t.sMp+o,t.sMp+i);this.texture=cf.getTex(this.MixCon,f,e,o,i)},f.initFlip=function(n){this.mBetState.initFlip(n)},f.updateValiad=function(n){var t=0,r=this.MixCon.numChildren,i;for(t;t<r;t++)i=this.MixCon._children[t],i&&i!=this.mBetState&&(i.alpha=n);this.update()},f.updateSit=function(n){var i=t.sTexs[n]||t.sTexs[1];this.mBg.texture=i;this.toSize(i.width>>0,i.height>>0);this.update()},f.updateNick=function(n,t){var i=t||n;this.mTname.text=i;a.AutoTextSize(this.mTname,22,this.mWidth+34);this.toXCenter(this.mTname);this.mTname.parent||this.MixCon.addChild(this.mTname);this.update()},f.updatePlayer=function(n){this.iIcon.sitter_Load(n);this.iIcon.parent||this.MixCon.addChildAt(this.iIcon,0);this.update()},f.updateScroe=function(n){n?(this.mTval.text=n,this.mTval.typeset(),this.toXCenter(this.mTval),this.mTval.parent||this.MixCon.addChild(this.mTval)):this.mTval.removeSelf();this.update()},f.showState=function(n,t){t?(this.mBetState.showState(n,t),this.mBetState.parent||this.MixCon.addChild(this.mBetState)):this.mBetState.removeSelf();this.update()},t.sInitTexs=function(){var r,n;if(!t.sTexs){t.sTexs=[];t.sTexs[3]=i.loader.getRes("matches/mm_playerHas.png");var f=i.loader.getRes("matches/mm_playerNull.png"),e=f.width>>0,o=f.height>>0;t.sMw=e>>0;t.sMh=o>>0;t.sMp=t.sMw-78>>1;t.sTexs[0]=f;r=new s;r.texture=f;n=w.quickCreate(24,"#b2d6fb99");n.align="center";n.width=e;n.setVh(o);r.addChild(n);n.text=u.lang("sitdown");n.typeset();t.sTexs[1]=cf.getTex(r,e,o,0,0);n.text=u.lang("sitEmpty");n.typeset();t.sTexs[2]=cf.getTex(r,e,o,0,0);n.removeSelf();n.destroy();r.destroy()}},t.sTexs=null,t.sMw=0,t.sMh=0,t.sMp=0,t}(ou),cv=function(n){function t(){this.sVo=null;this.mT_title=null;this.mT_time=null;this.mT_value=null;this.mImgFlag=null;t.__super.call(this,710,128,88);this.toXCenter();this.MixCon.graphics.drawRoundRect(20,this.mWidth,this.mHeight,"#386ebf40");this.iIcon.pos(16,this.mHeight-88>>1);var n=128;this.mT_title=new g;this.mT_title.mouseEnabled=!1;this.mT_title.style.fontSize=30;this.mT_title.style.color="#b2d6fb";this.mT_title.pos(n,24);this.MixCon.addChild(this.mT_title);this.mT_time=new g;this.mT_time.style.fontSize=26;this.mT_time.style.color="#5680be";this.mT_time.pos(n,84);this.MixCon.addChild(this.mT_time);this.mT_value=new g;this.mT_value.style.fontSize=26;this.mT_value.y=this.mT_time.y;this.MixCon.addChild(this.mT_value);this.mImgFlag=new st(null);this.mImgFlag.mouseEnabled=!1;this.mImgFlag.y=26;this.on("click",this,this.onClick)}r(t,"games.windows._club.members.ClubMem_Item",n);var i=t.prototype;return i.onClick=function(){t.s_handler&&t.s_handler.runWith(this)},i.recyle=function(){n.prototype.recyle.call(this);this.sVo=null;this.mImgFlag.removeSelf()},i.setVo=function(n){this.sVo=n;this.update()},i.DoUpdate=function(){var i,n;this.sVo&&(this.loadIcon(this.sVo.icon),i=this.sVo.note,i||(i=u.lang("noteNo")),this.mT_title.innerHTML=u.lang("clubMem_10",this.sVo.name,i),this.mT_time.innerHTML=0==this.sVo.timeOff?u.lang("clubMem_11"):u.lang("clubMem_12",a.G2S(this.sVo.timeOff,1)),this.mT_value.innerHTML=t.s_IsAdmin?this.sVo.getHtml():"",this.mT_value.x=this.mWidth-this.mT_value.contextWidth-20,n=null,this.sVo.job<2?n="mainUi/club_pos_"+this.sVo.job+".png":this.sVo.isDpi>0&&(n="mainUi/club_star.png"),n?(this.mImgFlag.setRes(n),this.mImgFlag.x=this.mWidth-this.mImgFlag.width-20,this.mImgFlag.parent||this.MixCon.addChild(this.mImgFlag)):this.mImgFlag.removeSelf())},t.s_handler=null,t.s_IsAdmin=!1,t}(ou),lv=function(n){function t(){this.mIcon=null;t.__super.call(this);this.mIcon=new hi(46,!1,4);this.mIcon.pos(56,8);this.addChild(this.mIcon)}r(t,"games.windows._commons.zj.subs.ZjSubItem_Player",n);var i=t.prototype;return i.setVo=function(t,i){this.mIcon.loadIcon(i.icon);n.prototype.setVo.call(this,t,i)},t}(ga),av=function(n){function t(n){this.IsValid=!1;t.__super.call(this,n);this.IsValid=!0}r(t,"games.windows.matches.mttWins.details.WinMttDtl_Base",n);var i=t.prototype;return i.updateDetail=function(){},t}(gk),eti=function(n){function t(){this.mRoomID=0;this.mCurPage=0;this.mTotalPage=0;this.mVec=null;this.mVecItems=null;this.mBrands=null;t.__super.call(this,660,"pBrands_title_xlsDz",!1,0);this.mScon.updateRect(this.mWidth);this.mScon.x=0;this.mScon.setCallback(h.create(this,this.showPage,null,!1));this.mScon.on("click",this,this.onClkItem);this.mVecItems={};this.mBrands=new sv(!0);f.Room.regist(518,this.getList,this)}r(t,"games.matchCores.panels.brands.MP_Brands_XlsDz",n);var i=t.prototype;return i.start=function(){if(this.mRoomID!=o.MatchVo.sID){this.mRoomID=o.MatchVo.sID;this.mBrands.clear(o.MatchVo.name);this.mScon.ItemClean(!0);for(var n in this.mVecItems)this.mVecItems[n]=null,delete this.mVecItems[n]}this.onDisable();this.mScon.showWating(!1);f.Room.reqDzXlsBrands(this.mRoomID)},i.onDisable=function(){this.mBrands.removeSelf();this.mVec=null;this.mScon.ItemClean(!1);this.mCurPage=0;this.mTotalPage=0},i.getList=function(n){this.onDisable();this.mVec=n;this.mTotalPage=Math.ceil(this.mVec.length/24);this.mScon.doWaitComplete(200);this.parent&&this.showPage(!1)},i.showPage=function(n){var f,i,t,r,e,u;if(n||this.mCurPage>=this.mTotalPage)return!1;for(f=this.mCurPage*24,i=(this.mCurPage+1)*24,i=i>=this.mVec.length?this.mVec.length:i,e=i-f,u=0;u<e;u++)r=this.mVec[f+u],t=this.mVecItems[r.HdIdx],t||(t=l.get(yd),t.setVo(r),this.mVecItems[r.HdIdx]=t),this.mScon.ItemAdd(t);return this.mCurPage+=1,this.mScon.doWaitComplete(50),!0},i.onClkItem=function(n){var t=n.target;n.currentTarget!=t&&(this.mBrands.parent||this.addChild(this.mBrands),this.mBrands.setBrandInfo(this.mRoomID,t.TmpData,o.MatchVo.HandNum,!1,t.DealIdx))},t.PAGE_SIZE=24,t}(ce),oti=function(n){function t(){t.__super.call(this,"zjSub_ac",lv);this.Container.mGap=0}r(t,"games.windows.admins.Win_Admin_ZJ_OneClub",n);var i=t.prototype;return i.initParams=function(){f.Sql.regist(1294,this.getHead,this);f.Sql.regist(1295,this.getLists,this)},i.reqHead=function(n,t,i){f.Sql.req1294(n,t,i);this.updateTitle(u.lang("zjSub_ac0",this.mLabStr,a.getStrDate(t)+" -- "+a.getStrDate(i)),!1)},t}(nh),sti=function(n){function t(){t.__super.call(this,"zjSub_l",lv)}r(t,"games.windows._leagues.zj.Win_ZJ_SubL_C2P",n);var i=t.prototype;return i.initParams=function(){f.Sql.regist(1202,this.getHead,this);f.Sql.regist(1203,this.getLists,this)},i.reqHead=function(n,t,i){f.Sql.reqLcP(n,t,i);this.updateTitle(u.lang("zjSub_l0",this.mLabStr,a.getStrDate(t)),!1)},t}(nh),hti=function(n){function t(){this.mHtm=null;this.mRes=null;this.mOp=null;this.mBtn=null;t.__super.call(this,710,108,80,8);this.toXCenter();this.MixCon.graphics.drawRoundRect(20,this.mWidth,this.mHeight,"#386ebf40");this.iIcon.pos(18,this.mHeight-this.iIcon.height>>1);this.mHtm=new g;this.mHtm.style.leading=20;this.mHtm.x=128;this.MixCon.addChild(this.mHtm);this.mRes=fi.create(0,this.mWidth-100,20);this.mRes.setFont("#eab96a",24);this.mOp=ai.CrtIns(0,u.lang("yqhy_home_5"));this.mOp.pos(this.mWidth-this.mOp.contextWidth-20>>0,68);this.mBtn=k.crt_Btn(null,"xiaoanniu1",null,0,60,100);this.mBtn.label=u.lang("yqhy_home_4");this.mBtn.x=this.mWidth-this.mBtn.width-20>>0;this.mBtn.on("click",this,this.onClk)}r(t,"games.windows.me.ivtFriends.IvtFriends_Item",n);var i=t.prototype;return i.recyle=function(){n.prototype.recyle.call(this);this.TmpData=0;this.mRes.removeSelf();this.mOp.removeSelf();this.mBtn.removeSelf()},i.setVo=function(n){this.TmpData=n.sID;this.loadIcon(n.icon,0,0);this.mHtm.innerHTML=u.lang("yqhy_home_item_"+(n.last==0?0:1),n.name);this.mHtm._updateGraphic();this.mHtm.y=this.mHeight-(this.mHtm.contextHeight-24)>>1;this.mRes.showValue(n.gold);this.mRes.x=this.mWidth-this.mRes.width-20;this.updateActiv(n.active)},i.updateActiv=function(n){this.mRes.removeSelf();this.mOp.removeSelf();this.mBtn.removeSelf();n>0&&this.MixCon.addChild(this.mRes);1==n&&this.addChild(this.mBtn);2==n&&this.addChild(this.mOp);this.update()},i.onClk=function(){this.mBtn.parent&&(a.StopInsOp(this.mBtn),f.Account.req271(this.TmpData))},t}(ou),cti=function(n){function t(){this.mTs=null;this.mCurType=9;this.mImg0=null;this.mImg2=null;t.__super.call(this,500,null,!0,12);this.mImg0=st.CrtImg("matches/safeTip_0.png");this.mImg2=st.CrtImg("matches/safeTip_2.png")}r(t,"games.matchCores.panels.dzdp.MP_BxIntro",n);var i=t.prototype;return i.initDpTips=function(){var n=rt.GameConfigs.htmIntro.tips_bx;this.updateTitle(n.label,!1);this.mTs=new fu;this.mTs.crtTitle(n.data,this.mScon.width,0,12)},i.start=function(){this.mTs||(this.initDpTips(),this.mScon.ItemAdd(this.mTs));var n=o.MatchVo.gameType;n!=2&&(n=0);n!=this.mCurType&&(this.mCurType=n,this.mScon.ItemRemove(this.mImg0),this.mScon.ItemRemove(this.mImg2),this.mScon.ItemAdd(0==this.mCurType?this.mImg0:this.mImg2))},t}(ce),lti=function(n){function t(){this.IsAllIns=!1;this.Value=NaN;this.Index=0;this.BigBB=NaN;this.StradRate=0;this.IsShort=!1;this.Rates=NaN;this.mHtmVal=null;t.__super.call(this);this.mHtmVal=new g;this.mHtmVal.mouseEnabled=!1;this.mHtmVal.y=this.height;this.addChild(this.mHtmVal)}r(t,"games.matchCores.desk.views.betBtns.DmBet_Quick",n);var i=t.prototype;return i.setValue=function(n,i,r,f,e,s,h,c){var l,v,y;this.IsAllIns=!1;l=0;v=i*2;switch(e){case 0:case 2:l=(i+n)*this.Rates+i;l<v&&(l=v);l<s&&(l=s);break;case 1:y=t.RATES[this.Index];this.doPrint(u.lang(this.IsShort?"betAnte":"betBigBB",y*this.StradRate>>0));l=y*this.BigBB;l<s&&(l=s)}l>c&&(l=c,this.doPrint(u.lang("betMax")));l>r&&(this.IsAllIns=!0,l=r,this.doPrint(u.lang("betStr_1_0")));this.Value=a.toNumber(l,h?!1:f);this.showVal(o.getValueBB(this.Value))},i.showVal=function(n){this.mHtmVal.innerHTML=u.lang("betStr_2",n);this.toXCenter(this.mHtmVal)},d(t,["RATES",function(){return this.RATES=u.obj("betBigBBRates")}]),t}(lc),fg=function(n){function t(){this.mTname=null;this.mTid=null;t.__super.call(this,710,130,90);this.toXCenter();this.MixCon.graphics.drawRoundRect(20,this.mWidth,this.mHeight,"#386ebf40");this.iIcon.pos(16,this.mHeight-88>>1);this.mTname=w.quickCreate(30,"#b2d6fb");this.mTname.pos(136,26);this.MixCon.addChild(this.mTname);this.mTid=w.quickCreate(26,"#6391d5");this.mTid.pos(this.mTname.x,84);this.MixCon.addChild(this.mTid);this.on("click",this,this.onClick)}r(t,"games.windows.accounts.accMgr.AccMgr_Item",n);var i=t.prototype;return i.onClick=function(){t.s_handler&&t.s_handler.runWith(this)},i.recyle=function(){n.prototype.recyle.call(this);this.TmpData=null},i.setVo=function(n){this.TmpData=n;this.loadIcon(n.iconID);this.mTname.text=n.Nick;this.mTid.text="ID: "+n.sID;this.update()},t.s_handler=null,t}(ou),eg=function(n){function t(n){this.mT_Name=null;this.mT_Crter=null;t.sBgTexs||(t.sBgTexs=[],t.sBgTexs[0]=i.loader.getRes("mainUi/pt_item_bg.png"),t.sBgTexs[1]=i.loader.getRes("mainUi/mtt_item_bg.png"));var r=t.sBgTexs[n?1:0];t.__super.call(this,r.width,r.height,120);this.mouseEnabled=!0;this.MixCon.texture=r;this.iIcon.pos(16,this.mHeight-120>>1);this.mT_Name=w.quickCreate(30,"#b2d6fb");this.mT_Name.pos(168,22);this.MixCon.addChild(this.mT_Name);this.mT_Crter=w.quickCreate(20,"#6391d5");this.mT_Crter.pos(168,110);this.mT_Crter.bgColor="#122035";this.mT_Crter.padding=t.Padding;this.MixCon.addChild(this.mT_Crter);this.on("click",this,this.onClk)}r(t,"games.windows.matches.Match_Item_Base",n);var u=t.prototype;return u.crtRes=function(n,t,i){i===void 0&&(i=4);var r=fi.create(n,168,t,i);return r.setFont("#6391d5",22),this.MixCon.addChild(r),r},u.recyle=function(){n.prototype.recyle.call(this);this.mT_Name.text=this.mT_Crter.text=""},u.setName=function(n){this.mT_Name.text=n;this.mT_Name.typeset()},u.setCreator=function(n){this.mT_Crter.text=n},u.onClk=function(){},t.X_R=168,t.Y_2=74,t.Y_3=110,t.sBgTexs=null,d(t,["Padding",function(){return this.Padding=[2,3,0,4]}]),t}(ou),og=function(n){function t(){this.Vo=null;this.mHtm=null;t.__super.call(this,710,108,80,8);this.toXCenter();this.MixCon.graphics.drawRoundRect(20,this.mWidth,this.mHeight,"#386ebf40");this.iIcon.pos(18,this.mHeight-this.iIcon.height>>1);this.mHtm=new g;this.mHtm.style.leading=20;this.mHtm.x=128;this.MixCon.addChild(this.mHtm);this.on("click",this,this.onClk)}r(t,"games.windows.me.notes.NoteMgr_Item",n);var i=t.prototype;return i.onClk=function(){t.sHanlder&&t.sHanlder.runWith(this)},i.recyle=function(){n.prototype.recyle.call(this);this.TmpData=0;this.Vo=null},i.setVo=function(n){this.TmpData=n.sID;l.recyle(this.Vo);this.Vo=n;this.loadIcon(n.icon,0,0);this.updateNote(n.note)},i.updateNote=function(n){this.Vo&&(this.Vo.note=n,this.mHtm.innerHTML=u.lang("winNote_1",this.Vo.nick,n||u.StrNull),this.mHtm._updateGraphic(),this.mHtm.y=this.mHeight-(this.mHtm.contextHeight-24)>>1,this.update())},t.sHanlder=null,t}(ou),ati=function(n){function t(){this.mTs=null;this.mVecItems=null;this.mVecIn=null;this.mVecIs=null;this.mCurType=0;t.__super.call(this,500,"pCardTips_title",!0,0);this.mVecIn=u.obj("pCardTips_0");this.mVecIs=u.obj("pCardTips_2");this.mCurType=-1}r(t,"games.matchCores.panels.dzdp.cardTips.MP_CardTips",n);var i=t.prototype;return i.initItems=function(){this.mVecItems=[];var n,i,t=rt.GameConfigs.cardTips,r=u.obj("pCardTips_size");for(n in t)i=t[n],delete t[n],this.mVecItems[n]=new hkt(i,r);rt.GameConfigs.cardTips=null},i.initDpTips=function(){var n=rt.GameConfigs.htmIntro.tips_dp;this.mTs=new fu;this.mTs.crtTitle(n.data,this.mScon.width,4,12)},i.start=function(){var t,i,n,r;if(this.mVecItems||this.initItems(),t=o.MatchVo.gameType,t!=this.mCurType)for(this.mCurType=t,this.mScon.ItemClean(),t==2?(this.mTs||this.initDpTips(),this.mScon.ItemAdd(this.mTs),i=this.mVecIs):i=this.mVecIn,n=0,r=i.length,n;n<r;n++)this.mScon.ItemAdd(this.mVecItems[i[n]])},t}(ce),sg=function(n){function t(){this.mT_name=null;this.mT_desc=null;this.mT_time=null;this.mT_op=null;this.mBtn=null;t.__super.call(this,710,118,72,8);this.toXCenter();this.MixCon.graphics.drawRoundRect(20,this.mWidth,this.mHeight,"#386ebf40");this.iIcon.pos(24,this.mHeight-this.iIcon.height>>1);this.mT_name=w.quickCreate(28,"#b2d6fb");this.mT_name.pos(120,26);this.MixCon.addChild(this.mT_name);this.mT_time=w.quickCreate(24,"#64ace9");this.mT_time.pos(500,28);this.MixCon.addChild(this.mT_time);this.mT_op=new g;this.mT_op.style.fontSize=24;this.mT_op.style.color="#6391d5";this.mT_op.pos(576,72);this.MixCon.addChild(this.mT_op);this.mT_desc=new g;this.mT_desc.style.fontSize=24;this.mT_desc.style.color="#6391d5";this.mT_desc.pos(120,72);this.MixCon.addChild(this.mT_desc);this.mBtn=k.crt_Btn(null,"xiaoanniu1",null,0,0,128);this.mBtn.pos(this.mWidth-this.mBtn.width-24>>0,this.mHeight-this.mBtn.height-16>>0);this.mBtn.label=u.lang("club_mtt_op");this.mBtn.on("click",this,this.onClk)}r(t,"games.windows._club.mttMgr.ClubMttMgr_Item",n);var i=t.prototype;return i.recyle=function(){n.prototype.recyle.call(this);this.TmpData=0;this.mT_name.text=this.mT_time.text="";this.mT_op.innerHTML=this.mT_desc.innerHTML="";this.mBtn.removeSelf()},i.setVo=function(n){this.TmpData=n.sID;this.loadIcon(n.icon,0,0);this.mT_name.text=n.name;this.mT_desc.innerHTML=u.lang("club_mtt_act",n.matchName);this.mT_time.text=a.G2S(n.reqTime,2);this.mT_time.x=this.mWidth-this.mT_time.width-24;n.state>0?(this.mT_op.innerHTML=u.lang("club_mtt_state"+n.state),this.mT_op.x=this.mWidth-this.mT_op.width-24):this.addChild(this.mBtn);this.update()},i.onClk=function(){t.sCallback&&t.sCallback.runWith(this.TmpData)},t.sCallback=null,t}(ou),vti=function(n){function t(){var i,r,n,f,u,e;for(this.index=0,this.times=0,this.mTts=null,this.mTname=null,this.mSeatFlag=null,this.mTbx=null,this.mTscore=null,this.mVecCards=null,this.mVecActors=null,this.mHcNum=0,i=64,r=20,t.__super.call(this,660,146,i,4),this.iIcon.pos(r,this.mHeight-this.iIcon.height>>1),this.mTts=new w,this.mTts.align="center",this.mTts.setVh(22),this.mTts.width=i,this.mTts.fontSize=16,this.mTts.color="#b2d6fb",this.mTts.bgColor="#d94848",this.mTts.y=i-this.mTts.height>>0,this.mTname=new g,this.mTname.style.color="#b2d6fb",this.mTname.style.fontSize=24,this.mTname.pos(r-2,8),this.MixCon.addChild(this.mTname),this.mSeatFlag=new st("matches/mm_icon_seat_2.png"),this.mSeatFlag.pos(r+.5*(i-this.mSeatFlag.width)>>0,116),this.mTbx=new g,this.mTbx.style.color="#b2d6fb",this.mTbx.style.fontSize=24,this.mTbx.y=this.mTname.y+2,this.MixCon.addChild(this.mTbx),this.mTscore=new g,this.mTscore.style.fontSize=28,this.mTscore.lineHeight=this.mHeight,this.MixCon.addChild(this.mTscore),this.mVecCards=vr(10),n=0,u=ii.getBc_Config("room_y")[0],n;n<10;n++)this.mVecCards[n]=f=new eu,f.toSize(48,68),f.y=u;for(this.mVecActors=vr(4),u=ii.getBc_Config("opFlag_y")[0],n=0;n<4;n++)this.mVecActors[n]=e=new uct,e.y=u}r(t,"games.windows.matches.brands.aBrand.BrandsView_Item",n);var i=t.prototype;return i.DoReset=function(){this.Tex_Clear();this.mHcNum=2;for(var n=0,n=0;n<10;n++)this.mVecCards[n].doReset();for(n=0;n<4;n++)this.mVecActors[n].removeSelf()},i.setBrands=function(n,t){this.DoReset();this.index=n.index;n.seatType>0?(this.mSeatFlag.setRes("matches/mm_icon_seat_"+n.seatType+".png"),this.MixCon.addChild(this.mSeatFlag)):this.mSeatFlag.removeSelf();this.iIcon.loadIcon(n.icon,0,3);this.mTname.innerHTML=n.getBase();this.mTbx.innerHTML=n.getSafe();this.mTbx.x=this.mWidth-18-this.mTbx.contextWidth>>0;this.mTscore.innerHTML=n.getLck();this.mTscore.x=this.mWidth-18-this.mTscore.contextWidth>>0;this.mHcNum=n.hands.length;this.showCards(n.hands,!0);this.showActors(n.actors);this.showCards(t,!1);ii.matchBest(n.cardType,n.bests,this.mVecCards,null);this.updateTimes(n.times)},i.showCards=function(n,t){var f=n.length,i=0,r,u=t?0:this.mHcNum,e=ii.getBc_Config("room_x_"+this.mHcNum);for(i;i<f;i++)r=this.mVecCards[u+i],r.x=e[u+i],r.showPoint(n[i]),this.MixCon.addChild(r)},i.updateTimes=function(n){this.times=n;n>0?(this.mTts.text=u.lang("tousu_times",n),this.iIcon.addChildAt(this.mTts,1)):this.mTts.removeSelf();this.update()},i.showActors=function(n){var t=0,u=n.length,r,i,f=ii.getBc_Config("opFlag_x_"+this.mHcNum);for(t;t<u;t++)r=n[t],i=this.mVecActors[t],i.x=f[t],this.MixCon.addChild(i),i.showValue(r.type,r.value)},t.NUM_MAX=10,t.NUM_MAX_FLAGS=4,t}(ou),yti=function(n){function t(){this.mT_title=null;this.mT_time=null;this.mT_type=null;this.mT_value=null;t.__super.call(this,710,128,88);this.toXCenter();this.MixCon.graphics.drawRoundRect(20,this.mWidth,this.mHeight,"#386ebf40");this.iIcon.pos(16,this.mHeight-this.iIcon.height>>1);var n=128;this.mT_title=w.quickCreate(30,"#b2d6fb");this.mT_title.pos(n,24);this.MixCon.addChild(this.mT_title);this.mT_type=w.quickCreate(26,"#6391d5");this.mT_type.y=32;this.MixCon.addChild(this.mT_type);this.mT_time=w.quickCreate(26,"#5680be");this.mT_time.pos(n,84);this.MixCon.addChild(this.mT_time);this.mT_value=w.quickCreate(26);this.mT_value.y=this.mT_time.y;this.MixCon.addChild(this.mT_value)}r(t,"games.windows._commons.creLogs.CreditLogs_Item",n);var i=t.prototype;return i.setVo=function(n,t){var i,r;this.loadIcon(n.icon,t?0:1);this.mT_time.text=a.GTos(n.time,!0)+" - "+n.targeter;i=n.text.split("-");this.mT_type.text=i.shift();this.mT_type.x=this.mWidth-this.mT_type.width-20>>0;this.mT_title.text=i.shift();r=n.fund;this.mT_value.color=a.getColor(r);this.mT_value.text=a.NumToStr(r,9);this.mT_value.x=this.mWidth-this.mT_value.width-20>>0;this.update()},t}(ou),pti=function(n){function t(){t.__super.call(this,"zjSub_d",lv)}r(t,"games.windows._club.zj.Win_ZJ_SubC_D2P",n);var i=t.prototype;return i.initParams=function(){f.Sql.regist(1106,this.getHeadVo,this);f.Sql.regist(1107,this.getLists,this)},i.reqHead=function(n){f.Sql.reqPcD(n)},i.getHeadVo=function(n,t){this.getHead(n);this.updateTitle(u.lang("zjSub_d0",this.mLabStr,a.GTos(t)),!1)},t}(nh),hg=function(n){function i(n,t){var c,o,f,l;this.mHead=null;this.mTab=null;this.msID=0;this.mCur=null;this.mVecModus=null;this.mTe=0;i.__super.call(this,606,null,!0);var s=590,e=this.mWidth-s>>1,r=this.H_TITLE;for(this.mHead=new gk(t),this.mHead.pos(e,r),this.addChild(this.mHead),r+=this.mHead.height+16,this.mTab=new rr,this.mTab.create(u.obj(n),s),this.mTab.setClick(h.create(this,this.onTab,null,!1)),this.mTab.pos(e,r),this.addChild(this.mTab),r+=this.mTab.height+8>>0,c=this.mHeight-r,this.mVecModus=[],this.initModus(c),f=0,l=this.mVecModus.length,f;f<l;f++)o=this.mVecModus[f],o&&o.pos(e,r)}r(i,"games.matchCores.panels.ranks.RoomRank_Base_Win",n);var t=i.prototype;return t.initModus=function(){},t.cmdsReg=function(){},t.cmdsDel=function(){},t.reqData=function(){},t.onTabC=function(){},t.showDetail=function(){},t.doSubClose=function(){this.mTe=0;this.mTab.visible=!1;this.mCur&&this.mCur.stop();this.mCur=null;this.mHead.DoReset();this.cmdsDel()},t.start=function(){this.doSubClose();this.msID=o.MatchVo.roomID;var i=o.IsShowBB?o.MatchVo.littleBB*(o.MatchVo.isDp()?1:2):0,r=o.MyPlayer!=null,n,t=0,u=this.mVecModus.length;for(t;t<u;t++)n=this.mVecModus[t],n&&(n.setBB(i),n.setMacthing(r));this.mTe=this.timer.currTimer;this.cmdsReg()},t.render=function(n,t,i){this.mTe>0&&this.timer.currTimer>this.mTe&&(this.mTe=0,this.msID>0&&this.reqData(this.msID));laya.display.Sprite.prototype.render.call(this,n,t,i)},t.onTab=function(n){var t=this.mVecModus[n];if(t&&t!=this.mCur){this.mCur&&this.mCur.stop();this.mCur=null;this.mCur=t;this.addChild(this.mCur);this.mCur.start();this.onTabC(n)}},t.onGetDetail=function(n,t){if(n&&this.msID==t){this.mTab.visible=!0;var i=n.nextTime;i=i>0?i*1e3+800:5e3;this.mTe=this.timer.currTimer+i;this.showDetail(n);this.mCur||this.mTab.select(0)}else this.close()},i}(ce),wti=function(n){function t(){this.mBrands=null;this.mRoomID=0;t.__super.call(this,660,null,!1);this.mBrands=new cc(503,!0,!0);this.addChild(this.mBrands);o.DsMatch.regist(404,this.updateTotal,this)}r(t,"games.matchCores.panels.brands.MP_Brands_Normal",n);var i=t.prototype;return i.start=function(){this.mBrands.CanReq=o.MatchVo.HandNum>1;o.MatchVo.sID!=this.mRoomID?(this.mBrands.clear(o.MatchVo.name),this.mBrands.setBrandInfo(this.mRoomID=o.MatchVo.sID,o.MatchVo.HandNum,o.MatchVo.HandNum,!1)):this.updateTotal()},i.updateTotal=function(){this.mBrands.CanReq=o.MatchVo.HandNum>1;this.mBrands.updateTotal(o.MatchVo.HandNum)},t}(ce),bti=function(n){function t(){this.mID=0;this.cID=0;t.__super.call(this,!0);f.Club.regist(731,this.udTotal,this);f.Club.regist(732,this.udZr,this);f.Club.regist(733,this.udUsed,this);f.Club.regist(734,this.udToday,this)}r(t,"games.windows._commons.grants.credits.Win_CU_G_C2P",n);var i=t.prototype;return i.start=function(n){this.mID=this.cID=0;this.cID=this.initVo(n[0]).cID},i.onSure=function(n,t,i,r){n!=0&&f.Club.reqModifyCre(733,this.mSID,n,this.mID,this.cID);t&&t.length>0&&f.Club.reqModifyCre(731,this.mSID,a.getNumber(t),this.mID,this.cID);i!=0&&f.Club.reqModifyCre(732,this.mSID,i,this.mID,this.cID);r!=0&&f.Club.reqModifyCre(734,this.mSID,r,this.mID,this.cID)},t}(id),kti=function(n){function t(){t.__super.call(this)}r(t,"games.windows._commons.zj.subs.ZjSubItem_Desk",n);var i=t.prototype;return i.onClick=function(){b.OpenWin(42,this.TmpData)},t}(ga),vv=function(n){function i(){this.mParams=null;this.mHandler=null;this.mT_body=null;this.mT_time=null;this.mT_state=null;this.mRadio=null;this.mBtn=null;i.__super.call(this,700,118,70,8);this.MixCon.graphics.drawRoundRect(20,this.mWidth,this.mHeight,"#386ebf40");this.iIcon.pos(16,this.mHeight-this.iIcon.height>>1);this.mParams=new ctt;this.mT_body=new g;this.mT_body.style.fontSize=22;this.mT_body.style.leading=22;this.mT_body.style.color="#6391d5";this.mT_body.pos(102,26-s.LEADING_SIZE>>0);this.MixCon.addChild(this.mT_body);this.mT_time=w.quickCreate(20,"#64ace9");this.mT_time.y=this.mT_body.y;this.MixCon.addChild(this.mT_time);this.mT_state=new g;this.mT_state.style.fontSize=22;this.mT_state.pos(100,74);this.mRadio=k.crt_Radio(this,"r5");this.mRadio.label=" ";this.mRadio.pos(-this.mRadio.width+8,this.mHeight-this.mRadio.height>>1);this.x=s.MAX_W-this.mWidth-this.mRadio.x>>1;this.mBtn=k.crt_Btn(null,"xiaoanniu1",null,this.mWidth-144,64,128);this.TmpData=this.mBtn.x+.5*this.mBtn.width>>0;this.on("click",this,this.onClk)}r(i,"games.windows.messages.Message_Item",n);var t=i.prototype;return t.recyle=function(){n.prototype.recyle.call(this);this.setClick(null);this.mRadio.selected=!1;this.mRadio.removeSelf();this.mBtn.removeSelf();this.mT_state.removeSelf();this.mParams.doReset()},t.setClick=function(n){this.mHandler&&this.mHandler.recover();this.mHandler=n},t.onClk=function(n){n.target==this.mBtn?this.mHandler&&this.mHandler.runWith(this.mParams):n.target!=this.mRadio&&i.Show_Radio&&(this.mRadio.selected=!this.mRadio.selected)},t.isSelect=function(){return this.mRadio.selected},t.getMailID=function(){return this.mParams.sID},t.updateVo=function(n){this.recyle();this.iIcon.loadIcon(n.icon,n.iconType,n.iconType);this.mT_body.innerHTML=n.body;this.mT_time.text=a.GTos(n.time);this.mT_time.x=this.TmpData-.5*this.mT_time.width>>0;this.mParams.doReset();this.mParams.sID=n.sID;this.mParams.subType=n.subType;this.mParams.params=n.params;n.params=null;i.Show_Radio&&this.addChild(this.mRadio);this.update()},t.updateBtn=function(n,t){t===void 0&&(t=0);this.mBtn.label=n;this.updateState(t)},t.updateState=function(n){0==n?(this.addChild(this.mBtn),this.mT_state.removeSelf()):(this.mBtn.removeSelf(),this.mT_state.innerHTML=u.lang("mgs_opResult_"+n),this.mT_state.x=this.TmpData-.5*this.mT_state.width>>0,this.MixCon.addChild(this.mT_state));this.update()},i.Show_Radio=!1,i}(ou),dti=function(n){function t(){t.__super.call(this,2);f.Club.regist(728,this.getResult,this)}r(t,"games.windows._commons.grants.Win_CU_G_C_G",n);var i=t.prototype;return i.start=function(t){n.prototype.start.call(this,t);this.updateRes(f.Club.Members.Gold)},i.onSubmit=function(n){f.Club.reqGrant(!0,this.mID,n)},t}(nv),gti=function(n){function t(n,i){this.mIcon=null;n===void 0&&(n=70);i===void 0&&(i=50);t.__super.call(this,n);this.mIcon=new hi(i,!1,4);this.mIcon.x=64;this.addChild(this.mIcon)}r(t,"games.windows._commons.zj.ZjItem_Player",n);var i=t.prototype;return i.setVo=function(n,t){this.updateVo(n,t);this.mIcon.loadIcon(n.icon);this.mIcon.y=this.mHeight-this.mIcon.height>>1},t}(le),nii=function(n){function t(){t.__super.call(this,11);f.Leagues.regist(931,this.getResult,this)}r(t,"games.windows._commons.grants.Win_CU_GS_U2C",n);var i=t.prototype;return i.start=function(t){n.prototype.start.call(this,t);this.updateRes(f.Leagues.League.Fund)},i.onSubmit=function(n){f.Leagues.reqGs(this.mID,n)},t}(nv),tii=function(n){function t(){var n,i;this.ZdID=0;this.ZdName=null;this.ZdJob=0;this.mT_Name=null;this.mR_Pnum=null;this.mR_Dnum=null;this.mT_ID=null;this.mStar=null;t.__super.call(this,710,154,120);this.mouseEnabled=!0;this.toXCenter();this.iIcon.pos(18,this.mHeight-this.iIcon.height>>1);this.MixCon.graphics.drawRoundRect(20,this.mWidth,this.mHeight,"#386ebf40");n=168;this.mT_Name=w.quickCreate(30,"#b2d6fb");this.mT_Name.mouseEnabled=!1;this.mT_Name.pos(n,22);this.MixCon.addChild(this.mT_Name);i=70;this.mR_Pnum=new fi(31);this.mR_Pnum.mouseEnabled=!1;this.mR_Pnum.setFont("#6391d5",22);this.mR_Pnum.pos(n,i);this.MixCon.addChild(this.mR_Pnum);this.mR_Dnum=new fi(36);this.mR_Dnum.mouseEnabled=!1;this.mR_Dnum.setFont("#6391d5",22);this.mR_Dnum.pos(n,i);this.MixCon.addChild(this.mR_Dnum);this.mT_ID=w.quickCreate(22,"#6391d5");this.mT_ID.mouseEnabled=!1;this.mT_ID.pos(n,i);this.MixCon.addChild(this.mT_ID);this.mStar=new bf;this.mStar.pos(n,106);this.MixCon.addChild(this.mStar)}r(t,"games.scene.modules.clubs.SceClub_Item",n);var i=t.prototype;return i.recyle=function(){this.removeSelf();this.ZdID=0;this.ZdJob=2;this.ZdName=null},i.setVo=function(n){this.ZdJob=n.job;this.ZdID=n.cID;this.ZdName=n.name;this.loadIcon(n.icon,1,1);this.mT_Name.text=this.ZdName;this.mR_Pnum.showValue(n.numOnline+"/"+n.numTotal);this.mR_Dnum.showValue(n.numDesk);this.mR_Dnum.x=this.mR_Pnum.x+this.mR_Pnum.width+24>>0;this.mT_ID.text="ID: "+n.vID;this.mT_ID.x=this.mR_Dnum.x+this.mR_Dnum.width+24>>0;this.updateStar(n.level)},i.updateStar=function(n){this.mStar.showStar(n);this.update()},t}(ou),iii=function(n){function t(){this.mDicConfigs=null;this.mRoomID=0;this.mT_Time=null;this.mTa_Head=null;this.mTa_Bx=null;this.mTa_Jp=null;this.mVisitors=null;this.mFlag_me=null;this.mFlag_left=null;t.__super.call(this,606,"pRank_title",!0,2);this.mRoomID=0;this.mDicConfigs={};this.mDicConfigs[!0]=ft.sGetTab("mpdz_rank_item");this.mDicConfigs[!1]=ft.sGetTab("mp_rank_item");var n=this.mWidth-576>>1;this.mT_Time=new ik;this.mT_Time.fontSize=24;this.mT_Time.color="#64ace9";this.mT_Time.setPre(u.lang("restTime")+"  ");this.mT_Time.start(999999,!1);this.mT_Time.pos(this.mWidth-this.mT_Time.width-20,this.H_TITLE-this.mT_Time.height>>1);this.mT_Time.stop();this.addChild(this.mT_Time);this.mTa_Head=new tv(576,52,"mp_rank_head",!0);this.mTa_Head.pos(n,this.H_TITLE);this.addChild(this.mTa_Head);this.mTa_Bx=new tv(576,58,"mp_rank_bx",!1);this.mTa_Jp=new tv(576,58,"mp_rank_jp",!1);this.mTa_Bx.x=this.mTa_Jp.x=n;this.mVisitors=new oat(576);this.mVisitors.TmpData=0;this.mFlag_me=new ks(576,58,!1);this.mFlag_left=st.CrtImg("matches/mm_xiafen.png");this.mFlag_left.pos(0,54-this.mFlag_left.height>>1);this.mScon.x=n;this.mScon.updateRect(576);this.mScon.on("click",this,this.onClkItem);f.Room.regist(510,this.getRank,this);o.DsMatch.regist(404,this.reqRank,this)}r(t,"games.matchCores.panels.ranks.dzdp.MP_Rank_Dzdp",n);var i=t.prototype;return i.doSubClose=function(){this.mFlag_me.removeSelf();this.mScon.ItemRemove(this.mVisitors);this.mScon.ItemClean(!0)},i.start=function(){this.doSubClose();this.mRoomID!=o.MatchVo.sID&&(this.mRoomID=o.MatchVo.sID,this.mVisitors.DoReset(),ft.makeTitle(this.mTa_Head,o.MatchVo.IsXlsDz?"mpdz_rank_head":"mp_rank_head",576,52));this.mTa_Bx.removeSelf();this.mTa_Jp.removeSelf();var n=this.mTa_Head.y+this.mTa_Head.height+2;o.MatchVo.Flags[0]==!0&&(this.mTa_Bx.y=n,this.mTa_Bx.update(0),this.addChild(this.mTa_Bx),n+=this.mTa_Bx.height);o.MatchVo.IsJp&&(this.mTa_Jp.y=n,this.mTa_Jp.update(0),this.addChild(this.mTa_Jp),n+=this.mTa_Jp.height);this.mScon.updateRect(0,s.MAX_H-n-8);this.mScon.y=n;o.MatchVo.roomState%3>0?(this.mT_Time.color="#64ace9",this.mT_Time.start(o.MatchVo.getRestTime(),!0)):(this.mT_Time.color="#566c88",this.mT_Time.start(o.MatchVo.timeRest,!0),this.mT_Time.stop(!1));this.reqRank()},i.reqRank=function(){this.parent&&f.Room.reqRank()},i.getRank=function(n){var f,e,r,t,i,u,s;if(this.doSubClose(),f=o.MatchVo.IsXlsDz,this.mTa_Bx.update(n.safe),this.mTa_Jp.update(n.jackpot),e=n.vecPlayers.length,e>0){for(ft.crtStart(this.mDicConfigs[f],576,58),r=0,s=o.MatchVo.mtt_deskNum,r;r<e;r++)i=n.vecPlayers[r],t=l.get(lr),t.mouseEnabled=f,t.TmpData=0,i.IsSelf&&t.Tex_AddIns(this.mFlag_me),2==i.state&&t.Tex_AddIns(this.mFlag_left),u=i.state>0?"#566c88":null,t.updateValue(0,i.nick,u),t.updateValue(1,i.brings,u),t.updateValue(2,i.handNum,u),f?(t.updateValue(3,i.DeskNo>0?i.DeskNo:"-",u),t.updateValue(4,i.score),t.TmpData=i.DeskNo>0?i.DeskNo:0):t.updateValue(3,i.score),t.Tex_Make(!0),this.mScon.ItemAdd(t),this.mFlag_me.removeSelf(),this.mFlag_left.removeSelf();ft.crtDone()}this.mVisitors.setLists(n.vecVisitors);this.mScon.ItemAdd(this.mVisitors)},i.onClkItem=function(n){if(o.MatchVo.IsXlsDz&&n.target instanceof games.UD_Displays.tabs.Fio_TabBase){var t=n.target.TmpData;t>0&&!o.MatchVo.isSitting()&&o.MatchVo.mtt_deskNum!=t&&f.Desk.reqJoin(this.mRoomID,o.MatchVo.ClubID,o.MatchVo.uID,t)}},t.sw=576,t.sh=58,t}(ce),pc=function(n){function t(){this.sVo=null;this.mBtnHelp=null;t.__super.call(this,s.MAX_W,70,50,4);this.iIcon.pos(70,this.mHeight-this.iIcon.height>>1)}r(t,"games.windows.matches.settler.Settler_Item",n);var i=t.prototype;return i.recyle=function(){n.prototype.recyle.call(this);this.sVo=null;this.mBtnHelp&&(this.mBtnHelp.removeSelf(),this.mBtnHelp.setTips(null));this.delMix()},i.delMix=function(){this.MixCon.texture&&this.MixCon.texture.destroy(!0);this.MixCon.texture=null},i.setDzVo=function(n,t,i,r){this.delMix();this.sVo=t;ft.updateValue(0,n);ft.updateValue(1,t.nick,r);ft.updateValue(2,t.numHand);ft.updateValue(3,a.NumToStr(t.numTake));ft.updateValue(4,t.numScore);this.MixCon.texture=ft.create();this.iIcon.loadIcon(t.icon,i?1:0);this.update()},i.setMatchVo=function(n,i){this.delMix();this.sVo=i;ft.updateValue(0,n);ft.updateValue(1,i.nick);var u=!1,r=i.awdStr;b.getCharLength(r)>26&&(r=b.cutStrAsLen(r,26),u=!0,this.mBtnHelp||(this.mBtnHelp=new ve(null,"2"),this.mBtnHelp.pos(this.mWidth-this.mBtnHelp.width-8,this.mHeight-this.mBtnHelp.height-4>>1)),this.mBtnHelp.setTips(i.awdStr),this.addChild(this.mBtnHelp));ft.updateValue(2,r,null,t.X_AWD);this.MixCon.texture=ft.create();this.iIcon.loadIcon(i.icon,0);this.update()},t.X_AWD=0,t}(ou),rii=function(n){function t(){t.__super.call(this,"zjSub_a",hv);this.Container.mGap=0}r(t,"games.windows.admins.Win_Admin_ZJ_OneLea",n);var i=t.prototype;return i.initParams=function(){f.Sql.regist(1292,this.getHead,this);f.Sql.regist(1293,this.getLists,this)},i.reqHead=function(n,t,i){hv.s_ts=t;hv.s_te=i;f.Sql.req1292(n,t,i);this.updateTitle(u.lang("zjSub_a0",this.mLabStr,a.getStrDate(t)+" -- "+a.getStrDate(i)),!1)},t}(nh),so=function(n){function i(n,t,r){var f,u;this.mBox=null;this.mRes=null;this.mAreas=null;this.mCk_Dic=null;this.mCk_Cur=null;this.mMzMenu=null;this.mzIdx=0;this.mPack=null;i.__super.call(this,n,t,r);this.mPack=new iit(ot.CFG_SNG.ZmTimeConfig.data);f=this.initAreas();this.mBox=new hf("combox_2");this.mBox.creat(f,0);this.mBox.setClick(h.create(this,this.onBmMenu,null,!1));u=this.getSliderIns(1);this.mBox.width=216;this.mBox.pos(u.width-this.mBox.width-20>>0,12);u.addChild(this.mBox);this.mRes=new fi(37);this.mRes.setFont("#64ace9",28);this.mRes.pos(u.getTipX(),u.getTipY()+2+s.LEADING_SIZE);u.addChild(this.mRes);this.mMzMenu=ot.CFG_SNG.VecMenus[1].data}r(i,"games.windows.matches.creators.sng.CrtMac_SNG",n);var t=i.prototype;return t.initAreas=function(){this.mAreas=[];var f=ot.CFG_SNG.VecSliders[1].data,r,i=0,e=f.length,n,t=0,u=[];for(i;i<e;i++)if(n=f[i],this.mAreas[n.data]=n,t=n.min,n.Areas=r=[],t>0)for(u.push(n);t<=n.max;)r.push(t),t+=n.step;else u.unshift(n),r.push(0,0);return u},t.onBmMenu=function(){var t=this.getSliderIns(1),i=this.getMenuIns(21),n=this.mBox.data;if(t.setIntervals(this.mAreas[n].Areas,this.mCk_Cur.Cookie.bmSldIdxs[n]),this.mRes.setType(37+n),this.mPack.updateResType(n),2==n)this.mRes.setType(39),i.updateText(u.lang("sng_tip_jlfp"));else this.onJlqC(this.mPack.numRwd);this.udBmVal()},t.udBmVal=function(){var t=this.getSliderIns(1),n;t.updateTips("");n=t.getValue();n>0?this.mRes.showValue(n+" + "+(n*.1>>0)):this.mRes.showValue("")},t.onMzC=function(n){var t=this.mMzMenu[n];t||(t=this.mMzMenu[n=0]);this.mzIdx=n;this.getMenuIns(22).updateText(t.label)},t.onJlqC=function(n){this.mPack.numRwd=n;this.getMenuIns(21).updateText(u.lang(n>0?"sng_tip_jlq":"sng_tip_jlq0",n))},t.onClkMenu=function(n){var t=n.TmpData,i;21==t?(i=this.mBox.data,i<2&&b.OpenWin(310,this.mPack,h.create(this,this.onJlqC))):22==t&&b.OpenWin(46,2,this.iGameType,this.mzIdx,this.mMzMenu,h.create(this,this.onMzC),this.getSliderIns(3).getValue())},t.initCookie=function(){var n="";this.iGameType!=0&&(n="_gt"+this.iGameType);this.mCk_Dic=[];this.mCk_Dic[0]=new uw("crtMas_sng_pri"+n);this.mCk_Dic[1]=new uw("crtMas_sng_zd"+n)},t.start=function(){var t,u,i,r;n.prototype.start.call(this);this.mPack.DoReset();this.mPack.type=rt.Crt_Match_IsZD?1:0;this.mPack.zdID=rt.Crt_Match_ZdID;this.mCk_Cur=this.mCk_Dic[this.mPack.type];t=this.mCk_Cur.Cookie;this.iInput.text=t.name;this.iFlag.setVal(t.flag);this.mBox.clearSel(t.bmIdx);this.onBmMenu();this.onMzC(t.mzIdx);u=t.sliders;for(r in u)1!=r&&(i=this.getSliderIns(r),i&&(i.updateDef(u[r]||0),i.DoReset()))},t.onSliderC=function(n){var t=n.getValue(),i;switch(n.ID){case 0:i=n.getValue();this.mPack.numJoin=i;break;case 1:this.udBmVal();return;case 2:this.mPack.chips=t;t=t+" ("+(t/50>>0)+"BB)";break;case 3:this.mPack.zmTime=t;break;case 4:t=t.data;this.mPack.numMnq=t}n.updateTips(t)},t.doCrtCheck=function(n){var e=this.iFlag.getVal(),t=this.mCk_Cur.Cookie,i,r,u,f;t.name=n;t.flag=e;t.bmIdx=this.mBox.selectIndex;t.mzIdx=this.mzIdx;i=this.mBox.data;i<2&&(t.bmSldIdxs[i]=this.getSliderIns(1).getIndex());r=t.sliders;for(f in r)u=this.getSliderIns(f),u&&(r[f]=u.getIndex());this.mCk_Cur.DoSave();i==2?this.mPack.resType=this.mPack.resNum=0:(this.mPack.resType=i,this.mPack.resNum=this.getSliderIns(1).getValue());this.mPack.blindType=this.mzIdx;this.mPack.name=n;this.mPack.flag=e;this.mPack.DoSend(this.iGameType,this.getHcNum())},i.IDX_JFP=2,i}(ac),ho=function(n){function t(n,i,r){this.mViewCk_Dic=null;this.mViewCk_Cur=null;this.mZmCkDic=null;this.mZmCkCur=null;this.mHasJp=!1;this.mJpKg=null;this.mIsDp=!1;this.mBringMax=null;this.mIsDp=r==2;t.__super.call(this,n,i,r);this.mJpKg=this.iFlag.getIns(8);this.mBringMax=i.VecSliders[9].data;this.IsAmh&&this.iFlag.UnShowFlags.push(0,4,8)}r(t,"games.windows.matches.creators.dzdp.CrtMac_DzDp",n);var i=t.prototype;return i.onClkMenu=function(){b.OpenWin(29,this.getSliderIns(0).getValue(),this.mZmCkCur,h.create(this,this.onZmC))},i.onZmC=function(){this.getMenuIns(21).updateText(this.mZmCkCur.getValStr())},i.initCookie=function(){this.mViewCk_Dic=[];this.mZmCkDic=[];var n=this.iGameType+10;this.mViewCk_Dic[this.iGameType]=new nw("crtMas_dz_pri_"+this.iGameType);this.mViewCk_Dic[n]=new nw("crtMas_dz_zd_"+n);this.mZmCkDic[this.iGameType]=new tw("crtMas_dz_pri_zm_"+this.iGameType,this.mIsDp);this.mZmCkDic[n]=new tw("crtMas_dz_zd_zm_"+n,this.mIsDp)},i.getVecFlags=function(){return rt.Crt_Match_IsPlat?2:rt.Crt_Match_IsZD?1:0},i.start=function(){var t=this.mUnShowIdxs.indexOf(6),u,i,e,r,o;t>-1&&this.mUnShowIdxs.splice(t,1);t=this.mUnShowIdxs.indexOf(7);t>-1&&this.mUnShowIdxs.splice(t,1);t=this.mUnShowIdxs.indexOf(8);t>-1&&this.mUnShowIdxs.splice(t,1);this.mUnShowIdxs.push(8);n.prototype.start.call(this);u=this.iGameType+(rt.Crt_Match_IsZD?10:0);this.mViewCk_Cur=this.mViewCk_Dic[u];this.mZmCkCur=this.mZmCkDic[u];i=this.mViewCk_Cur.Cookie;this.iInput.text=i.name;this.iFlag.setVal(i.flag);this.mHasJp=f.Club.ClubVo.hasJp();this.mHasJp||(this.mJpKg.selected=!1);e=i.sliders;for(o in e)r=this.getSliderIns(o),r&&(r.updateDef(e[o]||0),r.DoReset());if(this.onStraddC(),this.onZmC(),this.iFlag.IsDzModel())this.onSwitch(this.iFlag.getIns(15))},i.onSliderC=function(n){var t=n.getValue(),i=n.getValue(),r,f,e;switch(n.ID){case 0:this.mIsDp||(t=t+"/"+2*t,r=ot.getAnte(n.getIndex()),this.getSliderIns(1).setIntervals(r.data,r.def));this.onStraddC();this.syncBringMax(i);break;case 3:f=n.getValue();e=n.getIndex();this.setUnum(f,this.getSliderIns(5),ot.CFG_NUM_5SIT[e]);this.setUnum(f,this.getSliderIns(6),ot.CFG_NUM_6NEW[e]);break;case 5:case 6:case 9:t=t.label;break;case 8:i=t.data;t=0==i?t.label:u.lang("cm_xls_8_1",t.label)}n.updateTips(t)},i.syncBringMax=function(n){var t=0,r=this.mBringMax.length,i;for(t;t<r;t++)(i=this.mBringMax[t],i.data>1999e4)||(i.label=n*i.data+"");this.getSliderIns(9).setIntervals(this.mBringMax)},i.onStraddC=function(){this.getSliderIns(2).setRate(this.getSliderIns(0).getValue()*100)},i.onSwitch=function(n){var f=n.TmpData,u=n.selected;switch(f){case 8:this.mHasJp||(ut.showMessage("cm_err_jp_lev"),this.mJpKg.selected=!1);break;case 15:var t=this.mUnShowIdxs.indexOf(6),i=this.mUnShowIdxs.indexOf(7),r=this.mUnShowIdxs.indexOf(8);u?(t==-1&&this.mUnShowIdxs.push(6),i==-1&&this.mUnShowIdxs.push(7),r>-1&&this.mUnShowIdxs.splice(r,1)):(t>-1&&this.mUnShowIdxs.splice(t,1),i>-1&&this.mUnShowIdxs.splice(i,1),r==-1&&this.mUnShowIdxs.push(8));this.RefreshView();this.mSCon.ItemAdd(this.iFlag);u&&this.timer.once(50,this.mSCon,this.mSCon.toBottom,[!0])}},i.doCrtCheck=function(n){var l=this.iFlag.getVal(),u=this.mViewCk_Cur.Cookie,f,e,o,t,s,r,h,c,i;u.name=n;u.flag=l;f=u.sliders;for(o in f)e=this.getSliderIns(o),e&&(f[o]=e.getIndex());if(this.mViewCk_Cur.DoSave(),t=v.getPack(301),t.sendUInt8(rt.Crt_Match_IsZD?1:0),t.sendUInt8(this.iGameType),t.sendString(n),t.sendUInt8(this.getSliderIns(3).getValue()),t.sendUInt8(this.getSliderIns(5).getValue().data),t.sendInt32(this.getSliderIns(4).getValue()*3600>>0),t.sendFloat(this.getSliderIns(this.mIsDp?0:1).getValue()),s=this.getSliderIns(0).getValue(),t.sendFloat(s),t.sendInt32(this.getSliderIns(2).getValue()),r=this.getSliderIns(9).getValue().data>>0,t.sendInt32(r>1999e4?r:s*r),t.sendInt32(l),h=0,rt.Crt_Match_IDLev>0&&(h=this.iFlag.IsDzModel()?this.getSliderIns(8).getValue().data:this.getSliderIns(6).getValue().data),t.sendUInt8(h),t.sendInt32(rt.Crt_Match_ZdID),t.sendInt32(0),t.sendUInt8(0),this.mZmCkCur.open)for(t.sendInt32(this.mZmCkCur.time),c=this.mZmCkCur.SendArr.length,t.sendInt16(c),i=0,i;i<c;i++)t.sendFloat(this.mZmCkCur.SendArr[i]);else t.sendInt32(0),t.sendInt16(0);t.sendUInt8(this.getHcNum());t.flush()},t.IDX_SWH_JLS=0,t.IDX_SWH_JP=8,t.IDX_SWH_DZ=15,t.IDX_SLD_6=6,t.IDX_SLD_7=7,t.IDX_SLD_8=8,t}(ac),uii=function(n){function t(){this.mIcon=null;this.mStar=null;t.__super.call(this,102);this.mIcon=new hi(76,!1,4);this.mIcon.x=64;this.addChild(this.mIcon);this.mStar=new bf;this.mStar.pos(96,60);this.addChild(this.mStar)}r(t,"games.windows._commons.zj.ZjItem_Club",n);var i=t.prototype;return i.setVo=function(n,t){this.updateVo(n,t);this.mStar.showStar(n.cLev);this.mIcon.loadIcon(n.icon,1)},t}(le),fii=function(n){function t(){t.__super.call(this,"zjSub_p",kti)}r(t,"games.windows._club.zj.Win_ZJ_SubC_P2D",n);var i=t.prototype;return i.initParams=function(){f.Sql.regist(1102,this.getHead,this);f.Sql.regist(1103,this.getLists,this)},i.reqHead=function(n,t,i){f.Sql.reqPcP(n,t,i);this.updateTitle(u.lang("zjSub_p0",this.mLabStr,a.getStrDate(t)),!1)},t}(nh),eii=function(n){function i(n,t){this.mCk_Dic=null;this.mCk_Cur=null;this.mImaxPlayers=null;this.mTzData=null;this.mJjjlData=null;this.mRwdData=null;this.mRwdHd=null;this.mDyusai=null;this.mDfusai=null;this.mDjuesai=null;this.mDhandler=null;i.__super.call(this,n,t,9);this.mTzData=new rh;this.mJjjlData=[0,0,0];this.mRwdData=new wv;this.mRwdHd=h.create(this,this.onRwdC,null,!1);this.mImaxPlayers=new yr(710);this.mImaxPlayers.initLeft(28,28,"#b2d6fb");this.mImaxPlayers.updateLeft(this.mConfig.VecMenus[0].title);this.mImaxPlayers.initRight(!0,240,28,28,"#6391d5",null,"center",-16);this.mImaxPlayers.maxChars=6;this.mImaxPlayers.restrict="0-9";this.mImaxPlayers.prompt=this.mConfig.VecMenus[0].tips;this.mImaxPlayers.TmpData=this.mConfig.VecMenus[0].data;this.mImaxPlayers.mInput.on("blur",this,this.checkNum);this.mImaxPlayers.y=this.mSCon.y;this.toXCenter(this.mImaxPlayers);this.addChild(this.mImaxPlayers);var r=this.mImaxPlayers.y+this.mImaxPlayers.height+10>>0;this.mSCon.y=r;this.mSCon.updateRect(0,this.mHeight-r-136);this.datasInit()}r(i,"games.windows.matches.creators.yujuesai.CrtMac_Yujuesai",n);var t=i.prototype;return t.onRwdC=function(){this.getMenuIns(26).updateText(this.mRwdData.Str)},t.checkNum=function(n){n===void 0&&(n=!1);var i=this.mImaxPlayers.getNumber(),t=this.mImaxPlayers.TmpData;return i>t.max||i<t.min?(ut.showMessage(u.lang("mmt_main_err_0",t.min,t.max),!1),n&&this.mSCon.toTop(!0),!1):!0},t.checkTzV=function(n){var t=n.type,i=n.val,r=n.idx;2==t&&(n.val=i=ot.Tick_getDef(i).id);this.mTzData.type=t;this.mTzData.val=n.val;this.mTzData.idx=r;this.onTzC(!1)},t.onTzC=function(n){var i;n===void 0&&(n=!0);var r=this.mTzData.type,t=this.mTzData.val,f=this.getMenuIns(22);r<2?f.updateText(a.NumToStr(t)+u.lang("resType_"+r)):(i=gi.getTicket(t),t=i.getVal(1),f.updateText(u.lang("mttBmzg_ticket1",i.name,a.NumToStr(t))),n&&this.onSwitch(this.iFlag.getIns(0)))},t.updateRwdDataBase=function(){var i=this.mTzData.type,n,t;i>1&&(i=1);this.mRwdData.updateResType(i);n=this.mImaxPlayers.getNumber();t=this.mImaxPlayers.TmpData;n>t.max?n=t.max:n<t.min&&(n=t.min);this.mRwdData.maxPlayers=n},t.onJjjlC=function(n,t,i){this.mJjjlData[0]=n;this.mJjjlData[1]=t;this.mJjjlData[2]=i;var r=u.lang("mmt_main_unSet");n>0&&(r=u.lang("yjsJjjl_v",t,i));this.getMenuIns(27).updateText(a.NumToStr(r))},t.initCookie=function(){this.mCk_Dic=[];this.mCk_Dic[0]=new gl("crtMas_yjs_pri");this.mCk_Dic[1]=new gl("crtMas_yjs_zd");this.mCk_Dic[2]=new gl("crtMas_yjs_gm")},t.start=function(){var t,r,i,u;n.prototype.start.call(this);this.mRwdData.caller=this.mRwdHd;this.mCk_Cur=this.mCk_Dic[this.getVecFlags()];t=this.mCk_Cur.Cookie;this.iInput.text=t.name;this.iFlag.setVal(t.flag);this.mImaxPlayers.text=""+(t.numMax||3);r=t.sliders;for(u in r)i=this.getSliderIns(u),i&&(i.updateDef(r[u]||0),i.DoReset());this.checkTzV(t.tzData);this.onJjjlC(0,0,0);this.datasReset();this.mRwdData.DoReset();this.updateRwdDataBase();this.onRwdC()},t.datasInit=function(){this.mDyusai=[];this.mDfusai=new po;this.mDfusai.type=1;this.mDfusai.name=u.lang("yjsSetN_fs");this.mDjuesai=new po;this.mDjuesai.type=2;this.mDjuesai.name=u.lang("yjsSetN_js");this.mDhandler=h.create(this,this.datasUpdate,null,!1)},t.datasReset=function(){while(this.mDyusai.length>0)l.recyle(this.mDyusai.shift());this.mDfusai.recyle();this.mDjuesai.recyle();this.datasUpdate()},t.datasUpdate=function(){var n=this.mDyusai.length;this.getMenuIns(23).updateText(0==n?u.lang("mmt_main_unSet"):u.lang("yjs_ys",n));this.getMenuIns(24).updateText(this.mDfusai.getStr());this.getMenuIns(25).updateText(this.mDjuesai.getStr())},t.onClkMenu=function(n){var t=n.TmpData;switch(t){case 22:b.OpenWin(48,this.mTzData,h.create(this,this.onTzC));break;case 23:b.OpenWin(321,this.mDyusai,this.mDhandler);break;case 24:b.OpenWin(322,this.mDfusai,this.mDhandler);break;case 25:b.OpenWin(322,this.mDjuesai,this.mDhandler);break;case 26:this.updateRwdDataBase();this.checkNum()&&b.OpenWin(39,this.mRwdData,!0);break;case 27:b.OpenWin(320,this.mJjjlData,h.create(this,this.onJjjlC))}},t.onSwitch=function(n){var t=n.TmpData,i=n.selected},t.onSliderC=function(n){var t=n.getValue();switch(n.ID){case 0:t=t+" ("+(t/50>>0)+"BB)"}n.updateTips(t)},t.doCrtCheck=function(n){var f=this.mDyusai.length,s,i,h,c,l,a,y,t,r,u,p,w,b,g,k,e,o,d;if(0==f){ut.showMessage("yjsSetMain_Err_0");return}if(this.checkNum(!0)){if(this.updateRwdDataBase(),this.mDfusai.open&&this.mDjuesai.open&&0==this.mDfusai.JsType&&this.mDjuesai.getSldVal(8)<this.mDfusai.getSldVal(6)){ut.showMessage("yjsSetMain_Err_1");return}s=this.iFlag.getVal();i=this.mCk_Cur.Cookie;i.name=n;i.numMax=this.mImaxPlayers.getNumber();i.flag=s;h=i.tzData.type=this.mTzData.type;c=i.tzData.val=this.mTzData.val;i.tzData.idx=this.mTzData.idx;l=i.sliders;for(y in l)a=this.getSliderIns(y),a&&(l[y]=a.getIndex());for(this.mCk_Cur.DoSave(),t=v.getPack(1402),t.sendString(n),t.sendInt32(i.numMax),2==h?(t.sendUInt8(1),t.sendInt32(0),t.sendInt32(c)):(t.sendUInt8(h),t.sendInt32(c),t.sendInt32(0)),t.sendInt32(this.getSliderIns(0).getValue()),t.sendUInt8(this.getSliderIns(1).getValue()),t.sendUInt8(this.getSliderIns(2).getValue()),t.sendUInt8(0),t.sendInt32(rt.Crt_Match_ZdID),t.sendInt32(0),t.sendInt32(s),t.sendInt16(f),r=0,r;r<f;r++)this.pushSetting(n,t,this.mDyusai[r],0);if(this.mDfusai.open?(t.sendInt16(1),this.pushSetting(n,t,this.mDfusai,1)):t.sendInt16(0),this.mDjuesai.open?(t.sendInt16(1),this.pushSetting(n,t,this.mDjuesai,2)):t.sendInt16(0),t.sendInt32(this.mRwdData.bd),p=this.mRwdData.type,w=this.mRwdData.cID,2==p&&w>0)t.sendInt16(0),t.sendInt16(0),t.sendUInt8(2),t.sendInt16(0),t.sendInt32(w);else{for(u=0==p?this.mRwdData.Data_0:this.mRwdData.Data_1,b=u.subType==1,g=u.rwdNum,t.sendInt16(b?0:g),t.sendInt16(u?u.rwdRate:0),t.sendUInt8(u.open?1:0),k=u.getValidItems(),r=0,f=k.length,t.sendInt16(f),r;r<f;r++)for(e=k.shift(),t.sendInt16(e.order),t.sendString(e.name),t.sendInt32(e.money),t.sendInt16(b?0:e.per*100),o=e.getValidItems(),t.sendInt16(o.length);o.length>0;)d=o.shift(),t.sendInt32(d.cID),t.sendUInt8(d.num);t.sendInt32(0)}t.sendUInt8(this.mJjjlData[0]);t.sendInt32(this.mJjjlData[1]);t.sendInt32(this.mJjjlData[2]);t.flush()}},t.pushSetting=function(n,t,i,r){t.sendString(n+" - "+i.name);t.sendUInt8(i.getSldVal(0));t.sendUInt8(r<2?i.getSldVal(1):0);t.sendUInt8(i.getSldVal(2));t.sendUInt8(i.getSldVal(3));switch(r){case 0:t.sendUInt8(1);t.sendUInt8(0);t.sendUInt8(i.getSldVal(5));break;case 1:t.sendUInt8(i.getSldVal(7));t.sendUInt8(i.JsType);t.sendUInt8(i.getSldVal(6));break;case 2:t.sendUInt8(i.getSldVal(8));t.sendUInt8(0);t.sendUInt8(0)}t.sendInt32(i.sTime);t.sendUInt8(i.mzIdx)},i}(ac),oii=function(n){function t(){t.__super.call(this,!1);f.Leagues.regist(932,this.udTotal,this);f.Leagues.regist(933,this.udUsed,this);f.Leagues.regist(934,this.udZr,this);f.Leagues.regist(935,this.udToday,this)}r(t,"games.windows._commons.grants.credits.Win_CU_C_U2C",n);var i=t.prototype;return i.onSure=function(n,t,i,r){n!=0&&f.Leagues.reqModifyCre(933,this.mSID,n);t.length>0&&f.Leagues.reTotal(this.mSID,a.getNumber(t));i!=0&&f.Leagues.reqModifyCre(934,this.mSID,i);r!=0&&f.Leagues.reqModifyCre(935,this.mSID,r)},t}(id),sii=function(n){function t(){this.mT_Name=null;this.mImg=null;this.mT_Cur=null;this.mT_Other=null;t.__super.call(this,560,116,76);this.x=2;this.MixCon.graphics.drawRoundRect(16,this.mWidth,this.mHeight-2,"#3a5373",0,2);this.iIcon.pos(16,this.mHeight-this.iIcon.height>>1);this.mT_Name=w.quickCreate(26,"#b2d6fb");this.mT_Name.pos(108,46);this.MixCon.addChild(this.mT_Name);this.mImg=new st("mainUi/deskState_3.png");this.mImg.mouseEnabled=!1;this.mImg.pos(this.mWidth-this.mImg.width-this.iIcon.x,this.mHeight-this.mImg.height>>1);this.mT_Cur=w.quickCreate(26,"#4bc65c");this.mT_Cur.text=u.lang("mttRooms_cur");this.mT_Cur.pos(this.mImg.x+.5*(this.mImg.width-this.mT_Cur.width)>>0,this.mT_Name.y);this.mT_Other=w.quickCreate(20,"#ffffff");this.mT_Other.y=.5*this.mImg.height+6>>0;this.mImg.addChild(this.mT_Other)}r(t,"games.matchCores.panels.mtts.myrooms.MpMttRooms_Item",n);var i=t.prototype;return i.recyle=function(){n.prototype.recyle.call(this);this.TmpData=0;this.mT_Name.text="";this.mImg.removeSelf();this.mT_Cur.removeSelf();this.mT_Other.text=""},i.setVo=function(n){this.TmpData=n.RID;this.mT_Name.text=b.cutStrAsLen(n.Name,16);this.mT_Name.typeset();this.loadIcon(n.Icon,1,1);n.IsCur?(this.TmpData=0,this.MixCon.addChild(this.mT_Cur)):(this.mT_Other.text=u.lang("mtt_list_state1_1",a.getStrSeconds(n.Pass,1)),this.mT_Other.typeset(),this.mT_Other.x=this.mImg.width-this.mT_Other.width>>1,this.MixCon.addChild(this.mImg));this.update()},t}(ou),hii=function(n){function t(){this.mRoomID=0;this.mCurPage=0;this.mTotalPage=0;this.mVec=null;this.mVecItems=null;this.mBrands=null;t.__super.call(this,660,"pBrands_title_mtt",!1,0);this.mScon.updateRect(this.mWidth);this.mScon.x=0;this.mScon.setCallback(h.create(this,this.showPage,null,!1));this.mScon.on("click",this,this.onClkItem);this.mVecItems={};this.mBrands=new sv(!0);f.Room.regist(519,this.getList,this)}r(t,"games.matchCores.panels.brands.MP_Brands_MTT",n);var i=t.prototype;return i.start=function(){if(this.mRoomID!=o.MatchVo.sID){this.mRoomID=o.MatchVo.sID;this.mBrands.clear(o.MatchVo.name);this.mScon.ItemClean(!0);for(var n in this.mVecItems)this.mVecItems[n]=null,delete this.mVecItems[n]}this.onDisable();this.mScon.showWating(!1);f.Room.reqMTTBrandsInRoom(this.mRoomID,o.MatchVo.matchType)},i.onDisable=function(){this.mBrands.removeSelf();this.mVec=null;this.mScon.ItemClean(!1);this.mCurPage=0;this.mTotalPage=0},i.getList=function(n){this.onDisable();this.mVec=n;this.mTotalPage=Math.ceil(this.mVec.length/24);this.mScon.doWaitComplete(200);this.parent&&this.showPage(!1)},i.showPage=function(n){var f,i,t,r,e,u;if(n||this.mCurPage>=this.mTotalPage)return!1;for(f=this.mCurPage*24,i=(this.mCurPage+1)*24,i=i>=this.mVec.length?this.mVec.length:i,e=i-f,u=0;u<e;u++)r=this.mVec[f+u],t=this.mVecItems[r.handID],t||(t=l.get(yd),t.setVo(r),this.mVecItems[r.handID]=t),this.mScon.ItemAdd(t);return this.mCurPage+=1,this.mScon.doWaitComplete(50),!0},i.onClkItem=function(n){n.currentTarget!=n.target&&(this.mBrands.parent||this.addChild(this.mBrands),this.mBrands.setBrandInfo(this.mRoomID,n.target.TmpData,o.MatchVo.HandNum,!0))},t.PAGE_SIZE=24,t}(ce),cii=function(n){function t(){this.mIcon=null;this.mStar=null;t.__super.call(this);this.mIcon=new hi(76,!1,4);this.mIcon.x=64;this.addChild(this.mIcon);this.mStar=new bf;this.mStar.pos(96,60);this.addChild(this.mStar)}r(t,"games.windows._commons.zj.ZjItem_Lea",n);var i=t.prototype;return i.setVo=function(n,t){this.updateVo(n,t);this.mStar.showStar(n.cLev);this.mIcon.loadIcon(n.icon,5)},t}(le),lii=function(n){function t(){t.__super.call(this,1);f.Club.regist(729,this.getResult,this)}r(t,"games.windows._commons.grants.Win_CU_GS_C2P",n);var i=t.prototype;return i.start=function(t){n.prototype.start.call(this,t);this.updateRes(f.Club.Members.Score)},i.onSubmit=function(n){f.Club.reqGrant(!1,this.mID,n)},t}(nv),yv=function(n){function i(n,t,r){var u,f;this.mImaxPlayers=null;this.mGdMenu=null;this.mBox=null;this.mTime=0;this.mCk_Dic=null;this.mCk_Cur=null;this.mMzMenu=null;this.mzIdx=0;this.mTzData=null;this.mHuntData=null;this.mIsGm=!1;this.mRwdData=null;this.mRwdHd=null;i.__super.call(this,n,t,r);this.mTzData=new rh;this.mHuntData=new pit;this.mImaxPlayers=new yr(710);this.mImaxPlayers.initLeft(28,28,"#b2d6fb");this.mImaxPlayers.updateLeft(this.mConfig.VecMenus[0].title);this.mImaxPlayers.initRight(!0,240,28,28,"#6391d5",null,"center",-16);this.mImaxPlayers.maxChars=6;this.mImaxPlayers.restrict="0-9";this.mImaxPlayers.prompt=this.mConfig.VecMenus[0].tips;this.mImaxPlayers.TmpData=this.mConfig.VecMenus[0].data;this.mImaxPlayers.mInput.on("blur",this,this.checkNum);this.mImaxPlayers.y=this.mSCon.y;this.toXCenter(this.mImaxPlayers);this.addChild(this.mImaxPlayers);u=this.mImaxPlayers.y+this.mImaxPlayers.height+10>>0;this.mSCon.y=u;this.mSCon.updateRect(0,this.mHeight-u-136);this.mGdMenu=this.mConfig.OtherCfgs[1].data;this.mBox=new hf("combox_2");this.mBox.width=200;this.mBox.creat(this.mGdMenu,0);this.mBox.setClick(h.create(this,this.onGdMenu,null,!1));f=this.getSliderIns(8);this.mBox.pos(f.width-this.mBox.width-20>>0,12);f.addChild(this.mBox);this.mMzMenu=this.mConfig.VecMenus[3].data;this.mRwdData=new wv;this.mRwdHd=h.create(this,this.onRwdC,null,!1)}r(i,"games.windows.matches.creators.mtt.CrtMac_Mtt",n);var t=i.prototype;return t.onGdMenu=function(){var i=this.mGdMenu[this.mBox.data],n=this.getSliderIns(8),r=n.getValue().data,t=n.getValue().label;0==r?n.updateTips(t):n.updateTips(i.tips.replace("{0}",t))},t.getVecView=function(n){return rt.Crt_Match_IsZD?this.mIsGm?n.View_GM:n.View_ZD:n.View_SJ},t.getVecFlags=function(){return this.mIsGm?2:rt.Crt_Match_IsZD?1:0},t.initCookie=function(){var n="";this.iGameType!=0&&(n="_gt"+this.iGameType);this.mCk_Dic=[];this.mCk_Dic[0]=new bl("crtMas_mtt_pri"+n);this.mCk_Dic[1]=new bl("crtMas_mtt_zd"+n);this.mCk_Dic[2]=new bl("crtMas_mtt_gm"+n)},t.start=function(){var t,r,i,u;this.mIsGm=!0;n.prototype.start.call(this);this.mRwdData.caller=this.mRwdHd;this.mCk_Cur=this.mCk_Dic[this.getVecFlags()];t=this.mCk_Cur.Cookie;this.iInput.text=t.name;this.iFlag.setVal(t.flag);this.mImaxPlayers.text=""+(t.numMax||3);this.mBox.clearSel(t.gdIdx);this.onGdMenu();this.onMzC(t.mzIdx);r=t.sliders;for(u in r)i=this.getSliderIns(u),i&&(i.updateDef(r[u]||0),i.DoReset());this.checkTzV(t.tzData);this.mHuntData.DoReset();this.onHuntC();this.mRwdData.DoReset();this.updateRwdDataBase();this.onRwdC()},t.onClkMenu=function(n){var i=n.TmpData,t;switch(i){case 22:b.OpenWin(48,this.mTzData,h.create(this,this.onTzC));break;case 23:b.OpenWin(47,this.mHuntData,h.create(this,this.onHuntC));break;case 24:b.OpenWin(46,1,this.iGameType,this.mzIdx,this.mMzMenu,h.create(this,this.onMzC),this.getSliderIns(1).getValue());break;case 25:t=this.getSliderIns(9).getValue().data;t>0&&b.OpenWin(37,this.mTime,h.create(this,this.updateTime));break;case 26:this.updateRwdDataBase();this.checkNum()&&b.OpenWin(39,this.mRwdData,!1)}},t.updateRwdDataBase=function(){var i=this.mTzData.type,n,t;i>1&&(i=1);this.mRwdData.updateResType(i);n=this.mImaxPlayers.getNumber();t=this.mImaxPlayers.TmpData;n>t.max?n=t.max:n<t.min&&(n=t.min);this.mRwdData.maxPlayers=n},t.onRwdC=function(){this.getMenuIns(26).updateText(this.mRwdData.Str)},t.checkNum=function(n){n===void 0&&(n=!1);var i=this.mImaxPlayers.getNumber(),t=this.mImaxPlayers.TmpData;return i>t.max||i<t.min?(ut.showMessage(u.lang("mmt_main_err_0",t.min,t.max),!1),n&&this.mSCon.toTop(!0),!1):!0},t.checkTzV=function(n){var t=n.type,i=n.val,r=n.idx;2==t&&(n.val=i=ot.Tick_getDef(i).id);this.mTzData.type=t;this.mTzData.val=n.val;this.mTzData.idx=r;this.onTzC(!1)},t.onTzC=function(n){var i;n===void 0&&(n=!0);var r=this.mTzData.type,t=this.mTzData.val,f=this.getMenuIns(22);r<2?f.updateText(a.NumToStr(t)+u.lang("resType_"+r)):(i=gi.getTicket(t),t=i.getVal(1),f.updateText(u.lang("mttBmzg_ticket1",i.name,a.NumToStr(t))),n&&this.onSwitch(this.iFlag.getIns(0)));this.mHuntData.max=t},t.onHuntC=function(){var n=u.lang("mmt_main_unSet");this.mHuntData.open?(n=u.lang("mmt_main_hunt",this.mHuntData.sj,this.mHuntData.rate),this.iFlag.getIns(30).selected=!0):this.iFlag.getIns(30).selected=!1;this.getMenuIns(23).updateText(n)},t.onMzC=function(n){var t=this.mMzMenu[n];t||(t=this.mMzMenu[n=0]);this.mzIdx=n;this.getMenuIns(24).updateText(t.label)},t.onSwitch=function(n){var t=n.TmpData,i=n.selected;switch(t){case 8:case 9:i&&(this.iFlag.getIns(t==8?9:8).selected=!1);break;case 12:i&&this.checkMdcg(!0)}},t.onSliderC=function(n){var t=n.getValue(),i=0,r;switch(n.ID){case 0:t=t+" ("+(t/50>>0)+"BB)";break;case 3:case 4:t=t.label;break;case 5:t=t.data;break;case 6:i=t.data;r=this.getSliderIns(7);0==i?(r.ShowHide(!1),n.updateTips(u.lang("mmt_main_xxno")),r.updateTips(u.lang("mmt_main_xxno"))):(n.updateTips(u.lang("mmt_main_xxlev",i)),r.ShowHide(!0));return;case 7:t=t+"min";break;case 8:this.onGdMenu();return;case 9:i=t.data;t=t.label;0==i?(this.mTime=0,this.getMenuIns(25).updateText(u.lang("mmt_main_err_1"))):this.updateTime(this.mTime);break;case 11:t=0==t?u.lang("mmt_main_ycff"):t+"h"}n.updateTips(t)},t.updateTime=function(n){this.mTime=n;var t=this.getMenuIns(25);n==0?t.updateText(u.lang("mmt_main_unSet")):t.updateText(a.G2S(this.mTime,4))},t.checkMdcg=function(n){var r=this.iFlag.getIns(12).selected,t,i;return r&&(t=0,this.iFlag.getIns(5).selected?t=3:this.iFlag.getIns(6).selected?t=4:n||(2!=this.mRwdData.type?t=6:(i=this.mRwdData.Data_2.getValidItems(),i.length!=1?t=7:1==i.length&&i[0].getValidItems().length!=1&&(t=7))),t>0)?(ut.showMessage(u.lang("mmt_main_err_"+t),!1),n&&(this.iFlag.getIns(12).selected=!1),!1):!0},t.doCrtCheck=function(n){var s,i,h,c,l,a,y,t,r,p,u,e,w,d,f,o,k;if(this.checkNum(!0)&&(this.updateRwdDataBase(),this.checkMdcg(!1))){s=this.iFlag.getVal();i=this.mCk_Cur.Cookie;i.name=n;i.numMax=this.mImaxPlayers.getNumber();i.flag=s;i.mzIdx=this.mzIdx;i.gdIdx=this.mBox.selectIndex;h=i.tzData.type=this.mTzData.type;c=i.tzData.val=this.mTzData.val;i.tzData.idx=this.mTzData.idx;l=i.sliders;for(y in l)a=this.getSliderIns(y),a&&(l[y]=a.getIndex());if(this.mCk_Cur.DoSave(),t=v.getPack(1401),t.sendUInt8(rt.Crt_Match_IDLev>1?1:rt.Crt_Match_IDLev),t.sendInt32(rt.Crt_Match_ZdID),t.sendInt32(1),t.sendUInt8(h>0?1:0),t.sendInt32(this.mRwdData.bd),t.sendString(n),t.sendInt16(i.numMax),r=0,2==h&&(r=c),t.sendInt32(r>0?0:c),t.sendInt32(r),t.sendInt32(this.getSliderIns(0).getValue()),t.sendUInt8(this.getSliderIns(1).getValue()),t.sendUInt8(this.getSliderIns(2).getValue()),t.sendUInt8(this.getSliderIns(3).getValue().data),t.sendUInt8(this.getSliderIns(4).getValue().data),t.sendUInt8(this.getSliderIns(5).getValue().data*10),t.sendUInt8(this.getSliderIns(6).getValue().data),t.sendUInt8(this.getSliderIns(7).getValue()),p=this.getSliderIns(9).getValue().data,t.sendInt32(p>0?this.mTime:0),t.sendInt32(s),e=this.mRwdData.type,r=this.mRwdData.cID,2==e&&r>0)t.sendInt16(0),t.sendUInt8(2),t.sendInt16(0),t.sendInt32(r);else{u=this.mRwdData["Data_"+e];w=u.subType==1;d=u.rwdNum;t.sendInt16(w?0:d);t.sendUInt8(2==e?2:u.open?1:0);var g=u.getValidItems(),b=0,nt=g.length;for(t.sendInt16(nt),b;b<nt;b++)for(f=g.shift(),t.sendInt16(f.order),t.sendString(f.name),t.sendInt32(f.money),t.sendInt16(w?0:f.per*100),o=f.getValidItems(),t.sendInt16(o.length);o.length>0;)k=o.shift(),t.sendInt32(k.cID),t.sendUInt8(k.num);t.sendInt32(0)}t.sendInt32(this.getSliderIns(8).getValue().data);t.sendUInt8(this.mBox.data);t.sendInt16(p);t.sendUInt8(u?u.rwdRate:0);t.sendUInt8(this.mzIdx);t.sendUInt8(1);t.sendUInt8(this.iGameType);this.mHuntData.open?(t.sendInt32(this.mHuntData.sj),t.sendUInt8(this.mHuntData.rate)):(t.sendInt32(0),t.sendUInt8(0));t.sendUInt8(this.getSliderIns(10).getValue());t.sendUInt8(this.getHcNum());t.sendInt16(this.getSliderIns(11).getValue()*60>>0);t.flush()}},i}(ac),aii=function(n){function t(){t.__super.call(this)}return r(t,"games.windows._commons.hz.Item_HzSum",n),t}(vc),vii=function(n){function t(n){this.mIcon=null;t.__super.call(this,"udList4",n,!0);this.setIcon(n.icon)}r(t,"games.UD_Displays.menus.UD_MenuItem_Icon",n);var i=t.prototype;return i.setIcon=function(n){this.mIcon||(this.mIcon=new st(null),this.addChild(this.mIcon));this.mIcon.setRes(n);this.mIcon.pos(42,this.height-this.mIcon.height>>1)},t}(iv),yii=function(n){function t(){t.__super.call(this,!0)}return r(t,"games.windows._club.funds.Win_Club_JpRecharge",n),t}(bd),pii=function(n){function t(n,i,r){t.__super.call(this,n,i,r)}r(t,"games.windows._club.funds.hz.Modu_C_JP",n);var i=t.prototype;return i.start=function(){n.prototype.start.call(this);this.mParams.tID=f.Club.ClubVo.cID},i.initParams=function(){this.mParams.from=1;this.mParams.isClub=!0;f.Club.regist(this.mParams.CmdHead=744,this.getHead,this);f.Club.regist(this.mParams.CmdVec=745,this.getVecs,this);f.Club.regist(this.mParams.CmdHz=746,this.getHz,this)},i.onBtn=function(){b.OpenWin(73)},i.updateHas=function(){this.mHead.updateHas(f.Club.Members.JP)},t}(rv),wii=function(n){function t(n,i,r){t.__super.call(this,n,i,r)}r(t,"games.windows._club.funds.hz.Modu_C_Score",n);var i=t.prototype;return i.initParams=function(){this.mParams.from=2;this.mParams.isClub=!0;f.Club.regist(this.mParams.CmdHead=750,this.getHead,this);f.Club.regist(this.mParams.CmdVec=751,this.getVecs,this);f.Club.regist(this.mParams.CmdHz=752,this.getHz,this)},i.onBtn=function(){b.OpenWin(71)},i.updateHas=function(){this.mHead.updateHas(f.Club.Members.Score)},t}(rv),bii=function(n){function t(){this.mTstart=0;this.mTnow=0;t.__super.call(this,"winMtt_Head");this.mTstart=0}r(t,"games.windows.matches.mttWins.details.WinMttDtl_Head",n);var i=t.prototype;return i.updateDetail=function(n){this.DoReset();this.updateVal(1,n.zmTime+"min");this.updateVal(2,ot.getBldKstr(ot.getBlindLev(1,n.gameType,n.blindType,n.blindLv)));this.updateVal(3,n.numMax);this.updateVal(4,n.awdNum);this.updateVal(5,a.NumToStr(n.awdPool));this.updateVal(6,a.NumToStr(n.scoreDef));this.updateVal(7,ot.getBldKstr(ot.getBlindLev(1,n.gameType,n.blindType,n.blindLv+1)));this.updateVal(8,this.getNumStr(n.numFh)+" / "+this.getNumStr(n.numCg));this.updateVal(9,a.NumToStr(o.getValueBB(n.scoreMax)));this.updateVal(10,a.NumToStr(o.getValueBB(n.scoreAv)));this.updateVal(11,a.NumToStr(o.getValueBB(n.scoreMin)));this.updateTime(n);this.update()},i.render=function(n,t,i){if(this.mTstart>0){var r=c.nowSeconds();r!=this.mTnow&&(this.mTnow=r,this.mDcIns.showTime(r-this.mTstart))}laya.display.Sprite.prototype.render.call(this,n,t,i)},i.updateTime=function(n){this.setTime(this.mTstart=this.mTnow=0,!1);var t=n.state,i=n.tPass;0==t?i<0?(this.setTime(n.tStart-c.nowSeconds(),!0),this.updateVal(20,u.lang("mtt_winDtl_ksStat_1"))):this.updateVal(20,u.lang("mtt_winDtl_ksStat_0")):(this.mTstart=n.tStart,this.updateVal(20,u.lang("mtt_winDtl_ksStat_2")))},t}(av),pv=function(n){function i(n){this.C_Idx=0;this.mFlagImg=null;this.mFlag=null;this.iT_Other=null;this.mTnow=0;this.mTs=0;this.mTstr=null;this.mTend0=!1;i.__super.call(this,n);this.C_Idx=-1;this.mFlag=new fb;this.mFlag.y=110+.5*s.LEADING_SIZE>>0;this.MixCon.addChild(this.mFlag);this.mFlagImg=new st(null);this.mFlagImg.mouseEnabled=!0;this.mFlagImg.pos(542,70);this.MixCon.addChild(this.mFlagImg);this.iT_Other=w.quickCreate(20,"#ffffff");this.iT_Other.pos(this.mWidth-100,this.mT_Crter.y+2);this.addChild(this.iT_Other)}r(i,"games.windows.matches.matchLists.MatchList_Item_Base",n);var t=i.prototype;return t.Dc_Clear=function(){this.mTs=this.mTnow=0;this.mTend0=!1},t.Dc_Start=function(n,t){this.mTnow=0;this.mTstr=n;this.mTs=c.nowSeconds()-t;this.mTend0=t<0},t.render=function(n,t,i){var f,r;this.mTs>0&&(f=c.nowSeconds(),f!=this.mTnow&&(this.mTnow=f,r=0,this.mTend0?(r=this.mTs-f,r<0&&(r=0,this.mTs=0)):(r=f-this.mTs,r<0&&(r=0)),this.setOtherStr(u.replace(this.mTstr,a.FormatTime3(r)),!1)));laya.display.Sprite.prototype.render.call(this,n,t,i)},t.recyle=function(){n.prototype.recyle.call(this);this.Dc_Clear();this.C_Idx=-1;this.iT_Other.text="";this.mFlag.DoReset()},t.setFlagState=function(n){this.mFlagImg.setRes("mainUi/deskState_"+n+".png")},t.setCrtAndGt=function(n,t,i){i===void 0&&(i=12);this.mT_Crter.text=n;this.mFlag.x=this.mT_Crter.x+this.mT_Crter.width+i>>0;this.mFlag.setGt(t)},t.setOtherStr=function(n){this.iT_Other.text=n;this.iT_Other.x=this.mFlagImg.x+.5*(this.mFlagImg.width-this.iT_Other.width)>>0},t.onClk=function(){var n=this.mouseX,t=this.mouseY,i=this.mFlagImg.x,u=i+this.mFlagImg.width,r=this.mFlagImg.y,f=r+this.mFlagImg.height;this.onClick(n>i&&n<u&&t>r&&t<f)},t.onClick=function(){},i}(eg),kii=function(n){function i(){this.mDs=null;this.mVo=null;i.__super.call(this,"pmtt_dtl_tabs","roomMtt");this.mDs=f.MTT}r(i,"games.matchCores.panels.ranks.MP_Rank_MTT",n);var t=i.prototype;return t.initModus=function(n){this.mVecModus[1]=new ov(n,!0);this.mVecModus[2]=new ng(n,!0);this.mVecModus[3]=new rg(n,!0);this.mVecModus[4]=new yc(n,!0)},t.cmdsReg=function(){this.mDs.regist(1430,this.getDetail,this);this.mDs.regist(1432,this.getAwards,this);this.mDs.regist(1433,this.getDesks,this);this.mDs.regist(1434,this.getPlayers,this)},t.cmdsDel=function(){this.mDs.remove(1430,this.getDetail,this);this.mDs.remove(1432,this.getAwards,this);this.mDs.remove(1433,this.getDesks,this);this.mDs.remove(1434,this.getPlayers,this)},t.reqData=function(n){this.mDs.reqDetailRoom(n,!1)},t.onTabC=function(n){switch(n){case 1:this.mDs.reqAwards(this.msID);break;case 2:this.mDs.reqDesks(this.msID);break;case 3:this.mDs.reqPlayers(this.msID);break;case 4:this.mVecModus[4].setType(1,this.mVo.gameType,this.mVo.blindType,this.mVo.zmTime,this.mVo.blindLv,this.mVo.delayLv,this.mVo.numFh+this.mVo.numCg>0,this.mVo.jjLv)}},t.showDetail=function(n){this.updateDetail(n);this.mVo=n;this.updateTitle(this.mVo.name+" ( "+this.mVo.getBmStr()+" )",!1,1);var r=this.mVo.Flag.lierensai,i,t=0,u=this.mVecModus.length;for(t;t<u;t++)i=this.mVecModus[t],i&&i.setHunt(r)},t.updateDetail=function(n){this.mHead.DoReset();this.mHead.setTime(n.nextTime,o.MatchVo.roomState>1);this.mHead.updateVal(1,n.myRank>0?n.myRank:u.StrNull);this.mHead.updateVal(2,ot.getBldKstr(ot.getBlindLev(1,n.gameType,n.blindType,n.blindLv)));this.mHead.updateVal(3,n.numJoin+" / "+n.numMax);this.mHead.updateVal(4,n.awdNum);this.mHead.updateVal(5,a.NumToStr(n.awdPool));this.mHead.updateVal(6,n.delayLv+1);this.mHead.updateVal(7,ot.getBldKstr(ot.getBlindLev(1,n.gameType,n.blindType,n.blindLv+1)));this.mHead.updateVal(8,this.mHead.getNumStr(n.numFh)+" / "+this.mHead.getNumStr(n.numCg)+" / "+this.mHead.getNumStr(n.numZg,"x"));this.mHead.updateVal(9,a.NumToStr(o.getValueBB(n.scoreMax)));this.mHead.updateVal(10,a.NumToStr(o.getValueBB(n.scoreAv)));this.mHead.updateVal(11,a.NumToStr(o.getValueBB(n.scoreMin)));this.mHead.update()},t.getDetail=function(n,t){this.onGetDetail(t,n)},t.getAwards=function(n,t,i,r,u){this.msID==n&&this.mVecModus[1].setRanks(t,i,r,u)},t.getDesks=function(n,t){this.msID==n&&this.mVecModus[2].setRanks(t)},t.getPlayers=function(n,t){this.msID==n&&this.mVecModus[3].setRanks(t)},i}(hg),cg=function(n){function t(n){this.mRoomID=0;this.mResScroe=null;this.mResPerson=null;this.mResTime=null;this.mFlag=null;this.mTtotal=null;this.mTtime=null;t.__super.call(this,n);this.toXCenter();this.mResScroe=this.crtRes(35,74);this.mResPerson=this.crtRes(31,74);this.mResPerson.visible=!1;this.mResTime=this.crtRes(32,74);this.mFlag=new fb;this.mFlag.y=110+.5*s.LEADING_SIZE>>0;this.MixCon.addChild(this.mFlag);this.mTtotal=w.quickCreate(28,"#6391d5");this.mTtotal.y=24;this.MixCon.addChild(this.mTtotal);this.mTtime=w.quickCreate(22,"#6391d5");this.mTtime.y=114;this.MixCon.addChild(this.mTtime)}r(t,"games.windows.matches.lspjCtrls.LspjCtrl_Item_Base",n);var i=t.prototype;return i.recyle=function(){n.prototype.recyle.call(this);this.mResPerson.visible=!1;this.mRoomID=0;this.mFlag.DoReset()},i.setCrtAndGt=function(n,t){this.mT_Crter.text=n;this.mFlag.x=this.mT_Crter.x+this.mT_Crter.width+12>>0;this.mFlag.setGt(t)},i.ShowBaseRes=function(n,t,i){this.mResScroe.showValue(n,!1,!1);this.mResTime.showValue(i,!1,!1);this.mResPerson.showValue(t,!1,!1);this.mResPerson.visible=t>0;var r=this.mResScroe.x+this.mResScroe.width+24>>0;t>0&&(this.mResPerson.x=r,r+=this.mResPerson.width+24>>0);this.mResTime.x=r},i.ShowOther=function(n,t,i){this.mTtotal.color=t;this.mTtotal.text=n;this.mTtotal.x=this.mWidth-this.mTtotal.textWidth-20;this.mTtime.text=i;this.mTtime.x=this.mWidth-this.mTtime.textWidth-20},t}(eg),dii=function(n){function t(){t.__super.call(this,"winMtt_Yjs")}r(t,"games.windows.matches.mttWins.details.WinMttDtl_Yjs",n);var i=t.prototype;return i.DoReset=function(){games.windows.matches.mthDtlView.Match_Room_Detail.prototype.DoReset.call(this);this.IsValid=!1},i.updateDetail=function(n){var i,t;if(this.DoReset(),i=n.YjsType,!(i<1)&&!(i>2)){this.IsValid=!0;t=u.StrNull;switch(n.jjOption){case 0:t=u.lang("mtt_winDtl_str_opt_0",n.jjVal);break;case 1:t=u.lang("mtt_winDtl_str_opt_1",n.jjVal)}this.updateVal(1,t);this.updateVal(2,this.getTimeStr(n.tFusai));this.updateVal(3,this.getTimeStr(n.tJuesai));this.update()}},i.getTimeStr=function(n){return n<0?u.lang("mtt_winDtl_str_yjs"):0==n?u.StrNull:a.G2S(n,1)},t}(av),gii=function(n){function t(){this.mStr0=null;this.mRes=null;t.__super.call(this,"winMtt_Ohter");this.mStr0=u.lang("mtt_winDtl_ksType_0");this.mRes=new fi(37,8);this.mRes.setFont("#b2d6fb",26);var n=this.getIvo(1);this.mRes.TmpData=n.x+4;this.mRes.pos(n.x,n.y);this.MixCon.addChild(this.mRes)}r(t,"games.windows.matches.mttWins.details.WinMttDtl_Other",n);var i=t.prototype;return i.DoReset=function(){for(games.windows.matches.mthDtlView.Match_Room_Detail.prototype.DoReset.call(this);this.numChildren>0;)this.removeChildAt(0)},i.updateDetail=function(n){this.DoReset();var i,t=n.tStart;this.mRes.setType(n.bmType==0?37:38);this.mRes.showValue(n.getCost());this.mRes.x=this.mRes.TmpData-this.mRes.width>>0;this.updateVal(2,t>0?a.G2S(t,1):this.mStr0);this.updateVal(3,n.sitNum);this.updateVal(4,n.delayLv+1);this.updateVal(5,t==0?this.mStr0:u.lang("mtt_winDtl_ksType_1",n.startNum));i=n.xxTime>0&&n.xxGap>0?u.lang("mtt_winDtl_str_xx",n.xxTime,n.xxGap):u.StrNull;this.updateVal(6,i);this.updateVal(7,this.getNumStr(n.numZg,"x"));this.update()},t}(av),nri=function(n){function i(){this.mDs=null;this.mVo=null;i.__super.call(this,"psng_dtl_tabs","roomSng");this.mDs=f.SNG}r(i,"games.matchCores.panels.ranks.MP_Rank_Sng",n);var t=i.prototype;return t.initModus=function(n){this.mVecModus[1]=new ov(n,!0);this.mVecModus[3]=new bnt(n,!0);this.mVecModus[4]=new yc(n,!0)},t.cmdsReg=function(){this.mDs.regist(820,this.getDetail,this);this.mDs.regist(821,this.getPlayers,this);this.mDs.regist(822,this.getAwards,this)},t.cmdsDel=function(){this.mDs.remove(820,this.getDetail,this);this.mDs.remove(821,this.getPlayers,this);this.mDs.remove(822,this.getAwards,this)},t.reqData=function(n){this.mDs.reqDetail(n)},t.onTabC=function(n){switch(n){case 1:this.mDs.reqAwards(this.msID);break;case 3:this.mDs.reqPlayers(this.msID);break;case 4:this.mVecModus[4].setType(2,this.mVo.gameType,this.mVo.blindType,this.mVo.zmTime,this.mVo.blindLv)}},t.showDetail=function(n){this.updateDetail(n);this.mVo=n;this.updateTitle(this.mVo.getName(),!1,1)},t.updateDetail=function(n){this.mHead.DoReset();this.mHead.setTime(n.nextTime,o.MatchVo.roomState>1);this.mHead.updateVal(1,n.myRank>0?n.myRank:u.StrNull);this.mHead.updateVal(2,ot.getBldKstr(ot.getBlindLev(2,n.gameType,n.blindType,n.blindLv)));this.mHead.updateVal(3,n.numJoin+" / "+n.numMax);this.mHead.updateVal(4,n.awdNum);this.mHead.updateVal(5,a.NumToStr(n.awdPool));this.mHead.updateVal(6,ot.getBldKstr(ot.getBlindLev(2,n.gameType,n.blindType,n.blindLv+1)));this.mHead.updateVal(7,a.NumToStr(o.getValueBB(n.scoreMax)));this.mHead.updateVal(8,a.NumToStr(o.getValueBB(n.scoreAv)));this.mHead.updateVal(9,a.NumToStr(o.getValueBB(n.scoreMin)));this.mHead.update()},t.getDetail=function(n){this.onGetDetail(n,n.roomID)},t.getAwards=function(n,t){this.msID==n&&this.mVecModus[1].setRanks(t,0,0,null)},t.getPlayers=function(n,t){this.msID==n&&this.mVecModus[3].setRanks(t)},i}(hg),tri=function(n){function t(){this.mVo=null;this.mImgHunt=null;this.mRcost=null;this.mRnum=null;t.__super.call(this,!0);this.mImgHunt=st.CrtHunt();var n=this.iIcon.width+2;this.mImgHunt.pos(this.iIcon.x+n-this.mImgHunt.width>>0,this.iIcon.y+n-this.mImgHunt.height>>0);this.mRcost=this.crtRes(37,74);this.mRnum=this.crtRes(31,74);this.recyle()}r(t,"games.windows.matches.matchLists.mtt.McLtMtt_Item",n);var i=t.prototype;return i.recyle=function(){n.prototype.recyle.call(this);this.mVo=null;this.mImgHunt.removeSelf()},i.setVo=function(n){this.mVo=n;this.C_Idx=n.RaceID;this.Dc_Clear();this.loadIcon(n.icon,1,2);this.setName(n.name);this.setCrtAndGt(n.creater,n.gameType);this.mRcost.setType(n.bmType==0?37:38);this.mRcost.showValue(n.getCost(),!1,!1);n.Flag.lierensai&&this.MixCon.addChild(this.mImgHunt);this.mFlag.setMttFlag(n.Flag)},i.DoUpdate=function(){var n,t,i,r;this.mVo&&(this.setFlagState(this.mVo.C_Op),this.mRnum.showValue(this.mVo.numJoin+"/"+this.mVo.numTotal,!1,!1),this.mRnum.x=this.mRcost.x+this.mRcost.width+28>>0,this.Dc_Clear(),n=c.nowSeconds(),t=this.mVo.timmeKs,0==this.mVo.state?t<n?this.setOtherStr(u.lang("mtt_list_state0_2",i),!0):t>n?(i=a.getStrHM(t,!0),r=a.getDayGap(n,t),r>0&&(i+="+"+r),this.setOtherStr(u.lang("mtt_list_state0_1",i),r<1)):this.setOtherStr(u.lang("mtt_list_state0_0"),!0):(this.setOtherStr("",!0),1==this.mVo.state?0==this.mVo.timeJz?this.setOtherStr(u.lang("mtt_list_state1_00"),!0):this.Dc_Start(u.lang("mtt_list_state1_0"),n-this.mVo.timeJz):2==this.mVo.state&&this.Dc_Start(u.lang("mtt_list_state1_1"),n-this.mVo.timmeKs)))},i.onClick=function(n){if(n)switch(this.mVo.C_Op){case 0:case 1:case 2:ef.onMttItem(this.mVo);return;case 3:case 4:f.MTT.reqEntry(this.mVo.RaceID,0);return}b.OpenWin(38,this.mVo.RaceID,this.mVo.name)},t}(pv),lg=function(n){function t(){t.__super.call(this,!1)}r(t,"games.windows.matches.lspjCtrls.LspjCtrl_Item_Xls",n);var i=t.prototype;return i.show=function(n,t){this.mRoomID=n.roomID;this.setName(b.cutStrAsLen(n.name,20));this.setCrtAndGt(n.creater,n.gameType);this.mResScroe.setType(n.IsUseGold?30:35);this.ShowBaseRes(this.getResStr(n),n.jNum,a.getStrSeconds(n.tTotal,1));this.ShowOther(a.NumToStr(n.score,9),a.getColor(n.score),u.lang("handNum")+":"+n.handNum);t?this.loadIcon(f.Club.ClubVo.icon,1):this.loadIcon(n.icon,n.cType);this.update()},i.getResStr=function(n){if(n){if(n.gameType==2&&n.hasOwnProperty("getDPBetStr"))return n.getDPBetStr();if(n.hasOwnProperty("getBetStr"))return n.getBetStr()}return"--"},i.onClk=function(){this.mRoomID>0&&f.Room.reqRoomScore(this.mRoomID)},t}(cg),iri=function(n){function t(){this.mVo=null;this.mRcost=null;this.mRnum=null;this.mRzm=null;t.__super.call(this,!0);this.mRcost=this.crtRes(37,74);this.mRnum=this.crtRes(31,74);this.mRzm=this.crtRes(32,74);this.recyle()}r(t,"games.windows.matches.matchLists.sng.McLtSng_Item",n);var i=t.prototype;return i.recyle=function(){n.prototype.recyle.call(this);this.mVo=null},i.setVo=function(n){this.mVo=n;this.C_Idx=n.sID;this.Dc_Clear();this.loadIcon(n.icon,n.creatType>0?1:0,2);this.setName(n.name);this.setCrtAndGt(n.creater,n.gameType,28);var t=n.getBmf();t==0?(this.mRcost.setType(39),this.mRcost.showValue("")):(this.mRcost.setType(n.bmType==0?37:38),this.mRcost.showValue(t));this.mRnum.x=this.mRcost.x+this.mRcost.width+28>>0;this.mRzm.showValue(this.mVo.zmTime+"min",!1,!1)},i.DoUpdate=function(){this.mVo&&(this.setFlagState(this.mVo.C_Op),this.mRnum.showValue(this.mVo.numJoin+"/"+this.mVo.numMax,!1,!1),this.mRzm.x=this.mRnum.x+this.mRnum.width+28>>0,this.Dc_Clear(),this.mVo.state>0?this.Dc_Start(u.lang("sng_list_state_1"),this.mVo.pastTime):this.setOtherStr(u.lang("sng_list_state_0"),!0))},i.onClick=function(){this.mVo&&f.Desk.reqJoin(this.mVo.RaceID,this.mVo.zdID,this.mVo.unionID)},t}(pv),co=function(n){function t(){this.mImgHunt=null;this.mResCost=null;t.__super.call(this,!0);this.mImgHunt=st.CrtHunt();var n=this.iIcon.width+2;this.mImgHunt.pos(this.iIcon.x+n-this.mImgHunt.width>>0,this.iIcon.y+n-this.mImgHunt.height>>0);this.mResCost=this.crtRes(37,74,10)}r(t,"games.windows.matches.lspjCtrls.LspjCtrl_Item_Match",n);var i=t.prototype;return i.recyle=function(){n.prototype.recyle.call(this);this.mImgHunt.removeSelf()},i.onClk=function(){this.mRoomID>0&&f.MTT.reqZj(t.MatchType,this.mRoomID)},i.show=function(n,i){i===void 0&&(i=!0);this.mImgHunt.removeSelf();this.mRoomID=n.sID;this.setName(b.cutStrAsLen(n.name,20));this.setCrtAndGt(n.platform,n.gameType);this.ShowBaseRes(n.initChip,n.personNum,n.blindTime+"min");this.loadIcon(n.icon,1);n.Flag.lierensai&&!this.mImgHunt.parent&&this.MixCon.addChild(this.mImgHunt);this.mFlag.setMttFlag(n.Flag);n.itemID>0?(this.mResCost.setType(93),this.mResCost.showValue(gi.getName(n.itemID),!1,!1)):t.MatchType==2&&n.cost==0?(this.mResCost.setType(39),this.mResCost.showValue("")):(this.mResCost.setType(n.goldType==0?37:38),this.mResCost.showValue(n.cost+n.costService,!1,!1));this.mResCost.x=this.mWidth-this.mResCost.width-20>>0;var r,f;i?(r=u.lang("lspjC_totalchips",a.NumToStr(n.totalChip,1)),f=u.lang("lspjC_pasttime",a.FormatTime3(n.pastTime))):(r=u.lang("lspjC_mymttrank",n.myRank),f="");this.ShowOther(r,"#eab96a",f);this.update()},t.MatchType=0,t}(cg),rri=function(n){function t(){this.mVo=null;this.mRmz=null;this.mRnum=null;this.mRtime=null;t.__super.call(this,!1);this.mRmz=this.crtRes(35,74);this.mRnum=this.crtRes(31,74);this.mRtime=this.crtRes(3200,110);this.mRtime.setFont("#ffffff",20);this.MixCon.addChild(this.iT_Other);this.setFlagState(10);this.recyle()}r(t,"games.windows.matches.matchLists.dzdp.McLtDzDp_Item",n);var i=t.prototype;return i.recyle=function(){n.prototype.recyle.call(this);this.mVo=null},i.setVo=function(n){this.mVo=n;this.C_Idx=n.sID;this.Dc_Clear();0==n.createType?this.loadIcon(n.icon,n.createType,2):this.loadIcon(n.icon,n.createType,2);this.setName(n.name);this.setCrtAndGt(n.creater,n.gameType,28)},i.DoUpdate=function(){if(this.mVo){this.setFlagState(10+this.mVo.state);this.mRmz.setType(this.mVo.IsUseGold?30:35);this.mRmz.showValue(this.mVo.gameType==2?this.mVo.getDPBetStr():this.mVo.getBetStr());this.mRnum.showValue(this.mVo.numCur+"/"+this.mVo.numMax);var n=this.mVo.numCur>0&&this.mVo.numCur<this.mVo.numMax;this.mRnum.setFont(n?"#8fc8df":"#6391d5");this.mRnum.x=this.mRmz.x+this.mRmz.width+28>>0;this.mRtime.showValue(a.getStrSeconds(this.mVo.timeRest)+"/"+a.getStrSeconds(this.mVo.timeMax));this.mRtime.x=this.mFlagImg.x+.5*(this.mFlagImg.width-this.mRtime.width)>>0}},i.onClick=function(){this.mVo&&(this.mVo.IsXlsDz?b.OpenWin(33,this.mVo.name,this.mVo.roomID,this.mVo.cID,this.mVo.uID):f.Desk.reqJoin(this.mVo.roomID,this.mVo.cID,this.mVo.uID))},t}(pv);i.__init([gu,fs,fr,sr,tp,gf,gy,ef,tt,af,yl,hu,hw]);new tit})(window,document,Laya)